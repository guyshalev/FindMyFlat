<!DOCTYPE html>
<!-- saved from url=(0568)http://yad2.nanorep.co/widget/widget.html?isFloat=true&cv=8D40B93C3727171#account=yad2&kb=633845537773281250&doctype=xhtml&refencoded=true&referer=aHR0cDovL3d3dy55YWQyLmNvLmlsL05hZGxhbi9yZW50LnBocD9tdWx0aVNlYXJjaD0xJkNpdHk9JUY4JUYyJUYwJUYwJUU0Jk5laWdoYm9yaG9vZD0mSG9tZVR5cGVJRD0xJmZyb21Sb29tcz0mdW50aWxSb29tcz0mZnJvbVByaWNlPSZ1bnRpbFByaWNlPSZQcmljZVR5cGU9MSZGcm9tRmxvb3I9JlRvRmxvb3I9JmZyb21TcXVhcmVNZXRlcj0mdW50aWxTcXVhcmVNZXRlcj0mQWlyQ29uZGl0aW9uZXI9MSZNZXNodXBhdHo9MSZoYW5kaWNhcHBlZD0xJkVudGVyRGF0ZT0mSW5mbz0_&cnf=true&reportEvents=true&isFloat=true&notifyclick=true -->
<html lang="en" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>nanoRep Widget</title>

	<script type="text/javascript" mini="true">function initializeNS(a){var b=a.split(".");var d,e=window;for(var c=0;c<b.length;++c){d=e[b[c]];if(typeof(d)==="undefined"||!d){e[b[c]]=d={}}e=d}return d}function isNSexists(a){var b=a.split(".");var d=window;for(var c=0;c<b.length;++c){d=d[b[c]];if(typeof(d)==="undefined"||!d){return false}}return true}ISQ=initializeNS("ISQ");nanoRep=ISQ;ISQ.version="3.54.3.19";var debugLevel=0;if(!Alloy){"use strict";var Alloy=(function alloy_wrapper(){var Alloy={runningMode:0,version:"0.41"};var $internals={};var exports=[];Alloy.inject=function(func,context){func.apply(context||window,[$internals])};exports["Alloy.inject"]=Alloy.inject;String.prototype.equals=function(string,startingIndex,ignoreCase){if(!startingIndex){startingIndex=0}if(startingIndex+string.length>this.length){return false}var ndx=0;var max=startingIndex+string.length;for(var i=startingIndex;i<max;++i,++ndx){var c1=this.charCodeAt(i);var c2=string.charCodeAt(ndx);if(c1==c2){continue}if(!ignoreCase){return false}if(c1>90){c1-=32}if(c2>90){c2-=32}if(c1!=c2){return false}}return true};String.prototype.startsWith=function(sub){if(this.length<sub.length){return false}for(var i=0;i<sub.length;++i){if(this.charAt(i)!==sub.charAt(i)){return false}}return true};String.prototype.endsWith=function(sub){if(this.length<sub.length){return false}var subNdx=sub.length-1;for(var i=this.length-1;i>this.length-1-sub.length;--i){if(sub.charAt(subNdx--)!==this.charAt(i)){return false}}return true};String.prototype.contains=function(txt){return this.indexOf(txt)!==-1};String.prototype.contains_ci=function(txt){if(txt.length>this.length){return false}var max=this.length-txt.length+1;for(var i=0;i<max;++i){var j;for(j=0;j<txt.length;++j,++i){var c1=this.charCodeAt(i);var t1=txt.charCodeAt(j);if(c1===t1){continue}if(c1>96&&c1<123){c1-=32}if(t1>96&&t1<123){t1-=32}if(c1!==t1){break}}if(j===txt.length){return true}}return false};String.prototype.Trim=function(sub){if(sub){var startAt=this.startsWith_repeat(sub);if(startAt<this.length){var endAt=this.endsWith_repeat(sub);if(startAt!=0||endAt!=this.length-1){return this.substring(startAt,endAt+1)
}else{return this.toString()}}else{return""}}else{var index=0;var endIndex=this.length;for(;/\s/.test(this.charAt(index))&&index<endIndex;++index){}if(index==endIndex){return""}for(;/\s/.test(this.charAt(endIndex-1));--endIndex){}if(index==0&&endIndex==this.length){return this+""}return this.substring(index,endIndex)}};String.prototype.startsWith_repeat=function(sub){if(this.length<sub.length){return 0}var x=0;var i=0;for(;i<this.length;i++){if(this.charAt(i)!=sub.charAt(x)){i-=x;break}if(x==sub.length-1){x=0}else{x++}}return i};String.prototype.endsWith_repeat=function(sub){if(this.length<sub.length){return this.length}var x=sub.length-1;var i=this.length-1;for(;i>0;i--){if(this.charAt(i)!=sub.charAt(x)){i+=x;break}if(x==0){x=sub.length-1}else{x--}}return i};Alloy.Base=function Class(){};Alloy.Base.polymorphismCtor=function(scope,args){if(this.mBase!==null&&typeof(this.mBase.prototype.polymorphismCtor)==="function"){this.initBase.apply(this,args);this.mBase.prototype.polymorphismCtor(scope,args)}if(this.ctor!==this.mBase.prototype.ctor){this.ctor.apply(scope,args)}};Alloy.Base.extend=function(obj){var derived=function(){if(typeof(obj)==="object"&&obj.abstractClass&&this instanceof derived){throw ("Trying to create an instance of an abstract class")}if(this.mBase!==null&&typeof(this.mBase.abstractClass)==="object"){for(var m in this.mBase.abstractClass){if(typeof(this[m])!=="function"){throw ("un-implemented abstract method: "+m)}}}this.polymorphismCtor(this,arguments);if(Alloy.runningMode>2){profiler.registerObjectCreation(this)}};for(var n in obj){switch(n){case"name":case"prototype":case"abstractClass":continue}derived[n]=obj[n]}for(var n in this.prototype){derived.prototype[n]=this.prototype[n]}if(obj._prototype){for(var n in obj._prototype){derived.prototype[n]=obj._prototype[n]}}if(typeof(obj)==="object"&&obj.abstractClass){derived.abstractClass={}}derived.prototype.polymorphismCtor=Alloy.Base.polymorphismCtor;derived.extend=this.extend;derived.prototype.mBase=this;if(typeof(obj)!=="object"||typeof(obj.name)!=="string"){throw ("Class name is missing (ctorObject.name)")
}var className=obj.name.replace(/^\s+|\s+$/g,"");if(!className){throw ("Invalid class name")}derived.prototype.__className__=derived.__className__=className;return derived};Alloy.Base.__className__="Base Class";Alloy.Base.prototype.__className__="Base Class";Alloy.Base.prototype.mBase=null;Alloy.Base.prototype.mIsDisposed=false;Alloy.Base.prototype.ctor=function(){};Alloy.Base.prototype.dtor=function(){delete this.mBase};Alloy.Base.prototype.initBase=function(){};Alloy.Base.prototype.isDisposed=function(){return this.mIsDisposed};Alloy.Base.prototype.executeBaseMethod=function(methodName,args){if(!this.mBase){throw ("Alloy.Base.prototype.executeBaseMethod: no base!")}this.mBase.prototype[methodName].apply(this,args||[])};Alloy.Base.prototype.dispose=function(){if(this.mIsDisposed){return false}this.mIsDisposed=true;var result=this.dtor.apply(this,arguments);if(result===false){this.mIsDisposed=false;return false}if(Alloy.runningMode>2){profiler.registerObjectDisposal(this)}var current=this.mBase;while(current!==null){current.prototype.dtor.apply(this,arguments);current=current.prototype.mBase}this.__dispose__();return true};Alloy.Base.prototype.__dispose__=function(){for(var i in this){try{switch(i){case"mBase":case"__dispose__":case"polymorphismCtor":case"extend":case"__className__":continue;break}if(typeof(this[i])==="undefined"||this[i]===null){continue}if(typeof(this[i])!=="function"&&typeof(this[i])!=="object"){continue}if(typeof(this[i].dispose)==="function"){this[i].dispose()}if(this[i] instanceof Array){for(var j in this[i]){if(this[i][j]&&typeof(this[i][j].dispose)==="function"){this[i][j].dispose()}}}delete this[i]}catch(e){if(Alloy.runningMode>1){alert("base::__dispose__: error disposing:"+i)}}}};Alloy.Base.prototype.isDerivedOf=function(base,dontCountInstanceOfBase){dontCountInstanceOfBase=dontCountInstanceOfBase===true;if(dontCountInstanceOfBase&&this.__className__===base.__className__){return false}if(this.__className__===base.__className__){return true}var result=false;var current=this.mBase;while(current!==null&&!result){if(base.__className__===current.__className__){result=true
}current=current.prototype.mBase}return result};Alloy.Base.isDerivedOf=function(_object,base){if(_object===null){return false}if(typeof(_object)!=="object"||typeof(_object.isDerivedOf)!=="function"){return false}return _object.isDerivedOf(base)};Alloy.Event=Alloy.Base.extend({name:"Event"});Alloy.Event.prototype.ctor=function(){this.mCount=0};Alloy.Event.prototype.dtor=function(){if(this.handlers!==null){var l=this.handlers.length;for(var i=0;i<l;++i){if(this.handlers[i]!==null){this.handlers[i].dispose()}}delete this.handlers}this.handlers=null};Alloy.Event.prototype.handlers=null;Alloy.Event.prototype.mCount=0;Alloy.Event.prototype.mRemovedHandler=false;Alloy.Event.prototype.dispatch=function(){if(this.isDisposed()){return}if(this.handlers===null){return}var l=this.handlers.length;for(var i=0;i<l;++i){if(this.isDisposed()){return}var handler=this.handlers[i];try{if(!handler){continue}if(handler.isDisposed()){this.mRemovedHandler=true;this.handlers[i]=null}else{handler.handle.apply(handler,arguments)}}catch(e){if(Alloy.runningMode){throw (e)}}}if(this.isDisposed()){return}if(this.mRemovedHandler){this.cleanDisposedHandlers()}};Alloy.Event.prototype.cleanDisposedHandlers=function(){if(!this.mRemovedHandler){return}var l=this.handlers.length;for(var i=0;i<l;++i){if(this.handlers[i]===null){this.handlers.splice(i,1);--i;--l}}this.mRemovedHandler=false};Alloy.Event.prototype.clear=function(){if(!this.handlers){return}var l=this.handlers.length;for(var i=0;i<l;++i){this.handlers[i].dispose()}this.handlers=null};Alloy.Event.prototype.addHandlerObject=function(handlerObj){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()}var l=this.handlers.length;for(var i=0;i<l;++i){var handle=this.handlers[i];if(handle!==null&&handle.func===handlerObj.func&&handle.context===handlerObj.context){return}}this.handlers.push(handlerObj);++this.mCount;this.cleanDisposedHandlers();return handlerObj};Alloy.Event.prototype.addHandler=function(func,context){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()
}var l=this.handlers.length;for(var i=0;i<l;++i){var handle=this.handlers[i];if(handle!==null&&handle.func===func&&handle.context===context){return}}var handler=new Alloy.Handler(func,context);this.handlers.push(handler);++this.mCount;func=null;context=null;this.cleanDisposedHandlers();return handler};Alloy.Event.prototype.removeHandlerObject=function(handler){if(this.handlers===null){return}var l=this.handlers.length;var handleObject=null;var i;for(i=0;i<l;++i){if(this.handlers[i]===handler){--this.mCount;this.handlers[i]=null;break}}this.mRemovedHandler=true;handler.dispose()};Alloy.Event.prototype.removeHandler=function(func,context){if(this.handlers===null){return}context=context||null;var l=this.handlers.length;var handleObject=null;var i;for(i=0;(i<l&&handleObject===null);++i){if(this.handlers[i]!==null&&this.handlers[i].func===func&&this.handlers[i].context===context){handleObject=this.handlers[i];this.handlers[i]=null;--this.mCount;break}}this.mRemovedHandler=true;if(handleObject!==null){handleObject.dispose()}func=null;context=null};Alloy.Event.prototype.removeAllHandlers=function(){if(this.handlers===null){return}this.handlers=null};Alloy.Event.prototype.count=function(){return this.mCount};Alloy.Handler=Alloy.Base.extend({name:"Alloy.Handler"});Alloy.Handler.toHandler=function(func){if(Alloy.Base.isDerivedOf(func,Alloy.Handler)){return func}return new Alloy.Handler(func)};Alloy.Handler.prototype.ctor=function(func,context){func=func||null;context=context||null;if(typeof(func)!=="function"){throw ("Error creating event handler: no function is passed")}this.func=func;this.context=context;return this};Alloy.Handler.prototype.dtor=function(){delete this.func;delete this.context;this.func=null;this.context=null};Alloy.Handler.prototype.handle=function(){return this.func.apply(this.context,arguments)};Alloy.Handler.prototype.handleArgumentArray=function(){if(arguments.length===0){throw ("invalid use of Alloy.Handler.handleArgumentArray")}if(typeof(arguments[0].length)!=="number"){throw ("invalid array in Alloy.Handler.handleArgumentArray")
}return this.func.apply(this.context,arguments[0] instanceof Array?arguments[0]:[arguments[0]])};Alloy.Handler.prototype.func=null;Alloy.Handler.prototype.context=null;Alloy.Timer=Alloy.Base.extend({name:"Alloy.Timer"});Alloy.Timer.prototype.ctor=function(handler,disposeAfterElapsed){if(!Alloy.Base.isDerivedOf(handler,Alloy.Handler)){throw ("Alloy.Timer.ctor: invalid handler")}this.mHandler=handler;this.mDisposeAfterTimerElapsed=disposeAfterElapsed!==false;this.mParams=new Array();if(arguments.length<=2){return}for(var i=2;i<arguments.length;++i){this.mParams.push(arguments[i])}};Alloy.Timer.prototype.dtor=function(){this.start=null;if(this.mTimer){clearTimeout(this.mTimer);this.mTimer=null}};Alloy.Timer.prototype.start=function(interval){if(typeof(interval)!=="number"){throw ("Timer interval illegal")}if(arguments.length>1){this.mParams=new Array();for(var i=1;i<arguments.length;++i){this.mParams.push(arguments[i])}}var thisObject=this;this.mTimer=setTimeout(function(){if(thisObject.mTimer===null){return}thisObject.timerElapsed.apply(thisObject,new Array())},interval)};Alloy.Timer.prototype.timerElapsed=function(){this.mHandler.handleArgumentArray(this.mParams);if(this.mDisposeAfterTimerElapsed){this.dispose()}};Alloy.Timer.prototype.cancel=function(){if(this.mTimer===null){return}clearTimeout(this.mTimer);this.mTimer=null};Alloy.Timer.prototype.isRunning=function(){return this.mTimer!==null};Alloy.Timer.prototype.mDisposeAfterTimerElapsed=true;Alloy.Timer.prototype.mTimer=null;Alloy.Timer.prototype.mHandler=null;Alloy.Timer.prototype.mParams=null;$internals.Utils={clone:function Alloy_clone(obj,deep){var target;if(obj===null){return null}if(obj instanceof Array){target=new Array(obj.length);var l=obj.length;while(l--){if(deep){target[l]=Alloy.clone(obj[l],true)}else{target[l]=obj[l]}}return target}else{if(typeof(obj)=="object"){target={};for(var i in obj){if(deep){target[i]=Alloy.clone(obj[i],true)}else{target[i]=obj[i]}}return target}else{return obj}}},compare:function Alloy_compare(obj1,obj2){if(typeof(obj1)!=typeof(obj2)){return false
}if(obj1 instanceof Array){if(!(obj2 instanceof Array)){return false}var l=obj1.length;if(obj2.length!=l){return false}while(l--){if(!this.compare(obj1[l],obj2[l])){return false}}return true}else{if(typeof(obj1)=="object"){for(var l in obj1){if(!this.compare(obj1[l],obj2[l])){return false}}return true}else{return obj1==obj2}}},compareArrays:function(arr1,arr2){if(!arr1){if(!arr2){return true}return false}if(!arr2){return false}var l=arr1.length;if(l!==arr2.length){return false}while(l--){if(arr1[l]!==arr2[l]){return false}}return true},inArray:function Alloy_inArray(arr,val,length){var l=length||arr.length;while(l--){if(arr[l]===val){return true}}return false},insertUniqueToArray:function Alloy_insertUniqueToArray(arr,val){var l=arr.length;while(l--){if(arr[l]===val){return}}arr.push(val)},priorToIE9:(function Alloy_priorToIE9(){var _index;if((_index=navigator.appVersion.indexOf("MSIE "))!==-1){_index+=5;var c=navigator.appVersion.charAt(_index);return c=="8"||c=="7"||c=="6"}return false})(),priorToIE11:(function priorToIE11(){var _index;return navigator.appVersion.indexOf("MSIE ")!==-1})(),removeElement:function Alloy_removeElement(element){element.parentNode.removeChild(element)},replaceDomElement:function replaceDomElement(target,source){var p=source.parentNode;if(!p){return target}p.replaceChild(target,source);return target},copyAttributes:function alloy_copyAttributes(source,target,override){var attrLen=source.attributes.length;if(source.attributes){while(attrLen--){var attrib=source.attributes[attrLen];if(!override&&target.getAttribute(attrib.name)){continue}if(attrib.specified){target.setAttribute(attrib.name,attrib.value)}}}},eval:function alloy_eval(str){try{return eval(str)}catch(e){return null}},compileCSS:function Alloy_compileCSS(styleContent){var styleNode=document.createElement("style");styleNode.type="text/css";document.getElementsByTagName("head")[0].appendChild(styleNode);if($internals.Utils.priorToIE11&&styleNode.styleSheet){styleNode.styleSheet.cssText=styleContent}else{var styleTextNode=document.createTextNode(styleContent);
styleNode.appendChild(styleTextNode)}return styleNode},isNSexists:function(_namespace){var _split=_namespace.split(".");var obj=window;for(var i=0;i<_split.length;++i){obj=obj[_split[i]];if(typeof(obj)==="undefined"||!obj){return false}}return true}};Alloy.contains=$internals.Utils.inArray;Alloy.insertUnique=$internals.Utils.insertUniqueToArray;Alloy.clone=$internals.Utils.clone;Alloy.compare=$internals.Utils.compare;exports["Alloy.$di"]=Alloy.$di=(function Alloy_DI(){var ALREADY_DOWNLOADED={};var cache={};var downloadFile=function Alloy_di_downloadFile(path,handler){Alloy.ajax({url:path,method:"GET",timeout:5000,handler:function(status,text){handler(status,text,path)}})};var refactorScriptToTemplate=window.myReplace=function(text){var lastPos=0;var ndx=text.indexOf("<script ",lastPos);if(ndx==-1){return text}var newText=new Array(5);while(ndx!=-1){newText.push(text.substring(lastPos,ndx));var endNdx=text.indexOf(">",ndx);if(endNdx===-1){return text}var tagNdx=text.indexOf(" alloy-tag=",ndx);if(tagNdx>ndx&&tagNdx<endNdx){newText.push("<div ie-hack='1' ");lastPos=ndx+"<script ".length;var scriptEndNdx=endNdx;var scriptStNdx=endNdx;do{var tmpNdx;do{tmpNdx=text.indexOf("/script>",scriptEndNdx);if(tmpNdx===-1){return text}if(text.charAt(--tmpNdx)=="<"){break}else{scriptEndNdx=tmpNdx+5}}while(true);var inlineScriptNdx=text.indexOf("<script",scriptStNdx);if(inlineScriptNdx!==-1&&inlineScriptNdx<tmpNdx){scriptStNdx=inlineScriptNdx+=4;scriptEndNdx=tmpNdx+10}else{newText.push(text.substring(lastPos,tmpNdx));newText.push("</div>");lastPos=tmpNdx+10;break}}while(true)}ndx=text.indexOf("<script ",lastPos)}newText.push(text.substring(lastPos));return newText.join("")};var compileHTML=function compileHTML(templateName,text){if(!text){return"File is empty"}if($internals.Utils.priorToIE9){text=refactorScriptToTemplate(text)}var div=document.createElement("div");div.innerHTML=text;try{var processed=false;var error=null;for(var i=0;i<div.childNodes.length;++i){var cn=div.childNodes[i];if(cn.nodeName==="ALLOY-TEMPLATE"){processed=true;
var x=cn.getAttribute("alloy-tag");if(!x){continue}$internals.Templates.set(x,cn.innerHTML)}else{if(cn.nodeName==="SCRIPT"){processed=true;var x=cn.getAttribute("type");if(x==="text/alloy"){x=cn.getAttribute("alloy-tag");if(!x){continue}$internals.Templates.set(x,cn.innerHTML)}else{error=compileScript(cn.innerHTML)}}else{if($internals.Utils.priorToIE9&&cn.nodeName==="DIV"&&cn.getAttribute("ie-hack")==="1"){processed=true;var x=cn.getAttribute("alloy-tag");if(!x){continue}$internals.Templates.set(x,cn.innerHTML)}else{if(cn.nodeName==="STYLE"){processed=true;$internals.Utils.compileCSS(text)}}}}}if(templateName&&!processed){$internals.Templates.set(templateName,text)}return error}catch(e){return"Failed processing HTML file: "+e}};var compileScript=function compileScript(script){try{var scriptTag=document.createElement("script");scriptTag.type="text/javascript";scriptTag.charset="utf-8";scriptTag.id="testing";scriptTag.defer=true;scriptTag.async=true;scriptTag.text=script;document.getElementsByTagName("head")[0].appendChild(scriptTag);return null}catch(e){try{eval(script);return null}catch(e){try{eval("("+script+")");return null}catch(e){return e}}}};return function Alloy_$di(arr,handler){var resultArr=new Array(arr.length);var totalReceived=0;var fileHandler=function(index,status,text,path){resultArr[index]={status:status,text:text,path:path};if(++totalReceived!==arr.length){return}for(var i=0;i<arr.length;++i){var arrItem=resultArr[i];var path=arr[i];if(arrItem.text===ALREADY_DOWNLOADED){arrItem.status=true}else{if(arrItem.status!==Alloy.Com.SUCCESS){arrItem.status=false;arrItem.error="Request failed"}else{if(path.endsWith(".js")){arrItem.error=compileScript(arrItem.text);if(!arrItem.error){arrItem.status=true}else{arrItem.status=false}}else{if(path.endsWith(".css")){$internals.Utils.compileCSS(arrItem.text);arrItem.status=true}else{arrItem.error=compileHTML(arrItem.name,arrItem.text);if(!arrItem.error){arrItem.status=true}else{arrItem.status=false}}}}}arrItem.text=null;if(arrItem.status){cache[arrItem.path]=ALREADY_DOWNLOADED
}}handler(resultArr)};var generatedHandler;for(var i=0;i<arr.length;++i){generatedHandler=(function(i){return function(status,text,path){fileHandler(i,status,text,path)}})(i);var cacheValue=cache[arr[i]];if(cacheValue){generatedHandler(Alloy.Com.SUCCESS,cacheValue)}else{downloadFile(arr[i],generatedHandler)}}}})();$internals.Templates=(function Alloy_initTemplates(){var handleTemplate=function handleTemplate(name,html){var pos=0;while(pos<html.length){var c=html.charCodeAt(pos);if(c==9||c==32||c==10||c==13){++pos;continue}break}var endPos=html.length;while(endPos>pos){var c=html.charCodeAt(endPos-1);if(c==9||c==32||c==10||c==13){--endPos;continue}break}var div=document.createElement("div");document.documentElement.appendChild(div);div.innerHTML=html.substring(pos,endPos);var fragment=document.createDocumentFragment();var l=div.childNodes.length;for(var j=0;j<l;++j){fragment.appendChild(div.firstChild)}if(recursiveFunc){document.createElement(name);document.createElement(name.toUpperCase());document.createElement(name.toLowerCase());recursiveFunc(fragment)}div.parentNode.removeChild(div);templates[name.toUpperCase()]=fragment};var recursiveFunc=null;if($internals.Utils.priorToIE9){recursiveFunc=function recursiveFunc_(dom){if(dom.nodeName.charAt(0)=="#"){return}document.createElement(dom.nodeName);document.createElement(dom.nodeName.toLowerCase());document.createElement(dom.nodeName.toUpperCase());if(dom.tagName){document.createElement(dom.tagName);document.createElement(dom.tagName.toLowerCase());document.createElement(dom.tagName.toUpperCase())}var l=dom.childNodes.length;while(l--){recursiveFunc_(dom.childNodes[l])}};document.createElement("alloy-embedded-data");document.createElement("alloy-template")}$internals.Utils.compileCSS("alloy-embedded-data {display:none}");$internals.Utils.compileCSS("ALLOY-EMBEDDED-DATA {display:none}");var templates={};var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].getAttribute("type")!="text/alloy"){continue}var tag=scripts[i].getAttribute("alloy-tag");
handleTemplate(tag,scripts[i].innerHTML);$internals.Utils.removeElement(scripts[i--])}return{get:function getTemplate(domElement){var templateName;if(typeof(domElement)==="string"){templateName=domElement.toUpperCase()}else{templateName=domElement.attributes?domElement.getAttribute("alloy-template"):null;if(!templateName){templateName=domElement.tagName}if(!templateName){return null}templateName=templateName.toUpperCase()}return templates[templateName]},set:function(tag,html){handleTemplate(tag,html)},exists:function(tag){return templates[tag.toUpperCase()]!==undefined}}})();Alloy.injectTemplate=$internals.Templates.set;var lastId=0;var ModelTrieNode=$internals.ModelTrieNode=function ModelTrieNode(word,parent,type){this.word=word;this.parent=parent;this.id=++lastId;this.type=type||0};ModelTrieNode.prototype.toHtml=function(builder){if(!builder){builder=[]}var value=typeof(this.modelValue)==="object"?"object":this.modelValue;builder.push("<span>"+this.word+"="+value+" ("+this.id+")<span>");if(this.nodes){for(var i=0;i<this.nodes.length;++i){builder.push("<div style='padding:5px 45px'>");this.nodes[i].toHtml(builder);builder.push("</div>")}}return builder};ModelTrieNode.prototype.tryCreateNode=function(word){var parsedValue=parseInt(word,10);var key;if(isNaN(parsedValue)){key=word}else{key=parsedValue}if(this.nodesHash){var index=this.nodesHash[key];if(index||index===0){return this.nodes[index]}}else{this.nodesHash={};this.nodes=[]}var newNode=new ModelTrieNode(key,this,0);this.nodesHash[key]=this.nodes.length;this.nodes.push(newNode);return newNode};ModelTrieNode.prototype.createLoopIterationNode=function(id){var node=this.tryCreateNode(id);node.type=2;return node};ModelTrieNode.prototype.createFixedValueNode=function(value){var key="$$"+(this.nodes?this.nodes.length:0);if(!this.nodesHash){this.nodesHash={};this.nodes=[]}var newNode=new ModelTrieNode(key,this,1);newNode.modelValue=value;this.nodesHash[key]=this.nodes.length;this.nodes.push(newNode);return newNode};ModelTrieNode.prototype.addDependency=function(domPointer,expression){if(!this.dependents){this.dependents=[]
}this.dependents.push({domPointer:domPointer,expression:expression})};ModelTrieNode.prototype.addDependentScope=function(scope){if(!this.dependentScopes){this.dependentScopes=[]}this.dependentScopes.push(scope)};ModelTrieNode.prototype.addPriorNode=function(node){if(!this.priorUpdateNodes){this.priorUpdateNodes=[]}this.priorUpdateNodes.push(node)};ModelTrieNode.prototype.id=-1;ModelTrieNode.prototype.type=0;ModelTrieNode.prototype.word=null;ModelTrieNode.prototype.parent=null;ModelTrieNode.prototype.generation=0;ModelTrieNode.prototype.nodes=null;ModelTrieNode.prototype.nodesHash=null;ModelTrieNode.prototype.dependents=null;ModelTrieNode.prototype.modelValue=null;ModelTrieNode.prototype.dependentScopes=null;ModelTrieNode.prototype.pendingUpdateNodes=null;ModelTrieNode.prototype.priorUpdateNodes=null;var ActiveLoop=$internals.ActiveLoop=function ActiveLoop(loopContent,trieNode,parent,index){this.loopContent=loopContent;this.trieNode=trieNode;this.parent=parent;this.index=index;if(!this.parent){this.depth=1}else{this.depth=this.parent.depth+1}};ActiveLoop.prototype.loopContent=null;ActiveLoop.prototype.depth=-1;ActiveLoop.prototype.index=-1;ActiveLoop.prototype.trieNode=null;ActiveLoop.prototype.parent=null;var DomPointer=$internals.DomPointer=function DomPointer(element,attribute,contentInfo){this.element=element;this.attribute=attribute;this.contentInfo=contentInfo;this.id=++lastId};DomPointer.prototype.addDependent=function(modelNode,expression){if(!this.dependents){this.dependents=[]}this.dependents.push({modelNode:modelNode,expression:expression})};DomPointer.prototype.element=null;DomPointer.prototype.attribute=null;DomPointer.prototype.contentInfo=null;DomPointer.prototype.id=-1;DomPointer.prototype.updateCycle=0;DomPointer.prototype.dependents=null;var LoopContent=$internals.LoopContent=function LoopContent(){this.id=++lastId;this.collectionName={start:-1,end:-1}};LoopContent.prototype.filter=null;LoopContent.prototype.id=null;LoopContent.prototype.sorter=null;LoopContent.prototype.elementName=null;LoopContent.prototype.collectionName=null;
LoopContent.prototype.limit=null;LoopContent.prototype.thisIndex=-1;LoopContent.prototype.parentLoop=null;LoopContent.prototype.iterator=null;LoopContent.prototype.count=0;var TextContent=$internals.TextContent=function TextContent(value){this.value=value};TextContent.prototype.value=null;var Expression=$internals.Expression=function Expression(type,index){if(type){this.type=type}if(index!==undefined){this.index=index}};Expression.prototype.index=null;Expression.prototype.type=null;Expression.prototype.compiled=null;var This=$internals.This=function This(trieNode,parentIndex){this.trieNode=trieNode;this.parentIndex=parentIndex};This.prototype.trieNode=null;This.prototype.parentIndex=-1;function Sorter(sortValue,dir){this.dir=dir;this.sortValue=sortValue;this.mergeSort=new Alloy.MergeSort();this.mergeSortString=new Alloy.MergeSort_String();if(sortValue){this.mergeSortString.$comparer=function MergeSort_$comparer(a,b){return Alloy.MergeSort_String.strCmp(a[sortValue],b[sortValue])}}else{this.mergeSortString.$comparer=function MergeSort_$comparer(a,b){return Alloy.MergeSort_String.strCmp(a,b)}}}$internals.Sorter=Sorter;Sorter.map=[];Sorter.getSorter=function Sorter_getSorter(sortValue,dir){var key=sortValue+"_"+dir;var sorter=Sorter.map[key];if(!sorter){sorter=Sorter.map[key]=new Sorter(sortValue,dir)}return sorter};Sorter.prototype.sort=function Sorter_sort(collection){if(!collection||collection.length<2){return collection}if((this.sortValue&&typeof(collection[0][this.sortValue])=="string")||typeof(collection[0])==="string"){this.mergeSortString.sort(collection,this.dir!=="asc")}else{this.mergeSort.sort(collection,this.dir!=="asc")}return collection};Sorter.prototype.sortValue=null;Sorter.prototype.dir=null;Sorter.prototype.mergeSort=null;Sorter.prototype.mergeSortString=null;$internals.Parsers={__parseTextReusedObject:null,__evalLoopFilterBuilder:null,__getAlloyTextObjects:null,__getAlloyCompiledObjects:null,__refCount:0,initMemoryObjects:function(){if(++this.__refCount!==1){return}this.__parseTextReusedObject={html:null,results:null,resultsLength:0};
this.__getAlloyTextObjects=[];this.__getAlloyCompiledObjects=[]},createCompiledObject:function(){return{value:null,textResultsCount:0,textResults:[],compiled:null}},createTextObject:function(){return{value:null,modelNode:null,varName:null}},clearMemoryObjects:function(){if(--this.__refCount!==0){return}this.__parseTextReusedObject=null;this.__evalLoopFilterBuilder=null;this.__getAlloyTextObjects=null;this.__getAlloyCompiledObjects=null},variableCharacters:(function(){var arr=[];for(var i=65;i<=90;++i){arr[i]=1}for(var i=97;i<=122;++i){arr[i]=1}for(var i=48;i<=57;++i){arr[i]=1}arr[36]=1;arr[95]=1;return arr})(),tokenStartCharacters:(function(){var arr=[];for(var i=65;i<=90;++i){arr[i]=1}for(var i=97;i<=122;++i){arr[i]=1}arr[36]=1;return arr})(),variableCharacters_fullPath:(function(){var arr=[];for(var i=65;i<=90;++i){arr[i]=1}for(var i=97;i<=122;++i){arr[i]=1}for(var i=48;i<=57;++i){arr[i]=1}arr[95]=1;arr[46]=1;arr[36]=1;return arr})(),safeWords:(function(){var arr=[];arr["switch"]=1;arr["in"]=1;arr["for"]=1;arr["return"]=1;arr.window=1;arr["true"]=1;arr["false"]=1;arr["eval"]=1;arr["if"]=1;arr["else"]=1;return arr})(),getAlloyValue:function getAlloyValue(value,valueStart,valueEnd,scope,thisIndex,memoryObjectIndex){memoryObjectIndex=memoryObjectIndex||0;var result=this.getAlloyValue_text(memoryObjectIndex,value,valueStart,valueEnd,scope,thisIndex);if(result){var compiledObject=this.getReturnedCompiledValue(memoryObjectIndex);compiledObject.value=result.value;compiledObject.compiled=null;compiledObject.textResultsCount=1;if(0===compiledObject.textResults.length){compiledObject.textResults.push(result)}else{compiledObject.textResults[0]=result}return compiledObject}else{return this.getAlloyValue_compiled(memoryObjectIndex,value,valueStart,valueEnd,scope,thisIndex)}},getReturnedTextValue:function(objectIndex){if(this.__getAlloyTextObjects.length===objectIndex){this.__getAlloyTextObjects.push(this.createTextObject())}return this.__getAlloyTextObjects[objectIndex]},getReturnedCompiledValue:function(objectIndex){if(this.__getAlloyCompiledObjects.length===objectIndex){this.__getAlloyCompiledObjects.push(this.createCompiledObject())
}return this.__getAlloyCompiledObjects[objectIndex]},getAlloyValue_text:function getAlloyValue_text(memoryObjectIndex,value,valueStart,valueEnd,scope,thisIndex){var pos=valueStart;for(;pos<valueEnd&&value.charAt(pos)===" ";++pos){}for(;valueEnd>=valueStart&&value.charAt(valueEnd-1)===" ";--valueEnd){}var prevPos=pos;var stack_this=scope.$stack.$this;thisIndex=thisIndex===undefined?stack_this.length-1:thisIndex;var This;var firstSegment=true,inIterator=false;var stringEnd=valueEnd+1;var unknownValue,c;var tmpIndex,tmpNode,tmpPos,activeLoop;var modelTrieNode=scope.$dependencies;var obj;for(;pos!==stringEnd;++pos){if(pos!==valueEnd){c=value.charCodeAt(pos);if(!$internals.Parsers.variableCharacters_fullPath[c]){return false}}if(c===46||pos===valueEnd){if(firstSegment){var loopCount=scope.$stack.$activeLoops.count;firstSegment=false;if(value==="$phase"){obj=scope.$phase;modelTrieNode=scope.$dependencies.tryCreateNode("$phase");modelTrieNode.modelValue=obj}else{if(value.equals("this",prevPos)){obj=stack_this[thisIndex].trieNode.modelValue;modelTrieNode=stack_this[thisIndex].trieNode;modelTrieNode.modelValue=obj}else{if(value.equals("embedded",prevPos)){modelTrieNode=modelTrieNode.tryCreateNode("$embedded");obj=scope.$embedded;modelTrieNode.modelValue=obj}else{if(value.equals("model",prevPos)){modelTrieNode=modelTrieNode.tryCreateNode("$model");obj=scope.$model}else{if(value.equals("scope",prevPos)){modelTrieNode=modelTrieNode.tryCreateNode("$model");obj=scope.$model}else{if(value.equals("window",prevPos)){obj=window;modelTrieNode=scope.$dependencies.createFixedValueNode(obj)}else{if(value.equals("$parent",prevPos)){var parentIndex=thisIndex?stack_this[thisIndex].parentIndex:0;modelTrieNode=stack_this[parentIndex].trieNode;obj=modelTrieNode.modelValue}else{if(value.equals("$iterator",prevPos)){inIterator=true;obj=undefined;modelTrieNode=null}else{unknownValue=value.substring(prevPos,pos);if(loopCount!==0){do{activeLoop=scope.$stack.$activeLoops.array[loopCount];if(activeLoop.loopContent.elementName===unknownValue){modelTrieNode=activeLoop.trieNode;
obj=modelTrieNode.modelValue;break}else{if(activeLoop.loopContent.iterator===unknownValue){obj=activeLoop.index;modelTrieNode=scope.$dependencies.createFixedValueNode(obj);break}}if(--loopCount===0){break}}while(true)}if(obj===undefined){This=stack_this[thisIndex].trieNode;obj=This.modelValue[unknownValue];modelTrieNode=This.tryCreateNode(unknownValue);modelTrieNode.modelValue=obj}}}}}}}}}}else{if(inIterator){activeLoop=scope.$stack.$activeLoops.array[loopCount];if(value.equals("back",prevPos)){if(loopCount&&activeLoop.index){tmpNode=activeLoop.trieNode.parent;tmpIndex=tmpNode.nodesHash[activeLoop.index-1];modelTrieNode=tmpNode.nodes[tmpIndex];obj=modelTrieNode.modelValue}}else{if(value.equals("index",prevPos)){if(loopCount){obj=activeLoop.index;modelTrieNode=scope.$dependencies.createFixedValueNode(obj)}}else{if(value.equals("current",prevPos)){if(loopCount){modelTrieNode=activeLoop.trieNode;obj=modelTrieNode.modelValue}}else{if(value.equals("depth",prevPos)){if(loopCount){obj=loopCount;modelTrieNode=scope.$dependencies.createFixedValueNode(obj)}}else{if(value.equals("count",prevPos)){if(loopCount){modelTrieNode=activeLoop.loopContent.countNode;obj=modelTrieNode.modelValue}}}}}}inIterator=false}else{unknownValue=value.substring(prevPos,pos);if(obj){obj=obj[unknownValue]}if(modelTrieNode){if(modelTrieNode.type===1){modelTrieNode=modelTrieNode.createFixedValueNode(obj)}else{modelTrieNode=modelTrieNode.tryCreateNode(unknownValue);modelTrieNode.modelValue=obj}}}}prevPos=pos+1}}if(modelTrieNode===null){modelTrieNode=scope.$dependencies.createFixedValueNode(undefined)}var returnObject=this.getReturnedTextValue(memoryObjectIndex);returnObject.value=obj;returnObject.modelNode=modelTrieNode;return returnObject},getAlloyValue_compiled:function getAlloyValue_compiled(memoryObjectIndex,value,valueStart,valueEnd,scope,thisIndex){var term=value.substring(valueStart,valueEnd);var compiledObject=scope.$compiledEval[term];if(!compiledObject){compiledObject={};var str=["0, (function(vars){return "];compiledObject.vars=$internals.Parsers.parseExpression(term,str);
str.push(";})");compiledObject.func=$internals.Utils.eval(str.join(""));scope.$compiledEval[term]=compiledObject}var result;var varArgument={};var vars=compiledObject.vars;var returnCompiledObject=this.getReturnedCompiledValue(memoryObjectIndex);returnCompiledObject.textResultsCount=0;if(vars){var l=vars.length;while(l--){result=$internals.Parsers.getAlloyValue_text(memoryObjectIndex,vars[l],0,vars[l].length,scope,thisIndex);if(!result){throw ("Alloy: unable to get value = "+vars[l])}result.varName=vars[l];varArgument[vars[l]]=result.value;if(returnCompiledObject.textResultsCount===returnCompiledObject.textResults.length){returnCompiledObject.textResults.push($internals.Utils.clone(result,false))}else{returnCompiledObject.textResults[returnCompiledObject.textResultsCount]=$internals.Utils.clone(result,false)}returnCompiledObject.textResultsCount++}}returnCompiledObject.value=compiledObject.func(varArgument);returnCompiledObject.compiled=compiledObject.func;return returnCompiledObject},parseLoopStatement:function parseLoopStatement(value){var pos=0;var nextPos;var loopContent=new LoopContent();for(;value.charAt(pos)===" ";++pos){}for(nextPos=pos+1;value.charAt(nextPos)!==" ";++nextPos){}loopContent.elementName=value.substring(pos,nextPos);for(pos=nextPos+1;value.charAt(pos)===" ";++pos){}if(!value.equals("in ",pos)){throw"invalid syntax"}for(pos+=3;value.charAt(pos)===" ";++pos){}for(nextPos=pos;nextPos<value.length&&value.charAt(nextPos)!==" "&&value.charAt(nextPos)!=="|";++nextPos){}loopContent.collectionName.start=pos;loopContent.collectionName.end=nextPos;pos=nextPos;for(;pos<value.length&&value.charAt(pos)===" ";++pos){}if(pos===value.length){return loopContent}do{if(value.charAt(pos)!=="|"){throw"invalid syntax"}++pos;for(;value.charAt(pos)===" ";++pos){}for(nextPos=pos+1;nextPos<value.length&&value.charAt(nextPos)!==" ";++nextPos){}var segmentType=value.substring(pos,nextPos);for(pos=nextPos+1;pos<value.length&&value.charAt(pos)===" ";++pos){}for(nextPos=pos+1;nextPos<value.length;++nextPos){if(value.charAt(nextPos)==="|"){if(value.charAt(nextPos+1)==="|"){++nextPos;
continue}break}}var trimmedEndPos;for(trimmedEndPos=nextPos;trimmedEndPos<value.length&&value.charAt(trimmedEndPos-1)===" ";--trimmedEndPos){}if(segmentType==="WHERE"){loopContent.filter=value.substring(pos,trimmedEndPos)}else{if(segmentType==="ITERATOR"){loopContent.iterator=value.substring(pos,trimmedEndPos)}else{if(segmentType==="SORTASC"){loopContent.sorter=Sorter.getSorter(value.length>pos?value.substring(pos,trimmedEndPos):null,"asc")}else{if(segmentType==="SORTDESC"){loopContent.sorter=Sorter.getSorter(value.length>pos?value.substring(pos,trimmedEndPos):null,"desc")}else{if(segmentType==="LIMIT"){loopContent.limit={start:pos,end:trimmedEndPos}}}}}}pos=nextPos}while(pos<value.length);return loopContent},parseText:function parseText(html,scope,thisIndex,preDefinedValues){if(!html){return html}this.__parseTextReusedObject.resultsLength=0;var builder=null;var startIndex=0;var lastEndPos=0;while(startIndex<html.length){startIndex=html.indexOf("{{",lastEndPos);if(startIndex===-1){if(!builder){break}builder.push(html.substring(lastEndPos));break}if(!builder){builder=[]}builder.push(html.substring(lastEndPos,startIndex));lastEndPos=html.indexOf("}}",startIndex);if(lastEndPos===-1){builder.push(html.substring(startIndex));break}if(html.charAt(lastEndPos+2)==="}"){++lastEndPos}if(preDefinedValues){var value=preDefinedValues[this.__parseTextReusedObject.resultsLength];if(value!==undefined&&value.compiled){value=value.compiled(value.vars)}builder.push(value)}else{var parseInfo=$internals.Parsers.getAlloyValue(html,startIndex+2,lastEndPos,scope,thisIndex,this.__parseTextReusedObject.resultsLength);builder.push(parseInfo.value)}++this.__parseTextReusedObject.resultsLength;lastEndPos+=2}if(!builder){this.__parseTextReusedObject.html=html}else{this.__parseTextReusedObject.html=builder.join("")}this.__parseTextReusedObject.results=this.__getAlloyCompiledObjects;return this.__parseTextReusedObject},parseExpression:function parseExpression(expression,builder,fixedVars){var usedValues=[];var skipLocalVariables=[];var state=0;var c,quoteChar,token;
var tokenStart=0,chainStart=0,firstChainTokenEnd;var lastInsertEndPos=0;var i=0,len=expression.length;var inReferenceChain=false;do{switch(state){case 0:for(;i<len;i++){c=expression.charCodeAt(i);if(c===123){skipLocalVariables.push(null);continue}if(c===125){while(skipLocalVariables.pop()!==null){}continue}if($internals.Parsers.tokenStartCharacters[c]){tokenStart=i;state=1;break}if(c>47&&c<58){++i;state=6;break}if(c===34||c===39){++i;quoteChar=c;state=5;break}}break;case 1:for(;i<len;i++){c=expression.charCodeAt(i);if(!$internals.Parsers.variableCharacters[c]){if(!inReferenceChain){var token=expression.substring(tokenStart,i);if(c===32&&(token==="new"||token==="function"||token==="var")){++i;state=2;break}if(!$internals.Parsers.safeWords[token]&&!$internals.Utils.inArray(skipLocalVariables,token)){builder.push(expression.substring(lastInsertEndPos,tokenStart),"vars['");lastInsertEndPos=tokenStart}}switch(c){case 46:if(!inReferenceChain){chainStart=tokenStart;firstChainTokenEnd=i;inReferenceChain=true}tokenStart=++i;break;default:if(inReferenceChain){if(fixedVars&&(token=expression.substring(chainStart,firstChainTokenEnd))&&$internals.Utils.inArray(fixedVars,token)){builder.push(token);builder.push("']");builder.push(expression.substring(firstChainTokenEnd,i));lastInsertEndPos=i;$internals.Utils.insertUniqueToArray(usedValues,token)}else{var tokenEndIndex=c===40?tokenStart-1:i;token=expression.substring(chainStart,tokenEndIndex);if(!token.startsWith("window.")){builder.push(token);builder.push("']");lastInsertEndPos=tokenEndIndex;$internals.Utils.insertUniqueToArray(usedValues,token)}}}else{if(!$internals.Parsers.safeWords[token]&&!$internals.Utils.inArray(skipLocalVariables,token)){builder.push(token);builder.push("']");lastInsertEndPos=i;$internals.Utils.insertUniqueToArray(usedValues,token)}}inReferenceChain=false;if(c===39||c===34){quoteChar=c;state=5}else{state=0}break}break}}break;case 5:var inEscateSequence=false;for(;i<len;i++){if(inEscateSequence){inEscateSequence=false;continue}c=expression.charCodeAt(i);
if(c===92){inEscateSequence=true}if(c===quoteChar){++i;state=0;break}}break;case 6:var inEscateSequence=false;for(;i<len;i++){c=expression.charCodeAt(i);if((c>57||c<48)&&c!==46){++i;state=0;break}}break;case 2:for(;i<len&&expression.charCodeAt(i)===32;i++){}tokenStart=i;for(;i<len;i++){c=expression.charCodeAt(i);if(!((c>96&&c<123)||(c>64&&c<91)||(c>47&&c<58))){var token=expression.substring(tokenStart,i);skipLocalVariables.push(token);state=0;break}}break}}while(i<len);if(state===1){if(!inReferenceChain){token=expression.substring(tokenStart,i);if(!$internals.Parsers.safeWords[token]){if(!$internals.Utils.inArray(skipLocalVariables,token)){builder.push(expression.substring(lastInsertEndPos,tokenStart),"vars['");builder.push(token);builder.push("']");lastInsertEndPos=i;$internals.Utils.insertUniqueToArray(usedValues,token)}}}else{if(lastInsertEndPos!==chainStart){builder.push(expression.substring(lastInsertEndPos,chainStart))}if(fixedVars&&(token=expression.substring(chainStart,firstChainTokenEnd))&&$internals.Utils.inArray(fixedVars,token)){builder.push(token);builder.push("']");builder.push(expression.substring(firstChainTokenEnd,i));lastInsertEndPos=i}else{token=expression.substring(chainStart,i);if(!token.startsWith("window.")){builder.push(token);builder.push("']");lastInsertEndPos=i}else{lastInsertEndPos=chainStart}}if(!$internals.Parsers.safeWords[token]&&!token.startsWith("window")){$internals.Utils.insertUniqueToArray(usedValues,token)}}}if(lastInsertEndPos!==len){builder.push(expression.substring(lastInsertEndPos,len))}return usedValues}};$internals.Binder=(function(){function bindLoop(loopStatement,domElement,scope,thisIndex){var comment=document.createComment(loopStatement);$internals.Utils.replaceDomElement(comment,domElement);var loopContent=$internals.Parsers.parseLoopStatement(loopStatement);var getLoopCollectionResult,collection;if(loopContent.collectionName.start!==-1){getLoopCollectionResult=$internals.Parsers.getAlloyValue(loopStatement,loopContent.collectionName.start,loopContent.collectionName.end,scope,thisIndex);
collection=getLoopCollectionResult.value}var ex;var domPointer=new DomPointer(domElement,null,loopContent);var modelNode=getLoopCollectionResult.textResults[0].modelNode.createLoopIterationNode(loopContent.id);modelNode.addDependency(domPointer,new Expression("loop"));loopContent.thisIndex=thisIndex;loopContent.parentLoop=scope.$stack.$activeLoops.array[scope.$stack.$activeLoops.count];loopContent.repeatedElement=domElement;loopContent.commentElement=comment;if(loopContent.parentLoop){modelNode.addPriorNode(loopContent.parentLoop.trieNode)}if(loopContent.limit){var firstChar=loopStatement.charCodeAt(loopContent.limit.start);if(firstChar>=48&&firstChar<=57){loopContent.limit=loopStatement.substring(loopContent.limit.start,loopContent.limit.end)|0}else{var getInfo=$internals.Parsers.getAlloyValue(loopStatement,loopContent.limit.start,loopContent.limit.end,scope,thisIndex);if(getInfo.value!==undefined){loopContent.limit=getInfo.value;var alloyValueObject=getInfo.textResults[0];var exp=new Expression("loop-limit");if(getInfo.compiled){exp.compiled=getInfo.compiled;exp.varName=alloyValueObject.varName}alloyValueObject.modelNode.addDependency(domPointer,exp);modelNode.addPriorNode(alloyValueObject.modelNode)}}}if(loopContent.filter){getLoopFilter(loopContent,modelNode,scope,thisIndex);compileLoopFilterVars(loopContent.filter,scope)}modelNode.modelValue=collection=$internals.Utils.clone(collection,false);scope.$stack.$activeLoops.count++;if(collection&&collection.length){var processedItems=prepareLoopArray(collection,loopContent,modelNode);for(var i=0;i<processedItems;++i){loopItem(scope,loopContent,modelNode,collection[i],i)}}scope.$stack.$activeLoops.count--}function loopItem(scope,loopContent,collectionDependencyNode,collectionItem,index){var childDependencyNode=collectionDependencyNode.tryCreateNode(index);childDependencyNode.modelValue=collectionItem;var parentLoop=scope.$stack.$activeLoops.array[scope.$stack.$activeLoops.count-1];var activeLoop=new ActiveLoop(loopContent,childDependencyNode,parentLoop,index);if(scope.$stack.$activeLoops.array.length===scope.$stack.$activeLoops.count){scope.$stack.$activeLoops.array.push(activeLoop)
}else{scope.$stack.$activeLoops.array[scope.$stack.$activeLoops.count]=activeLoop}var clonedElement=loopContent.repeatedElement.cloneNode(true);loopContent.commentElement.parentNode.insertBefore(clonedElement,loopContent.commentElement);clonedElement=main(clonedElement,scope,loopContent.thisIndex);childDependencyNode.addDependency(new DomPointer(clonedElement),new Expression("ui-item"))}function prepareLoopArray(collection,loopContent,loopModelNode){var l=collection.length;var processedItems=0;var collectionItem;var skippedElements=0;var elementName=loopContent.elementName;for(var i=0;i<l;++i){collectionItem=collection[i];if(skippedElements){collection[i-skippedElements]=collectionItem}if(loopContent.filter){loopContent.filter.compiledVars[0][elementName]=collectionItem;if(!loopContent.filter.func.apply(null,loopContent.filter.compiledVars)){++skippedElements;continue}}++processedItems;if(loopContent.limit&&processedItems===loopContent.limit){break}}if(processedItems!==collection.length){collection=collection.slice(0,processedItems)}if(!loopContent.countNode){loopContent.countNode=loopModelNode.createFixedValueNode(processedItems)}else{loopContent.countNode.modelValue=processedItems}if(loopContent.sorter){loopModelNode.modelValue=collection=loopContent.sorter.sort(collection)}return processedItems}function optionItem(selectElement,optionsTrieNode,index,collectionItem,selected){var opt=document.createElement("option");if(typeof(collectionItem)==="object"){opt.innerHTML=collectionItem.html||collectionItem.text||collectionItem.value;opt.value=collectionItem.value||collectionItem.text||collectionItem.html;if(selected==collectionItem.value){opt.selected=true}}else{opt.innerHTML=opt.value=collectionItem;if(selected==collectionItem){opt.selected=true}}var trieNode=optionsTrieNode.tryCreateNode(index);trieNode.addDependency(new DomPointer(opt),new Expression("ui-item"));selectElement.appendChild(opt)}function attributes(domElement,scope,thisIndex){var attributesCount=domElement.attributes.length;if(!attributesCount){return
}var attrib,i,modelNode,events,ex,getValueResult,alloyValueObject;if(domElement.nodeName==="IMG"){attrib=domElement.getAttribute("alloy-src");if(attrib){domElement.setAttribute("src","{{"+attrib+"}}");domElement.removeAttribute("alloy-src")}}while(attributesCount--){attrib=domElement.attributes[attributesCount];if(!attrib){continue}switch(attrib.name){case"alloy-phase":if(attrib.value.indexOf("{{")>-1){var attribParam=attrib.value.replace("{{","").replace("}}","");var phase=$internals.Parsers.getAlloyValue(attribParam,0,attrib.value.length,scope,thisIndex).value;domElement.setAttribute("alloy-phase",phase)}else{var phase=attrib.value}if(scope.$phase!==null&&scope.$phase!==phase){domElement.style.display="none"}else{if(domElement.style.removeProperty){domElement.style.removeProperty("display")}else{if(domElement.style.removeAttribute){domElement.style.removeAttribute("display")}else{domElement.style.display=""}}}modelNode=scope.$dependencies.tryCreateNode("$phase");modelNode.modelValue=scope.$phase;modelNode.addDependency(new DomPointer(domElement,attrib),new Expression("phase"));break;case"alloy-if":if(!attrib.value){break}getValueResult=$internals.Parsers.getAlloyValue(attrib.value,0,attrib.value.length,scope,thisIndex);var domPointer=new DomPointer(domElement,attrib);var ll=getValueResult.textResultsCount;while(ll--){alloyValueObject=getValueResult.textResults[ll];var exp=new Expression();exp.type="if";exp.index=0;if(getValueResult.compiled){exp.compiled=getValueResult.compiled;exp.varName=alloyValueObject.varName}domPointer.addDependent(alloyValueObject.modelNode,exp);alloyValueObject.modelNode.addDependency(domPointer,exp)}if(!getValueResult.value){domElement.style.display="none"}else{if(domElement.style.removeProperty){domElement.style.removeProperty("display")}else{if(domElement.style.removeAttribute){domElement.style.removeAttribute("display")}else{domElement.style.display=""}}}break;case"alloy-bind-html":getValueResult=bindText(domElement,attrib,attrib.value,scope,thisIndex);if(getValueResult!==null){domElement.innerHTML=getValueResult;
executeInlineScripts(domElement)}break;default:var attribName=attrib.name;if(attribName.startsWith("alloy-")){if(attribName.equals("bind-event-","alloy-".length)){var evName=attribName.substring("alloy-bind-event-".length);if(!evName){break}var attribValue=attrib.value;if(!attribValue.contains("(")&&attribValue.contains(")")){console.log("Alloy.bind-event: invalid syntax. missing (): "+attribValue);break}var bindData=getBindEventData(evName,attribValue,scope,scope,thisIndex);if(!bindData){break}var eventHandler=(function eventFunc_creator(_scope,_thisIndex,_element,_bindData){return function eventHandler(e){var scope=_scope;var element=_element;var bindData=_bindData;var thisIndex=_thisIndex;var params=[];var evParamIndex=bindData.vars.length;while(evParamIndex--){var varInfo=bindData.vars[evParamIndex];if(evParamIndex){if(varInfo.name==="e"||varInfo.name==="event"){params[varInfo.name]=e}else{if(varInfo.name==="$parent"){var parentIndex=thisIndex?_scope.$stack.$this[thisIndex].parentIndex:0;params[varInfo.name]=_scope.$stack.$this[parentIndex].trieNode.modelValue}else{if(varInfo.name==="$domElement"){params[varInfo.name]=element}else{params[varInfo.name]=varInfo.modelTrieNode.modelValue}}}}else{params[varInfo.name]=function(){return scope[varInfo.name].apply(scope,arguments)}}}var res=bindData.func(params);if(res===undefined){var tar=element.getAttribute("target");if(tar&&tar!=="_self"&&tar!=="self"){return false}var href=element.getAttribute("href");if(!href){return false}if(href.startsWith("#")){return false}if(href.startsWith("javascript:")){return false}}}})(scope,thisIndex,domElement,bindData);if(window.addEventListener){domElement.addEventListener(evName,eventHandler)}else{domElement.attachEvent("on"+evName,eventHandler)}scope.$registeredDomEvents.push({name:evName,element:domElement,func:eventHandler})}else{if(attribName.equals("bind-scope-event-","alloy-".length)){var parentScope=scope.$parent;if(!parentScope){break}var evName=attribName.substring("alloy-bind-scope-event-".length);if(!evName){break}var attribValue=attrib.value;
if(!attribValue.contains("(")&&attribValue.contains(")")){console.log("Alloy.bind-event: invalid syntax. missing (): "+attribValue);break}var bindData=getBindEventData(evName,attribValue,scope,parentScope,thisIndex);if(!bindData){break}scope.regiesterHandler(evName,function(){var mthis=this;var params=[];params[0]=arguments;var customParams=params[1]=[];var evParamIndex=bindData.vars.length;while(evParamIndex--){var varInfo=bindData.vars[evParamIndex];if(evParamIndex){params[varInfo.name]=varInfo.modelTrieNode.modelValue}else{params[varInfo.name]=function(){mthis.scope.$parent[varInfo.name].apply(mthis.scope.$parent,params)}}}customParams.scope=this.scope;bindData.func(params)},{scope:scope,bindData:bindData})}else{break}}}getValueResult=bindText(domElement,attrib,attrib.value,scope,thisIndex);if(getValueResult!==null){attrib.value=getValueResult}break}}var eventFunc,$this;switch(domElement.tagName){case"SELECT":var optionsDomPointer,optionsCollection,optionsTrieNode,selectedValueTrieNode;attrib=domElement.getAttribute("alloy-options");if(!attrib){break}getValueResult=$internals.Parsers.getAlloyValue(attrib,0,attrib.length,scope,thisIndex);if(getValueResult.compiled){throw ("Alloy options must be plain value: "+attrib)}optionsTrieNode=getValueResult.textResults[0].modelNode.createLoopIterationNode(++lastId);optionsDomPointer=new DomPointer(domElement,null,new Expression("options"));optionsTrieNode.addDependency(optionsDomPointer,optionsDomPointer.contentInfo);optionsCollection=getValueResult.value;domElement.innerHTML="";if(optionsCollection){var collectionLen=optionsCollection.length;for(var i=0;i<collectionLen;++i){optionItem(domElement,optionsTrieNode,i,optionsCollection[i])}attrib=domElement.getAttribute("alloy-options-selected");if(attrib){if(attrib.startsWith("{{")&&attrib.endsWith("}}")){getValueResult=$internals.Parsers.getAlloyValue(attrib,2,attrib.length-2,scope,thisIndex);attrib=getValueResult.value;modelNode=getValueResult.textResults[0].modelNode;modelNode.addDependency(optionsDomPointer,new Expression("options-selected"));
optionsDomPointer.contentInfo.value=-1;optionsTrieNode.addPriorNode(modelNode);selectedValueTrieNode=modelNode}var collectionLen=optionsCollection.length;var selectedOption;while(collectionLen--){if(domElement.childNodes[collectionLen].value!=attrib){continue}selectedOption=domElement.childNodes[collectionLen];selectedOption.selected=true;optionsDomPointer.contentInfo.value=domElement.childNodes[collectionLen].value}}}var that=domElement;eventFunc=function(e){var value=that[that.selectedIndex].value;optionsDomPointer.contentInfo.value=value;if(selectedValueTrieNode){updateModelValue(scope,selectedValueTrieNode,value)}};if(window.addEventListener){domElement.addEventListener("change",eventFunc)}else{domElement.attachEvent("onchange",eventFunc)}break;case"TEXTAREA":case"INPUT":var t=domElement.type.toLowerCase();if(!domElement.getAttribute("alloy-this")){break}$this=scope.$stack.$this[thisIndex];var that=domElement;var ex=new Expression(t,0);$this.trieNode.addDependency(new DomPointer(domElement,null,ex),ex);switch(t){case"checkbox":domElement.checked=domElement.defaultChecked=$this.trieNode.modelValue===true;eventFunc=function(e){updateModelValue(scope,$this.trieNode,that.checked)};if(window.addEventListener){domElement.addEventListener("click",eventFunc)}else{domElement.attachEvent("onclick",eventFunc)}break;case"radio":domElement.checked=domElement.defaultChecked=($this.trieNode.modelValue===domElement.value)||($this.trieNode.modelValue+""===domElement.value);eventFunc=function(e){updateModelValue(scope,$this.trieNode,that.value)};if(window.addEventListener){domElement.addEventListener("click",eventFunc)}else{domElement.attachEvent("onclick",eventFunc)}break;case"text":default:eventFunc=function(e){var newVal=that.value;if(newVal===that.lastValue){return}that.lastValue=newVal;var iCaretPos=0;if(document.selection){var oSel=document.selection.createRange();oSel.moveStart("character",-that.value.length);iCaretPos=oSel.text.length}else{if(typeof(that.selectionStart)==="number"){iCaretPos=that.selectionStart}}updateModelValue(scope,$this.trieNode,newVal);
if(document.selection){var oSel=document.selection.createRange();oSel.moveStart("character",iCaretPos)}else{if(typeof(that.selectionStart)==="number"){that.selectionStart=iCaretPos;that.selectionEnd=iCaretPos}}};var debounceEventFunc=function(e){var context=this;clearTimeout(debounceEventFunc.timer);debounceEventFunc.timer=setTimeout(function(){eventFunc.call(context,e)},1)};domElement.value=$this.trieNode.modelValue;domElement.lastValue=$this.trieNode.modelValue;if(window.addEventListener){domElement.addEventListener("keyup",debounceEventFunc)}else{domElement.attachEvent("onkeyup",debounceEventFunc)}break}break}}function getLoopFilter(loopContent,loopTrieNode,scope,thisIndex){loopContent.filter;var compiledObject={};var str=["0, (function(vars){return "];compiledObject.vars=$internals.Parsers.parseExpression(loopContent.filter,str,[loopContent.elementName]);str.push(";})");compiledObject.func=$internals.Utils.eval(str.join(""));var evParamIndex=compiledObject.vars.length;while(evParamIndex--){var paramResult=$internals.Parsers.getAlloyValue(compiledObject.vars[evParamIndex],0,compiledObject.vars[evParamIndex].length,scope,thisIndex);compiledObject.vars[evParamIndex]={name:compiledObject.vars[evParamIndex],modelTrieNode:paramResult.textResults[0].modelNode};if(compiledObject.vars[evParamIndex].name!==loopContent.elementName){loopTrieNode.addPriorNode(compiledObject.vars[evParamIndex].modelTrieNode)}}loopContent.filter=compiledObject}function compileLoopFilterVars(filterObject,scope){if(!filterObject.compiledVars){filterObject.compiledVars=[{}]}var evParamIndex=filterObject.vars.length;while(evParamIndex--){var paramRes=filterObject.vars[evParamIndex];filterObject.compiledVars[0][paramRes.name]=paramRes.modelTrieNode.modelValue}filterObject.compiledVars[0]["scope"]=scope}function getBindEventData(eventName,eventHandler,dataScope,functionScope,thisIndex){var compiledObject={};var str=["0, (function(vars){return "];compiledObject.vars=$internals.Parsers.parseExpression(eventHandler,str);str.push(";})");compiledObject.func=$internals.Utils.eval(str.join(""));
if(typeof(functionScope[compiledObject.vars[0]])!=="function"){console.log("Alloy.bind-event: missing method '"+compiledObject.vars[0]+"' as registered for "+eventName+" event");return null}var evParamIndex=compiledObject.vars.length;while(evParamIndex--){if(evParamIndex){var paramResult=$internals.Parsers.getAlloyValue(compiledObject.vars[evParamIndex],0,compiledObject.vars[evParamIndex].length,dataScope,thisIndex);compiledObject.vars[evParamIndex]={name:compiledObject.vars[evParamIndex],modelTrieNode:paramResult.textResults[0].modelNode}}else{compiledObject.vars[evParamIndex]={name:compiledObject.vars[evParamIndex]}}}return compiledObject}function updateModelValue(scope,modelTrieNode,value){var parentNode=modelTrieNode.parent;parentNode.modelValue[modelTrieNode.word]=value;scope.update()}function bindText(element,attrib,value,scope,selfIndex){if(!value){return null}var parseResult=$internals.Parsers.parseText(value,scope,selfIndex);if(parseResult.html===value){return null}var domPointer=new DomPointer(element,attrib,value);var l=parseResult.resultsLength;var parsedItem,alloyValueObject;while(l--){parsedItem=parseResult.results[l];var ll=parsedItem.textResultsCount;while(ll--){alloyValueObject=parsedItem.textResults[ll];var exp=new Expression();exp.type="text";exp.index=l;if(parsedItem.compiled){exp.compiled=parsedItem.compiled;exp.varName=alloyValueObject.varName}domPointer.addDependent(alloyValueObject.modelNode,exp);alloyValueObject.modelNode.addDependency(domPointer,exp)}}return parseResult.html}function main(domElement,scope,thisIndex){var mainStack=new Array(20);var stackLastIndex=0;var stackItem;var newScope,$This,template,childIndex,templateSrc;var pendingLoad=null;mainStack[0]=new Array(4);mainStack[0][0]=domElement;mainStack[0][1]=thisIndex;mainStack[0][2]=false;mainStack[0][3]=0;do{stackItem=mainStack[stackLastIndex];domElement=stackItem[0];thisIndex=stackItem[1];childIndex=stackItem[3];template=null;templateSrc=null;newScope=null;if(!stackItem[2]){stackItem[2]=true;while(true){if(domElement.nodeName==="#comment"){break
}if(domElement.nodeName==="#text"){var bindResult=bindText(domElement,null,domElement.nodeValue,scope,thisIndex);if(bindResult!==null){domElement.nodeValue=bindResult}break}if(domElement.attributes.length){var loopStatement=domElement.getAttribute("alloy-loop");if(loopStatement){domElement.removeAttribute("alloy-loop");var childNodesToProcess;var previousStackItem=mainStack[stackLastIndex-1];if(stackLastIndex!==0){childNodesToProcess=previousStackItem[0].childNodes.length-previousStackItem[3]}bindLoop(loopStatement,domElement,scope,thisIndex);stackItem[3]=childIndex=domElement.childNodes.length;if(stackLastIndex!==0){previousStackItem[3]=previousStackItem[0].childNodes.length-childNodesToProcess}break}var newThis=domElement.getAttribute("alloy-this");if(newThis){var getValueResult=$internals.Parsers.getAlloyValue(newThis,0,newThis.length,scope,thisIndex);if(getValueResult.compiled){throw ("Invalid alloy-this: "+newThis+". It must be a simple value")}if(getValueResult.value!==undefined){var $this=scope.$stack.$this;$this.push(new This(getValueResult.textResults[0].modelNode,thisIndex));stackItem[1]=thisIndex=$this.length-1}}if(domElement.nodeName!=="IMG"){templateSrc=domElement.getAttribute("alloy-src")}newScope=domElement.getAttribute("alloy-scope");if(newScope&&newScope!=="binded"){newScope=window[newScope]||null;if(newScope){newScope=new newScope(scope.$stack.$this[thisIndex].trieNode.modelValue)}}}if(domElement.tagName){template=$internals.Templates.get(domElement)}if(template){if(!newScope){newScope=getScopeClass(domElement.tagName.toUpperCase(),scope,thisIndex);if(!newScope&&domElement.id){newScope=getScopeClass("#"+domElement.id,scope,thisIndex)}if(!newScope&&domElement.hasAttribute("alloy-require-scope")){newScope="skip"}}if(!newScope||newScope==="binded"){newScope=false;var templateDom=template.cloneNode(true);templateRefactoring(templateDom,domElement.childNodes,0);var firstChild=templateDom.firstChild;while(firstChild.nodeName=="#comment"){firstChild=firstChild.nextSibling}while(true){if(firstChild.nodeName.charAt(0)!=="#"){break
}var tmpNodeValue=firstChild.nodeValue;var tmpPos=0;for(;tmpPos<tmpNodeValue.length;++tmpPos){var c=tmpNodeValue.charCodeAt(tmpPos);if(c==9||c==32||c==10||c==13){continue}break}if(tmpPos==tmpNodeValue.length){firstChild=firstChild.nextSibling}else{break}}if(firstChild.nodeName.charAt(0)!=="#"){$internals.Utils.copyAttributes(domElement,firstChild,true)}$internals.Utils.replaceDomElement(templateDom,domElement);stackItem[0]=domElement=firstChild;if(firstChild.nodeName==="#text"){continue}}}else{if(templateSrc){domElement.removeAttribute("alloy-src");if(!pendingLoad){pendingLoad=[]}pendingLoad.push(stackItem,templateSrc)}}if(newScope&&newScope!=="skip"){domElement.setAttribute("alloy-scope","binded");$This=scope.$stack.$this[thisIndex];$This.trieNode.addDependentScope(newScope);var childNodesToProcess;var previousStackItem=mainStack[stackLastIndex-1];if(stackLastIndex!==0){childNodesToProcess=previousStackItem[0].childNodes.length-previousStackItem[3]}newScope.$parent=scope;newScope.$name=domElement.tagName;scope.$childScopes.push(newScope);var scopeName=domElement.getAttribute("alloy-scope-name");if(scopeName){if(!scope.$childScopesByName){scope.$childScopesByName=[]}scope.$childScopesByName[scopeName]=newScope}scope.childScopeCreated(newScope,domElement);stackItem[0]=domElement=newScope.bind(domElement);stackItem[3]=childIndex=domElement.childNodes.length;if(stackLastIndex!==0){previousStackItem[3]=previousStackItem[0].childNodes.length-childNodesToProcess}break}attributes(domElement,scope,thisIndex);break}}if(childIndex===domElement.childNodes.length){stackLastIndex--}else{var childNode=domElement.childNodes[childIndex];stackItem[3]++;var childStackItem;if(++stackLastIndex>mainStack.length){childStackItem=new Array(4);mainStack.push(childStackItem)}else{childStackItem=mainStack[stackLastIndex];if(!childStackItem){childStackItem=mainStack[stackLastIndex]=new Array(4)}}childStackItem[0]=childNode;childStackItem[1]=thisIndex;childStackItem[2]=false;childStackItem[3]=0}}while(stackLastIndex!==-1);return mainStack[0][0]
}function templateRefactoring(templateNode,instanceChildNodes,instanceChildIndex){var templateChildNodes=templateNode.childNodes,templateLength=templateChildNodes.length,tempChildNode,instanceLength=instanceChildNodes.length,childNode,cIndex,placeholder;while(templateLength--){tempChildNode=templateChildNodes[templateLength];if(!tempChildNode.tagName){continue}placeholder=tempChildNode.getAttribute("alloy-placeholder-id");if(placeholder){for(cIndex=instanceChildIndex;cIndex<instanceLength;++cIndex){childNode=instanceChildNodes[cIndex];if(!childNode.tagName){continue}if(childNode.getAttribute("alloy-placeholder-id")===placeholder){childNode.removeAttribute("alloy-placeholder-id");$internals.Utils.replaceDomElement(childNode,tempChildNode);instanceChildIndex=cIndex;break}}}else{templateRefactoring(tempChildNode,instanceChildNodes,instanceChildIndex)}}}function getScopeClass(tagName,scope,thisIndex){if(scope.$tagToScopeClass){var model=scope.$stack.$this[thisIndex].trieNode.modelValue;var tmpScope=scope.$tagToScopeClass[tagName];if(tmpScope){return new tmpScope(model)}}tmpScope=Alloy.Scope.$staticBinding[tagName];if(tmpScope){return new tmpScope(model)}}function evalEmbeddedData(domElement,scope){var embeddedDataName;try{embeddedDataName=domElement.getAttribute("alloy-data-target")||null;var evalued=eval("("+domElement.innerHTML+")");if(!embeddedDataName){scope.$embedded=evalued}else{scope.$embedded[embeddedDataName]=evalued}}catch(e){throw ("Alloy.bind() - error evaluating embedded-data: "+domElement.innerHTML)}var comment=document.createComment(domElement.innerHTML);$internals.Utils.replaceDomElement(comment,domElement)}var executeInlineScripts=(function(){var head=document.getElementsByTagName("head")[0]||document.documentElement;function evalScript(elem){var data=elem&&(elem.text||elem.textContent||elem.innerHTML||""),script=document.createElement("script");script.type="text/javascript";try{script.appendChild(document.createTextNode(data))}catch(e){script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)
}return function(node){var scripts=[],children=node.getElementsByTagName("*");for(var i=0,child;i<children.length;i++){child=children[i];if(child.nodeName&&child.nodeName.toLowerCase()==="script"&&(!child.type||child.type.toLowerCase()==="text/javascript")){scripts.push(child)}}for(i=0;i<scripts.length;i++){evalScript(scripts[i])}}}());function clearMemory(scope){scope.$stack.$activeLoops=null;scope.$compiledEval=null;$internals.Parsers.clearMemoryObjects()}return{bind:function bind(domElement,scope){var l=domElement.childNodes.length;for(var i=0;i<l;++i){var d=domElement.childNodes[i];if(d.nodeName.charAt(0)=="#"){continue}if(d.nodeName==="ALLOY-EMBEDDED-DATA"||d.nodeName==="alloy-embedded-data"){evalEmbeddedData(d,scope)}break}scope.beforeBind();scope.$dependencies=new ModelTrieNode();scope.$compiledEval={};scope.$registeredDomEvents=[];scope.$updateCycle=0;scope.$childScopes=[];var modelDepNode=scope.$dependencies.tryCreateNode("$model");modelDepNode.modelValue=scope.$model;scope.$stack={$this:[new This(modelDepNode,-1)],$activeLoops:{array:[null],count:0}};$internals.Parsers.initMemoryObjects();var p=domElement.parentNode;var nextSibling=domElement.nextSibling;$internals.Utils.removeElement(domElement);scope.$domElement=main(domElement,scope,0);if(nextSibling){p.insertBefore(scope.$domElement,nextSibling)}else{p.appendChild(scope.$domElement)}clearMemory(scope);setTimeout(function(){scope.afterBind(scope.$domElement)},0);return scope.$domElement},update:function update(scope){if(!scope.$domElement){return}if(scope.$updating){return}scope.beforeUpdate();scope.$updating=true;scope.window=window;scope.$stack.$activeLoops={array:[null],count:0};scope.$compiledEval={};$internals.Parsers.initMemoryObjects();var stack=new Array(20);stack[0]=new Array(5);stack[0][0]=scope.$dependencies;stack[0][1]=scope;stack[0][2]=0;stack[0][3]=0;stack[0][4]=-1;var stackLastIndex=0;var updateCycle=++scope.$updateCycle;var postLoopUpdate=[];var postLoopUpdateIndices={};var l,arrayItem,domPointer,arr;do{var item=stack[stackLastIndex];var modelTrieNode=item[0];
var model=item[1];if(item[4]!==-1){arr=modelTrieNode.priorUpdateNodes;l=item[4];do{arrayItem=arr[l];if(arrayItem.generation===updateCycle){continue}if(!arrayItem.pendingUpdateNodes){arrayItem.pendingUpdateNodes=[]}arrayItem.pendingUpdateNodes.push({node:modelTrieNode,model:model});break}while(--l!==-1);item[4]=l}if(item[4]===-1&&modelTrieNode.generation!==updateCycle){if(modelTrieNode.type===1){model=modelTrieNode.modelValue}if(modelTrieNode.dependentScopes||modelTrieNode.dependents){var valueChanged;if(modelTrieNode.type===1){valueChanged=true}else{if(model instanceof Array){valueChanged=!$internals.Utils.compareArrays(model,modelTrieNode.modelValue)}else{valueChanged=model!==modelTrieNode.modelValue}}var expression,postUpdateObj,evalObj;arr=modelTrieNode.dependentScopes;if(valueChanged&&arr){l=arr.length;while(l--){arr[l].setModel(model)}}arr=modelTrieNode.dependents;if(arr){l=arr.length;while(l--){arrayItem=arr[l];domPointer=arrayItem.domPointer;expression=arrayItem.expression;switch(expression.type){case"if":case"text":if(!valueChanged&&domPointer.updateCycle!=updateCycle){break}postUpdateObj=postLoopUpdateIndices[domPointer.id];if(!postUpdateObj){postUpdateObj=postLoopUpdateIndices[domPointer.id]={domPointer:domPointer,values:[]};postLoopUpdate.push(postUpdateObj);domPointer.updateCycle=updateCycle;if(domPointer.dependents){var dpd=domPointer.dependents;var dpdl=domPointer.dependents.length;var dpdi;while(dpdl--){dpdi=dpd[dpdl];if(dpdi.modelNode===modelTrieNode){continue}if(dpdi.modelNode.generation!==updateCycle){continue}if(dpdi.expression.compiled){evalObj=postUpdateObj.values[dpdi.expression.index];if(!evalObj){evalObj=postUpdateObj.values[dpdi.expression.index]={compiled:dpdi.expression.compiled,vars:{}}}evalObj.vars[dpdi.expression.varName]=dpdi.modelNode.modelValue}else{postUpdateObj.values[dpdi.expression.index]=dpdi.modelNode.modelValue}}}}if(expression.compiled){evalObj=postUpdateObj.values[expression.index];if(!evalObj){evalObj=postUpdateObj.values[expression.index]={compiled:expression.compiled,vars:{}}
}evalObj.vars[expression.varName]=model}else{postUpdateObj.values[expression.index]=model}break;case"loop-limit":if(!valueChanged){break}domPointer.contentInfo.limit=model;break;case"loop":var processedItems=0;var loopContent=domPointer.contentInfo;var ll,collectionItem;if(model){item[1]=model=$internals.Utils.clone(model);if(loopContent.parentLoop){var d=scope.$stack.$activeLoops.count=loopContent.parentLoop.depth+1;var activeLoop=loopContent.parentLoop;while(--d){if(scope.$stack.$activeLoops.array.length===d){scope.$stack.$activeLoops.array.push(activeLoop)}else{scope.$stack.$activeLoops.array[d]=activeLoop}activeLoop=activeLoop.parent}}else{scope.$stack.$activeLoops.count=1}ll=model.length;var skippedElements=0;var elementName=loopContent.elementName;if(loopContent.filter){compileLoopFilterVars(loopContent.filter,scope)}var processedItems=prepareLoopArray(model,loopContent,modelTrieNode);for(var i=0;i<processedItems;++i){if(!modelTrieNode.nodesHash||modelTrieNode.nodesHash[i]===undefined){loopItem(scope,loopContent,modelTrieNode,model[i],i);valueChanged=true}}}var tmpIndex,toRemoveArr,nodeToRemove;if(modelTrieNode.nodes){var tmpIndex=0,newNodes=undefined,newHash=undefined;var lll=modelTrieNode.nodes.length;while(lll--){nodeToRemove=modelTrieNode.nodes[lll];if(typeof(nodeToRemove.word)==="number"&&nodeToRemove.word>=processedItems){break}}if(lll!==-1){valueChanged=true;newNodes=new Array(modelTrieNode.nodes.length);newHash={};for(lll=0;lll<modelTrieNode.nodes.length;++lll){nodeToRemove=modelTrieNode.nodes[lll];if(typeof(nodeToRemove.word)!=="number"||nodeToRemove.word<processedItems){newNodes[tmpIndex]=nodeToRemove;newHash[nodeToRemove.word]=tmpIndex++}else{toRemoveArr=nodeToRemove.dependentScopes;if(toRemoveArr){ll=toRemoveArr.length;while(ll--){toRemoveArr[ll].dispose()}}toRemoveArr=nodeToRemove.dependents;if(toRemoveArr){ll=toRemoveArr.length;while(ll--){if(toRemoveArr[ll].expression.type!=="ui-item"){continue}$internals.Utils.removeElement(toRemoveArr[ll].domPointer.element)}}}}}if(lll!==-1&&modelTrieNode.nodes&&tmpIndex!==modelTrieNode.nodes.length){valueChanged=true;
modelTrieNode.nodesHash=newHash;modelTrieNode.nodes=newNodes;modelTrieNode.nodes.splice(tmpIndex,modelTrieNode.nodes.length-tmpIndex)}}break;case"options-selected":if(!valueChanged){break}domPointer.contentInfo.value=model;break;case"options":if(model){ll=model.length;for(var i=0;i<ll;++i){var pos=modelTrieNode.nodesHash?modelTrieNode.nodesHash[i]:undefined;if(pos===undefined){optionItem(domPointer.element,modelTrieNode,i,model[i],expression.value)}else{if(expression.value==model[i]||expression.value==model[i].value){modelTrieNode.nodes[pos].dependents[0].domPointer.element.selected=true}}}}if((!model&&modelTrieNode.modelValue)||(modelTrieNode.modelValue&&modelTrieNode.nodes&&model.length<modelTrieNode.nodes.length)){var tmpIndex=model.length;var depIndex=modelTrieNode.nodesHash[tmpIndex];while(!isNaN(depIndex)){delete modelTrieNode.nodesHash[tmpIndex];var nodeToRemove=modelTrieNode.nodes[depIndex];var toRemoveArr=nodeToRemove.dependentScopes;if(toRemoveArr){ll=toRemoveArr.length;while(ll--){toRemoveArr[ll].dispose()}}toRemoveArr=nodeToRemove.dependents;if(toRemoveArr){ll=toRemoveArr.length;while(ll--){if(toRemoveArr[ll].expression.type!=="ui-item"){continue}$internals.Utils.removeElement(toRemoveArr[ll].domPointer.element)}}depIndex=modelTrieNode.nodesHash[++tmpIndex]}if(tmpIndex){modelTrieNode.nodes.splice(processedItems,tmpIndex)}}break;case"checkbox":if(!valueChanged){break}domPointer.element.checked=domPointer.element.defaultChecked=model;break;case"phase":var phase=domPointer.attribute.value;if(scope.$phase!==null&&scope.$phase!==phase){domPointer.element.style.display="none"}else{if(domPointer.element.style.removeProperty){domPointer.element.style.removeProperty("display")}else{if(domPointer.element.style.removeAttribute){domPointer.element.style.removeAttribute("display")}else{domPointer.element.style.display=""}}}break;default:break}}}if(valueChanged){modelTrieNode.modelValue=model}}else{modelTrieNode.modelValue=model}modelTrieNode.generation=updateCycle}var nextNode=null,nextNodeValue;if(item[4]!==-1){stackLastIndex--
}else{if(!modelTrieNode.nodes||item[2]==modelTrieNode.nodes.length){if(!modelTrieNode.pendingUpdateNodes||item[3]===modelTrieNode.pendingUpdateNodes.length){stackLastIndex--;modelTrieNode.pendingUpdateNodes=null}else{nextNode=modelTrieNode.pendingUpdateNodes[item[3]].node;nextNodeValue=modelTrieNode.pendingUpdateNodes[item[3]].model;item[3]++}}else{nextNode=modelTrieNode.nodes[item[2]++];if(nextNode.type===2){nextNodeValue=model}else{if(model){nextNodeValue=model[nextNode.word]}}}}if(nextNode){var tmpArr;if(stack.length===++stackLastIndex){tmpArr=new Array(5);stack.push(tmpArr)}else{tmpArr=stack[stackLastIndex];if(!tmpArr){tmpArr=stack[stackLastIndex]=new Array(4)}}tmpArr[0]=nextNode;tmpArr[1]=nextNodeValue;tmpArr[2]=0;tmpArr[3]=0;tmpArr[4]=nextNode.priorUpdateNodes?nextNode.priorUpdateNodes.length-1:-1}}while(stackLastIndex!==-1);var l=postLoopUpdate.length;var result,p;while(l--){arrayItem=postLoopUpdate[l];domPointer=arrayItem.domPointer;try{p=domPointer.element.parentNode;if(!p||!p.offsetParent){while(p&&p!==document.body){p=p.parentNode}if(!p){continue}}}catch(e){continue}if(domPointer.contentInfo===undefined){var firstValue=arrayItem.values[0];if(firstValue===undefined){}if(firstValue.compiled){result=firstValue.compiled(firstValue.vars)}else{result=firstValue}if(!result){domPointer.element.style.display="none"}else{if(domPointer.element.style.removeProperty){domPointer.element.style.removeProperty("display")}else{if(domPointer.element.style.removeAttribute){domPointer.element.style.removeAttribute("display")}else{domPointer.element.style.display=""}}}}else{if(typeof(domPointer.contentInfo)==="string"){result=$internals.Parsers.parseText(domPointer.contentInfo,scope,0,arrayItem.values);if(domPointer.attribute){if(domPointer.attribute.name==="alloy-bind-html"){domPointer.element.innerHTML=result.html}else{domPointer.attribute.value=result.html}}else{domPointer.element.nodeValue=result.html}}else{if(domPointer.contentInfo instanceof Expression){if(domPointer.element.nodeName==="INPUT"){domPointer.element.value=arrayItem.values[0]
}}}}}clearMemory(scope);stack=scope.$childScopes;l=stack.length;var disposedChildren=0;for(var i=0;i<l;++i){if(stack[i].isDisposed()){++disposedChildren}else{$internals.Binder.update(stack[i])}}if(disposedChildren){ll=l-disposedChildren;var newStack=new Array(ll);for(var i=0;i<l;++i){if(stack[i].isDisposed()){continue}newStack[--ll]=stack[i]}scope.$childScopes=newStack}scope.afterUpdate();scope.$updating=false},dispose:function dispose(scope){scope.$domElement.innerHTML="";scope.$parent=null;for(var i=1;i<scope.$childScopes.length;++i){scope.$childScopes[i].dispose()}var evnts=scope.$registeredDomEvents;var l=evnts.length;while(l--){if(window.removeEventListener){evnts[l].element.removeEventListener(evnts[l].name,evnts[l].func)}else{evnts[l].element.detachEvent("on"+evnts[l].name,evnts[l].func)}}}}})();exports["Alloy.Scope"]=Alloy.Scope=Alloy.Base.extend({name:"Scope"});Alloy.Scope.$staticBinding={};Alloy.Scope.bindGlobalStaticScope=function(tagName,scope){Alloy.Scope.$staticBinding[tagName.toUpperCase()]=scope};Alloy.Scope.prototype.ctor=function(model){this.$embedded={};this.$model=model||{};this.$events={}};Alloy.Scope.prototype.dtor=function(){$internals.Binder.dispose(this)};Alloy.Scope.prototype.getChildScope=function(childName){if(!this.$childScopesByName){return}return this.$childScopesByName[childName]};Alloy.Scope.prototype.getChildScopeByTag=function(tagName){tagName=tagName.toUpperCase();for(var i=0;i<this.$childScopes.length;i++){var child=this.$childScopes[i];if(child.$name===tagName){return child}}return null};Alloy.Scope.prototype.getChildScopesByTag=function(tagName){var scopes=[];tagName=tagName.toUpperCase();for(var i=0;i<this.$childScopes.length;i++){var child=this.$childScopes[i];if(child.$name===tagName){scopes.push(child)}}return scopes};Alloy.Scope.prototype.setScopeClass=function(tagName,scope){if(!this.$tagToScopeClass){this.$tagToScopeClass={}}this.$tagToScopeClass[tagName.toUpperCase()]=scope};Alloy.Scope.prototype.setModel=function(obj){var prev=this.$model;this.$model=obj;this.onModelChanged(prev);
this.update()};Alloy.Scope.prototype.setModelProperty=function(obj,model){model=model||this.$model;for(var i in obj){model[i]=obj[i]}this.update()};Alloy.Scope.prototype.childScopeCreated=function(childScope,domElement){};Alloy.Scope.prototype.beforeBind=function(){};Alloy.Scope.prototype.afterBind=function(domElement){};Alloy.Scope.prototype.beforeUpdate=function(){};Alloy.Scope.prototype.afterUpdate=function(){};Alloy.Scope.prototype.onModelChanged=function(previousModel){};Alloy.Scope.prototype.setPhase=function(phase){this.$phase=phase;this.update()};Alloy.Scope.prototype.bind=function Alloy_Scope_Bind(domElement,template){if(typeof(domElement)=="string"){if(domElement.startsWith("#")){domElement=document.getElementById(domElement.substring(1))}else{domElement=document.querySelector(domElement)}}if(!domElement){throw (this.__className__+".bind() - invalid domElement")}if(template){domElement.setAttribute("alloy-template",template)}return $internals.Binder.bind(domElement,this)};Alloy.Scope.prototype.update=function Alloy_Scope_Update(){$internals.Binder.update(this)};Alloy.Scope.prototype.createEvent=function(event_name){if(!event_name){throw"Event name is not provided."}event_name=event_name.toLowerCase();if(this.$events[event_name]!=null){throw event_name+" Event is already exists."}this.$events[event_name]=new Alloy.Event();return this.$events[event_name]};Alloy.Scope.prototype.registerHandler=function(event_name,callback,context){if(this.isDisposed()){throw"Cannot register to a disposed object event"}if(!event_name){throw"Event name is not provided."}event_name=event_name.toLowerCase();if(this.$events[event_name]==null){this.createEvent(event_name)}if(typeof context=="undefined"){context=null}if(!callback){throw"Callback is not provided."}this.$events[event_name].addHandler(callback,context)};Alloy.Scope.prototype.regiesterHandler=Alloy.Scope.prototype.registerHandler;Alloy.Scope.prototype.unregisterHandler=function(event_name,callback,context){if(this.isDisposed()){return}if(!event_name){throw"Event name is not provided"
}event_name=event_name.toLowerCase();if(this.$events[event_name]==null){throw event_name+" Event dosen't exists"}if(!callback){throw"Callback is not provided."}this.$events[event_name].removeHandler(callback,context)};Alloy.Scope.prototype.dispatchEvent=function(event_name,params){if(this.isDisposed()){return}if(!event_name){throw this.__className__+".dispatch(): Event name is not provided"}event_name=event_name.toLowerCase();var event=this.$events[event_name]||this.createEvent(event_name);if(!(params instanceof Array)){params=[params]}event.dispatch.apply(event,params)};Alloy.Scope.prototype.delegateChildrenEvent=function(event_name,delegated_event_name){if(this.isDisposed()){return}if(!event_name){throw this.__className__+".dispatch(): Event name is not provided"}delegated_event_name=delegated_event_name||event_name;for(var i=0;i<this.$childScopes.length;i++){var child=this.$childScopes[i];child.registerHandler(event_name,function(params){this.dispatchEvent(delegated_event_name,[].slice.call(arguments))},this)}};Alloy.Scope.prototype.$model=null;Alloy.Scope.prototype.$embedded=null;Alloy.Scope.prototype.$tagToScopeClass=null;Alloy.Scope.prototype.$domElement=null;Alloy.Scope.prototype.$stack=null;Alloy.Scope.prototype.$childScopes=null;Alloy.Scope.prototype.$childScopesByName=null;Alloy.Scope.prototype.$name=null;Alloy.Scope.prototype.$parent=null;Alloy.Scope.prototype.$phase=null;Alloy.Scope.prototype.$updating=false;Alloy.Scope.prototype.$events=null;Alloy.Scope.prototype.$dependencies=null;Alloy.Scope.prototype.$compiledEval=null;Alloy.Scope.prototype.$registeredDomEvents=null;Alloy.Scope.prototype.$updateCycle=0;Alloy.MergeSort=Alloy.Base.extend({name:"MergeSort"});Alloy.MergeSort.prototype.sort=function MergeSort_sort(array,desc){this.$sort(array,0,array.length,desc)};Alloy.MergeSort.prototype.$sort=function MergeSort_$sort(array,begin,end,desc){var size=end-begin;if(size<2){return}var begin_right=begin+Math.floor(size/2);this.$sort(array,begin,begin_right,desc);this.$sort(array,begin_right,end,desc);if(desc){this.$merge_desc(array,begin,begin_right,end)
}else{this.$merge_asc(array,begin,begin_right,end)}};Alloy.MergeSort.prototype.$merge_asc=function(array,begin,begin_right,end){var lastIndex=end-1;for(;begin<begin_right;++begin){if(this.$comparer(array[begin],array[begin_right])===-1){var v=array[begin];array[begin]=array[begin_right];if(begin_right===lastIndex){array[begin_right]=v}else{var targetIndex=this.$binaryIndexOf_asc(array,v,begin_right,lastIndex);var startingIndex=begin_right;for(;startingIndex<targetIndex;++startingIndex){array[startingIndex]=array[startingIndex+1]}array[targetIndex]=v}}}};Alloy.MergeSort.prototype.$merge_desc=function(array,begin,begin_right,end){var lastIndex=end-1;for(;begin<begin_right;++begin){if(this.$comparer(array[begin],array[begin_right])===1){var v=array[begin];array[begin]=array[begin_right];if(begin_right===lastIndex){array[begin_right]=v}else{var targetIndex=this.$binaryIndexOf_desc(array,v,begin_right,lastIndex);var startingIndex=begin_right;for(;startingIndex<targetIndex;++startingIndex){array[startingIndex]=array[startingIndex+1]}array[targetIndex]=v}}}};Alloy.MergeSort.prototype.$comparer=function MergeSort_$comparer(a,b){if(a>b){return -1}else{if(a<b){return 1}}return 0};Alloy.MergeSort.prototype.$binaryIndexOf_asc=function MergeSort_$binaryIndexOf(array,element,minIndex,maxIndex){minIndex=minIndex||0;maxIndex=maxIndex||array.length-1;if(maxIndex-minIndex<10){for(;minIndex<=maxIndex;++minIndex){var cmp=this.$comparer(element,array[minIndex]);switch(cmp){case 0:return minIndex;case 1:return minIndex-1}}return maxIndex}var currentIndex;var currentElement;var resultIndex;while(minIndex<=maxIndex){resultIndex=currentIndex=(minIndex+maxIndex)/2|0;currentElement=array[currentIndex];var cmp=this.$comparer(element,currentElement);if(cmp==-1){minIndex=currentIndex+1}else{if(cmp==1){maxIndex=currentIndex-1}else{return currentIndex}}}return maxIndex};Alloy.MergeSort.prototype.$binaryIndexOf_desc=function MergeSort_$binaryIndexOf(array,element,minIndex,maxIndex){minIndex=minIndex||0;maxIndex=maxIndex||array.length-1;if(maxIndex-minIndex<10){for(;
minIndex<=maxIndex;++minIndex){var cmp=this.$comparer(element,array[minIndex]);switch(cmp){case 0:return minIndex;case -1:return minIndex-1}}return maxIndex}var currentIndex;var currentElement;var resultIndex;while(minIndex<=maxIndex){resultIndex=currentIndex=(minIndex+maxIndex)/2|0;currentElement=array[currentIndex];var cmp=this.$comparer(element,currentElement);if(cmp==1){minIndex=currentIndex+1}else{if(cmp==-1){maxIndex=currentIndex-1}else{return currentIndex}}}return maxIndex};Alloy.MergeSort_String=Alloy.MergeSort.extend({name:"MergeSort_String"});Alloy.MergeSort_String.prototype.$comparer=function MergeSort_$comparer(a,b){return Alloy.MergeSort_String.strCmp(a,b)};Alloy.MergeSort_String.strCmp=function strCmp(a,b){var min=a.length<b.length?a.length:b.length;for(var i=0;i<min;++i){var c1=a.charCodeAt(i);var c2=b.charCodeAt(i);if(c1==c2){continue}if(c1>90){c1-=32}if(c2>90){c2-=32}if(c1>c2){return -1}else{if(c1<c2){return 1}}}if(a.length==b.length){return 0}else{if(a.length>b.length){return -1}else{return 1}}};$internals.Com=Alloy.Com={SUCCESS:200,FAIL:400,TIMEOUT:500,enumMethod:{GET:"GET",POST:"POST"},cbId:new Date().getTime()%1000};Alloy.ajax=function(info){var xmlhttp=null;if(typeof(XMLHttpRequest)==="function"||typeof(XMLHttpRequest)==="object"){xmlhttp=new XMLHttpRequest()}else{throw"Cannot create ajax object"}if(info.method==$internals.Com.enumMethod.GET&&info.data){info.url+="?"+info.data}xmlhttp.open(info.method,info.url,true);if(info.headers){for(var n in info.headers){xmlhttp.setRequestHeader(n,info.headers[n])}}xmlhttp.onreadystatechange=function(){switch(this.readyState){case 4:ready($internals.Com.SUCCESS);break}};xmlhttp.onerror=function(){ready($internals.Com.FAIL)};xmlhttp.onload=function(){ready($internals.Com.SUCCESS)};var ready=function(status){if(!running){return}clearTimeout(timer);running=false;var tmpStatus=-1;try{var tmpStatus=xmlhttp.status;if(!tmpStatus){tmpStatus=400}}catch(e){if(timeout){tmpStatus=-1}else{tmpStatus=400}}var text="";switch(tmpStatus){case 200:status=$internals.Com.SUCCESS;
text=xmlhttp.responseText||"";break;case 400:case 403:case 404:status=$internals.Com.FAIL;break;default:if(timeout){status=$internals.Com.TIMEOUT}else{status=$internals.Com.FAIL}break}info.handler(status,text)};var timer=setTimeout(function(){if(!running){return}timeout=true;xmlhttp.abort();if(running){ready($internals.Com.TIMEOUT)}},(info.timeout||10000));var running=true;var timeout=false;if(info.method===$internals.Com.enumMethod.POST){xmlhttp.send(info.data)}else{xmlhttp.send(null)}};var activeRequests={};Alloy.jsonp=function(obj){var functionName="_jspcb"+(Alloy.Com.cbId++);if(obj.cb){functionName=obj.cb}if(activeRequests[functionName]){var elem=activeRequests[functionName];var pn=elem.parentNode;if(pn){pn.removeChild(elem)}}window[functionName]=function(jsonResponse){clearTimeout(timer);if(Alloy.Base.isDerivedOf(obj.handler,Alloy.Handler)){obj.handler.handle($internals.Com.SUCCESS,jsonResponse,obj)}else{obj.handler($internals.Com.SUCCESS,jsonResponse,obj)}try{delete window[functionName]}catch(e){window[functionName]=undefined}var pn=elem.parentNode;if(pn){pn.removeChild(elem)}delete activeRequests[functionName];if(typeof(obj.repeat)==="number"&&obj.repeat){setTimeout(function(){obj.repeat=0;Alloy.jsonp(obj)},obj.repeat)}else{if(obj.handler.dispose){obj.handler.dispose()}}};var sb=[];sb.push(obj.url);if(obj.url.contains("?")){sb.push("&")}else{sb.push("?")}sb.push(obj.callback_arg||"cb");sb.push("=");sb.push(functionName);if(obj.params){for(var parm in obj.params){if(obj.params[parm]==null){continue}sb.push("&");sb.push(encodeURIComponent(parm));sb.push("=");sb.push(encodeURIComponent(obj.params[parm]))}}var elem=document.createElement("script");elem.type="text/javascript";elem.async=true;elem.defer=true;elem.src=sb.join("");elem.onload=function(){clearTimeout(timer)};elem.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}clearTimeout(timer)};activeRequests[functionName]=elem;document.getElementsByTagName("head")[0].appendChild(elem);var timeout=function(){var pn=elem.parentNode;
if(pn){pn.removeChild(elem)}delete activeRequests[functionName];window[functionName]=function(){};if(Alloy.Base.isDerivedOf(obj.handler,Alloy.Handler)){obj.handler.handle($internals.Com.TIMEOUT,null,obj)}else{obj.handler($internals.Com.TIMEOUT,null,obj)}if(typeof(obj.repeat)==="number"&&obj.repeat){setTimeout(function(){obj.repeat=0;Alloy.jsonp(obj)},obj.repeat)}else{if(obj.handler.dispose){obj.handler.dispose()}}};var timer=setTimeout(timeout,obj.timeout||10000)};Alloy.Plugins=(function(){var knownPlugins={};return{register:function(name,obj){var plugin=knownPlugins[name];if(plugin){throw name+" plugin was created already"}knownPlugins[name]=obj;obj.init()},get:function(name,argsString){var plugin=knownPlugins[name];if(!plugin){return}plugin.onCall()}}})();if(Alloy.runningMode!==0){Alloy.$di(["/common/alloy/alloy.unitest.js"],function(){if(arguments[0][0].status){Alloy.UnitTest.run()}})}if(Alloy.runningMode===3){Alloy.$di(["/common/alloy/alloy.profiler.js"],function(){})}var objectPointers=[];for(var i in exports){var splt=i.split(".");var ndx=1;var obj=Alloy;while(ndx!==splt.length){var tmp=splt[ndx++];if(ndx===splt.length){obj[tmp]=exports[i];objectPointers[tmp]=exports[i]}else{obj=objectPointers[tmp]}}}return Alloy})();window.Alloy=Alloy}Alloy.runningMode=debugLevel;ISQ.Base=Alloy.Base;ISQ.Event=Alloy.Event;ISQ.Handler=Alloy.Handler;ISQ.Timer=Alloy.Timer;ISQ.Timer=Alloy.Timer;</script><style type="text/css">alloy-embedded-data {display:none}</style><style type="text/css">ALLOY-EMBEDDED-DATA {display:none}</style>
	<script type="text/javascript" mini="true">(function(){var d=document.head||document.getElementsByTagName("head")[0];var b={};var f={findObject:c,Modular:e};var a=c("nanoRep.BundleManager",true);function c(k,h,g){var l=0,i,j;k=k.split(".");g=g||window;i=k.length;while((l<i)&&(typeof g==="object"||typeof g==="function")){j=g[k[l]];if(!(typeof j==="object"||typeof j==="function")){break}g=j;++l}if(h){while(l<i){j={};g[k[l]]=j;g=j;++l}}return((l<i)?null:g)}function e(g){this.bundleInstance=g;this.defined={};this.exportMode=false}e.prototype.declare=function(j,h){var k,i,g;this.name=j;this.deps=[];for(k=0,i=h?h.length:0;k<i;++k){g=h[k];if(typeof g==="string"){g=this.defined[g]}this.deps.push(g)}};e.prototype.define=function(g){var h=g.apply(null,this.deps);if(h){this.defined[this.name]=h;if(this.exportMode){this.bundleInstance[this.name]=h}}};e.prototype.startExport=function(){this.exportMode=true};e.prototype.endExport=function(){this.exportMode=false};e.prototype.byName=function(g){return this.defined[g]};f.objectFinder=function(h,g){return function(){return c(h,false,g)}};f.addStyle=function(){var g=document.createElement("style"),h=Array.prototype.join.call(arguments,"\n"),i;g.setAttribute("type","text/css");if(g.styleSheet){g.styleSheet.cssText=h;if(document.body){d.appendChild(g)}else{if(document.addEventListener){i=function(){document.removeEventListener("DOMContentLoaded",i,false);d.appendChild(g)};document.addEventListener("DOMContentLoaded",i,false)}else{if(window.attachEvent){i=function(){window.detachEvent("onload",i);d.appendChild(g)};window.attachEvent("onload",i)}}}}else{g.appendChild(document.createTextNode(h));d.appendChild(g)}return g};a.updateIndex=function(){return this};a.define=function(g){var i=g.name,h,j;if(b.hasOwnProperty(i)){j=["Redefinition of '",i,"' bundle!"].join("");throw (new Error(j))}h=(g.hasOwnProperty("ns")?c(g.ns,true):{});b[i]=h;g.init.call(h,b,g.data,f);return this};a.findObject=c;window.ISQ=nanoRep}());nanoRep.BundleManager.define({name:"Localization",require:[],data:{},ns:"nanoRep.SDK.Localization",init:function(a,b,d){var c=new d.Modular();
c.declare("Tools",[this]);c.define(function(e){e.getUniformLanguageCode=function(f){if(!f){return null}var g=e.UniformLanguageCode[f];if(g){return g}return f};e.UniformLanguageCode={he:"iw","zh-CHS":"zh","zh-CHT":"zh","zh-CN":"zh"};e.isLanguageRTL=function(f){f=e.getUniformLanguageCode(f);switch(f){case"iw":case"ar":case"yi":case"ur":return true}return false};e.Languages={ar:"Arabic",bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek, Modern",en:"English",es:"Spanish",et:"Estonian",fi:"Finnish",fr:"French",hi:"Hindi",hu:"Hungarian",id:"Indonesian",it:"Italian",iw:"Hebrew",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian, Moldavian, Moldovan",ru:"Russian",sk:"Slovak",sl:"Slovene",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",yi:"Yiddish",zh:"Chinese"};e.LanguageSynonym={"zh-CHS":"Chinese","zh-CHT":"Chinese","zh-CN":"Chinese",he:"Hebrew"};e.getLanguageName=function(g){var f=e.Languages[g];if(!f){f=e.LanguageSynonym[g]}if(!f){return null}return f};return e});c.declare("Dictionary",[this]);c.define(function(k){var h="en";var e=h;var g="__COMMON";var i={};i[g]={};k.setLocale=function(l){if(l&&typeof l==="string"){e=l}};k.getCurrentLocale=function(){return e};function f(l,n,m){return l&&l[n]&&typeof l[n][m]!=="undefined"}function j(s,n,l){var t=n,m=null,r=null,o=n.split("."),p=o[o.length-1],q=o.length>1?o.slice(0,o.length-1):g;if(f(i[q],s,p)){m=i[q][s]}else{if(f(i[q],h,p)){m=i[q][h]}}r=m?m[p]:undefined;if(typeof r==="function"){t=r(l||{})}else{if(typeof r!=="undefined"){t=r}}return t}k.defineDictionary=function(p,r,l){if(arguments.length===2){l=r;r=g}if(!i[r]){i[r]={}}var q=p.split(","),m;for(var n=0,o;n<q.length;n++){o=q[n];if(!i[r][o]){i[r][o]={}}m=i[r][o];for(var s in l){if(l.hasOwnProperty(s)){m[s]=l[s]}}}};k.getText=function(m,n,l){if(arguments.length===1){return j(e,m,l)}else{return j(n||e,m,l)}};k.scoped=function(){var l={},n=e;for(var m in k){if(k.hasOwnProperty(m)){l[m]=k[m]}}l.setLocale=function(o){if(o&&typeof o==="string"){n=o
}};l.getCurrentLocale=function(){return n};l.getText=function(p,q,o){if(arguments.length===1){return k.getText(p,n)}else{return k.getText(p,q||n,o)}};return l};return k})}});nanoRep.BundleManager.define({name:"Alloy",require:["Localization","AlloyCore"],data:{},ns:"Alloy",init:function(a,b,d){var c=new d.Modular(this);c.startExport();c.declare("EventEmitter");c.define(function(){var e=function(h,g){return function(){return h.apply(g,arguments)}};var f=function(g,h){for(var j=0;j<g.length;j++){if(g[j]===h){return j}}return -1};return{mixIn:function(g){g.on=this.on;g.off=this.off;g.emit=this.emit;return g},on:function(h,j,g){if(typeof h==="string"){this._events=this._events||{};this._events[h]=this._events[h]||[];this._events[h].push(g?e(j,g):j)}else{for(var i in h){if(h.hasOwnProperty(i)){this.on(i,h[i],j)}}}},off:function(g,i){if(typeof g==="string"){this._events=this._events||{};if(g in this._events===false){return}this._events[g].splice(f(this._events[g],i),1)}else{for(var h in g){if(g.hasOwnProperty(h)){this.off(h,g[h],i)}}}},emit:function(h){var g;this._events=this._events||{};if(h in this._events===false){return}g=Array.prototype.slice.call(arguments,1);for(var j=0;this._events&&this._events[h]&&j<this._events[h].length;j++){this._events[h][j].apply(this,g)}}}});c.declare("SDKScope",[this,"EventEmitter"]);c.define(function(e,f){function h(){var i=this;if(this.$model){this.$model.getScope=function(){return(this===i.$model?i:null)}}}var g={f:function(l){var k=this.$model,j=k[l],m,i;if(typeof j==="function"){i=Array.prototype.slice.call(arguments,1);m=j.apply(k,i);this.update()}return m},ctor:function(){h.call(this)},dtor:function(){this.$model=null},afterBind:function(){if(this.$model&&this.$model.emit){this.$model.emit("scopeAttached")}h.call(this)},beforeUpdate:h,onModelChanged:h,TEMPLATE:"nr-sdk-scope-no-template"};return e.Scope.extend({name:"SDKScope",_prototype:f.mixIn(g)})});c.declare("SDKModel",[this,"EventEmitter","SDKScope",a.Localization]);c.define(function(e,f,i,g){var h={ScopeClass:i,ctor:function(k){for(var j in k){if(k.hasOwnProperty(j)){this[j]=k[j]
}}},getScope:function(){return null},updateScope:function(){var j=this.getScope();if(j&&(typeof j.update==="function")){j.update()}},bindScope:function(j){var k=this.getScope()||new this.ScopeClass(this);k.bind(j,k.TEMPLATE)},setScopedLocalization:function(j){if(!this._scopedLocalization){this._scopedLocalization=g.scoped()}this._scopedLocalization.setLocale(j)},getLocalizationObject:function(){return this._scopedLocalization||g},getLocalizedText:function(){return(this._scopedLocalization||g).getText.apply(this,arguments)}};return e.Base.extend({name:"SDKModel",_prototype:f.mixIn(h)})});this.injectTemplate(this.SDKScope.prototype.TEMPLATE,'<h1 class="nr-sdk-scope-no-template">No template!</h1>')}});nanoRep.BundleManager.define({name:"Loader",require:[],data:{},ns:"nanoRep.SDK",init:function(a,b,d){var c=new d.Modular(this);c.startExport();c.declare("Loader",[nanoRep.BundleManager]);c.define(function(h){var j=60000;var o=h.findObject("nanoRep.SDK.Loader",true);var m=false;var l=document.head||document.getElementsByTagName("head")[0];var g=document.createElement("a");var r={};var n=[];var u;function v(){}function e(w){g.href=w;return g.href}function k(x){var y,w;w=x.indexOf("?");if(w===-1){w=undefined}y=x.lastIndexOf(".",w)+1;return((y===0)?"":x.slice(y,w))}function q(x,w){this.url=x;this.charge=null;this.eState=q.StateEnum.PRISTINE;this.eType=((w===undefined)?q.deduceType(this.url):w)}q.TypeEnum={NONE:"",SCRIPT:"script",STYLESHEET:"stylesheet",TEMPLATE:"template",IMAGE:"image"};q.StateEnum={PRISTINE:"pristine",LOADING:"loading",LOADED:"loaded",FAILED:"failed",FREED:"freed"};(function(w){var x={js:w.SCRIPT,repo:w.SCRIPT,css:w.STYLESHEET,htm:w.TEMPLATE,html:w.TEMPLATE,xhtml:w.TEMPLATE,jpg:w.IMAGE,jpeg:w.IMAGE,png:w.IMAGE,gif:w.IMAGE};q.deduceType=function(z){var y=k(z).toLowerCase();return x[y]||w.NONE}}(q.TypeEnum));q.prototype.load=function(w){var y,x;if(this.eState!==q.StateEnum.PRISTINE){return}y=this;this.eState=q.StateEnum.LOADING;if((this.eType===q.TypeEnum.SCRIPT)||(this.eType===q.TypeEnum.STYLESHEET)){if(this.eType===q.TypeEnum.SCRIPT){x=document.createElement("script");
x.src=this.url;x.type="text/javascript";x.async=true;x.defer=true}else{x=document.createElement("link");x.href=this.url;x.type="text/css";x.rel="stylesheet"}if(document.addEventListener){x.onload=function(z){z.target.onload=null;y.eState=q.StateEnum.LOADED;w(y)};x.onerror=function(z){z.target.onerror=null;y.eState=q.StateEnum.FAILED;w(y)}}else{x.onreadystatechange=function(){if((this.readyState==="loaded")||(this.readyState==="complete")){this.onreadystatechange=null;y.eState=q.StateEnum.LOADED;w(y)}}}l.appendChild(x)}else{if(this.eType===q.TypeEnum.TEMPLATE){x=new XMLHttpRequest;x.open("GET",this.url);x.onreadystatechange=function(){if(this.readyState===4){y.eState=((this.status===200)?q.StateEnum.LOADED:q.StateEnum.FAILED);w(y)}};x.send(null)}else{x=new Image;x.onload=function(){x.onload=null;y.eState=q.StateEnum.LOADED;w(y)};x.onerror=function(){x.onerror=null;y.eState=q.StateEnum.FAILED;w(y)};x.src=this.url}}this.charge=x};q.prototype.free=function(){var w=this.charge;if(w){switch(this.eType){case q.TypeEnum.SCRIPT:case q.TypeEnum.STYLESHEET:l.removeChild(w);if(w.onreadystatechange){w.onreadystatechange=null}if(w.onload){w.onload=null}if(w.onerror){w.onerror=null}break;case q.TypeEnum.TEMPLATE:w.onreadystatechange=null;break;case q.TypeEnum.IMAGE:w.onload=null;w.onerror=null;break}this.charge=null}this.eState=q.StateEnum.FREED};function f(z,w){var x,y;z=e(u+z);if(w===undefined){w=q.deduceType(z)}x=[w,z].join("!");y=r[x];if(!y){y=new q(z,w);r[x]=y}return y}function i(){var w,x;for(w in r){if(!r.hasOwnProperty(w)){continue}x=r[w];if((x.eState===q.StateEnum.LOADING)||(x.eState===q.StateEnum.FAILED)){x.free();delete r[w]}}}function p(y,B){var z,C;var D=0,A=0;function w(){var H,G,F=B.length,E=new Array(F);for(G=0;G<F;++G){H=B[G];E[G]=((H.eType===q.TypeEnum.TEMPLATE)?H.charge.responseText:H.charge)}y.fOnLoad.apply(y,E);t()}function x(){i();y.fOnError();t()}for(z in r){if(!r.hasOwnProperty(z)||(r[z].eState!==q.StateEnum.PRISTINE)){continue}r[z].load(function(E){if(E.eState===q.StateEnum.FAILED){if(C){clearTimeout(C)}x()
}else{++A;if(A===D){if(C){clearTimeout(C)}w()}}});++D}if(D===0){w()}else{if(y.timeout!==undefined){C=setTimeout(x,y.timeout)}}}function t(){var w=n.shift();if(w){setTimeout(function(){s(w)},0)}else{m=false}}function s(w){var A=false,y=[],x={},z;m=true;u="";x.prefix=function(){if(A){return null}u=Array.prototype.join.call(arguments,"");return this};x.get=function(D,B){var C;if(A){return null}C=f(D,B);y.push(C);return this};x.js=function(B){return this.get(B,q.TypeEnum.SCRIPT)};x.css=function(B){return this.get(B,q.TypeEnum.STYLESHEET)};x.html=function(B){return this.get(B,q.TypeEnum.TEMPLATE)};x.image=function(B){return this.get(B,q.TypeEnum.IMAGE)};x.onLoad=function(B){if(A){return null}w.fOnLoad=B;return this};x.onError=function(B){if(A){return null}w.fOnError=B;return this};x.timeout=function(B){if(A){return null}w.timeout=B;return this};z=w.fInit(x);A=true;if((z===undefined)||z){p(w,y)}}o.job=function(y,x,w,z){if(typeof y==="function"){y={fInit:y}}else{if(!y){y={fInit:v}}}if(!y.fOnLoad){y.fOnLoad=x||v}if(!y.fOnError){y.fOnError=w||v}if(y.timeout===undefined){y.timeout=((z!==undefined)?z:j)}if(m){n.push(y)}else{s(y)}return this};o.load=function(){var w=arguments;this.job(function(B){var A,z,y,x;for(A=0,z=w.length;A<z;++A){y=w[A];if(typeof y==="function"){B.onLoad(y);x=w[A+1];if(typeof x==="function"){B.onError(x);x=w[A+2];if(typeof x==="number"){B.timeout(x)}}break}B.get(y)}});return this};return o})}});nanoRep.BundleManager.define({name:"EventEmitter",require:[],data:{},init:function(a,b,d){var c=new d.Modular();c.declare("EventEmitter",[window.Alloy?Alloy.Base:ISQ.Base]);c.define(function(f){var e=function(j,i){return function(){return j.apply(i,arguments)}};var h=function(j,k){for(var l=0;l<j.length;l++){if(j[l]===k){return l}}return -1};var g=f.extend({name:"EventEmitter",_prototype:{on:function(j,l,i){if(typeof j==="string"){this._events=this._events||{};this._events[j]=this._events[j]||[];if(i){l._eventEmitterContext=i}this._events[j].push(l)}else{for(var k in j){if(j.hasOwnProperty(k)){this.on(k,j[k],l)}}}},off:function(i,k){if(typeof i==="string"){this._events=this._events||{};
if(i in this._events===false){return}delete k._eventEmitterContext;this._events[i].splice(h(this._events[i],k),1)}else{for(var j in i){if(i.hasOwnProperty(j)){this.off(j,i[j],k)}}}},emit:function(j){this._events=this._events||{};if(j in this._events===false){return}for(var k=0;this._events&&this._events[j]&&k<this._events[j].length;k++){this._events[j][k].apply(this._events[j][k]._eventEmitterContext||this,Array.prototype.slice.call(arguments,1))}}}});return g});this.EventEmitter=c.byName("EventEmitter")}});nanoRep.BundleManager.define({name:"Common",require:["Alloy","Localization","Loader","EventEmitter"],data:{},init:function(container,data,utils){var modular=new utils.Modular();modular.declare("Helper");modular.define(function(){var Module={};Module.deepCopy=function(source,target){var key,value;for(key in source){if(!source.hasOwnProperty(key)){continue}value=source[key];target[key]=(typeof value==="object"?Module.deepCopy(value,{}):value)}return target};function openPopup(url,name,width,height,scrolling){var left=(screen.width/2)-(width/2);var top=(screen.height/2)-(height/2);var scrollbars=scrolling||"no";return window.open(url,name,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+scrollbars+", resizable=no, copyhistory=no, width="+width+", height="+height+", top="+top+", left="+left)}Module.openPopup=openPopup;Module.serializeToJson=function(obj,sb,internal){var i,key,first,str,ch;if(!internal&&!window.Prototype){try{return JSON.stringify(obj)}catch(e){}}if(!sb){sb=[]}if(obj instanceof Array){sb.push("[");for(i=0;i<obj.length;++i){if(i!==0){sb.push(",")}Module.serializeToJson(obj[i],sb,true)}sb.push("]")}else{if(obj===null){sb.push("null")}else{if(typeof obj==="object"){sb.push("{");first=true;for(key in obj){if(!first){sb.push(",")}first=false;sb.push('"',key,'":');Module.serializeToJson(obj[key],sb,true)}sb.push("}")}else{if(typeof obj==="string"){str="";for(i=0;i<obj.length;++i){ch=obj.charAt(i);switch(ch){case"\r":str+="\\r";break;case"\n":str+="\\n";break;case"\t":str+="\\t";
break;case"'":str+="\\'";break;case'"':str+='\\"';break;case"\\":str+="\\\\";break;default:str+=ch;break}}sb.push('"',str,'"')}else{sb.push(obj)}}}}if(!internal){return sb.join("")}};Module.jsonToString=function(json,stringBuilder,internalUse){if(!internalUse&&!window.Prototype){try{return JSON.stringify(json)}catch(e){}}if(!stringBuilder){stringBuilder=new Array()}if(json instanceof Array){stringBuilder.push("[");for(var i=0;i<json.length;++i){if(i!==0){stringBuilder.push(",")}Module.jsonToString(json[i],stringBuilder,true)}stringBuilder.push("]")}else{if(json===null){stringBuilder.push("null")}else{if(typeof(json)==="object"){stringBuilder.push("{");var first=true;for(var i in json){if(!first){stringBuilder.push(",")}first=false;stringBuilder.push('"');stringBuilder.push(i);stringBuilder.push('"');stringBuilder.push(":");Module.jsonToString(json[i],stringBuilder,true)}stringBuilder.push("}")}else{if(typeof(json)==="string"){stringBuilder.push('"');stringBuilder.push(json.escaper());stringBuilder.push('"')}else{stringBuilder.push(json)}}}}if(!internalUse){return stringBuilder.join("")}};return Module});modular.declare("DOM");modular.define(function(){var Module={};var head=document.head||document.getElementsByTagName("head")[0];Module.getHead=function(){return head};Module.removeNode=function(node){var parent=node.parentNode;if(parent){parent.removeChild(node)}};Module._=function(blockId){return document.getElementById(blockId)};Module.createElement=(function(){var hooks={parent:function(element,parentNode){if(typeof parentNode==="string"){parentNode=document.getElementById(parentNode)}if(parentNode&&parentNode.appendChild){parentNode.appendChild(element)}},className:(function(){var isIE10=navigator.appVersion.indexOf("MSIE 10")>-1,isIE11=!(window.ActiveXObject)&&"ActiveXObject" in window;if(document.documentElement.classList&&!isIE10&&!isIE11){return function(element,classNames){element.classList.add.apply(element.classList,classNames.split(" "))}}else{return function(element,classNames){element.className+=" "+classNames
}}}()),style:function(element,styleText){if(typeof styleText==="string"){element.style.cssText+=styleText}},value:function(element,value){if(typeof value!==undefined){element.value=value}},innerHTML:function(element,html){element.innerHTML=html},textContent:function(element,text){element.appendChild(document.createTextNode(text))},checked:function(element,isChecked){element.checked=!!isChecked},placeholder:function(element,value){if("placeholder" in element){element.setAttribute("placeholder",value)}else{Module.setPlaceHolder(element,value,"nr-sdk-input-placeholder")}}};return function(tagName,options){var ownerDocument=document;if(options&&options.document){ownerDocument=options.document;delete options.document}var element,hooksToRun=[];if(options&&options.name){try{element=ownerDocument.createElement("<"+tagName+' name="'+options.name+'">')}catch(e){element=ownerDocument.createElement(tagName)}}else{element=ownerDocument.createElement(tagName)}for(var option in options){if(options.hasOwnProperty(option)){if(hooks[option]){hooksToRun.push(option)}else{if(options[option]!==null){element.setAttribute(option,options[option])}}}}if(hooksToRun.length){for(var i=0,hookName;i<hooksToRun.length;i++){hookName=hooksToRun[i];hooks[hookName](element,options[hookName])}}return element}}());Module.createInvisibleIframe=function(handler){var ifr=Module.createElement("iframe",{parent:document.body,frameBorder:0,style:"visibile:hidden;position:absolute;top:0px;left:0px;width:1px;height:1px"});setTimeout(function(){if(handler.isDisposed()){document.body.removeChild(ifr);return}Module.waitUntilAvailable(ifr,handler)},0);return ifr};Module.waitUntilAvailable=function(ifr,handler){var idoc=null;var iwin=null;try{idoc=ifr.contentDocument||ifr.contentWindow.document||null;iwin=ifr.contentWindow||ifr.contentDocument.defaultView||null}catch(ex){}if(!idoc||!iwin||(!idoc.body&&!iwin.document.body)){setTimeout(function(){if(handler.isDisposed()){document.body.removeChild(ifr);return}Module.waitUntilAvailable(ifr,handler)},10);return}if(idoc.body){Module.iframeReady(idoc,handler)
}else{Module.iframeReady(iwin.document,handler)}};Module.iframeReady=function(ifrDoc,handler){ifrDoc.open();ifrDoc.writeln("<html><body></body></html>");ifrDoc.close();handler.handle(ifrDoc);handler.dispose()};Module.setPlaceHolder=function(input,text,cssClass,parentNode){var parentElement=parentNode||input.parentNode;if(!parentElement){return}var textLabel=Module.createElement("div",{parent:parentElement,className:cssClass,innerHTML:text});textLabel.onclick=function(){input.focus()};var fieldkeyup=function(){if(input.value===""){textLabel.style.display="block"}else{textLabel.style.display="none"}};var fieldonblur=function(){if(input.value===""){textLabel.style.display="block"}};if(input.addEventListener){input.addEventListener("input",fieldkeyup);input.addEventListener("keyup",fieldkeyup);input.addEventListener("blur",fieldonblur)}else{if(input.attachEvent){input.attachEvent("oninput",fieldkeyup);input.attachEvent("onkeyup",fieldkeyup);input.attachEvent("onblur",fieldonblur)}}input.autoCheck=fieldkeyup};Module.appendJavaScriptElement=function(url,async,defer){var attrs={type:"text/javascript",parent:head,src:url};if(async||async===undefined){attrs.async=""}if(defer||defer===undefined){attrs.defer=""}return Module.createElement("script",attrs)};Module.addClass=function(elem,className){if(elem.classList){elem.classList.add(className);return}if(elem.className){var tokens=elem.className.split(" ");for(var i in tokens){if(tokens[i]===className){return}}}elem.className+=" "+className};Module.removeClass=function(elem,className){if(elem.classList){elem.classList.remove(className);return}if(!elem.className){return}var classes=new Array();var tokens=elem.className.split(" ");for(var i in tokens){if(tokens[i]&&tokens[i]!==className){classes.push(tokens[i])}}elem.className=classes.join(" ")};return Module});modular.declare("CSS",["DOM"]);modular.define(function(DOM){var styleTagsMap={};function loadMultipleFiles(queue,callback){var loadedCount=0;var loadHandler=function(){loadedCount++;if(loadedCount===queue.length){callback()
}};for(var i=0;i<queue.length;i++){Module.load(queue[i].url,callback?loadHandler:null,queue[i].id)}}function loadStyleSheet(url,callback){var link=document.createElement("link"),result={loading:true,loaded:false,style:null};var loadHandler=function(){result.loading=false;result.loaded=true;if(link.onload){link.onload=null;link.onreadystatechange=null;if(link.removeEventListener){link.removeEventListener("load",loadHandler,false)}}else{return}setTimeout(function(){callback();if(result.callbacks&&result.callbacks.length){for(var i=0;i<result.callbacks.length;i++){result.callbacks[i]()}}},1)};link.onload=loadHandler;link.onreadystatechange=function(){if(link.readyState==="loaded"||link.readyState==="complete"){loadHandler()}};if(link.addEventListener){link.addEventListener("load",loadHandler,false)}link.setAttribute("rel","stylesheet");link.setAttribute("href",url);DOM.getHead().appendChild(link);result.style=link;return result}var Module={load:function(url,callback,id){if(url instanceof Array){loadMultipleFiles(url,callback);return}if(id&&styleTagsMap[id]){if(callback){if(styleTagsMap[id].loaded){callback()}else{if(styleTagsMap[id].loading){styleTagsMap[id].callbacks=styleTagsMap[id].callbacks||[];styleTagsMap[id].callbacks.push(callback)}}}return}var styleData=loadStyleSheet(url,callback);if(id){styleTagsMap[id]=styleData}},addNewStyle:function(styleText,id){var style=document.createElement("style");if(id){this.removeStyle(id);styleTagsMap[id]={style:style,loaded:true}}DOM.getHead().appendChild(style);if(style.styleSheet){style.styleSheet.cssText=styleText}else{style.appendChild(document.createTextNode(styleText))}},removeStyle:function(id){var style=styleTagsMap[id]&&styleTagsMap[id].style;if(style){if(style.parentNode){style.parentNode.removeChild(style)}delete styleTagsMap[id]}},toggle:function(id,isEnabled){var style=styleTagsMap[id]&&styleTagsMap[id].style;if(style){if(isEnabled){if(!style.parentNode){DOM.getHead().appendChild(style)}}else{if(style.parentNode){style.parentNode.removeChild(style)}}}},bringToFront:function(id){var style=styleTagsMap[id]&&styleTagsMap[id].style;
if(style){DOM.getHead().appendChild(style)}},getComputedStyle:function(element,property){if(window.getComputedStyle){return window.getComputedStyle(element,null)[property]}else{if(element.currentStyle){return element.currentStyle[property]}}},getBlockOffset:function(node){if(node.getBoundingClientRect){var rect=node.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,clientLeft=document.documentElement.clientLeft||document.body.clientLeft||0,clientTop=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(rect.top+scrollTop-clientTop),left:Math.round(rect.left+scrollLeft-clientLeft)}}else{var posLeft=0,posTop=0;while(node.offsetParent){posLeft+=node.offsetLeft;posTop+=node.offsetTop;node=node.offsetParent}return{top:posTop,left:posLeft}}}};return Module});modular.declare("Base64");modular.define(function(){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function utf8_encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else{if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128)}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128)}}}return utftext}function utf8_decode(utftext){var string="";var i=0;var c=0,c2=0,c3;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else{if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}}return string}var publicAPI={encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;while(i<input.length){chr1=input.charCodeAt(i++);
chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}return output},decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}return output},encodeString:function(txt){if(!txt){return""}var hasUtfChars=false;for(var i=0;i<txt.length&&!hasUtfChars;++i){if(txt.charCodeAt(i)>127){hasUtfChars=true}}if(hasUtfChars){txt=utf8_encode(txt)}return publicAPI.encode(txt)},decodeString:function(encodedString){var result=publicAPI.decode(encodedString);var hasUtfChars=false;for(var i=0;i<result.length&&!hasUtfChars;++i){if(result.charCodeAt(i)>127){hasUtfChars=true}}if(hasUtfChars){result=utf8_decode(result)}return result}};return publicAPI});modular.declare("Queue");modular.define(function(){function Class(){}Class.prototype.mArray=null;Class.prototype.mLength=0;Class.prototype.mDndx=0;Class.prototype.mEndx=0;Class.prototype.mCount=0;Class.prototype.count=function(){return this.mCount};Class.prototype.init=function(){var i;this.mLength=5;this.mArray=new Array(this.mLength);for(i=0;i<this.mLength;++i){this.mArray[i]=null}};Class.prototype.enqueue=function(object){if(object===null){return}if(this.mArray===null){this.init()}if(this.mArray[this.mEndx]!==null){this.enlarge()}this.mArray[this.mEndx++]=object;if(this.mEndx===this.mLength){this.mEndx=0}++this.mCount};Class.prototype.priorityEnqueue=function(object){if(object===null){return
}if(this.mArray===null){this.init()}var array=new Array();array.push(object);var currentCount=this.mCount+1;while(this.mCount>0){array.push(this.dequeue())}this.mDndx=0;this.mEndx=array.length;if(this.mLength<currentCount){this.mLength*=2}this.mCount=currentCount;this.mArray=array};Class.prototype.enlarge=function(){var array=new Array();var currentCount=this.mCount;while(this.mCount>0){array.push(this.dequeue())}this.mDndx=0;this.mEndx=array.length;this.mLength*=2;this.mCount=currentCount;this.mArray=array};Class.prototype.dequeue=function(){if(this.mCount===0){return null}if(this.mDndx===this.mLength){this.mDndx=0}var object=this.mArray[this.mDndx];this.mArray[this.mDndx++]=null;--this.mCount;return object};Class.prototype.reset=function(){this.mDndx=0;this.mEndx=0;this.mCount=0;if(this.mArray!==null){for(var i=0;i<this.mArray.length;++i){if(this.mArray[i]){if(typeof(this.mArray[i].dispose)==="function"){this.mArray[i].dispose()}delete this.mArray[i]}}}};return Class});modular.declare("Cookie",["Base64"]);modular.define(function(Base64){var Module={};Module.read=function(key){if(!key){return null}var str=document.cookie;var keyNdx=0;var cookieCharAt;var keyCharAt;var ndx=0;var enumStates={KEY:1,VALUE:2};var state=enumStates.KEY;while(ndx<str.length){cookieCharAt=str.charAt(ndx++);if(cookieCharAt===" "){continue}if(state===enumStates.KEY){if(cookieCharAt==="="){state=enumStates.VALUE;keyNdx=0;continue}keyCharAt=key.charAt(keyNdx);if(cookieCharAt===keyCharAt||cookieCharAt.toLowerCase()===keyCharAt.toLowerCase()){if(++keyNdx===key.length){if(str.charAt(ndx)==="="){var endPos=str.indexOf(";",++ndx);if(endPos===-1){endPos=str.length}return str.substring(ndx,endPos)}else{keyNdx=0}}}else{keyNdx=0}}else{if(cookieCharAt===";"){state=enumStates.KEY}}}return null};Module.readCaseSensitive=function(key){if(!key){return null}var str=document.cookie;var ndx=str.indexOf(key);while(ndx!==-1){ndx+=key.length;if(str.charAt(ndx)==="="){var endPos=str.indexOf(";",++ndx);if(endPos===-1){endPos=str.length}return str.substring(ndx,endPos)
}else{ndx=str.indexOf(key)}}return null};Module.write=function(name,value,path,domain,secure,expiresInSec,noEscape){name=name||null;value=!isNaN(value)?value:value||null;path=path||"/";domain=domain||null;secure=secure===true;expiresInSec=expiresInSec||null;if(name===null||value===null){return}var expirationDate=new Date();if(expiresInSec!==null){expirationDate.setSeconds(expirationDate.getSeconds()+expiresInSec);expirationDate=expirationDate.toGMTString()}var cookieString=[];if(name.indexOf("%20")!==-1||name.toLowerCase().indexOf("%3a")!==-1){cookieString.push(name)}else{cookieString.push(escape(name))}cookieString.push("=");if(value.toString().indexOf("%20")!==-1||value.toString().toLowerCase().indexOf("%3a")!==-1||noEscape){cookieString.push(value)}else{cookieString.push(escape(value))}cookieString.push("; path=");cookieString.push(path);if(domain!==null){cookieString.push("; domain=");cookieString.push(domain)}if(secure){cookieString.push("; secure=");cookieString.push(secure)}if(expiresInSec!==null){cookieString.push("; expires=");cookieString.push(expirationDate)}document.cookie=cookieString.join("")};Module._delete=function(name,path,domain,secure){name=name||null;path=path||null;domain=domain||null;secure=secure||null;if(name===null){return}var value=Module.read(name);if(value===null){return}var expirationDate=new Date();expirationDate.setMonth(expirationDate.getMonth()-1);expirationDate=expirationDate.toGMTString();var cookieString=[];cookieString.push(escape(name));cookieString.push("=1");cookieString.push("; expires=");cookieString.push(expirationDate);path=path||"/";cookieString.push("; path=");cookieString.push(path);domain=domain||ISQ.Http.domain(false);cookieString.push("; domain=");cookieString.push(domain);if(secure!==null){cookieString.push("; secure=");cookieString.push(secure)}document.cookie=cookieString.join("")};Module.encode64=function(txt){txt+="";if(txt.length===0){return txt}var en=Base64.encodeString(txt);return en.replace(/\=/g,"_").replace(/\+/g,"|")};Module.decode64=function(txt){txt+="";
if(txt.length===0){return txt}var de=txt.replace(/\_/g,"=").replace(/\|/g,"+");return Base64.decodeString(de)};return Module});modular.declare("Session",[Alloy,"Helper","Queue","Cookie"]);modular.define(function(Alloy,Helper,Queue,Cookie){var url=window.location.href;var protocolIndex=url.indexOf("//")+2;var domain=url.substring(protocolIndex);var colonIndex=domain.indexOf(":"),slashIndex;if(colonIndex!==-1){domain=domain.substring(0,colonIndex)}else{slashIndex=domain.indexOf("/");if(slashIndex!==-1){domain=domain.substring(0,slashIndex)}}function Class(conf){this.mState=Class.enumState.DISCONNECTED;this.mAccount=conf.account;this.mHost=conf.host||"";this.mUrlPrefix=(this.mHost?"//"+this.mHost:"");this.mUrlPrefix+="/~"+conf.account.toLowerCase()+conf.urlPrefix;this.mLoginParams=conf.loginParams||null;this.mDefaultTimeout=conf.defaultTimeout||10000;this.fStateChanged=conf.fStateChanged;if(!this.mLoginParams.url){var index=window.location.href.indexOf("#");if(index===-1){this.mLoginParams.url=escape(window.location.href)}else{this.mLoginParams.url=escape(window.location.href.substring(0,index))}}}Class.SESSION_KEY_ID="sid";Class.enumState={DISCONNECTED:0,CONNECTING:1,CONNECTED:2,FAILED:3};Class.prototype.setHost=function(newHost){if(newHost===this.mHost){return}this.mUrlPrefix=this.mUrlPrefix.replace(this.mHost+"/~",newHost+"/~");this.mHost=newHost};Class.prototype.retry=function(obj){this.changeState(Class.enumState.DISCONNECTED);this.request(obj)};Class.prototype.request=function(obj){var urlPrefix=typeof obj.urlPrefix==="string"?(this.mHost?"//"+this.mHost:"")+obj.urlPrefix:this.mUrlPrefix;if(!obj.url.startsWith(urlPrefix)){obj.url=urlPrefix+obj.url}obj.timeout=obj.timeout||this.mDefaultTimeout;if(this.mState!==Class.enumState.CONNECTED){if(!this.mQueue){this.mQueue=new Queue()}this.mQueue.enqueue(obj);if(this.mState!==Class.enumState.CONNECTING){this.hello()}}else{this.request_internal(obj)}};Class.prototype.keepAlive=function(oneTime){var mthis=this;this.request({url:"keepAlive.js",params:null,handler:function(status){clearTimeout(mthis.mKeepAliveTimer);
if(mthis.mState!==Class.enumState.CONNECTED){return}if(oneTime){return}if(status===Alloy.Com.SUCCESS){mthis.mKeepAliveTimer=setTimeout(function(){mthis.keepAlive()},mthis.mKeepAliveInterval)}else{mthis.mKeepAliveTimer=setTimeout(function(){mthis.keepAlive()},mthis.mKeepAliveInterval*2)}}})};Class.prototype.stopKeepAlive=function(){clearTimeout(this.mKeepAliveTimer)};Class.prototype.persistentSession=function(json){json.widgetSessionId=this.id();json.now=new Date().getTime();json.logoutTimeout=this.mLogoutInterval-(2*this.mKeepAliveInterval);json.account=this.mAccount;var value=Helper.serializeToJson(json);Cookie.write(Class.SESSION_ID_KEY,value,"/widget",domain)};Class.prototype.deleteSession=function(){Cookie._delete(Class.SESSION_ID_KEY,"/widget",domain)};Class.prototype.loadSessionFromId=function(sessionId){this.mSessionId=sessionId;this.keepAlive(true)};Class.prototype.loadSession=function(){var obj={result:false};if(this.mState!==Class.enumState.DISCONNECTED){return obj}var data=Cookie.read(Class.SESSION_ID_KEY);if(data){data=unescape(data)}if(!data){return obj}if(data.length<3){return obj}var json=null;try{json=eval("("+data+")")}catch(e){}if(!json){return obj}if(json.account!==this.mAccount){return obj}this.deleteSession();if(!json.now){return obj}var now=new Date().getTime();this.mLogoutInterval=parseInt(json.logoutTimeout);if(now-json.now>this.mLogoutInterval){return obj}this.loadSessionFromId(json.widgetSessionId);json.result=true;return json};Class.prototype.die=function(){if(this.mState!==Class.enumState.CONNECTED){return}this.changeState(Class.enumState.DISCONNECTED);this.request_internal({url:this.mUrlPrefix+"die.js",params:null,handler:function(){}})};Class.prototype.setContext=function(contexts,ctxCallback,forceRequest){var mthis=this;var key;for(key in contexts){var keyLC=key.toLowerCase();contexts[keyLC]=contexts[key].Trim();if(keyLC!==key){delete contexts[key]}}this.mContexts=contexts;var str=[];for(key in contexts){if(str.length!==0){str.push(",")}str.push(key);str.push(":");str.push(contexts[key].replace(/,/g," "))
}this.mLoginParams.ctx=str.join("");if(forceRequest||this.mState===Class.enumState.CONNECTED||this.mState===Class.enumState.CONNECTING){this.request({url:"set.js",params:{ctx:this.mLoginParams.ctx},handler:function(status,jsonObject,jsonRequest){if(status!==Alloy.Com.SUCCESS){mthis.retry(jsonRequest);return}if(ctxCallback){ctxCallback()}}})}};Class.prototype.setValues=function(values){var str=[];for(var key in values){if(str.length!==0){str.push(",")}str.push(key);str.push(":");str.push(values[key])}this.mLoginParams.values=Cookie.encode64(str.join(""));if(this.mState===Class.enumState.CONNECTED||this.mState===Class.enumState.CONNECTING){this.request({url:"set.js",params:{values:this.mLoginParams.values},handler:function(){}})}};Class.prototype.getUploadParams=function(data,handler){this.request({url:"getUploadParams.js",params:{data:data},handler:function(status,jsonObject){handler.handle(jsonObject)}})};Class.prototype.deleteFile=function(data){this.request({url:"deleteTempFile.js",params:{data:data},handler:function(status){}})};Class.prototype.state=function(){return this.mState};Class.prototype.id=function(){return this.mSessionId};Class.prototype.contexts=function(){return this.mContexts};Class.prototype.hasContext=function(){if(this.mContexts){for(var i in this.mContexts){return true}}return false};Class.prototype.hello=function(){if(this.mState!==Class.enumState.DISCONNECTED){return}this.mState=Class.enumState.CONNECTING;var mthis=this;this.request_internal({url:this.mUrlPrefix+"hello.js",params:this.mLoginParams,handler:function(status,json){clearTimeout(mthis.mLoginTimer);if(status===Alloy.Com.SUCCESS){mthis.mSessionId=json.sessionId;mthis.mLogoutInterval=json.timeout*1000;clearTimeout(mthis.mDisconnectedTimer);mthis.mDisconnectedTimer=setTimeout(function(){mthis.changeState(Class.enumState.DISCONNECTED)},mthis.mLogoutInterval);if(mthis.mQueue){while(mthis.mQueue.count()!==0){mthis.request_internal(mthis.mQueue.dequeue())}}mthis.changeState(Class.enumState.CONNECTED)}else{if(window.console&&window.console.log){window.console.log("Could not connect to server")
}mthis.mLoginTimer=setTimeout(function(){mthis.changeState(Class.enumState.DISCONNECTED)},mthis.mLoginTimerInterval);if(mthis.mLoginTimerInterval<30000){mthis.mLoginTimerInterval+=1000}}}})};Class.prototype.request_internal=function(obj){if(!obj.params){obj.params={}}obj.params.sid=this.mSessionId;Alloy.jsonp(obj)};Class.prototype.changeState=function(newState){var prevState=this.mState;this.mState=newState;if(this.fStateChanged){this.fStateChanged(prevState,newState)}};Class.prototype.mContexts=null;Class.prototype.mUrlPrefix="";Class.prototype.mHost=null;Class.prototype.mState=null;Class.prototype.mDefaultTimeout=null;Class.prototype.mLoginParams=null;Class.prototype.mQueue=null;Class.prototype.mSessionId=0;Class.prototype.mDisconnectedTimer=null;Class.prototype.mLoginTimer=null;Class.prototype.mLoginTimerInterval=2000;Class.prototype.fStateChanged=null;Class.prototype.mKeepAliveInterval=3000;Class.prototype.mKeepAliveTimer=null;Class.prototype.mLogoutInterval=null;Class.prototype.mAccount=null;return Class});modular.declare("Misc",["DOM"]);modular.define(function(DOM){var Module={};Module.ProgressAnimation=function(options){this.container=options.container||document.documentElement;this.animationClass=options.animationClass||"progress-animation-active";this.show=function(){DOM.addClass(this.container,this.animationClass)};this.hide=function(){DOM.removeClass(this.container,this.animationClass)}};Module.checkString=function(string,type){var result=true;var pattern;switch(type){case"email":if(string.indexOf("..")>-1){return false}if(string.indexOf(".@")>-1||string.indexOf("@.")>-1){return false}var emailPat=/^[\w-_\&\+.]+\@([\w-_]+\.){1,}[\w-_]+$/;var wrongCharRegexp=new RegExp("[~!#$%^&*()=''\"\\/><?[]{}|]","g");return(string.search(wrongCharRegexp)===-1)&&(string.match(emailPat))&&(string!=="");break;case"number":return/^[-]?[0-9]+\.?[0-9]?$/.test(string);break;case"phone":return/^\+?[0-9\s(-)-\[\].\ ]*[#x]?[0-9\s]*?$/.test(string);break;case"username":pattern=new RegExp(".+@.+");return(pattern.test(string));break;
case"url":pattern=new RegExp("^https?://([a-zA-Z0-9]+.){1,}[a-zA-Z0-9]+");return(pattern.test(string));break}return result};Module.unHTML=function(txt){if(!txt){return""}txt=txt.replace(/\</g,"&lt;");txt=txt.replace(/\>/g,"&gt;");txt=txt.replace(/&lt;wbr\/&gt;/g,"<wbr/>");return txt};Module.blockCreditCardNumbers=function(string,replacement){var regex=/(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})/g;var stripped=string.replace(/ /g,"").replace(/-/g,"").replace(/\n/g,"").replace(/\r/g,"").replace(/\./g,"");var strippedReplaced=stripped;var matches=stripped.match(regex);if(!matches||matches.length===0){return string}for(var i=0;i<matches.length;++i){var match=matches[i];var stars=new Array();for(var j=0;j<match.length;++j){stars.push(replacement)}strippedReplaced=strippedReplaced.replace(match,stars.join(""))}var strippedIndex=0;for(var i=0;i<string.length;++i){if(string.charAt(i)===" "||string.charAt(i)==="-"){continue}if(stripped.charAt(strippedIndex)!=strippedReplaced.charAt(strippedIndex)){string=string.setCharAt(i,replacement)}strippedIndex++}return string};return Module});modular.declare("LoadCnf",[container.Loader.Loader]);modular.define(function(Loader){return function(options,callback){var cnfURL="//"+options.host+"/~"+options.account+"/api/widget/v1/cnf?account="+options.account+"&referer="+encodeURIComponent(options.referer);var loadedConfig=(window.ISQ.Cnf_Embed||window.ISQ.Cnf_Float);if(loadedConfig){if(typeof callback==="function"){callback(loadedConfig)}return}Loader.job(function(req){req.js(cnfURL);req.onLoad(function(){loadedConfig=(window.ISQ.Cnf_Embed||window.ISQ.Cnf_Float);delete loadedConfig.iChatInterface;delete loadedConfig.languageDictionary;delete loadedConfig.skinCustomRTLCSSfile;delete loadedConfig.skinCSS;if(typeof callback==="function"){callback(loadedConfig)}});req.onError(function(){throw new Error('failed to load cnf "'+cnfURL+'"')})})}});this.EventEmitter=container.EventEmitter.EventEmitter;
modular.declare("AlloySDKComponent",[Alloy,this.EventEmitter,container.Localization]);modular.define(function(Alloy,EventEmitter,Localization){function patchModel(){var self=this,scopedLocalization=null;this.setScopedLocalization=function(locale){scopedLocalization=Localization.scoped();scopedLocalization.setLocale(locale)};this.getLocalizationObject=function(){return scopedLocalization||Localization};this.getLocalizationText=this.getLocalizedText=function(){return(scopedLocalization||Localization).getText.apply(self,arguments)};for(var prop in this){if(typeof this[prop]==="function"&&typeof AlloySDKComponent.prototype[prop]==="undefined"){this.$model[prop]=this[prop]}}}var AlloySDKComponent=Alloy.Scope.extend({name:"AlloySDKComponent",abstractClass:true,_prototype:{ctor:function(){patchModel.call(this)},attach:function(element){this.bind(element,this.TEMPLATE)},on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit}});return AlloySDKComponent});container.Legacy=container.Legacy||{};container.Legacy.Cookie=modular.byName("Cookie");container.Legacy.Session=modular.byName("Session");container.Legacy.Misc=modular.byName("Misc");this.Modular=utils.Modular;this.LoadCnf=modular.byName("LoadCnf");this.Helper=modular.byName("Helper");this.DOM=modular.byName("DOM");this.CSS=modular.byName("CSS");this.AlloySDKComponent=modular.byName("AlloySDKComponent")}});nanoRep.BundleManager.define({name:"Feedback",require:["Alloy","Common","Localization"],data:{},init:function(a,b,g){var d=new g.Modular(this),e=a.Alloy.SDKModel,f=a.Alloy.SDKScope,c=a.Localization;c.defineDictionary("ar","Feedback",{like:"",likeActive:"  ",dislike:"",dislikeActive:"  ",ok:"",cancel:"",dislikeOptionsTitle:"    ",likeTexts:function(h){return({0:"",2:"     ",3:"  ",4:"   ",5:"     ",6:"    "}[h])}});c.defineDictionary("da","Feedback",{like:"Like",likeActive:"Du kan lide denne",dislike:"Dislike",dislikeActive:"Du kan ikke lide denne",ok:"OK",cancel:"Annuller",dislikeOptionsTitle:"Hvad er der galt med dette svar?",likeTexts:function(h){return({0:"Like",2:"Svaret er forkert eller uprcist",3:"Mangler vigtig information",4:"Svaret er irrelevant",5:"Jeg kunne ikke finde, hvad jeg ledte efter",6:"Manglende eller forkerte oplysninger"}[h])
}});c.defineDictionary("de","Feedback",{like:"Gefllt mir",likeActive:"Sie mgen dieses",dislike:"Dislike",dislikeActive:"Sie mgen diese",ok:"OK",cancel:"Abbrechen",dislikeOptionsTitle:"Was ist falsch mit dieser Antwort?",likeTexts:function(h){return({0:"Gefllt mir",2:"Antwort ist nicht richtig oder ungenau",3:"Es fehlen wichtige Informationen",4:"Die Antwort ist irrelevant",5:"Ich fand nicht, was ich gesucht habe",6:"Fehlende oder falsche Informationen"}[h])},surveyThanks:"Vielen Dank",surveyYes:"Ja",surveyNo:"Nein"});c.defineDictionary("en","Feedback",{like:"Good answer!",likeActive:"You like this",dislike:"Needs improvement",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:function(h){return({0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}[h])},surveyTitle:"Was this article helpful?",surveyThanks:"Thanks!",surveyYes:"Yes",surveyNo:"No",surveySubmit:"Submit",surveyDisclaimer:"",surveyPlaceholder:"",surveyDialogTitle:"How can we improve this article?"});c.defineDictionary("es","Feedback",{like:"Me gusta",likeActive:"Si le gusta este",dislike:"No me gusta",dislikeActive:"No le gusta este",ok:"Aceptar",cancel:"Cancelar",dislikeOptionsTitle:"Cul es el problema con esta respuesta?",likeTexts:function(h){return({0:"Me gusta",2:"La respuesta es incorrecta o inexacta",3:"Falta informacin importante",4:"La respuesta es irrelevante",5:"No encontr lo que buscaba",6:"Informacin faltante o incorrecta"}[h])},surveyThanks:"Gracias",surveyYes:"Si",surveyNo:"No"});c.defineDictionary("fi","Feedback",{like:"Tykk",likeActive:"Pidt tst",dislike:"En tykk",dislikeActive:"Et pid tm",ok:"Ok",cancel:"Peruuta",dislikeOptionsTitle:"Miksi tm vastaus ei ole riittv?",likeTexts:function(h){return({0:"Tykk",2:"Vastaus on virheellisi tai eptarkkoja",3:"Puuttuu trkeit tietoja",4:"Vastaus on epolennainen",5:"Etk lytnyt mit olin etsimss",6:"Puuttuva tai vr tieto"}[h])
},surveyThanks:"Kiitos",surveyYes:"Kyll",surveyNo:"Ei"});c.defineDictionary("fr","Feedback",{like:"J'aime",likeActive:"Vous aimez ce",dislike:"Antipathie",dislikeActive:"Yous n'aime pas ce",ok:"OK",cancel:"annuler",dislikeOptionsTitle:"Pourquoi cette rponse est-elle errone ?",likeTexts:function(h){return({0:"J'aime",2:"La rponse est inexacte ou imprcise",3:"Des informations importantes sont manquantes",4:"La rponse est hors sujet",5:"Je n'ai pas trouv ce que je cherchais",6:"Information manquante ou incorrecte"}[h])},surveyThanks:"Merci",surveyYes:"Oui",surveyNo:"Non"});c.defineDictionary("hu","Feedback",{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"Rendben",cancel:"Mgse",dislikeOptionsTitle:"Mi a baj a vlasszal?",likeTexts:function(h){return({0:"Like",2:"A vlasz helytelen vagy pontatlan",3:"Fontos informci hinyzik belle",4:"A vlasz nem relevns",5:"n nem talltam, amit kerestem",6:"Hinyz vagy helytelen informci"}[h])}});c.defineDictionary("it","Feedback",{like:"Mi piace",likeActive:"Ti piace questo",dislike:"Antipatia",dislikeActive:"Non ti piace questo",ok:"OK",cancel:"Annulla",dislikeOptionsTitle:"Cosa c' di sbagliato in questa risposta?",likeTexts:function(h){return({0:"Mi piace",2:"La risposta  errata o inaccurata",3:"Mancano informazioni importanti",4:"La risposta  irrilevante",5:"Non ho trovato quello che cercavo",6:"Informazioni mancanti o errate"}[h])},surveyThanks:"Grazie",surveyYes:"S",surveyNo:"No"});c.defineDictionary("iw","Feedback",{like:"",likeActive:"  ",dislike:" ",dislikeActive:"   ",ok:"",cancel:"",dislikeOptionsTitle:"    ?",likeTexts:function(h){return({0:"",2:"   /  ",3:"  ",4:"   ",5:"    ",6:"    "}[h])},surveyTitle:"  ?",surveyThanks:"!",surveyYes:"",surveyNo:"",surveySubmit:"",surveyDisclaimer:"",surveyPlaceholder:"",surveyDialogTitle:"    ?"});
c.defineDictionary("ja","Feedback",{like:"Like",likeActive:"",dislike:"",dislikeActive:"",ok:"OK",cancel:"",dislikeOptionsTitle:"?",likeTexts:function(h){return({0:"Like",2:"",3:"",4:"",5:"",6:""}[h])}});c.defineDictionary("ko","Feedback",{like:"Like",likeActive:" ",dislike:"",dislikeActive:" ",ok:"",cancel:"",dislikeOptionsTitle:"   ?",likeTexts:function(h){return({0:"Like",2:"   .",3:"  .",4:"  .",5:"      ",6:"   "}[h])}});c.defineDictionary("nl","Feedback",{like:"Vind ik leuk",likeActive:"U houdt van dit",dislike:"Afkeer",dislikeActive:"Je vind dit niet leuk",ok:"OK",cancel:"Annuleren",dislikeOptionsTitle:"Wat klopt er niet aan dit antwoord?",likeTexts:function(h){return({0:"Vind ik leuk",2:"Antwoord is onjuist of onnauwkeurig",3:"Belangrijke informatie ontbreekt",4:"Het antwoord doet niet ter zake",5:"Heeft u niet gevonden wat ik zocht",6:"Ontbrekende of onjuiste informatie"}[h])},surveyThanks:"Bedankt",surveyYes:"Ja",surveyNo:"Nee"});c.defineDictionary("no,nb,nn","Feedback",{like:"Like",likeActive:"Du liker dette",dislike:"Dislike",dislikeActive:"Du liker ikke dette",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Hva er galt med dette svaret?",likeTexts:function(h){return({0:"Like",2:"Svaret er feil eller unyaktig",3:"Mangler viktig informasjon",4:"Svaret er ikke relevant",5:"Fant ikke det jeg var ute etter",6:"Mangelfull eller feilaktig informasjon"}[h])},surveyThanks:"Takk",surveyYes:"Ja",surveyNo:"Nei"});c.defineDictionary("pl","Feedback",{like:"Like",likeActive:"Chcesz tego",dislike:"Nie lubi",dislikeActive:"Nie lubi",ok:"OK",cancel:"Anuluj",dislikeOptionsTitle:"Jaki jest problem z odpowiedzi?",likeTexts:function(h){return({0:"Like",2:"Odpowied jest niepoprawna bd nieprecyzyjna",3:"Brakuje wanych informacji",4:"Odpowied jest niezwizana z tematem",5:"Nie mog znale to, czego szukasz",6:"Brak lub nieprawidowe informacje"}[h])
},surveyThanks:"Dziki",surveyYes:"Tak",surveyNo:"Nie"});c.defineDictionary("pt","Feedback",{like:"Gosto",likeActive:"Voc gosta disso",dislike:"Antipatia",dislikeActive:"Voc no gosta deste",ok:"OK",cancel:"Cancelar",dislikeOptionsTitle:"O que h de errado com esta resposta?",likeTexts:function(h){return({0:"Gosto",2:"A resposta  incorreta ou inexata",3:"Faltam informaes importantes",4:"A resposta  irrelevante",5:"No encontrou o que estava procurando",6:"Informaes ausentes ou incorretas"}[h])}});c.defineDictionary("ru","Feedback",{like:" !",likeActive:"  ",dislike:" ",dislikeActive:"   ",ok:"OK",cancel:"",dislikeOptionsTitle:"     ?",likeTexts:function(h){return({0:"Like",2:"   ",3:"    ",4:"    ",5:"    ,   ",6:"   "}[h])}});c.defineDictionary("sv","Feedback",{like:"Liksom",likeActive:"Du gillar det hr inlgget",dislike:"Motvilja",dislikeActive:"Du gillar inte det hr",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Vad r det fr fel p detta svar?",likeTexts:function(h){return({0:"Liksom",2:"Svaret r felaktigt eller oriktigt",3:"Saknar viktig information",4:"Svaret r irrelevant",5:"Jag hittade inte det jag letade efter",6:"Saknas eller felaktig information"}[h])},surveyThanks:"Tack",surveyYes:"Ja",surveyNo:"Nej"});c.defineDictionary("tr","Feedback",{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:function(h){return({0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}[h])}});c.defineDictionary("zh","Feedback",{like:"Like",likeActive:"",dislike:"",dislikeActive:"",ok:"",cancel:"",dislikeOptionsTitle:"",likeTexts:function(h){return({0:"Like",2:"",3:"",4:"",5:"",6:""}[h])
}});d.startExport();d.declare("Remote",[Alloy]);d.define(function(h){var j={};function i(l){var k="{0}.nanorep.co";if(k){return k.replace("{0}",l.account.toLowerCase())}else{return l.host+"/~"+l.account.toLowerCase()}}j.ActionEnum={POSITIVE:1,WRONG_ANSWER:2,WRONG_CONTENT:4,WRONG_CONTEXT:8};j.send=function(n,m,l,k){h.jsonp({url:"//"+i(n)+"/api/analytics/v1/addFeedback",params:{account:n.account,kb:n.kb,id:n.articleId,action:m,feedbackText:l},handler:function(p,o){if(typeof k==="function"){k()}}})};return j});nanoRep.SDK.Feedback=nanoRep.SDK.Feedback||{};nanoRep.SDK.Feedback.send=d.byName("Remote").send;nanoRep.SDK.Feedback.ActionEnum=d.byName("Remote").ActionEnum;d.declare("ThumbsScopeBase",[f]);d.define(function(i){var h={TEMPLATE:"nr-feedback-thumbs"};return i.extend({name:"ThumbsScopeBase",abstractClass:true,_prototype:h})});d.declare("ThumbsModelBase",[e,"ThumbsScopeBase"]);d.define(function(j,l){function h(){}var k={NONE:0,LIKE:1,DISLIKE:2};var i={ScopeClass:l,StateEnum:k,ctor:function(m){if(m&&m.element){var n=(typeof m.element==="string"?document.querySelector(m.element):m.element);if(n){this.bindScope(n)}else{if(window.console&&window.console.warn){window.console.warn("nanorep SDK: Feedback Thumbs container is not available!")}}}if(m&&m.events){this.on(m.events)}},setInitialLikesCount:function(m){this._initialLikesCount=m;this.currentLikesCount=m},getState:function(){return this._eCurrentState},setState:function(n){var m;if(this._eCurrentState!==n){m=this._eCurrentState;this._eCurrentState=n;this.onStateChanged(m)}return this},disable:function(){this.disabled=true;this.emit("disabled");this.updateScope();return this},enable:function(){this.disabled=false;this.emit("enabled");this.updateScope();return this},like:function(){this.emit("like");this.setState(k.LIKE)},dislike:function(m){this.emit("dislike",m);this.setState(k.DISLIKE)},onStateChanged:h,currentLikesCount:0,disabled:false,_initialLikesCount:0,_eCurrentState:k.NONE};return j.extend({name:"ThumbsModelBase",abstractClass:true,_prototype:i})});d.declare("SurveyScopeBase",[f]);
d.define(function(i){var h={TEMPLATE:"nr-feedback-survey"};return i.extend({name:"SurveyScopeBase",abstractClass:true,_prototype:h})});d.declare("SurveyModelBase",[e,"SurveyScopeBase"]);d.define(function(i,k){var j={DEFAULT:0,HELPFUL:1,UNHELPFUL:2};var h={ScopeClass:k,StateEnum:j,ctor:function(l){if(l&&l.element){var m=(typeof l.element==="string"?document.querySelector(l.element):l.element);if(m){this.bindScope(m)}else{if(window.console&&window.console.warn){window.console.warn("nanorep SDK: Feedback Survey container is not available!")}}}if(l&&l.events){this.on(l.events)}},disable:function(){this.disabled=true;this.emit("disabled");this.updateScope();return this},enable:function(){this.disabled=false;this.emit("enabled");this.updateScope();return this},setState:function(l){this.state=l;this.updateScope()},getContainer:function(){var l=this.getScope();return l&&l.$domElement},state:j.DEFAULT,disabled:false,hidden:false,hide:function(){this.hidden=true;this.updateScope()}};return i.extend({name:"SurveyModelBase",abstractClass:true,_prototype:h})});d.declare("ChoicesDialogScopeBase",[f]);d.define(function(i){var h={TEMPLATE:"nr-feedback-choices-dialog",setHasContext:function(){},dismiss:function(){},reset:function(){}};return i.extend({name:"ChoicesDialog",abstractClass:true,_prototype:h})});d.declare("ChoicesDialogModelBase",[e,"ChoicesDialogScopeBase"]);d.define(function(j,h){var i={ScopeClass:h,open:false,ctor:function(k){if(k&&k.element){var l=(typeof k.element==="string"?document.querySelector(k.element):k.element);if(l){this.bindScope(l)}else{if(window.console&&window.console.warn){window.console.warn("nanorep SDK: Feedback ChoicesDialog container is not available!")}}}if(k&&k.events){this.on(k.events)}},getContainer:function(){var k=this.getScope();return k&&k.$domElement}};return j.extend({name:"ChoicesDialogModelBase",abstractClass:true,_prototype:i})});d.declare("SurveyDialogScopeBase",[f]);d.define(function(i){var h={TEMPLATE:"nr-feedback-survey-dialog",dismiss:function(){},reset:function(){}};return i.extend({name:"SurveyDialogScopeBase",abstractClass:true,_prototype:h})
});d.declare("SurveyDialogModelBase",[e,"ChoicesDialogScopeBase"]);d.define(function(i,j){var h={ScopeClass:j,open:false,valid:true,ctor:function(k){if(k&&k.element){var l=(typeof k.element==="string"?document.querySelector(k.element):k.element);if(l){this.bindScope(l)}else{if(window.console&&window.console.warn){window.console.warn("nanorep SDK: Feedback Thumbs container is not available!")}}}if(k&&k.events){this.on(k.events)}},getContainer:function(){var k=this.getScope();return k&&k.$domElement},focus:function(){return this}};return i.extend({name:"SurveyDialogModelBase",abstractClass:true,_prototype:h})})}});nanoRep.BundleManager.define({name:"Styles",require:[],data:{},ns:"nanoRep.SDK",init:function(a,b,d){var c=new d.Modular(this);c.startExport();c.declare("Styles");c.define(function(){var h={WIDGET_COLOR:"#0098c7",ANSWER_TITLE_COLOR:"#3b3b3b",ANSWER_TEXT_COLOR:"#575656"};var i={};var j={get:function(l){return h[l]||null},set:function(m,n){if(typeof m==="object"){for(var l in m){if(m.hasOwnProperty(l)){this.set(l,m[l])}}return}h[m]=n;k()},addRules:function(m){for(var n in m){if(m.hasOwnProperty(n)){i[n]=i[n]||{};for(var l in m[n]){if(m[n].hasOwnProperty(l)){i[n][e(l)]=m[n][l]}}}}k()},isSVGActive:function(){return document.documentElement.className.indexOf("nr-no-svg")<0},useSVG:function(l){if(l){if(f){document.documentElement.className=document.documentElement.className.replace("nr-no-svg","")}}else{if(this.isSVGActive()){document.documentElement.className+=(document.documentElement.className?" ":"")+"nr-no-svg"}}},mix:function(m,n,l){var o=1-l;if(typeof m==="string"){m=g(h[m]||m)}if(typeof n==="string"){n=g(h[n]||n)}return["rgb(",(m[0]*l+n[0]*o)|0,",",(m[1]*l+n[1]*o)|0,",",(m[2]*l+n[2]*o)|0,")"].join("")},multiply:function(m,l){if(typeof m==="string"){m=g(h[m]||m)}l+=1;m[0]=(m[0]*l)|0;if(m[0]>255){m[0]=255}m[1]=(m[1]*l)|0;if(m[1]>255){m[1]=255}m[2]=(m[2]*l)|0;if(m[2]>255){m[2]=255}return["rgb(",m.join(","),")"].join("")},tint:function(m,l){return this.mix([255,255,255],m,l)},shade:function(m,l){return this.mix([0,0,0],m,l)
},lighten:function(m,l){return this.multiply(m,l)},darken:function(m,l){return this.multiply(m,-l)}};function g(n){var m=n.match(/^\s*#([0-9a-f]{3,6})\s*$/i),l;if(m){m=m[1];if(m.length===3){return[parseInt(m.charAt(0),16)*17,parseInt(m.charAt(1),16)*17,parseInt(m.charAt(2),16)*17]}if(m.length===6){return[parseInt(m.substr(0,2),16),parseInt(m.substr(2,2),16),parseInt(m.substr(4,2),16)]}}else{l=n.replace(/rgb\((.*)\)/,"$1").split(",");if(l){l[0]|=0;l[1]|=0;l[2]|=0;return[l[0]>255?255:l[0],l[1]>255?255:l[1],l[2]>255?255:l[2]]}}}var e=function(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};var k=function(){if(k.activeStyleSheet&&k.activeStyleSheet.parentNode){k.activeStyleSheet.parentNode.removeChild(k.activeStyleSheet)}var l="",m,s;for(var p in i){if(i.hasOwnProperty(p)){l+=p+"{";for(var o in i[p]){if(i[p].hasOwnProperty(o)){s=i[p][o];m=s.match(/^\s*(\w+)\(/);if(m&&j.hasOwnProperty(m[1])){m=new Function(["with(this){return(",s,");}"].join(""));l+=[o,":",m.call(j),";"].join("")}else{l+=o+":"+(j.get(s)||s)+";"}}}l+="}"}}var n=document.getElementsByTagName("head")[0];var q=document.createElement("style"),r;q.setAttribute("type","text/css");k.activeStyleSheet=q;if(q.styleSheet){q.styleSheet.cssText=l;if(document.body){n.appendChild(q)}else{r=function(){window.detachEvent("onload",r);n.appendChild(q)};window.attachEvent("onload",r)}}else{q.appendChild(document.createTextNode(l));n.appendChild(q)}};var f=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");j.useSVG(f);j.addRules({".nr-no-svg svg":{display:"none !important"},".nr-svg-icon svg":{display:"block",width:"100%",height:"100%"}});k();return j})}});nanoRep.BundleManager.define({name:"Feedback.Modern",require:["Alloy","Feedback","Styles"],data:{commonStylesheet:".nr-feedback-dialog{font-size:16px;background:#fff;color:#3b3b3b;padding:15px 20px;cursor:default}\n.nr-feedback-dialog .nr-feedback-dialog-title{text-align:center;font-weight:400;font-size:18px;margin:25px 0 35px;display:block;color:#000}\n.nr-feedback-dialog .nr-feedback-dialog-buttons{text-align:center}.nr-feedback-dialog .nr-feedback-dialog-button{border-radius:2px;text-decoration:none;text-align:center;display:inline-block;background:#e8e8e8;color:#545454;line-height:30px;width:30%;font-size:16px;margin:0 10px;padding:0;cursor:pointer}\n.nr-feedback-dialog .nr-feedback-dialog-button-highlight{background:#ebbb42}\n.nr-channeling-actionbar-tooltip{text-align:center;position:absolute;bottom:100%;left:50%;height:0;width:200px;margin:0 0 0 -100px;z-index:2;pointer-events:none}\n.nr-channeling-actionbar-tooltip span{background:rgba(43,45,45,0.95);cursor:default;border-radius:2px;line-height:30px;margin-top:-30px;font-size:12px;padding:0 10px;color:#fff;display:inline-block;vertical-align:top}\n.nr-channeling-actionbar-tooltip:after{border:10px solid;border-width:8px 8px 0;border-color:rgba(43,45,45,0.95) transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert{bottom:0}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert span{margin-top:8px}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert:after{top:0;border-width:0 8px 8px;border-color:transparent transparent rgba(43,45,45,0.95)}",thumbsStylesheet:".nr-feedback-thumbs{vertical-align:top;display:inline-block;border:1px solid #eaeaea;border-width:0 1px;margin:0 -1px}\n.nr-feedback-thumbs .nr-feedback-thumbs-like,.nr-feedback-thumbs .nr-feedback-thumbs-dislike{position:relative;vertical-align:top;display:inline-block;text-align:center;cursor:pointer;height:55px;width:85px}\n.nr-feedback-thumbs .nr-svg-icon{display:inline-block;vertical-align:top;margin-top:13px;width:30px;height:30px}\n.nr-feedback-thumbs .nr-feedback-thumbs-counter{background-color:#eaeaea;content:'';width:1px;height:55px;display:inline-block;vertical-align:middle;overflow:hidden;text-indent:-9999px}\n.nr-feedback-thumbs .nr-feedback-thumbs-like.nr-feedback-thumbs-active{background:#27d68d}\n.nr-feedback-thumbs .nr-feedback-thumbs-like.nr-feedback-thumbs-active svg .nr-feedback-fill{stroke:#fff}\n.nr-feedback-thumbs .nr-feedback-thumbs-dislike.nr-feedback-thumbs-active{background:#f56e62}\n.nr-feedback-thumbs .nr-feedback-thumbs-dislike.nr-feedback-thumbs-active svg .nr-feedback-fill{stroke:#fff}\n.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-inactive svg .nr-feedback-fill{stroke:#3b3b3b!important}\n.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-like .nr-svg-icon,.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-dislike .nr-svg-icon{background-image:url(//eu1-1.nanorep.com/sdk/feedback/modern/style/icons.png?cv=8D3A59290F6AA19);background-position:-5px -45px}\n.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-dislike .nr-svg-icon{background-position:-5px -5px}\n.nr-feedback-thumbs .nr-channeling-actionbar-tooltip{display:none}.nr-feedback-thumbs .nr-feedback-thumbs-like:hover .nr-channeling-actionbar-tooltip,.nr-feedback-thumbs .nr-feedback-thumbs-dislike:hover .nr-channeling-actionbar-tooltip{display:block}\n.nr-feedback-thumbs.nr-feedback-thumbs-disabled:hover .nr-channeling-actionbar-tooltip{display:none}\n.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-like,.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-dislike{cursor:default}",surveyStylesheet:".nr-feedback-survey{vertical-align:top;display:inline-block;background:#fff;color:#333;padding:0 10px;line-height:23px;min-height:23px}\n.nr-feedback-survey-title{display:inline-block;vertical-align:top;margin:0 5px 0 0}\n.nr-feedback-survey-btn{text-decoration:none;display:inline-block;vertical-align:middle;background:#dedede;cursor:pointer;font-size:12px;line-height:23px;padding:0 15px;margin:0 5px 0 0;color:#3b3b3b}\n.nr-feedback-survey-disabled .nr-feedback-survey-btn{cursor:default}.nr-feedback-survey-helpful .nr-feedback-survey-btn-yes{background:#27d68d;color:#fff}\n.nr-feedback-survey-unhelpful .nr-feedback-survey-btn-no{background:#f56e62;color:#fff}",choicesDialogStylesheet:'.nr-feedback-dialog .nr-feedback-choices-list{font-size:18px;list-style:none;padding:0;margin:0 0 10px}\n.nr-feedback-dialog .nr-feedback-choices-list li{padding:0 0 20px}.nr-feedback-dialog .nr-feedback-choices-list label{font-weight:100;display:inline;vertical-align:middle}\n.nr-feedback-dialog .nr-feedback-choices-list input[type="radio"]{display:inline-block;vertical-align:middle;margin:0 5px 0 0}\n.nr-feedback-dialog .nr-feedback-choices-list input[type="radio"]:checked+label{color:#0099c8}\n.nr-feedback-custom-radios .nr-feedback-choices-list input[type="radio"]{-webkit-appearance:none;border:1px solid #0099c8;border-radius:50%;position:relative;cursor:default;height:16px;width:16px}\n.nr-feedback-custom-radios .nr-feedback-choices-list input[type="radio"]:checked:before{position:absolute;content:\'\';width:8px;height:8px;border-radius:50%;background:#0099c8;top:3px;left:3px}\n.nr-feedback-dialog .nr-feedback-choices-dialog-invalid input[type="radio"],.nr-feedback-dialog .nr-feedback-choices-dialog-invalid input[type="radio"]+label{animation:nr-feedback-choices-dialog-validation .25s linear 3}\n@keyframes nr-feedback-choices-dialog-validation{0%{opacity:0}100%{opacity:1}\n}',surveyDialogStylesheet:".nr-feedback-dialog-textarea{box-sizing:border-box;resize:none;border:1px solid #ccc;min-height:75px;padding:10px;margin:0 0 15px;width:100%}\n.nr-feedback-dialog-disclaimer{margin:-10px 0 10px;font-size:11px}.nr-feedback-dialog-input-wrapper{position:relative}\n.nr-feedback-dialog-input-wrapper .nr-sdk-input-placeholder{position:absolute;top:0;left:0;margin:10px 13px;color:#b1a9b1}",thumbsTemplate:'<div class="nr-feedback-thumbs {{ disabled ? \'nr-feedback-thumbs-disabled\' : \'\' }}">\r\n\t<a role="button" href="javascript:void(0)" onclick="return false" class="nr-feedback-thumbs-like {{ likeActive ? \'nr-feedback-thumbs-active\' : \'nr-feedback-thumbs-inactive\' }}"\r\n\t\tnr-tooltip="{{ (disabled && dislikeActive ? \'\' : (likeActive ? getLocalizedText(\'Feedback.likeActive\') : getLocalizedText(\'Feedback.like\')) ) }}"\r\n\t\taria-label="{{ likeActive ? getLocalizedText(\'Feedback.likeActive\') : getLocalizedText(\'Feedback.like\') }}"\r\n\t\talloy-bind-event-click="likeClicked()">\r\n\t\t<i class="nr-svg-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" xml:space="preserve">\n<g>\n\t<path class="nr-feedback-fill" fill="none" stroke="#3B3B3B" stroke-width="1" stroke-miterlimit="10" d="M9,13.2c0,0,0.4,0.2,1.4-1.2c1.3-1.8,2.4-2.4,2.9-2.7c0.5-0.3,3.5-3,3.9-3.5c0.4-0.5,0.5-1.3,0.7-2.2\n\t\tc0.2-0.9,0.7-1.4,1.9-1.2c1.2,0.2,1.4,1.4,1.6,3c0.3,1.6-0.4,2.9-1.4,4.1c-0.9,1.2-1.5,2.4-1.5,2.4c1.3,0.8,3.5,0.5,3.5,0.5\n\t\tc2.1-0.2,2.8,0.3,2.8,0.3c0.7,0.2,1.5,0.7,1.6,1.8c0.1,1.4-1.1,1.9-1.1,1.9c0.7,0.5,1.4,1,1.2,2.2c-0.2,1.6-1.6,1.9-1.6,1.9\n\t\tc0.4,0.6,0.8,1.1,0.6,2.2c-0.3,1.4-1.9,1.3-1.9,1.3c0.8,0.5,0.5,1.8,0.5,1.8c-0.4,2.5-5.5,2.2-8.8,1.5C13.1,26.7,9,26.3,9,26.3\n\t\tV13.2z"/>\n\t<polygon class="nr-feedback-fill" fill="none" stroke="#3B3B3B" stroke-width="1" stroke-miterlimit="10" points="9.3,26.3 3.5,26.3 3.5,12.8 9.3,12.8 \t"/>\n</g>\n</svg>\n</i>\r\n\t</a><div class="nr-feedback-thumbs-counter">\r\n\t\t{{ currentLikesCount }}\r\n\t</div><a role="button" href="javascript:void(0)" onclick="return false" class="nr-feedback-thumbs-dislike {{ dislikeActive ? \'nr-feedback-thumbs-active\' : \'nr-feedback-thumbs-inactive\' }}"\r\n\t\tnr-tooltip="{{ (disabled && likeActive ? \'\' :  (dislikeActive ? getLocalizedText(\'Feedback.dislikeActive\') : getLocalizedText(\'Feedback.dislike\')) ) }}"\r\n\t\taria-label="{{ dislikeActive ? getLocalizedText(\'Feedback.dislikeActive\') : getLocalizedText(\'Feedback.dislike\') }}"\r\n\t\talloy-bind-event-click="dislikeClicked()">\r\n\t\t<i class="nr-svg-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" xml:space="preserve">\n<g>\n\t<path class="nr-feedback-fill" fill="none" stroke="#3B3B3B" stroke-width="1" stroke-miterlimit="10" d="M21,16.8c0,0-0.4-0.2-1.4,1.2c-1.3,1.8-2.4,2.4-2.9,2.7c-0.5,0.3-3.5,3-3.9,3.5c-0.4,0.5-0.5,1.3-0.7,2.2\n\t\tc-0.2,0.9-0.7,1.4-1.9,1.2c-1.2-0.2-1.4-1.4-1.6-3c-0.3-1.6,0.4-2.9,1.4-4.1c0.9-1.2,1.5-2.4,1.5-2.4c-1.3-0.8-3.5-0.5-3.5-0.5\n\t\tc-2.1,0.2-2.8-0.3-2.8-0.3c-0.7-0.2-1.5-0.7-1.6-1.8c-0.1-1.4,1.1-1.9,1.1-1.9c-0.7-0.5-1.4-1-1.2-2.2c0.2-1.6,1.6-1.9,1.6-1.9\n\t\tC4.7,9,4.2,8.5,4.5,7.4C4.8,6,6.4,6.1,6.4,6.1C5.5,5.6,5.8,4.3,5.8,4.3c0.4-2.5,5.5-2.2,8.8-1.5C16.9,3.3,21,3.7,21,3.7V16.8z"/>\n\t<polygon class="nr-feedback-fill" fill="none" stroke="#3B3B3B" stroke-width="1" stroke-miterlimit="10" points="20.7,3.7 26.5,3.7 26.5,17.2 20.7,17.2 \t"/>\n</g>\n</svg>\n</i>\r\n\t</a>\r\n</div>\r\n',surveyTemplate:'<div class="nr-feedback-survey {{ disabled ? \'nr-feedback-survey-disabled\' : \'\' }} {{ state === StateEnum.HELPFUL ? \'nr-feedback-survey-helpful\' : \'\' }} {{ state === StateEnum.UNHELPFUL ? \'nr-feedback-survey-unhelpful\' : \'\' }}" alloy-if="!hidden">\r\n\t<span class="nr-feedback-survey-title" alloy-if="state === StateEnum.DEFAULT">{{ getLocalizedText(\'Feedback.surveyTitle\') }}</span>\r\n\t<span class="nr-feedback-survey-title" alloy-if="state !== StateEnum.DEFAULT">{{ getLocalizedText(\'Feedback.surveyThanks\') }}</span>\r\n\t<br>\r\n\t<a role="button" href="javascript:void(0)" onclick="return false" class="nr-feedback-survey-btn nr-feedback-survey-btn-yes" alloy-bind-event-click="setHelpful(true)">{{ getLocalizedText(\'Feedback.surveyYes\') }}</a>\r\n\t<span class="nr-feedback-survey-separator"></span>\r\n\t<a role="button" href="javascript:void(0)" onclick="return false" class="nr-feedback-survey-btn nr-feedback-survey-btn-no" alloy-bind-event-click="setHelpful(false)">{{ getLocalizedText(\'Feedback.surveyNo\') }}</a>\r\n</div>',choicesDialogTemplate:'<div class="nr-feedback-dialog nr-feedback-choices-dialog nr-style-scroll {{ isIE ? \'nr-feedback-ie\' : \'nr-feedback-custom-radios\' }}">\r\n\t<div class="nr-feedback-dialog-title">{{ getLocalizedText(\'Feedback.dislikeOptionsTitle\') }}</div>\r\n\r\n\t<ul class="nr-feedback-choices-list {{ valid ? \'\' : \'nr-feedback-choices-dialog-invalid\' }}">\r\n\t\t<li alloy-loop="choice in choices">\r\n\t\t\t<input type="radio" name="nr-dislike-choice" id="nr-dislike-radio-{{choice.uid}}" value="{{choice.valueIndex}}" alloy-bind-event-click="selectChoice(choice)">\r\n\t\t\t<label for="nr-dislike-radio-{{choice.uid}}">{{ getLocalizedText(\'Feedback.likeTexts\', null, choice.nameIndex) }}</label>\r\n\t\t</li>\r\n\t</ul>\r\n\r\n\t<div class="nr-feedback-dialog-buttons">\r\n\t\t<a href="javascript:void(0)" onclick="return false" alloy-bind-event-click="submitSelection()" class="nr-feedback-dialog-button">{{ getLocalizedText(\'Feedback.ok\') }}</a>\r\n\t\t<a href="javascript:void(0)" onclick="return false" alloy-bind-event-click="cancel()" class="nr-feedback-dialog-button">{{ getLocalizedText(\'Feedback.cancel\') }}</a>\r\n\t</div>\r\n</div>\r\n',surveyDialogTemplate:'<div class="nr-feedback-dialog nr-feedback-survey-dialog nr-style-scroll {{ valid ? \'\' : \'nr-feedback-survey-dialog-invalid\' }}">\r\n\t<span class="nr-feedback-dialog-title">{{ getLocalizedText(\'Feedback.surveyDialogTitle\') }}</span>\r\n\t<div class="nr-feedback-dialog-input-wrapper">\r\n\t\t<textarea class="nr-feedback-dialog-textarea" maxlength="320" alloy-this="feedbackText"></textarea>\r\n\t</div>\r\n\t<div class="nr-feedback-dialog-disclaimer">{{ getLocalizedText(\'Feedback.surveyDisclaimer\') }}</div>\r\n\t<div class="nr-feedback-dialog-buttons">\r\n\t\t<a role="button" href="javascript:void(0)" onclick="return false" alloy-bind-event-click="submitSurvey()" class="nr-feedback-dialog-button">{{ getLocalizedText(\'Feedback.surveySubmit\') }}</a>\r\n\t</div>\r\n</div>\r\n'},ns:"nanoRep.SDK.Feedback",init:function(c,d,n){var f=new n.Modular(this),e=c.Feedback,l=e.ThumbsModelBase,m=e.ThumbsScopeBase,j=e.SurveyModelBase,k=e.SurveyScopeBase,a=e.ChoicesDialogModelBase,b=e.ChoicesDialogScopeBase,h=e.SurveyDialogModelBase,i=e.SurveyDialogScopeBase;
f.declare("ThumbsScope",[m]);f.define(function(p){var o={likeClicked:function(){if(this.$model.disabled){return}this.$model.like()},dislikeClicked:function(){if(this.$model.disabled){return}var q=this.$parent&&this.$parent.getChildScope("choicesDialog");if(q){this.$model.disabled=true;this.$model.dialog.open=true;q.reset();this.$parent.update();q.focus();this.$model.setState(this.$model.StateEnum.DISLIKE);this.$model.emit("dialogDisplayed",q)}else{this.$model.dislike()}}};return p.extend({name:"ThumbsScope",_prototype:o})});f.declare("ThumbsModel",[l,"ThumbsScope"]);f.define(function(p,q){var o={ScopeClass:q,setDialog:function(r){var s=this;this.dialog=r;r.on("submit",function(t){s.dislike(t);s.disabled=false;r.open=false;s.getScope().$parent.update();s.emit("dialogHidden")});r.on("cancel",function(){s.disabled=false;r.open=false;s.getScope().$parent.update();s.setState(s.StateEnum.NONE);s.emit("dialogHidden")})},onStateChanged:function(){switch(this._eCurrentState){case this.StateEnum.NONE:this.likeActive=false;this.dislikeActive=false;this.currentLikesCount=this.initialLikesCount;break;case this.StateEnum.LIKE:this.likeActive=true;this.dislikeActive=false;this.currentLikesCount=this.initialLikesCount+1;break;case this.StateEnum.DISLIKE:this.likeActive=false;this.dislikeActive=true;this.currentLikesCount=this.initialLikesCount;break;default:throw new Error("Unsupported Feedback.ThumbsModel state")}this.updateScope()},getLikeButton:function(){var r=this.getScope();return r&&r.$domElement.querySelector(".nr-feedback-thumbs-like")},getDislikeButton:function(){var r=this.getScope();return r&&r.$domElement.querySelector(".nr-feedback-thumbs-dislike")},likeActive:false,dislikeActive:false};return p.extend({name:"ThumbsModel",_prototype:o})});f.declare("SurveyScope",[k]);f.define(function(p){var o={setHelpful:function(q){if(this.$model.disabled){return}if(this.$parent){if(q){this.$model.emit("survey",true,null)}else{var r=this.$parent&&this.$parent.getChildScope("surveyDialog");if(!this.$model.dialog.open){this.$model.dialog.open=true;
this.$model.emit("dialogDisplayed",r)}}this.$parent.update()}else{this.$model.emit("survey",q)}}};return p.extend({name:"SurveyScope",_prototype:o})});f.declare("SurveyModel",[j,"SurveyScope"]);f.define(function(p,q){var o={ScopeClass:q,setDialog:function(r){var s=this;this.dialog=r;r.on("submit",function(t){s.emit("survey",false,t);r.open=false;s.getScope().$parent.update();s.emit("dialogHidden")})}};return p.extend({name:"SurveyModel",_prototype:o})});f.declare("ChoicesDialogScope",[b]);f.define(function(o){var p={ctor:function(){this.$model.valid=true;this.$model.isIE=~navigator.userAgent.indexOf("MSIE ")||~navigator.userAgent.indexOf("Trident/")},reset:function(){var r=this.$domElement.querySelectorAll('input[type="radio"]');for(var q=0;q<this.$model.choices.length;q++){this.$model.choices[q].selected=null;r[q].checked=false}this.$model.valid=true;this.update()},getSelectedValue:function(){var r=null;for(var q=0;q<this.$model.choices.length;q++){if(this.$model.choices[q].selected){r=this.$model.choices[q].valueIndex;break}}return r},selectChoice:function(q){for(var r=0;r<this.$model.choices.length;r++){this.$model.choices[r].selected=(this.$model.choices[r]===q)}},validate:function(){var q=this,r=!!this.getSelectedValue();q.$model.valid=true;q.update();if(!r){setTimeout(function(){q.$model.valid=false;q.update()},1)}return r},submitSelection:function(){if(this.validate()){this.$model.emit("submit",this.getSelectedValue())}},cancel:function(){this.reset();this.$model.emit("cancel")},focus:function(){if(this.$domElement){this.$domElement.querySelector('input[type="radio"]').focus()}}};return o.extend({name:"ChoicesDialogScope",_prototype:p})});f.declare("ChoicesDialogModel",[a,"ChoicesDialogScope"]);f.define(function(o,p){var r=0;var q={ScopeClass:p,getUniqueId:function(){return r++},createChoices:function(){var t={positive:1,wrongAnswer:2,wrongContent:4,wrongContext:8};var w={0:t.positive,2:t.wrongContent,3:t.wrongContent,4:t.wrongContext,5:t.wrongAnswer,6:t.wrongContent};var s=this.hasContext?[6,4]:[2,3];this.choices=[];
for(var u=0;u<s.length;u++){var v=s[u];this.choices.push({selected:null,uid:this.getUniqueId(),nameIndex:v,valueIndex:w[v]})}},ctor:function(s){if(s){this.setHasContext(!!s.hasContext)}},setHasContext:function(s){this.hasContext=s;this.createChoices();this.updateScope()},focus:function(){var s=this.getScope();if(s){s.focus()}}};return o.extend({name:"ChoicesDialogModel",_prototype:q})});f.declare("SurveyDialogScope",[i,c.Common.DOM]);f.define(function(q,o){var p={ctor:function(){this.$model.feedbackText=""},reset:function(){if(this.feedbackArea){this.feedbackArea.value=""}this.$model.feedbackText="";this.$model.valid=true;this.update()},afterBind:function(){if(this.isDisposed()){return}this.feedbackArea=this.$domElement.querySelector("textarea");var r=this.$model&&this.$model.getLocalizedText&&this.$model.getLocalizedText("Feedback.surveyPlaceholder");if(this.feedbackArea&&r){this.feedbackArea.setAttribute("placeholder",r)}if(this.feedbackArea&&!("placeholder" in this.feedbackArea)){o.setPlaceHolder(this.feedbackArea,r,"nr-sdk-input-placeholder")}},submitSurvey:function(){this.$model.emit("submit",this.$model.feedbackText)},focus:function(){this.$domElement.querySelector("textarea").focus()},cancel:function(){this.$model.open=false;this.$parent.update()}};return q.extend({name:"SurveyDialog",_prototype:p})});f.declare("SurveyDialogModel",[h,"SurveyDialogScope"]);f.define(function(p,q){var o={ScopeClass:q,focus:function(){var r=this.getScope();if(r){r.focus()}return this}};return p.extend({name:"SurveyDialogModel",_prototype:o})});nanoRep.SDK.Feedback=nanoRep.SDK.Feedback||{};var g=nanoRep.SDK.Feedback;g.Thumbs=f.byName("ThumbsModel");g.Survey=f.byName("SurveyModel");g.ChoicesDialog=f.byName("ChoicesDialogModel");g.SurveyDialog=f.byName("SurveyDialogModel");g.Thumbs.StateEnum=g.Thumbs.prototype.StateEnum;g.Survey.StateEnum=g.Survey.prototype.StateEnum;g.Thumbs.ThumbsModel=f.byName("ThumbsModel");g.Thumbs.ThumbsScope=f.byName("ThumbsScope");g.Survey.SurveyModel=f.byName("SurveyModel");g.Survey.SurveyScope=f.byName("SurveyScope");
g.ChoicesDialog.ChoicesDialogModel=f.byName("ChoicesDialogModel");g.ChoicesDialog.ChoicesDialogScope=f.byName("ChoicesDialogScope");g.SurveyDialog.SurveyDialogModel=f.byName("SurveyDialogModel");g.SurveyDialog.SurveyDialogScope=f.byName("SurveyDialogScope");nanoRep.SDK.Styles.addRules({".nr-feedback-thumbs-like:focus .nr-feedback-fill, .nr-feedback-thumbs-dislike:focus .nr-feedback-fill, .nr-feedback-thumbs-like:hover .nr-feedback-fill, .nr-feedback-thumbs-dislike:hover .nr-feedback-fill":{stroke:"WIDGET_COLOR"},".nr-feedback-thumbs .nr-feedback-fill":{stroke:"ANSWER_TITLE_COLOR",fill:"transparent"},".nr-no-svg .nr-feedback-thumbs-like .nr-svg-icon, .nr-no-svg .nr-feedback-thumbs-dislike .nr-svg-icon":{backgroundColor:"ANSWER_TITLE_COLOR"}});n.addStyle(d.commonStylesheet,d.thumbsStylesheet,d.surveyStylesheet,d.choicesDialogStylesheet,d.surveyDialogStylesheet);Alloy.injectTemplate(f.byName("ThumbsScope").prototype.TEMPLATE,d.thumbsTemplate);Alloy.injectTemplate(f.byName("SurveyScope").prototype.TEMPLATE,d.surveyTemplate);Alloy.injectTemplate(f.byName("ChoicesDialogScope").prototype.TEMPLATE,d.choicesDialogTemplate);Alloy.injectTemplate(f.byName("SurveyDialogScope").prototype.TEMPLATE,d.surveyDialogTemplate)}});nanoRep.BundleManager.define({name:"FileUploader",require:["Common"],data:{},init:function(a){var b=(new a.Common.Modular);b.declare("AmazonUploader",[a.Common.EventEmitter,a.Common.DOM]);b.define(function(e,d){var l={EMPTY:0,UPLOADING:1,HAS_FILES:2};var c=e.extend({name:"AmazonUploader",_prototype:{ctor:function(n){this.options=f({host:"",multiple:false,fileInput:null,container:null,browseText:"Choose file"},n);this.defaultAmazonOptions={acl:"public-read",AWSAccessKeyId:"",policy:"",signature:"","Content-Type":"",key:null};if(typeof n.amazonOptions==="function"){this.amazonOptions=n.amazonOptions}else{this.amazonOptions=f({},this.defaultAmazonOptions,n.amazonOptions)}this.currentState=l.EMPTY;this.initStructure();this.attachEvents()},initStructure:function(){this.fileList=[];if(typeof this.options.fileInput==="string"){this.fileInput=document.getElementById(this.options.fileInput)
}else{if(this.options.fileInput){this.fileInput=this.options.fileInput}else{this.isFileInputInvisible=true;this.fileInput=d.createElement("input",{type:"file",parent:document.body})}}if(this.options.container){this.options.container.appendChild(this.fileInput)}this.fileInput.multiple=this.options.multiple;this.uploadList=document.createElement("div");this.uploadList.className="nr-upload-file-list";this.fileInput.parentNode.insertBefore(this.uploadList,this.fileInput);this.inputWrapper=document.createElement("span");this.inputWrapper.className="simple-amazon-uploader";this.fileInput.parentNode.insertBefore(this.inputWrapper,this.fileInput);this.inputWrapper.appendChild(this.fileInput);if(this.isFileInputInvisible){this.inputWrapper.style.cssText="width:0;height:0;display:block;overflow:hidden"}this.textBlock=document.createElement("span");this.textBlock.className="simple-amazon-uploader-placeholder";this.textBlock.appendChild(document.createTextNode(this.options.browseText));this.inputWrapper.appendChild(this.textBlock)},attachEvents:function(){var n=this;this.fileInput.onchange=function(){if(n.fileInput.value){n.uploadSelectedFiles()}}},createUploadItem:function(q,t){var u=this,r=d.createElement("div",{parent:this.uploadList,className:"attachmentRow"}),s=d.createElement("div",{parent:r,className:"attachment"}),n=d.createElement("div",{parent:s,className:"attachmentIcon"}),p=d.createElement("span",{parent:s,textContent:q}),o=d.createElement("a",{parent:s,className:"deleteFileLink"});d.addClass(r,"nr-file-uploading");n.style.display="";o.onclick=function(){o.onclick=null;d.removeNode(r);if(typeof t==="function"){t(q)}};return{remove:function(){o.onclick=null;d.removeNode(r)},setProgress:function(){},setComplete:function(v){p.innerHTML="";d.removeClass(r,"nr-file-uploading");var w=d.createElement("a",{parent:p,className:"fileUploadLink",target:"_blank",textContent:q});u.emit("attachmentlinkcreated",w,v)}}},uploadSelectedFiles:function(){var r=this,q=0,o=this.fileInput.files?this.fileInput.files.length:1;this.currentState=l.UPLOADING;
var n=function(v,u,t){var x=m[k].call(r,v,u,t),z=r.createUploadItem(u?u.name:i(v.value),w),y=null;x.onProgress=function(A){z.setProgress(A)};x.onComplete=function(A){q++;A.amazonOptions=t;z.setComplete(A);y=A;if(q===o){r.currentState=r.fileList.length?l.HAS_FILES:l.EMPTY}r.fileList.push(y);r.emit("change")};function w(){x.abort();if(y){for(var A=r.fileList.length-1;A>=0;A--){if(r.fileList[A]===y){r.fileList.splice(A,1);if(r.currentState!==l.UPLOADING&&!r.fileList.length){r.currentState=l.EMPTY}r.emit("change");break}}}}};var s=function(u,t){var v=t?t.name:i(u.value),x=true;var w=function(){x=false};r.emit("beforeuploading",v,w);if(!x){return}if(typeof r.amazonOptions==="function"){r.amazonOptions(v,function(y){if(y===null){r.emit("uploadoptionsfailed")}else{y=f({},r.defaultAmazonOptions,y);n(u,t,y)}})}else{n(u,t,this.amazonOptions)}};if(this.fileInput.files){for(var p=0;p<this.fileInput.files.length;p++){s(this.fileInput,this.fileInput.files[p])}}else{s(this.fileInput,null)}},openDialog:function(){this.fileInput.click()},getPendingUploads:function(){var o=[];for(var n=0;n<this.fileList.length;n++){if(this.fileList[n].pending){o.push(this.fileList[n])}}return o},getUploadedFiles:function(){return this.fileList.slice(0)},getFileList:function(){return this.fileList.slice(0)},getState:function(){return this.currentState}}});c.UPLOADER_STATE=l;var m={xhr:function(r,p,n){var t=new FormData(),s=p.name,q=null,u={},w={};for(var v in n){if(n.hasOwnProperty(v)){u[v]=n[v]}}if(!u.key){q=g(s);u.key=q.uniqueName}u.file=p;u["Content-Type"]=p.type||j.getForFile(s);delete u.bucketURL;for(var o in u){if(u.hasOwnProperty(o)){t.append(o,u[o])}}var x=new XMLHttpRequest();x.onload=function(){if(w.onComplete){w.onComplete({name:s,key:u.key,type:u["Content-Type"],size:u.file.size,destination:n.bucketURL+u.key})}};x.upload.onprogress=function(y){if(y.lengthComputable&&w.onProgress){w.onProgress(y.loaded/y.total*100)}};w.abort=function(){x.abort()};x.open("POST",n.bucketURL,true);x.send(t);return w},iframe:function(s,q,n){var t=i(s.value),u=s.parentNode,r=null,v={},C={};
for(var w in n){if(n.hasOwnProperty(w)){v[w]=n[w]}}if(!m.uid){m.uid=1}else{m.uid++}var D=m.uid;v.success_action_redirect=("https:"===document.location.protocol?"https://":"http://")+(this.options.host||location.host)+"/sdk/file-uploader/attachment-uploaded.html?id="+m.uid;if(!v.key){r=g(t);v.key=r.uniqueName}v.file=s;v["Content-Type"]=j.getForFile(t);delete v.bucketURL;var A="tmp-upload-block"+D;var y=document.createElement("form");var z=document.createElement("iframe");var B;y.setAttribute("target",A);y.setAttribute("method","POST");y.setAttribute("enctype","multipart/form-data");y.setAttribute("action",n.bucketURL);z.setAttribute("name",A);z.style.cssText=y.style.cssText="position: absolute; top: -9999px; left: -9999px";for(var p in v){if(v.hasOwnProperty(p)){if(typeof v[p]==="object"){B=s;B.name="file"}else{B=document.createElement("input");B.setAttribute("type","hidden");B.setAttribute("name",p);B.value=v[p]}y.appendChild(B)}}document.body.appendChild(z);document.body.appendChild(y);var o=function(E){if(E.data&&E.data.type==="attachmentUploaded"&&E.data.attachmentId===D){x();d.removeNode(y);d.removeNode(z);if(C.onComplete){C.onComplete({name:t,key:v.key,type:v["Content-Type"],size:v.file.size,destination:n.bucketURL+v.key})}}};var x=function(){if(window.removeEventListener){window.removeEventListener("message",o,false)}else{if(window.detachEvent){window.detachEvent("onmessage",o)}}};if(window.addEventListener){window.addEventListener("message",o,false)}else{if(window.attachEvent){window.attachEvent("onmessage",o)}}C.abort=function(){z.onload=null;d.removeNode(y);d.removeNode(z)};y.submit();u.appendChild(s);return C}};var h=function(){var n="0123456789abcdef",p=[];for(var o=0;o<32;o++){p[o]=n.substr(Math.floor(Math.random()*n.length),1)}return p.join("")};var i=function(n){return n.replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1")};var g=function(n){var o=h();return{hash:o,fileName:n,uniqueName:o+"-"+n}};var j={getForFile:function(o){var n=o.lastIndexOf(".")<0?"":o.substring(o.lastIndexOf(".")+1).toLowerCase();
return this.mimeTypes[n]||"application/octet-stream"},mimeTypes:{ez:"application/andrew-inset",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",doc:"application/msword",oda:"application/oda",pdf:"application/pdf",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",smi:"application/smil",smil:"application/smil",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",bcpio:"application/x-bcpio",vcd:"application/x-cdlink",pgn:"application/x-chess-pgn",cpio:"application/x-cpio",csh:"application/x-csh",dcr:"application/x-director",dir:"application/x-director",dxr:"application/x-director",dvi:"application/x-dvi",spl:"application/x-futuresplash",gtar:"application/x-gtar",hdf:"application/x-hdf",js:"application/x-javascript",skp:"application/x-koan",skd:"application/x-koan",skt:"application/x-koan",skm:"application/x-koan",latex:"application/x-latex",nc:"application/x-netcdf",cdf:"application/x-netcdf",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",sit:"application/x-stuffit",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texinfo:"application/x-texinfo",texi:"application/x-texinfo",t:"application/x-troff",tr:"application/x-troff",roff:"application/x-troff",man:"application/x-troff-man",me:"application/x-troff-me",ms:"application/x-troff-ms",ustar:"application/x-ustar",src:"application/x-wais-source",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",zip:"application/zip",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",mpga:"audio/mpeg",mp2:"audio/mpeg",mp3:"audio/mpeg",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",m3u:"audio/x-mpegurl",ram:"audio/x-pn-realaudio",rm:"audio/x-pn-realaudio",rpm:"audio/x-pn-realaudio-plugin",ra:"audio/x-realaudio",wav:"audio/x-wav",pdb:"chemical/x-pdb",xyz:"chemical/x-xyz",bmp:"image/bmp",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tif",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",wbmp:"image/vnd.wap.wbmp",ras:"image/x-cmu-raster",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-windowdump",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",wrl:"model/vrml",vrml:"model/vrml",css:"text/css",html:"text/html",htm:"text/html",asc:"text/plain",txt:"text/plain",rtx:"text/richtext",rtf:"text/rtf",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-seperated-values",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",etx:"text/x-setext",xml:"text/xml",xsl:"text/xml",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",qt:"video/quicktime",mov:"video/quicktime",mxu:"video/vnd.mpegurl",avi:"video/x-msvideo",movie:"video/x-sgi-movie",ice:"x-conference-xcooltalk"}};
var k="iframe";function f(p){for(var n=1,q;n<arguments.length;n++){q=arguments[n];for(var o in q){if(q.hasOwnProperty(o)){p[o]=q[o]}}}return p}return c});b.declare("SimpleUploader",[a.Common.EventEmitter,a.Common.DOM]);b.define(function(d,c){var f=d.extend({name:"SimpleUploader",_prototype:{ctor:function(g){this.options=g;this.inputWrapper=this.options.mask||c.createElement("span",{parent:this.options.container,className:"nr-fileuploader-mask",style:"width:0;height:0;display:block;overflow:hidden"});c.addClass(this.inputWrapper,"nr-fileuploader-mask");this.fileList=[];this.uploadList=c.createElement("div",{className:"nr-fileuploader-list"});this.inputWrapper.parentNode.insertBefore(this.uploadList,this.inputWrapper);this.createFileInput()},createFileInput:function(){var g=this;this.fileInput=c.createElement("input",{type:"file",parent:this.inputWrapper,className:"nr-fileuploader-input"});this.fileInput.onchange=function(){var h=e(this.value);var i=false;var j=function(){i=true};g.emit("beforeuploading",h,j);if(!i){g.createUploadItem(g.fileInput,h)}}},createUploadItem:function(k,l){var p=this,m=c.createElement("div",{parent:this.uploadList,className:"attachmentRow"}),n=c.createElement("div",{parent:m,className:"attachment"}),g=c.createElement("div",{parent:n,className:"attachmentIcon"}),i=c.createElement("span",{parent:n,textContent:l}),h=c.createElement("a",{parent:n,className:"deleteFileLink"});var o=this.inputWrapper.cloneNode();n.appendChild(o);o.appendChild(k);k.onchange=null;var j={name:l,fileInput:k};this.fileList.push(j);h.onclick=function(){for(var q=0;q<p.fileList.length;q++){if(p.fileList[q]===j){p.fileList.splice(q,1);break}}c.removeNode(m);h.onclick=null};this.createFileInput()},openDialog:function(){this.fileInput.click()},getPendingUploads:function(){return[]},getUploadedFiles:function(){return this.getFileList()},getFileList:function(){return this.fileList},dtor:function(){delete this.fileInput.onchange;c.removeNode(this.inputWrapper)}}});function e(g){return g.replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1")
}return f});this.AmazonUploader=b.byName("AmazonUploader");this.SimpleUploader=b.byName("SimpleUploader")}});nanoRep.BundleManager.define({name:"Chat",require:["EventEmitter"],data:{},ns:"nanoRep.SDK.Channeling",init:function(container,data,utils){var modular=new utils.Modular();var EventEmitter=container.EventEmitter.EventEmitter;var Helper=(function(){function openPopup(url,name,width,height,scrolling){var left=(screen.width/2)-(width/2);var top=(screen.height/2)-(height/2);var scrollbars=scrolling||"no";return window.open(url,name,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+scrollbars+", resizable=no, copyhistory=no, width="+width+", height="+height+", top="+top+", left="+left)}return{openPopup:openPopup}}());var DOM=(function(){return{appendJavaScriptElement:function(url,async,defer){var script=document.createElement("script"),head=document.querySelector("head");if(async){script.setAttribute("async","")}if(defer){script.setAttribute("defer","")}script.setAttribute("src",url);head.appendChild(script);return script}}}());var Alloy=(function(){var cbId=0;return{jsonp:function(obj){var cbName="jspwcb"+cbId++,reqURL=obj.url+(obj.url.indexOf("?")?"&":"?")+"cb="+cbName,script;window[cbName]=function(args){var args=Array.prototype.slice.call(arguments);delete window[cbName];args.unshift(false);obj.handler.apply(this,args);script.parentNode.removeChild(script)};script=DOM.appendJavaScriptElement(reqURL)}}}());modular.declare("Chat",[EventEmitter]);modular.define(function(EventEmitter){var providerClasses={};var Chat={Providers:providerClasses,addProvider:function(providerName,providerProto){providerProto.ctor=providerProto.initialize;providerClasses[providerName]=AbstractChatProvider.extend({name:providerName,_prototype:providerProto});providerClasses[providerName].Name=providerName;return providerClasses[providerName]},getProvider:function(channel){var providerInstances=window.nanoRep.SDK._chatProviderInstances=window.nanoRep.SDK._chatProviderInstances||{};var channelInstanceId=providerClasses[channel.chatProvider].prototype.getChannelId(channel);
if(!providerInstances[channelInstanceId]){providerInstances[channelInstanceId]=new providerClasses[channel.chatProvider](channel.chatOptions)}return providerInstances[channelInstanceId]}};var AbstractChatProvider=EventEmitter.extend({name:"AbstractChatProvider",abstractClass:true,_prototype:{capabilities:{customUI:false,vendorUI:false,vendorPopup:false},ctor:function(chatOptions){this.chatOptions=chatOptions},getChannelId:function(channel){return channel.chatProvider},isAgentAvailable:function(){},isSessionActive:function(){},isSessionResumed:function(){},showVendorUI:function(){},showVendorPopup:function(){},getChatState:function(){},getChatLog:function(){},getStatusMessage:function(){},getAgentName:function(){},requestChat:function(){},setUserTyping:function(){},setCustomParams:function(){},sendMessage:function(){},endChat:function(){}}});return Chat});modular.declare("Chat.LiveChatInc",["Chat",Helper]);modular.define(function(Chat,Helper){Chat.addProvider("LiveChatInc",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;injectLiveChatAPI(this.chatOptions.accountNum);getLiveChatAPI(function(LC_API){LC_API.hide_chat_window();LC_API.on_chat_ended=function(){LC_API.hide_chat_window()}})},isAgentAvailable:function(callback){getLiveChatAPI(function(LC_API){callback(LC_API.agents_are_available())})},showVendorUI:function(){getLiveChatAPI(function(LC_API){LC_API.open_chat_window()})},showVendorPopup:function(popupWidth,popupHeight){var popupUrl="https://secure.livechatinc.com/licence/"+this.chatOptions.accountNum+"/open_chat.cgi?";Helper.openPopup(popupUrl,"nrLiveChatIncWindow",popupWidth,popupHeight)}});function injectLiveChatAPI(accountId){window.__lc=window.__lc||{};window.__lc.license=accountId|0;window.LC_API=window.LC_API||{};window.LC_API.on_before_load=function(){if(getLiveChatAPI.callbackQueue){for(var i=0;i<getLiveChatAPI.callbackQueue.length;i++){getLiveChatAPI.callbackQueue[i](window.LC_API)}delete getLiveChatAPI.callbackQueue}};(function(){var lc=document.createElement("script");
lc.type="text/javascript";lc.async=true;lc.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.livechatinc.com/tracking.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(lc,s)})()}function getLiveChatAPI(callback){if(window.LC_API.open_chat_window){callback(window.LC_API)}else{if(!getLiveChatAPI.callbackQueue){getLiveChatAPI.callbackQueue=[]}getLiveChatAPI.callbackQueue.push(callback)}}});modular.declare("Chat.Olark",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("Olark",{capabilities:{customUI:false,vendorUI:true,vendorPopup:false},initialize:function(chatOptions){var self=this;OlarkAPI.injectOlarkApi(chatOptions.accountNum);olark.configure("box.start_hidden",true);olark("api.box.hide");OlarkAPI.on("agentAvailabilityChanged",function(isAvailable){self.emit("agentAvailabilityChanged",isAvailable)})},isAgentAvailable:function(callback){OlarkAPI.isAgentAvailable(callback)},showVendorUI:function(){olark("api.box.expand")}});var OlarkAPI={on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,currentAgentStatus:null,injectOlarkApi:function(accountId){if(!window.olark){window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){f[z]=function(){(a.s=a.s||[]).push(arguments)};var a=f[z]._={},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={0:+new Date};a.P=function(u){a.p[u]=new Date-a.p[0]};function s(){a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){hd="head";return["<",hd,"></",hd,"><",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;
n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{b.contentWindow[g].open()}catch(w){c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{var t=b.contentWindow[g];t.write(p());t.close()}catch(x){b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]})}olark.identify(accountId);this.addEventListeners()},addEventListeners:function(){var self=this;olark("api.chat.onOperatorsAvailable",function(){self.currentAgentStatus=true;self.emit("agentAvailabilityChanged",self.currentAgentStatus)});olark("api.chat.onOperatorsAway",function(){self.currentAgentStatus=false;self.emit("agentAvailabilityChanged",self.currentAgentStatus)})},isAgentAvailable:function(callback){var tmpHandler;if(!callback){return}if(this.currentAgentStatus!==null){callback(this.currentAgentStatus)}else{tmpHandler=function(isAvailable){this.off("agentAvailabilityChanged",tmpHandler);callback(isAvailable)};this.on("agentAvailabilityChanged",tmpHandler)}}}});modular.declare("Chat.Zopim",["Chat"]);modular.define(function(Chat){Chat.addProvider("Zopim",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){injectZopimAPI(chatOptions.accountNum);getZopimAPI(function($zopim){if(!$zopim.livechat.isChatting()){$zopim.livechat.hideAll()}$zopim.livechat.setOnChatEnd(function(){$zopim.livechat.hideAll()});$zopim.livechat.window.onHide(function(){if(!$zopim.livechat.isChatting()){$zopim.livechat.hideAll()}})})},isAgentAvailable:function(callback){getZopimAPI(function($zopim){$zopim.livechat.setOnStatus(function(agentStatus){if(agentStatus==="online"){callback(true)}else{callback(false)}})})},showVendorUI:function(){getZopimAPI(function($zopim){$zopim.livechat.window.show()})},showVendorPopup:function(){getZopimAPI(function($zopim){$zopim.livechat.window.openPopout()
})}});function injectZopimAPI(accountId){window.$zopim||(function(d,s){var z=window.$zopim=function(c){z._.push(c)},$=z.s=d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set._.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");$.src="//v2.zopim.com/?"+accountId;z.t=+new Date;$.type="text/javascript";var done=false;$.onload=$.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(getZopimAPI.callbackQueue){for(var i=0;i<getZopimAPI.callbackQueue.length;i++){getZopimAPI.callbackQueue[i](window.$zopim)}delete getZopimAPI.callbackQueue}}};e.parentNode.insertBefore($,e)})(document,"script")}function getZopimAPI(callback){if(window.$zopim.livechat){callback(window.$zopim)}else{if(!getZopimAPI.callbackQueue){getZopimAPI.callbackQueue=[]}getZopimAPI.callbackQueue.push(callback)}}});modular.declare("Chat.SalesForce",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("SalesForce",{capabilities:{customUI:false,vendorUI:false,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;SF.init(chatOptions).on({agentAvailabilityChanged:function(info){this.emit("agentAvailabilityChanged",info.available)}},this)},isAgentAvailable:function(callback){SF.isAgentAvailable(this.chatOptions,callback)},showVendorPopup:function(popupWidth,popupHeight){SF.showVendorPopup(this.chatOptions,popupWidth,popupHeight)}});var SF={state:{},on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,init:function(chatOptions){var apiScriptURL="https://"+chatOptions.deploymentDomain+"/content/g/js/38.0/deployment.js";var self=this;self.state[chatOptions.buttonId]={available:false};if(!window._laq){window._laq=[]}window._laq.push(function(){window.liveagent.showWhenOnline(chatOptions.buttonId,document.createElement("div"));window.liveagent.showWhenOffline(chatOptions.buttonId,document.createElement("div"))});var se=document.createElement("script");se.type="text/javascript";
se.async=true;se.src=apiScriptURL;var done=false;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){window.liveagent.addButtonEventHandler(chatOptions.buttonId,function(eventType){switch(eventType){case window.liveagent.BUTTON_EVENT.BUTTON_AVAILABLE:self.state[chatOptions.buttonId].available=true;self.emit("agentAvailabilityChanged",{buttonId:chatOptions.buttonId,available:true});break;case window.liveagent.BUTTON_EVENT.BUTTON_UNAVAILABLE:self.state[chatOptions.buttonId].available=false;self.emit("agentAvailabilityChanged",{buttonId:chatOptions.buttonId,available:false});break;case window.liveagent.BUTTON_EVENT.BUTTON_ACCEPTED:self.emit("windowOpened",chatOptions.buttonId);break;case window.liveagent.BUTTON_EVENT.BUTTON_REJECTED:self.emit("windowClosed",chatOptions.buttonId);break}});if(chatOptions.initCode){try{eval(chatOptions.initCode)}catch(e){if(window.console&&typeof window.console.error==="function"){console.error(e)}}}window.liveagent.init("https://"+chatOptions.apiDomain+"/chat",chatOptions.deploymentId,chatOptions.organizationId);self.emit("apiLoaded",window.liveagent)}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s);return this},getAPI:function(callback){if(typeof window.liveagent==="object"){callback.call(this,window.liveagent)}else{var loadHandler=function(){this.off("apiLoaded",loadHandler);callback.call(this,window.liveagent)};this.on("apiLoaded",loadHandler,this)}},isAgentAvailable:function(chatOptions,callback){this.getAPI(function(){callback(this.state[chatOptions.buttonId].available)})},showVendorPopup:function(chatOptions,popupWidth,popupHeight){this.getAPI(function(liveagent){liveagent.setChatWindowWidth(popupWidth);liveagent.setChatWindowHeight(popupHeight);liveagent.startChat(chatOptions.buttonId)})}}});modular.declare("Chat.SnapEngage",["Chat",Helper]);modular.define(function(Chat,Helper){Chat.addProvider("SnapEngage",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;
injectSnapEngageAPI(this.chatOptions.accountNum);getSnapEngageAPI(function(SnapEngage){SnapEngage.hideButton();SnapEngage.setCallback("Close",function(){SnapEngage.hideButton()})})},isAgentAvailable:function(callback){getSnapEngageAPI(function(SnapEngage){SnapEngage.getAgentStatusAsync(function(online){callback(online)})})},showVendorUI:function(){getSnapEngageAPI(function(SnapEngage){SnapEngage.startLink()})},showVendorPopup:function(){var popupUrl="http://www.snapengage.com/chat?t=out&w="+this.chatOptions.accountNum;Helper.openPopup(popupUrl,"nrSnapEngageChatWindow",346,365)}});function injectSnapEngageAPI(accountId){if(window.SnapEngage){return}var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src="//storage.googleapis.com/code.snapengage.com/js/"+accountId+".js";var done=false;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(getSnapEngageAPI.callbackQueue){for(var i=0;i<getSnapEngageAPI.callbackQueue.length;i++){getSnapEngageAPI.callbackQueue[i](window.SnapEngage)}delete getSnapEngageAPI.callbackQueue}}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s)}function getSnapEngageAPI(callback){if(window.SnapEngage){callback(window.SnapEngage)}else{if(!getSnapEngageAPI.callbackQueue){getSnapEngageAPI.callbackQueue=[]}getSnapEngageAPI.callbackQueue.push(callback)}}});modular.declare("Chat.LiveEngage",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("LiveEngage",{capabilities:{customUI:false,vendorUI:true,vendorPopup:false},getChannelId:function(channel){var id=channel.chatProvider+"_"+channel.chatOptions.accountNum+"_"+channel.chatOptions.engagementId;return id},initialize:function(chatOptions){if(chatOptions.engagementDivId&&!document.getElementById(chatOptions.engagementDivId)){var container=document.createElement("div");container.style.display="none";container.id=chatOptions.engagementDivId;document.body.appendChild(container);
var notifyMethodAvailable=window.lpTag&&window.lpTag.sdes&&typeof window.lpTag.sdes.send==="function";if(notifyMethodAvailable){lpTag.sdes.send([{type:"pagediv",divId:chatOptions.engagementDivId}])}}LE.injectAPI(chatOptions.accountNum,chatOptions.engagementId).on({agentAvailabilityChanged:function(engagement){if(engagement.id===chatOptions.engagementId){this.emit("agentAvailabilityChanged",engagement.available)}},windowOpened:function(engagementId){},windowClosed:function(engagementId){}},this)},isAgentAvailable:function(callback){LE.isAgentAvailable(this.chatOptions.engagementId,function(isAvailable){callback(isAvailable)})},showVendorUI:function(){LE.showVendorUI(this.chatOptions.engagementId)}});var LE={activeEngagementId:null,engagements:{},on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,injectAPI:function(accountId,engagementId){var self=this;this.engagements[engagementId]=this.engagements[engagementId]||{state:0};if(this.apiInjected){return this}else{this.apiInjected=true}if(!window.lpTag){window.lpTag=window.lpTag||{};if(typeof window.lpTag._tagCount==="undefined"){window.lpTag={site:accountId||"",section:lpTag.section||"",autoStart:lpTag.autoStart===false?false:true,ovr:lpTag.ovr||{},_v:"1.6.0",_tagCount:1,protocol:"https:",events:{bind:function(app,ev,fn){lpTag.defer(function(){lpTag.events.bind(app,ev,fn)},0)},trigger:function(app,ev,json){lpTag.defer(function(){lpTag.events.trigger(app,ev,json)},1)}},defer:function(fn,fnType){if(fnType==0){this._defB=this._defB||[];this._defB.push(fn)}else{if(fnType==1){this._defT=this._defT||[];this._defT.push(fn)}else{this._defL=this._defL||[];this._defL.push(fn)}}},load:function(src,chr,id){var t=this;setTimeout(function(){t._load(src,chr,id)},0)},_load:function(src,chr,id){var url=src;if(!src){url=this.protocol+"//"+((this.ovr&&this.ovr.domain)?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site}var s=document.createElement("script");s.setAttribute("charset",chr?chr:"UTF-8");if(id){s.setAttribute("id",id)
}s.setAttribute("src",url);document.getElementsByTagName("head").item(0).appendChild(s)},init:function(){this._timing=this._timing||{};this._timing.start=(new Date()).getTime();var that=this;if(window.attachEvent){window.attachEvent("onload",function(){that._domReady("domReady")})}else{window.addEventListener("DOMContentLoaded",function(){that._domReady("contReady")},false);window.addEventListener("load",function(){that._domReady("domReady")},false)}if(typeof(window._lptStop)=="undefined"){this.load()}},start:function(){this.autoStart=true},_domReady:function(n){if(!this.isDom){this.isDom=true;this.events.trigger("LPT","DOM_READY",{t:n})}this._timing[n]=(new Date()).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]};lpTag.init()}else{window.lpTag._tagCount+=1}}this.getAPI(function(){setInterval(function(){var engagement,activeEngagementState;for(var engagementId in self.engagements){if(self.engagements.hasOwnProperty(engagementId)){engagement=self.engagements[engagementId];activeEngagementState=window.lpTag.taglets.rendererStub.getEngagementState(engagementId).state;if(engagement.state!==activeEngagementState){engagement.state=activeEngagementState;self.emit("agentAvailabilityChanged",{id:engagementId,state:engagement.state,available:engagement.state===1})}}}},500);window.lpTag.events.bind("lpUnifiedWindow","windowClosed",function(){self.emit("windowClosed",self.activeEngagementId);self.activeEngagementId=null})});return this},isFullyLoadedAPI:function(){try{return typeof window.lpTag.taglets.rendererStub.getEngagementState==="function"}catch(e){return false}},getAPI:function(callback){var self=this;this.useCallbackQueue(this.getAPI,callback,function(callback){if(self.isFullyLoadedAPI()){callback.call(self)}else{window.lpTag.events.bind("LE_ENGAGER","SHOW",function(){callback.call(self)})}})},isAgentAvailable:function(engagementId,callback){this.getAPI(function(){callback(this.engagements[engagementId].state===1)})},showVendorUI:function(engagementId){if(!this.activeEngagementId&&window.lpTag.taglets.rendererStub.click(engagementId)){this.activeEngagementId=engagementId;
this.emit("windowOpened",engagementId)}},useCallbackQueue:function(func,callback,funcBody){var self=this;if(func._resolvedArgs){if(callback){callback.apply(self,func._resolvedArgs)}}else{if(func._callbackQueue){if(callback){func._callbackQueue.push(callback)}}else{func._callbackQueue=func._callbackQueue||[];if(callback){func._callbackQueue.push(callback)}funcBody.call(self,function(){func._resolvedArgs=Array.prototype.slice.call(arguments);for(var i=0;i<func._callbackQueue.length;i++){func._callbackQueue[i].apply(self,arguments)}delete func._callbackQueue})}}}}});if(container.Common){modular.declare("Chat.LivePerson",["Chat",container.Alloy,container.Common.DOM,container.Common.Helper,container.Legacy.Misc.checkString,EventEmitter,container.Localization])}else{modular.declare("Chat.LivePerson",["Chat",Alloy,DOM,Helper,null,EventEmitter,null])}modular.define(function(Chat,Alloy,DOM,Helper,checkString,EventEmitter,Localization){var Provider=Chat.addProvider("LP",{capabilities:{customUI:true,vendorUI:false,vendorPopup:true,pendingMessages:true},initialize:function(chatOptions){this.chatOptions=chatOptions;this.agentFilter={};if(this.chatOptions){this.agentFilter.skill=this.chatOptions.agentSkill}if(!isNaN(parseFloat(this.chatOptions.waitTime))){this.agentFilter.maxWaitTime=parseFloat(this.chatOptions.waitTime)}LP.initAPI(this.chatOptions,this)},isAgentAvailable:function(callback){var self=this;LP.getAgentStatus(function(isAvailable){callback(isAvailable);if(isAvailable&&self.chatOptions.preChat){LP.loadPreChatSurvey()}})},isSessionActive:function(callback){LP.isSessionActive(callback)},isSessionResumed:function(callback){LP.isSessionResumed(callback)},showVendorPopup:function(popupWidth,popupHeight){var self=this;LP.detectAccountServer(self.chatOptions.accountNum,function(serverApiDomain){var popupUrl="https://"+serverApiDomain+"/hc/"+self.chatOptions.accountNum+"/?cmd=file&file=visitorWantsToChat&site="+self.chatOptions.accountNum+"&byhref=1";if(self.chatOptions.agentSkill){popupUrl+="&SV!skill="+encodeURIComponent(self.chatOptions.agentSkill)
}Helper.openPopup(popupUrl,"nrLPChatWindow",popupWidth,popupHeight)})},getChatState:function(callback){LP.getAPI(function(chatInstance){callback(chatInstance.getState()||null)})},getChatLog:function(callback){callback(LP.getCurrentChatLog())},getStatusMessage:function(callback){callback(LP.getLastSystemMessage())},getAgentName:function(callback){LP.getAgentName(callback)},requestChat:function(){var self=this;LP.getAPI(function(chatInstance){if(self.chatOptions.preChat){LP.loadPreChatSurvey(function(error,surveyConfig){if(!error&&(chatInstance.getState()!=="waiting"&&chatInstance.getState()!=="chatting")){self.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatSurvey",config:surveyConfig,area:"overlay"})}else{chatInstance.requestChat(self.agentFilter)}})}else{chatInstance.requestChat(self.agentFilter)}if(!self.chatOptions.hideSendToEmail){self.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatTranscript",area:"toolbar"})}})},setUserTyping:function(isTyping){LP.getAPI(function(chatInstance){chatInstance.setVisitorTyping({typing:isTyping})})},sendMessage:function(messageText,callback){LP.getAPI(function(chatInstance){if(chatInstance.getState()==="chatting"){LP.nrSendChatMessage(messageText,callback)}else{LP.nrSendPendingChatMessage(messageText,callback)}})},setCustomParams:function(paramsObject){LP.setPendingCustomVariable({customVariable:paramsObject})},endChat:function(){LP.endChat()},_submitPreSurvey:function(surveyData){var self=this;if(surveyData){self.agentFilter.survey=surveyData}LP.getAPI(function(chatInstance){chatInstance.requestChat(self.agentFilter)})},_submitPostSurvey:function(surveyData){if(surveyData){LP.getAPI(function(chatInstance){chatInstance.submitExitSurvey({survey:surveyData})})}this.emit("chatStateChanged","close")},_emailTranscript:function(email){LP.getAPI(function(chatInstance){chatInstance.requestTranscript({email:email})})}});Provider.ChatSurvey=EventEmitter.extend({name:"ChatSurvey",_prototype:{ctor:function(obj){this.surveyType=obj.surveyType;
this.chatUI=obj.chatUI;this.chatProvider=obj.chatProvider;this.build(obj,obj.container)},build:function(survey,parentNode){var self=this;this.container=DOM.createElement("div",{parent:parentNode,className:"surveyContainer nr-lp-survey"});this.survey=survey;this.questions=[];this.logicQuestions=[];DOM.createElement("div",{parent:this.container,className:"surveyHeading",innerHTML:survey.header});for(var i=0;i<survey.questions.question.length;i++){var question=survey.questions.question[i];this.appendQuestion(question,this.container)}this.submitHandler=function(){self.submit()};this.btnSubmit=DOM.createElement("button",{textContent:"Submit!",className:"nr-lp-btn-submit",parent:this.container});this.btnSubmit.onclick=this.submitHandler},appendQuestion:function(question,container){var table=DOM.createElement("table",{parent:container,cellPadding:"3"});var tbody=DOM.createElement("tbody",{parent:table});var td,tr;var logic=this.logicQuestions[question.logicId.toString()];var questionObj={question:question,visible:true};questionObj.row=table;if(logic){var type=logic.type;var element=logic.element;table.style.display="none";questionObj.visible=false;var mthis=this;switch(type){case"Dropdown Box":element.parentNode.onchange=function(){var selected=element.parentNode.value===element.value;mthis.toggleLogicQuestion(table,selected,questionObj)};break;default:element.onclick=function(){mthis.toggleLogicQuestion(table,this.checked,questionObj)};break}}tr=DOM.createElement("tr",{parent:tbody,valign:"top"});td=DOM.createElement("td",{parent:tr,className:"question"});td.innerHTML=question.label+(question.mandatory?'<span class="mandatory"> *</span>':"");td=DOM.createElement("tr",{parent:tr});this.buildInput(question,td,questionObj);if(question.label.toLowerCase().indexOf("name")>-1){questionObj.labelHasName=true}this.questions.push(questionObj)},buildInput:function(question,td,questionObj){var options=question.entry;var input,i,op;var tmpWrapper,tmpHolder,tmpLabel;switch(question.type){case"Text Field":input=DOM.createElement("input",{type:"text",parent:td,value:question.lastKnownValue,maxLength:40});
questionObj.input=input;break;case"Text Area":input=DOM.createElement("textarea",{parent:td,className:"inputTxt",value:question.lastKnownValue});questionObj.input=input;break;case"Dropdown Box":input=DOM.createElement("select",{parent:td,className:"surveySelect"});if(!options){break}for(i=0;i<options.length;i++){op=DOM.createElement("option",{parent:input,value:options[i].value,textContent:options[i].value});op.selected=options[i].checked;this.addLogicQuestion(options[i],op,question.type)}questionObj.input=input;break;case"Checkbox":if(!options){break}questionObj.inputs=[];for(i=0;i<options.length;i++){tmpWrapper=DOM.createElement("table",{parent:td});tmpHolder=DOM.createElement("td",{parent:tmpWrapper});tmpLabel=DOM.createElement("label",{parent:tmpHolder});op=DOM.createElement("input",{type:"checkbox",parent:tmpLabel,value:options[i].value,checked:options[i].checked});DOM.createElement("span",{parent:tmpLabel,textContent:options[i].displayValue});questionObj.inputs.push(op);this.addLogicQuestion(options[i],op,question.type)}break;case"Radio Button (side by side)":case"Radio Button":if(!options){break}questionObj.inputs=[];td.className+=(question.type==="Radio Button (side by side)"?" radio-layout-sidebyside":" radio-layout-default");for(i=0;i<options.length;i++){tmpWrapper=DOM.createElement("table",{parent:td});tmpHolder=DOM.createElement("td",{parent:tmpWrapper});tmpLabel=DOM.createElement("label",{parent:tmpHolder});op=DOM.createElement("input",{type:"radio",parent:tmpLabel,name:"q_"+question.id,value:options[i].value,checked:options[i].checked});DOM.createElement("span",{parent:tmpLabel,textContent:options[i].displayValue});questionObj.inputs.push(op);this.addLogicQuestion(options[i],op,question.type)}break}},addLogicQuestion:function(option,element,type){if(option.logic&&option.logic.showLogicId){var showLogicId=option.logic.showLogicId;var obj={element:element,type:type};this.logicQuestions[showLogicId]=obj}},toggleLogicQuestion:function(table,visible,questionObj){table.style.display=visible?"":"none";questionObj.visible=visible;
this.chatUI.emit("resize")},validateSurvey:function(){var questions=this.questions;var errors=false;var nameValidated=false;var inputValue;for(var i=0;i<questions.length;i++){if(!questions[i].visible){continue}var question=questions[i].question;var input=questions[i].input;var inputs=questions[i].inputs;var row=questions[i].row;var labelHasName=questions[i].labelHasName;var error=false;if(input){inputValue=input.value.replace(/^\s+|\s+$/g,"")}else{inputValue=null}if(question.mandatory){if(inputValue===""){error=true}else{if(inputs){var filled=false;for(var j=0;j<inputs.length;j++){if(inputs[j].checked){filled=true;break}}error=!filled}}}if((question.type==="Text Field"||question.type==="Text Area")&&inputValue){switch(question.validationType){case"alpha_numeric":if(labelHasName&&!nameValidated){error|=inputValue.indexOf('"')>-1|inputValue.indexOf("'")>-1|inputValue.indexOf("<")>-1|inputValue.indexOf(">")>-1|inputValue.indexOf(";")>-1;nameValidated=true}break;case"numeric":error|=!checkString(inputValue,"number");break;case"email":error|=!checkString(inputValue,"email");break}}if(error){row.className="validationError";errors=true}else{row.className=""}}return !errors},submit:function(){if(!this.validateSurvey()){return}var surveyObj={survey:{id:this.survey.id,question:[]}};var emptySurvey=true;for(var i in this.questions){if(!this.questions[i].visible){continue}var question=this.questions[i].question;var input=this.questions[i].input;var inputs=this.questions[i].inputs;var questionObj={id:question.id};if(input&&input.value){questionObj.answer=input.value.replace(/^\s+|\s+$/g,"").replace(/\"/g,'\\"')}else{if(inputs){var answers=[];for(var j in inputs){if(inputs[j].checked){answers.push(inputs[j].value)}}if(answers.length){questionObj.answer=answers}}}if(questionObj.answer){if(emptySurvey){emptySurvey=false}surveyObj.survey.question.push(questionObj)}}this.chatProvider[this.surveyType==="pre"?"_submitPreSurvey":"_submitPostSurvey"](emptySurvey?null:surveyObj.survey);this.dispose()},dtor:function(){DOM.removeNode(this.container);
this.emit("dispose");this.chatProvider=null;this.chatUI=null}}});Provider.ChatTranscript=EventEmitter.extend({name:"ChatTranscript",_prototype:{ctor:function(obj){this.chatProvider=obj.chatProvider;this.chatUI=obj.chatUI;this.container=obj.container;this.initStructure()},initStructure:function(){var self=this;this.block=DOM.createElement("div",{parent:this.container,className:"nr-lp-transcript"});this.btnShowForm=DOM.createElement("div",{parent:this.block,className:"nr-lp-transcript-btn","nr-tooltip":Localization.getText("Channeling.emailChat"),"nr-tooltip-position-y":"bottom"});this.form=DOM.createElement("form",{parent:this.block,className:"nr-lp-transcript-form"});this.emailInput=DOM.createElement("input",{parent:this.form,className:"nr-lp-transcript-input",placeholder:Localization.getText("Channeling.enterEmail")});this.btnCancel=DOM.createElement("span",{parent:this.form,className:"nr-lp-transcript-action",textContent:Localization.getText("Channeling.cancel")});this.btnSendEmail=DOM.createElement("span",{parent:this.form,className:"nr-lp-transcript-action nr-lp-transcript-action-highlight",textContent:Localization.getText("Channeling.sendChat")});this.hideForm();this.btnShowForm.onclick=function(){self.showForm();self.emailInput.focus()};this.btnSendEmail.onclick=function(){if(self.validate()){self.chatProvider._emailTranscript(self.emailInput.value);self.dispose()}};this.form.onsubmit=function(){self.btnSendEmail.onclick();return false};this.btnCancel.onclick=function(){self.emailInput.value="";self.hideForm()}},validate:function(){if(!checkString(this.emailInput.value,"email")){alert(Localization.getText("Channeling.emailValidation"));return false}return true},showForm:function(){DOM.addClass(this.container,"nr-lp-transcript-form-active");this.btnShowForm.style.display="none";this.form.style.display=""},hideForm:function(){DOM.removeClass(this.container,"nr-lp-transcript-form-active");this.btnShowForm.style.display="";this.form.style.display="none"},dtor:function(){this.hideForm();DOM.removeNode(this.block);
this.emit("dispose");this.chatProvider=null;this.chatUI=null}}});var LP={state:null,chatOptions:null,chatInstance:null,chatProvider:null,initAPI:function(chatOptions,chatProvider){this.resetState();this.chatOptions=chatOptions;this.chatProvider=chatProvider;this.detectAccountServer(this.chatOptions.accountNum)},detectAccountServer:function(accountId,callback){this.useCallbackQueue(this.detectAccountServer,callback,function(callback){Alloy.jsonp({url:"//api.liveperson.net/csdr/account/"+accountId+"/service/adminArea/baseURI.lpCsds?version=1.0",handler:function(error,data){callback(data.ResultSet.lpData[0].lpServer)}})})},isSessionActive:function(callback){var self=this;if(typeof callback!=="function"){return}LP.getAPI(function(chatInstance){var chatState=chatInstance.getState();if(chatState!=="chatting"&&chatState!=="ended"&&chatState!=="waiting"){self.state.pendingSessionRequests.push(callback)}else{callback(true)}})},isSessionResumed:function(callback){if(typeof callback!=="function"){return}callback(LP.state.chatWasResumed)},pollAgentStatus:function(){LP.getAPI(function(chatInstance){var pollInterval=3000;var requestUpdate=function(){chatInstance.getAvailabilty({skill:LP.chatOptions.agentSkill,success:function(data){if(LP.agentIsAvailable!==data.availability){LP.agentIsAvailable=data.availability;LP.chatProvider.emit("agentAvailabilityChanged",LP.agentIsAvailable)}setTimeout(requestUpdate,pollInterval)}})};requestUpdate()})},getAgentStatus:function(callback){var self=this;this.useCallbackQueue(this.getAgentStatus,callback,function(callback){this.detectAccountServer(this.chatOptions.accountNum,function(serverApiDomain){window.lpServerName=serverApiDomain;window.lpNumber=this.chatOptions.accountNum;window.lpSkill=this.chatOptions.agentSkill;window.repStateNotifyFunction=function(agentStatus){var isAvailable=(agentStatus==="online");callback(isAvailable);LP.agentIsAvailable=isAvailable;self.pollAgentStatus()};DOM.appendJavaScriptElement("//"+serverApiDomain+"/hcp/html/lpCheckRepState.js")})})},getAPI:function(callback){this.useCallbackQueue(this.getAPI,callback,function(callback){var self=this;
var apiLoadedHandler=function(){var chatInstance=new window.lpTag.taglets.ChatOverRestAPI({transportOrder:["rest2jsonp"],appKey:self.chatOptions.apiKey,lpNumber:self.chatOptions.accountNum,skill:self.chatOptions.agentSkill||null,onInit:function(){callback(chatInstance)},onLoad:function(){},onLine:function(data){for(var i=0,line;i<data.lines.length;i++){line=data.lines[i];line.text=line.text.toString();if(line.source==="system"){self.state.lastSystemMessage={text:line.text,textType:line.textType,type:line.source};self.chatProvider.emit("systemMessage",self.state.lastSystemMessage)}else{if(line.source==="visitor"){line.source="client"}if(line.source==="client"&&self.state.pendingMessages.length){var thisWasPendingMessage=false;for(var j=0;j<self.state.pendingMessages.length;j++){if(self.state.pendingMessages[j].text===line.text){thisWasPendingMessage=true;self.state.pendingMessages.splice(j,1);break}}if(!self.state.pendingMessages.length){localStorage.removeItem("nr_lp_pending"+chatInstance.getSessionKey())}if(thisWasPendingMessage){continue}}self.state.currentChatLog.push({text:line.text,textType:line.textType,type:line.source,id:self.getUniqueId(),status:"sent"});if(line.source==="agent"&&chatInstance.getState()!=="resume"){self.chatProvider.emit("newMessage",self.state.currentChatLog[self.state.currentChatLog.length-1])}}}},onState:function(data){self.chatProvider.emit("_chatStateChanged",data.state);var knownState=true;switch(data.state){case"initialised":setTimeout(function(){if(self.state.pendingSessionRequests.length&&chatInstance.getState()==="initialised"){for(var i=0;i<self.state.pendingSessionRequests.length;i++){self.state.pendingSessionRequests[i](false)}self.state.pendingSessionRequests=[]}},500);knownState=false;break;case"resume":self.state.chatWasResumed=true;knownState=false;break;case"chatting":if(self.state.pendingMessages.length){for(var i=0;i<self.state.pendingMessages.length;i++){self.nrSendChatMessage(self.state.pendingMessages[i])}}if(self.state.pendingSessionRequests.length){for(var i=0;i<self.state.pendingSessionRequests.length;
i++){self.state.pendingSessionRequests[i](true)}self.state.pendingSessionRequests=[]}self.state.userWasChatting=true;if(!self.state.initStateCalled){self.state.initStateCalled=true;self.chatProvider.emit("chatStateChanged","init")}break;case"waiting":try{var pendingMessagesStrings=JSON.parse(localStorage.getItem("nr_lp_pending"+chatInstance.getSessionKey()));for(var k=0;k<pendingMessagesStrings.length;k++){self.state.pendingMessages.push({id:self.getUniqueId(),text:pendingMessagesStrings[k],textType:"plain",type:"client",status:"sending"})}}catch(e){}if(self.state.pendingMessages.length){for(var j=0;j<self.state.pendingMessages.length;j++){self.state.currentChatLog.push(self.state.pendingMessages[j])}}if(self.state.pendingCustomVariables){chatInstance.setCustomVariable(self.state.pendingCustomVariables)}if(!self.state.initStateCalled){self.state.initStateCalled=true;self.chatProvider.emit("chatStateChanged","init")}break;case"ended":self.state.chatWasResumed=false;if(self.state.pendingSessionRequests.length){for(var i=0;i<self.state.pendingSessionRequests.length;i++){self.state.pendingSessionRequests[i](false)}self.state.pendingSessionRequests=[]}if(!self.state.userWasChatting&&!self.state.userEndedChat){self.resetState();chatInstance.requestChat(self.chatProvider.agentFilter);return}if(self.state.userEndedChat){if(self.chatOptions.postChat){self.loadPostChatSurvey(function(error,surveyConfig){if(!error){self.chatProvider.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatSurvey",config:surveyConfig,area:"overlay"})}})}else{self.chatProvider.emit("chatStateChanged","close")}}self.resetState();break;default:knownState=false}if(knownState){self.chatProvider.emit("chatStateChanged",data.state)}},onStart:function(){self.chatProvider.emit("chatStarted")},onAgentTyping:function(data){self.chatProvider.emit("agentTyping",data.agentTyping)},onAvailability:function(data){self.chatProvider.emit("agentAvailable",data)},onInfo:function(data){if(data.agentName&&self.getAgentName._callbackQueue){for(var i=0;
i<self.getAgentName._callbackQueue.length;i++){self.getAgentName._callbackQueue[i](data.agentName)}delete self.getAgentName._callbackQueue}}})};var done=false;var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src="//server.iad.liveperson.net/hcp/html/lpChatV3.min.js?site="+self.chatOptions.accountNum;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;apiLoadedHandler()}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s)})},endChat:function(){this.getAPI(function(chatInstance){if(chatInstance.getState()==="ended"){this.chatProvider.emit("chatStateChanged","close")}else{this.state.userEndedChat=true;chatInstance.endChat()}})},resetState:function(){this.state={userEndedChat:false,userWasChatting:false,chatWasResumed:false,initStateCalled:false,lastSystemMessage:null,currentChatLog:[],pendingMessages:[],pendingSessionRequests:[],pendingCustomVariables:null}},getLastSystemMessage:function(){var systemMessage=this.state.lastSystemMessage;return systemMessage},getCurrentChatLog:function(){return this.state.currentChatLog},getAgentName:function(callback){this.getAPI(function(chatInstance){if(chatInstance.getState()==="waiting"){callback(null)}else{if(chatInstance.getAgentLoginName()){callback(chatInstance.getAgentLoginName())}else{this.getAgentName._callbackQueue=this.getAgentName._callbackQueue||[];this.getAgentName._callbackQueue.push(callback)}}})},setPendingCustomVariable:function(paramsObject){this.state.pendingCustomVariables=paramsObject},nrSendChatMessage:function(messageText,callback){var self=this;var message=(typeof messageText==="object"?messageText:{id:this.getUniqueId(),text:messageText,textType:"plain",type:"client",status:"sending"});if(callback){callback(message)}this.getAPI(function(chatInstance){chatInstance.addLine({text:message.text,success:function(){message.status="sent";self.chatProvider.emit("updateMessage",message)},error:function(){message.status="failed";
self.chatProvider.emit("updateMessage",message)}})})},nrSendPendingChatMessage:function(messageText,callback){var message={id:this.getUniqueId(),text:messageText,textType:"plain",type:"client",status:"sending"};if(callback){callback(message)}this.state.currentChatLog.push(message);this.state.pendingMessages.push(message);this.getAPI(function(chatInstance){var pendingMessagesStrings=[];for(var i=0;i<this.state.pendingMessages.length;i++){pendingMessagesStrings.push(this.state.pendingMessages[i].text)}localStorage.setItem("nr_lp_pending"+chatInstance.getSessionKey(),JSON.stringify(pendingMessagesStrings))})},loadPreChatSurvey:function(callback){var self=this;var patchedCallback=callback?function(){var args=Array.prototype.slice.call(arguments);LP.getAPI(function(chatInstance){if(chatInstance.getState()==="resume"){var tmpHandler=function(){self.chatProvider.off("_chatStateChanged",tmpHandler);callback.apply(self,args)};self.chatProvider.on("_chatStateChanged",tmpHandler)}else{callback.apply(self,args)}})}:null;this.useCallbackQueue(this.loadPreChatSurvey,patchedCallback,function(callback){var surveyOptions={success:function(data){data.survey.surveyType="pre";callback(false,data.survey)},error:function(error){callback(error)}};if(this.chatOptions.agentSkill){surveyOptions.skill=this.chatOptions.agentSkill}this.getAPI(function(chatInstance){chatInstance.getPreChatSurvey(surveyOptions)})})},loadPostChatSurvey:function(callback){this.useCallbackQueue(this.loadPostChatSurvey,callback,function(callback){this.getAPI(function(chatInstance){chatInstance.getExitSurvey({success:function(data){data.survey.surveyType="post";callback(false,data.survey)},error:function(error){callback(error)}})})})},useCallbackQueue:function(func,callback,funcBody){var self=this;if(func._resolvedArgs){if(callback){callback.apply(self,func._resolvedArgs)}}else{if(func._callbackQueue){if(callback){func._callbackQueue.push(callback)}}else{func._callbackQueue=func._callbackQueue||[];if(callback){func._callbackQueue.push(callback)}funcBody.call(self,function(){func._resolvedArgs=Array.prototype.slice.call(arguments);
for(var i=0;i<func._callbackQueue.length;i++){func._callbackQueue[i].apply(self,arguments)}delete func._callbackQueue})}}},getUniqueId:function(){this.getUniqueId._uid=this.getUniqueId._uid||1;return this.getUniqueId._uid++}}});this.Chat=modular.byName("Chat")}});nanoRep.BundleManager.define({name:"Channeling",require:["Alloy","Common","Localization","FileUploader","Chat"],data:{},ns:"nanoRep.SDK.Channeling",init:function(container,data,utils){var modular=new utils.Modular();var Localization=container.Localization;Localization.defineDictionary("ar","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"rtl",textAlign:"right",negativeTextAlign:"right",titleTeaserText:"    :",titleNormalText:"   :",loginError:"Oops... something went wrong. Please try again later",askNowLink:"Ask an Agent",chatNow:"Chat with an Agent",askBy:"    :",email:"  ",chat:" ",newSearch:"  ",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:"",searchMsgNOResults:"   ...     .",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... something went wrong. Please try again",closeChat:"  ",sendBtn:" ",like:" !",dislike:"Dislike",chatCallingStatus:"Please wait for an agent to answer...",chatTyping:"...",chattingNow:"    ",chatJoined:" has joined the chat.",chatClosed:"  ",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"  ",quickAnswer:"  :",sendChat:" ",confirmEndChat:"     .   ?",me:" ",emailChat:"    ",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"   ",emailValidation:"       ",cancel:" ",back:" &lt;",translating:" ",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:"Thank you for submitting your question, you will receive an email reply shortly.<br/><br/>In the meantime, feel free to ask any further questions you may have in the box above."});
Localization.defineDictionary("pt","Channeling",{filesDeleted:"Devido a um erro de conexo, os arquivos foram eliminados. Por favor, tente novamente.",fileBlockedFileSize:"Anexao de arquivos falhou. O tamanho mximo de arquivo  %var% MB.",fileExtensionBlocked:"A extenso do arquivo %var% no  permitda.",fileMaxReached:"Voc atingiu o limite mximo de anexos.",fileBlocked:"Voc no pode anexar arquivos neste momento. Por favor, tente mais tarde.",chooseFile:"Escolha um arquivo...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Receba respostas instantneas:",titleNormalText:"Receba respostas instantneas:",loginError:"Oops... Deu erro. Tente novamente",askNowLink:"Pergunte a um Representante",chatNow:"Converse com um representante",askBy:"Pea a um representante por:",email:"Email",chat:"Chat",newSearch:"Nova Busca",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" ou",searchMsgNOResults:"Nenhum resultado... tente um fraseado diferente ou chame um agente.",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... Deu erro. Tente novamente",closeChat:"Fechar o Chat",sendBtn:"Enviar",like:"Curti!",dislike:"Dislike",chatCallingStatus:"Um agente estar com voc em breve ...",chatTyping:" est digitando ...",chattingNow:"Agora voc est conversando com ",chatJoined:" juntou-se ao bate-papo.",chatClosed:"Chat encerrado",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat retomado",quickAnswer:"Resposta rpida:",sendChat:"Enviar",confirmEndChat:"Isso vai terminar a sua sesso de chat. Voc tem certeza?",me:"Eu",emailChat:"Enviar transcrio deste chat por e-mail",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Digite o e-mail",emailValidation:"Por favor, digite um endereo de e-mail vlido",cancel:"Cancelar",back:"&lt; Voltar",translating:"Traduzindo",next:"Next &gt;",prev:"&lt; Prev"});
Localization.defineDictionary("ru","Channeling",{filesDeleted:"        .     .",fileBlockedFileSize:"   .    %var% MB.",fileExtensionBlocked:'    "%var%" ',fileMaxReached:"     ",fileBlocked:"       ,  ",chooseFile:" ...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:" :",titleNormalText:" :",loginError:"Oops...  .  ",askNowLink:" ",chatNow:"  ",askBy:" :",email:"Email",chat:"",newSearch:" ",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:"   ",searchMsgNOResults:" ...      .",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",phoneDialogTitle:" ",ticketDialogTitle:"  ",wrongLogin:"Oops...  .  ",closeChat:" ",sendBtn:"",like:"!",dislike:"Dislike",chatCallingStatus:"    ...",chatTyping:"...",chattingNow:"     ",chatJoined:"   .",chatClosed:" ",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:" ",quickAnswer:" :",sendChat:"",confirmEndChat:"   .  ?",me:"",emailChat:"   ",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"   ",emailValidation:"    ",cancel:"",back:"&lt; ",translating:" ",next:" &gt;",prev:"&lt; ",readOnlyModeAlert:"  ",topicPostConfirmationText:"              ."});
Localization.defineDictionary("sv","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"F svar omgende:",titleNormalText:"F svar omgende:",loginError:"Oops... ngot gick fel. Frsk igen.",askNowLink:"Frga en agent",chatNow:"Chatta med en agent",askBy:"Be en agent med:",email:"E-post",chat:"Chatt",newSearch:"Ny skning",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" or ",searchMsgNOResults:"Inga resultat ... prova en annan frasering eller be en agent",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... ngot gick fel. Frsk igen.",closeChat:"Stng chatt",sendBtn:"Skicka",like:"Gilla!",dislike:"Dislike",chatCallingStatus:"Vnta p att en representant svarar dig ...",chatTyping:" skriver...",chattingNow:"Du chattar nu med ",chatJoined:" har anslutit sig till chatten.",chatClosed:"Chat stngd",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat terupptas",quickAnswer:"Snabbt svar:",sendChat:"Skicka",confirmEndChat:"Detta kommer att avsluta din chatt. r du sker?",me:"Me",emailChat:"Skicka chatthistorik via e-post",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Ange e-postadress",emailValidation:"Ange en giltig e-postadress",cancel:"Avbryt",back:"&lt; Back",translating:"verstter",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Tillgnglig fr tillfllet",topicPostConfirmationText:"Tack fr att du skicka din frga, kommer du f ett mail svar inom kort. <br/><br/> Under tiden r du vlkommen att stlla ytterligare frgor du kan ha i rutan ovan."});
Localization.defineDictionary("zh","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:":",titleNormalText:":",loginError:"Oops... something went wrong. Please try again later",askNowLink:"Ask an Agent",chatNow:"Chat with an Agent",askBy:":",email:"",chat:"",newSearch:"",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" ",searchMsgNOResults:".",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... something went wrong. Please try again",closeChat:"",sendBtn:"",like:"!",dislike:"Dislike",chatCallingStatus:"Please wait for a representative to answer you...",chatTyping:" ...",chattingNow:"",chatJoined:" has joined the chat.",chatClosed:"",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"",quickAnswer:":",sendChat:"",confirmEndChat:"?",me:"",emailChat:"",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"",emailValidation:"",cancel:"",back:"&lt; ",translating:"",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:".<br/><br/>."});Localization.defineDictionary("de","Channeling",{filesDeleted:"Aufgrund eines Verbindungsfehlers, wurden Ihre Dateien entfernt. Bitte probieren Sie es erneut.",fileBlockedFileSize:"Hochladen fehlgeschlagen. Maximale Dateigre %var% MB.attachment failed.",fileExtensionBlocked:"Die Dateiendung %var% ist nicht erlaubt.",fileMaxReached:"Sie haben die Maximale Anzahl an Attachments berschritten.",fileBlocked:"Sie knnen derzeit keine Dateien bertragen. Versuchen Sie es zu einem spteren Zeitpunkt erneut.",chooseFile:"Datei(en) auswhlen...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Sofort eine Antwort erhalten:",titleNormalText:"Sofort eine Antwort erhalten:",loginError:"Oops ... etwas schief gelaufen. Bitte versuchen Sie es spater erneut",askNowLink:"Stellen Sie eine Vertreterin",chatNow:"Diskutieren Sie mit einem Vertreter ",askBy:"Einen Vertreter fragen per:",email:"Email",chat:"Chat",newSearch:"Neue Suche",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" oder ",searchMsgNOResults:"Keine Ergebnisse...",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",phoneDialogTitle:"Rufen Sie uns",ticketDialogTitle:"Kontaktiere uns",wrongLogin:"Oops ... etwas schief gelaufen. Bitte versuchen Sie es erneut",closeChat:"Schlieen Sie Chat",sendBtn:"Senden",like:"Like!",dislike:"Dislike",chatCallingStatus:"Ein Agent wird mit Ihnen in Krze ...",chatTyping:" ist die Eingabe ...",chattingNow:"Sie befinden sich jetzt im Chat mit ",chatJoined:" hat am Chat teil.",chatClosed:"Chat geschlossen",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat fortgesetzt",quickAnswer:"Schnellantwort:",sendChat:"Senden",confirmEndChat:"Dies beendet Ihren Chat. Sind Sie sicher?",me:"Ich",emailChat:"Dieses Chat-Transkript senden",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"E-Mail eingeben",emailValidation:"Bitte geben Sie eine gltige E-Mail-Adresse ein",cancel:"Abbrechen",back:"&lt; Zurck",translating:"bersetzen",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:"Vielen Dank fr das Einsenden Ihrer Frage. Sie werden eine Antwort per E-Mail in Krze erhalten. In der Zwischenzeit knnen Sie weitere Fragen stellen, indem Sie die Box oben verwenden.."});
Localization.defineDictionary("en","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Get Instant Answers:",titleNormalText:"Get Instant Answers:",loginError:"Oops... something went wrong. Please try again later",askNowLink:"Ask an Agent",chatNow:"Chat with an Agent",askBy:"Ask an Agent by:",email:"Email",chat:"Chat",newSearch:"New Search",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" or ",searchMsgNOResults:"No results for '{QUERY}'. Try a different phrasing or ask an agent.",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",phoneDialogTitle:"Call Us",ticketDialogTitle:"Contact Us",wrongLogin:"Oops... something went wrong. Please try again",closeChat:"End chat",sendBtn:"Send",like:"Like!",dislike:"Dislike",chatCallingStatus:"Please wait for an agent...",chatTyping:" is typing...",chattingNow:"Chatting with ",chatJoined:" has joined the chat.",chatClosed:"Chat closed",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat resumed",quickAnswer:"Suggested answer:",sendChat:"Send",confirmEndChat:"This will end your chat session. Are you sure?",me:"Me",emailChat:"Email this chat transcript",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Enter Email",emailValidation:"Please enter a valid email address",cancel:"Cancel",back:"&lt; Back",translating:"Translating",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:"Thank you for submitting your question, you will receive an email reply shortly.<br/><br/>In the meantime, feel free to ask any further questions you may have in the box above.",useThisAnswer:"Use This Answer"});
Localization.defineDictionary("es","Channeling",{filesDeleted:"Debido a un error de conexin, se han eliminado los archivos. Por favor, intntelo de nuevo.",fileBlockedFileSize:"Adjuncin de archivo fall. El tamao mximo de archivo es %var% MB.",fileExtensionBlocked:"La extensin del archivo %var% no es permitida.",fileMaxReached:"Usted hay alcanzado el lmite mximo de adjunciones.",fileBlocked:"Usted no puede aadir adjunciones en este momento. Por favor, intente ms tarde.",chooseFile:"Elija un archivo...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Obtener inmediatamente respuestas:",titleNormalText:"Obtener inmediatamente respuestas:",loginError:"Uy ... algo salio mal. Por favor, intentalo de nuevo",askNowLink:"Preguntale a un representante",chatNow:"Habla con un representante",askBy:"Pida a un representante por:",email:"Email",chat:"Chat",newSearch:"Nueva busqueda",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" o ",searchMsgNOResults:"Sin resultados intenta una frase distinta o pregunta a un agente",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Uy ... algo salio mal. Por favor, intentalo de nuevo",closeChat:"Cerrar el Chat",sendBtn:"Enviar",like:"Me gusta!",dislike:"Dislike",chatCallingStatus:"Un agente estar con usted en breve ...",chatTyping:" est escribiendo ...",chattingNow:"Ahora est charlando con ",chatJoined:" se ha unido al chat.",chatClosed:"Chat cerrado",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat reanudado",quickAnswer:"Respuesta rpida:",sendChat:"Enviar",confirmEndChat:"Esto terminar su sesin de chat. Est seguro?",me:"Yo",emailChat:"Enviar por correo la copia de esta conversacin del chat",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Enter Email",emailValidation:"Introduce el correo electrnico",cancel:"Cancelar",back:"&lt; Volver",translating:"Traduciendo",next:"Next &gt;",prev:"&lt; Prev"});
Localization.defineDictionary("fr","Channeling",{filesDeleted:"De  une erreur de connection, vos fichiers ont t supprims. Veuillez essayer  nouveau.",fileBlockedFileSize:"Le tlchargement de votre fichier a chou La taille maximale est %var% MB.",fileExtensionBlocked:"L'extension de votre fichier %var% n'est pas permise. ",fileMaxReached:"Vous avez atteint le montant maximal de tlchargements. ",fileBlocked:"Vous ne pouvez pas joindre de fichier pour le moment, veuillez ressayer ultrieurement.",chooseFile:"Choisissez un fichier...",dir:"ltr",textAlign:"gauche",negativeTextAlign:"droite",titleTeaserText:"Obtenez des rponses instantanes:",titleNormalText:"Obtenez des rponses instantanes:",loginError:"Oups...  Il y a eu une erreur. Merci de bien vouloir essayer de nouveau.",askNowLink:"Demandez un Representant",chatNow:"Chattez avec un reprsentant",askBy:"Demandez  un reprsentant en:",email:"Email",chat:"Chat",newSearch:"Nouvelle recherche",xmlObjectError:"Error parsing xml.impossible de poursuivre.",searchMsgResults:" ou ",searchMsgNOResults:"Pas de resultats...",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oups ... quelque chose n'allait pas. S'il vous plat essayer de nouveau",closeChat:"Fermer le Chat",sendBtn:"Envoyer",like:"aimez!",dislike:"Dislike",chatCallingStatus:"Un agent sera avec vous sous peu ...",chatTyping:" est saisissant ...",chattingNow:"Vous discutez en ce moment avec ",chatJoined:" a rejoint le chat.",chatClosed:"Chat ferm",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat reprise",quickAnswer:"reponse rapide:",sendChat:"Envoyer",confirmEndChat:"Cela mettra fin  votre session de chat. Etes-vous sr?",me:"Moi",emailChat:"Email this chat transcript",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:" Entrer votre email",emailValidation:"Please enter a valid email address",cancel:"annuler",back:"&lt; retour",translating:"Traduire",next:"suivant &gt;",prev:"&lt; precedent"});
Localization.defineDictionary("it","Channeling",{filesDeleted:"A causa di un errore di connessione, i file sono stati cancellati. Riprovi nuovamente.",fileBlockedFileSize:"Allegare file  fallito. La dimensione massima del file  %var% MB.",fileExtensionBlocked:"L'estensione del file %var% non  permitda.",fileMaxReached:"Lei ha raggiunto il limite massimo per gli allegati.",fileBlocked:"Non  possibile allegare file in questo momento. Riprovi pi tardi.",chooseFile:"Scegli un file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Avrai delle risposte immediate:",titleNormalText:"Avrai delle risposte immediate:",loginError:"Oops ... qualcosa a andato storto. Si prega di riprovare pi? tardi",askNowLink:"Chiedi ad un operatore",chatNow:"Chatta con un rappresentante",askBy:"Chiedi ad un Agente:",email:"Email",chat:"Chatta",newSearch:"Nuova ricerca",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" oppure ",searchMsgNOResults:"Nessun risultato ... prova a rifrasare diversamente o rivolgiti ad un agente.",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops ... qualcosa a andato storto. Si prega di riprovare",closeChat:"Chiudi Chat",sendBtn:"Invia",like:"Mi piace!",dislike:"Dislike",chatCallingStatus:"Un agente sar con te a breve ...",chatTyping:"  sta digitando...",chattingNow:"Ora stai chattando",chatJoined:" si  unito alla chat.",chatClosed:"Chat chiuse",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat ripresa",quickAnswer:"Risposta rapida:",sendChat:"Invia",confirmEndChat:"Questo concluder la sessione di chat. Sei sicuro?",me:"Io",emailChat:"Invia la trascrizione di questa chat",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Inserisci l'email",emailValidation:"Cortesemente inserisci un indirizzo email valido",cancel:"Cancella",back:"&lt; Indietro",translating:"Sto traducendo",next:"Next &gt;",prev:"&lt; Prev"});
Localization.defineDictionary("iw","Channeling",{filesDeleted:"     .   .",fileBlockedFileSize:"   .        %var% MB.",fileExtensionBlocked:"      %var%",fileMaxReached:"    .",fileBlocked:"    ,     .",chooseFile:" ...",dir:"rtl",textAlign:"right",negativeTextAlign:"left",titleTeaserText:"  ?",titleNormalText:"  ?",loginError:"...  ,   ",askNowLink:" ",chatNow:"'  ",askBy:"  :",email:'"',chat:"'",newSearch:" ",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:"  ",searchMsgNOResults:"   '{QUERY}'.      ",searchMsgNOResultsContext:"   '{CONTEXT}'.      .",phoneDialogTitle:" ",ticketDialogTitle:" ",wrongLogin:"...  ,   ",closeChat:" ",sendBtn:"",like:"",dislike:"Dislike",chatCallingStatus:"   ..",chatTyping:" ...",chattingNow:"'  ",chatJoined:" / ",chatClosed:"' ",chatConnectionError:",      .       ",resumeChat:"' ",quickAnswer:" :",sendChat:"",confirmEndChat:(/Chrome|Chromium/.test(navigator.userAgent)?"  /       ?":"?  /     "),me:"",emailChat:'  "',emailChatSent:'    "  .',enterEmail:' "',emailValidation:'   " ',cancel:"",back:"&lt; ",translating:"",next:" &gt;",prev:"&lt; ",readOnlyModeAlert:"    ",topicPostConfirmationText:",   ",useThisAnswer:"  "});Localization.defineDictionary("ja","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:":",titleNormalText:":",loginError:"Oops... something went wrong. Please try again later",askNowLink:"Ask an Agent",chatNow:"Chat with an Agent",askBy:":",email:"",chat:"",newSearch:"",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:"  ",searchMsgNOResults:".",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... something went wrong. Please try again",closeChat:"",sendBtn:"",like:"!",dislike:"Dislike",chatCallingStatus:"Please wait for an agent to answer...",chatTyping:" ",chattingNow:"",chatJoined:" has joined the chat.",chatClosed:"",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"",quickAnswer:"",sendChat:"",confirmEndChat:"?",me:"",emailChat:"",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"",emailValidation:"",cancel:"",back:"&lt; ",translating:"",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:""});
Localization.defineDictionary("ko","Channeling",{filesDeleted:"Due to a connection error, your files has been deleted. please upload the files again",fileBlockedFileSize:"Attachment failed. Max file size is %var% MB.",fileExtensionBlocked:"File extension %var% is not permitted",fileMaxReached:"You cannot add anymore files",fileBlocked:"You can't add attachments at this time, please try again later",chooseFile:"Choose file...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"  :",titleNormalText:"  :",loginError:"Oops... something went wrong. Please try again later",askNowLink:"Ask an Agent",chatNow:"Chat with an Agent",askBy:"   :",email:"",chat:"",newSearch:" ",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:"",searchMsgNOResults:" .      .",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oops... something went wrong. Please try again",closeChat:" ",sendBtn:"",like:"!",dislike:"Dislike",chatCallingStatus:"Please wait for a representative to answer you...",chatTyping:"  .",chattingNow:"    :",chatJoined:" has joined the chat.",chatClosed:" ",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"  ",quickAnswer:" :",sendChat:"",confirmEndChat:"     .  ?",me:"",emailChat:"    ",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:" ",emailValidation:"    .",cancel:"",back:"&lt; ",translating:" ",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:"  .      .         ."});Localization.defineDictionary("nl","Channeling",{filesDeleted:"Wegens een verbindingsprobleem, zijn uw bestanden verwijderd. Probeer het opnieuw.",fileBlockedFileSize:"Toevoegen van het bestand is mislukt. De maximale bestandsgrootte is %var% MB.",fileExtensionBlocked:"Bestandsextensie %var% is niet toegestaan.",fileMaxReached:"U hebt het maximum aantal bijlagen bereikt.",fileBlocked:"U mag geen bijlagen toevoegen op dit moment. Probeer het later nogmaals.",chooseFile:"Kies bestand...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"Krijg direct antwoord:",titleNormalText:"Krijg direct antwoord:",loginError:"Oeps ... ging er iets mis. Probeer het later opnieuw",askNowLink:"Vraagt een agent",chatNow:"Chat met een vertegenwoordiger",askBy:"Vraagt een agent:",email:"Email",chat:"Chat",newSearch:"nieuwe zoekopdracht",xmlObjectError:"Error parsing xml. unable to continue.",searchMsgResults:" of ",searchMsgNOResults:"Geen resultaten ...",searchMsgNOResultsContext:"No answer found for '{CONTEXT}'. Contact us today and let us know",wrongLogin:"Oeps ... ging er iets mis. Probeer het opnieuw",closeChat:"Sluiten Chat",sendBtn:"Stuur",like:"Like!",dislike:"Dislike",chatCallingStatus:"Een agent zal met u binnenkort ...",chatTyping:" is aan het typen ...",chattingNow:"U bent nu chatten met ",chatJoined:" heeft zich aangesloten bij de chat.",chatClosed:"Chat gesloten",chatConnectionError:"Oh, snap! Looks like we lost connection to the server. Try refreshing the page in a few minutes.",resumeChat:"Chat hervat",quickAnswer:"Suggested answer:",sendChat:"Stuur",confirmEndChat:"Dit zal uw chat-sessie. Ben je zeker?",me:"Ik",emailChat:"Email this chat transcript",emailChatSent:"Your chat transcript will be sent to your email address at the end of your chat",enterEmail:"Enter Email",emailValidation:"Please enter a valid email address",cancel:"Cancel",back:"&lt; Back",translating:"Het vertalen van",next:"Next &gt;",prev:"&lt; Prev"});
Localization.defineDictionary("da","Channeling",{filesDeleted:"P grund af en forbindelse fejl, er dine filer er blevet slettet. du uploade filerne igen",fileBlockedFileSize:"Attachment mislykkedes. Max filstrrelse er %var% MB..",fileExtensionBlocked:"Filtypenavn %var% er ikke tilladt",fileMaxReached:"Du kan ikke tilfje lngere filer",fileBlocked:"Du kan ikke tilfje vedhftninger p dette tidspunkt, prv igen senere",chooseFile:"Vlg fil ...",dir:"ltr",textAlign:"left",negativeTextAlign:"right",titleTeaserText:"F svar jeblikkeligt:",titleNormalText:"F svar jeblikkeligt:",loginError:"Ups! Noget gik galt. Prv igen senere",askNowLink:"Sprg en ansat",chatNow:"Chat with an Agent",askBy:"Ask an Agent by:",email:"E-mail",chat:"Chat",newSearch:"Ny sgning",xmlObjectError:"Fejl parsing xml. ikke fortstte.",searchMsgResults:" eller ",searchMsgNOResults:"Ingen resultater for '{QUERY}'. Omformuler sprgsmlet eller sprg en ansat.",searchMsgNOResultsContext:"Intet svar fundet for '{CONTEXT}'. Kontakt os i dag og fortl os om det.",wrongLogin:"Ups! Noget gik galt. Prv igen",closeChat:"Luk chat",sendBtn:"Send",like:"Like!",dislike:"Dislike",chatCallingStatus:"Vent en agent til at svare ...",chatTyping:" skriver",chattingNow:"chatte med ",chatJoined:" har sluttet sig til chatten.",chatClosed:"Chat lukket",chatConnectionError:"h, snap! Ser ud til vi mistet forbindelsen til serveren. Prv at opdatere siden i et par minutter.",resumeChat:"Chat genoptaget",quickAnswer:"Foreslet svar:",sendChat:"Send",confirmEndChat:"Dette vil afslutte vores chat. Er du sikker?",me:"Mig",emailChat:"E-mail denne chattekst",emailChatSent:"Din chat udskrift vil blive sendt til din e-mailadresse i slutningen af din chat",enterEmail:"Indtast e-mail",emailValidation:"Indtast venligst en gyldig e-mail-adresse",cancel:"Annuller",back:"&lt; Tilbage",translating:"Overstter",next:"Next &gt;",prev:"&lt; Prev",readOnlyModeAlert:"Temporarily unavailable",topicPostConfirmationText:"Tak for at indsende dit sprgsml. Du vil snarest modtage et e-mail-svar.<br/><br/>I mellemtiden er du velkommen til at stille yderligere sprgsml i boksen ovenfor.",useThisAnswer:"Brug dette svar"});
modular.declare("ActionBarScopeBase",[container.Alloy.SDKScope]);modular.define(function(SDKScope){var ActionBarScopeBase=SDKScope.extend({name:"ActionBarScopeBase",abstractClass:true,_prototype:{TEMPLATE:"nr-channeling-actionbar"}});return ActionBarScopeBase});modular.declare("ActionBarModelBase",[container.Alloy.SDKModel,"ActionBarScopeBase",this]);modular.define(function(SDKModel,ActionBarScopeBase,Channeling){var ActionBarModelBase=SDKModel.extend({name:"ActionBarModelBase",abstractClass:true,_prototype:{ScopeClass:ActionBarScopeBase,ctor:function(options){if(options&&options.element){var targetNode=(typeof options.element==="string"?document.querySelector(options.element):options.element);if(targetNode){this.bindScope(targetNode)}else{if(window.console&&window.console.warn){window.console.warn("Actionbar container is not available!")}}}this.setActionsHandler(UIActions)},getContainer:function(){var scope=this.getScope();return scope?scope.$domElement:null},getSessionOptions:function(){if(this.options&&this.options.session&&!this.options.session.account&&this.session&&this.session.account){this.options.session.referer=this.options.session.referer||this.session.referer;this.options.session.articleId=this.options.session.articleId||this.session.articleId||-1;this.options.session.account=this.session.account;this.options.session.host=this.session.host}return this.options&&this.options.session&&this.options.session},setActionsHandler:function(UIActions){this.UIActions=UIActions},setDirection:function(direction){this.isRTL=(direction==="rtl");this.updateScope()},isActiveChannel:function(){},setActiveChannel:function(){},getChannels:function(){},setChannels:function(){},addChannel:function(){},setMaxVisibleChannels:function(){},useCompactMode:function(){},hide:function(){},show:function(){},hideChannel:function(){},showChannel:function(){},reportEvent:function(channel,callback){if(this.options.reportEvents&&!channel.escalationReported){channel.escalationReported=true;var reportOptions=this.getSessionOptions();reportOptions.type=channel.type;
reportOptions.apiName=channel.name;Channeling.reportEvent(reportOptions,callback);delete reportOptions.type}else{if(typeof callback==="function"){callback()}}}}});var UIActions={initChannel:function(channel,actionBar){if(channel.type==="chat"&&channel.action==="normal"){var self=this;actionBar.hideChannel(channel);var provider=Channeling.Chat.getProvider(channel);provider.isAgentAvailable(function(isAvailable){if(isAvailable){actionBar.showChannel(channel);provider.isSessionActive(function(isActive){if(isActive&&actionBar.options.useCustomChatUI){self.startChat(channel,actionBar)}})}});provider.on("agentAvailabilityChanged",function(isAvailable){if(isAvailable){actionBar.showChannel(channel)}else{actionBar.hideChannel(channel)}})}},destroyChannel:function(channel,actionBar){if(channel.disposeHandler){channel.disposeHandler();delete channel.disposeHandler}},customUrl:function(channel,actionBar){actionBar.emit("channelActivated",channel,null,null);switch(channel.linkTarget){case"widget":case"currentPage":actionBar.reportEvent(channel,function(){window.open(channel.linkUrl,"_self")});break;case"newTab":actionBar.reportEvent(channel);window.open(channel.linkUrl,"_blank");break;case"popup":actionBar.reportEvent(channel);window.open(channel.linkUrl,"nr_escalationWindow","width="+channel.popupSize.width+",height="+channel.popupSize.height);break}},customScript:function(channel,actionBar){actionBar.emit("channelActivated",channel,null,null);actionBar.reportEvent(channel);try{eval(channel.scriptContent)}catch(e){}},showContactForm:function(channel,actionBar){var sessionOptions=actionBar.getSessionOptions();Channeling.getFormConfig(sessionOptions,channel,function(error,formConfig){formConfig.stylesheetsHost=sessionOptions.host;var formBlock=document.createElement("div");var containerNode=actionBar.getContainer();containerNode.insertBefore(formBlock,containerNode.firstChild);var contactForm=new Channeling.ContactForm({element:formBlock,session:actionBar.session,channel:channel});contactForm.setFormConfig(formConfig);channel.disposeHandler=function(){actionBar.emit("channelDeactivated",channel,contactForm,contactForm.$domElement);
var container=contactForm.$domElement;if(container){contactForm.dispose();container.parentNode.removeChild(container)}};contactForm.on({cancel:function(){actionBar.setActiveChannel(null)},validation:function(){},submit:function(error){if(!error){actionBar.reportEvent(channel)}},ready:function(){actionBar.setActiveChannel(channel);actionBar.emit("channelActivated",channel,contactForm,contactForm.$domElement)}})})},showPhoneNumber:function(channel,actionBar){var dialogBlock=document.createElement("nr-channeling-phonedialog");var phoneDialog=new Channeling.PhoneDialog();var containerNode=actionBar.getContainer();containerNode.insertBefore(dialogBlock,containerNode.childNodes[0]);phoneDialog.setChannel(channel);phoneDialog.bind(dialogBlock);channel.disposeHandler=function(){actionBar.emit("channelDeactivated",channel,phoneDialog,phoneDialog.$domElement);var container=phoneDialog.$domElement;if(container){phoneDialog.dispose();container.parentNode.removeChild(container)}};actionBar.setActiveChannel(channel);phoneDialog.on("close",function(){actionBar.setActiveChannel(null)});actionBar.reportEvent(channel);actionBar.emit("channelActivated",channel,phoneDialog,phoneDialog.$domElement)},startChat:function(channel,actionBar){var chatProvider=Channeling.Chat.getProvider(channel);if((chatProvider.capabilities.vendorPopup&&channel.showInPopup)||(chatProvider.capabilities.vendorPopup&&!chatProvider.capabilities.customUI&&!chatProvider.capabilities.vendorUI)||(chatProvider.capabilities.vendorPopup&&!actionBar.options.useCustomChatUI&&!chatProvider.capabilities.vendorUI)){actionBar.reportEvent(channel);chatProvider.showVendorPopup(channel.popupSize.width,channel.popupSize.height);actionBar.emit("channelActivated",channel,null,null)}else{if(chatProvider.capabilities.customUI&&actionBar.options.useCustomChatUI){if(actionBar.isActiveChannel(channel)){return}var chatContainer=document.createElement("nr-channeling-customchat");var chatInstance=new Channeling.ChatUI({session:actionBar.session,showSuggestions:true});var containerNode=actionBar.getContainer();
containerNode.insertBefore(chatContainer,containerNode.childNodes[0]);chatInstance.bind(chatContainer);actionBar.setActiveChannel(channel);chatInstance.setProvider(chatProvider);chatInstance.on({chatStarted:function(){chatProvider.isSessionResumed(function(chatWasResumed){if(!chatWasResumed){actionBar.reportEvent(channel)}})},close:function(){actionBar.setActiveChannel(null)}});channel.disposeHandler=function(){actionBar.emit("channelDeactivated",channel,chatInstance,chatInstance.$domElement);var container=chatInstance.$domElement;if(container){chatInstance.dispose();container.parentNode.removeChild(container)}};actionBar.emit("channelActivated",channel,chatInstance,chatInstance.$domElement)}else{if(chatProvider.capabilities.vendorUI){actionBar.reportEvent(channel);chatProvider.showVendorUI();actionBar.emit("channelActivated",channel,null,null)}}}}};return ActionBarModelBase});modular.declare("AbstractContactForm",[container.Common.AlloySDKComponent]);modular.define(function(AlloySDKComponent){var AbstractContactForm=AlloySDKComponent.extend({name:"AbstractContactForm",abstractClass:true,_prototype:{dismiss:function(){},setFormConfig:function(){},setUploaderOptionsHandler:function(){},setSuccessState:function(){},setFailedState:function(){},disable:function(){},enable:function(){},focus:function(){}}});return AbstractContactForm});modular.declare("AbstractPhoneDialog",[container.Common.AlloySDKComponent]);modular.define(function(AlloySDKComponent){var AbstractPhoneDialog=AlloySDKComponent.extend({name:"AbstractPhoneDialog",abstractClass:true,_prototype:{ctor:function(options){if(options&&options.element){var targetNode=(typeof options.element==="string"?document.querySelector(options.element):options.element);if(targetNode){this.bind(targetNode,"nr-channeling-phonedialog")}}},focus:function(){},dismiss:function(){}}});return AbstractPhoneDialog});modular.declare("AbstractChatUI",[container.Common.AlloySDKComponent]);modular.define(function(AlloySDKComponent){var AbstractChatUI=AlloySDKComponent.extend({name:"AbstractChatUI",abstractClass:true,_prototype:{setProvider:function(){},close:function(){}}});
return AbstractChatUI});modular.declare("Remote",[Alloy,container.Common.DOM,container.Legacy.Cookie]);modular.define(function(Alloy,DOM,Cookie){var Module={},FormUID=0;var enums={type:["email","customEmail","customChat","chat","customEmail_fromContactForm","phone"],action:["normal","customUrl","customScript"],linkTarget:["currentPage","newTab","popup","widget"]};var enumTrafficSource={FAQ:1,SupportCenter:2};function getTypeId(type){for(var i=0,n=enums.type.length;i<n;++i){if(enums.type[i]===type){return i}}return -1}function getDomain(options){var dnsPattern="{0}.nanorep.co";if(dnsPattern){return dnsPattern.replace("{0}",options.account.toLowerCase())}else{return options.host+"/~"+options.account.toLowerCase()}}function createContextString(contextObj){if(typeof contextObj==="function"){contextObj=contextObj()}var result="";for(var key in contextObj){if(contextObj.hasOwnProperty(key)){result+=(result?",":"")+key+":"+contextObj[key]}}return result}function parsePopupSize(popupSize){var result={width:800,height:600},size;if(typeof popupSize==="string"){size=popupSize.split(",");if(size.length>0){result.width=(size[0]|0)||result.width}if(size.length>1){result.height=(size[1]|0)||result.height}}return result}Module.convertChannels=function(input){var output=[],channel;for(var i=0,n=input?input.length:0;i<n;++i){channel=new Module.Channel(input[i]);output.push(channel)}return output};Module.Channel=function(data){this.buttonText=data.buttonText;this.description=data.description;this.name=data.name;this.escalationType=data.channel|0;this.type=enums.type[data.channel|0];this.action=enums.action[data.actionEsc|0];this.apiName=data.name;if(data.contactForms){this.thankYouMessage=data.ThankYouMessage;this.contactFormId=data.contactForms;this.showInArticle=data.showInArticle}if(data.popupSize){this.popupSize=parsePopupSize(data.popupSize)}switch(this.action){case"customUrl":this.linkUrl=data.linkUrl;this.linkTarget=enums.linkTarget[data.linkTarget|0];break;case"customScript":this.scriptContent=data.scriptContent;break;case"normal":default:switch(this.type){case"chat":this.chatProvider=data.chatProvider;
this.fallbackChannel=data.fallbackChannel||null;switch(data.chatProvider){case"LP":this.showInPopup=!!data.isPopup;this.chatOptions={apiKey:"c774b56ff8a64cbba27743a8d4418b26",accountNum:data.accountNum,agentSkill:data.agentSkill,hideSendToEmail:data.hideSendToEmail,initStatus:data.initStatus,postChat:data.postChat,preChat:data.preChat,waitTime:data.waitTime};break;case"LiveEngage":this.chatOptions={accountNum:data.accountNum,engagementId:data.engagementId,engagementDivId:data.engagementDivId};break;case"SalesForce":this.chatOptions={deploymentDomain:data.deploymentDomain,apiDomain:data.apiDomain,buttonId:data.buttonId,initCode:data.initCode,deploymentId:data.deploymentId,organizationId:data.organizationId};break;default:this.showInPopup=this.popupSize&&typeof data.isPopup==="undefined";this.chatOptions={accountNum:data.accountNum};break}}}if(this.type==="phone"){this.phoneNumber=data.phoneNumber;this.phoneDescription=data.customContent}};Module.detectContext=function(){var result=null;var cookieData=Cookie.read("nrContext2");if(cookieData){result={};cookieData=cookieData.split(",");for(var i=0;i<cookieData.length;i+=2){result[cookieData[i]]=cookieData[i+1]}}return result};Module.getChannels=function(options,fCallback){var data={url:(options.protocol?options.protocol+"://":"//")+getDomain(options)+"/api/channeling/v1/get",params:{articleId:options.articleId,kb:options.kb,referer:options.referer||location.href,context:createContextString(options.context),text:options.text},handler:function(status,response){if(typeof fCallback!=="function"){return}var error=(status!==Alloy.Com.SUCCESS);fCallback(error,error?null:Module.convertChannels(response.rechanneling),options)}};Alloy.jsonp(data)};Module.reportEvent=function(options,fCallback){if(!options.host||!options.account||!options.type){if(typeof fCallback==="function"){fCallback(true)}return}var data={url:(options.protocol?options.protocol+"://":"//")+getDomain(options)+"/api/channeling/v1/report",params:{articleId:options.articleId,trafficSource:typeof options.trafficSource==="undefined"?enumTrafficSource.SupportCenter:options.trafficSource,kb:options.kb,text:options.text,apiName:options.apiName,referer:options.referer||location.href,reportedEscalationType:getTypeId(options.type),context:createContextString(options.context)},handler:function(status){if(typeof fCallback!=="function"){return
}fCallback(status!==Alloy.Com.SUCCESS,null,options)}};Alloy.jsonp(data)};Module.getFormConfig=function(options,channel,fCallback){Alloy.jsonp({url:(options.protocol?options.protocol+"://":"//")+getDomain(options)+"/api/channeling/v1/getForm",params:{contactFormId:channel.contactFormId?channel.contactFormId:new Module.Channel(channel).contactFormId},handler:function(status,response){if(typeof fCallback!=="function"){return}fCallback(status!==Alloy.Com.SUCCESS||!(response.forms&&response.forms.length),response.forms&&response.forms[0])}})};Module.createTicket=function(options,ticketFields,fCallback){var formData={postUrl:null,values:[]};for(var fieldName in ticketFields){if(ticketFields.hasOwnProperty(fieldName)){formData.values.push({name:fieldName,value:ticketFields[fieldName]})}}Module.submitContactForm(options,{},formData,fCallback)};Module.submitContactForm=function(options,channel,formData,fCallback){var httpStr="https://";if(options.protocol==="http"||options.protocol==="https"){httpStr=options.protocol+"://"}var postUrl;if(formData.postUrl){postUrl=formData.postUrl;if(postUrl.indexOf("http://")===0&&"https:"===document.location.protocol){postUrl=postUrl.replace("http://","https://")}}else{var dnsPattern="{0}.nanorep.co";if(dnsPattern){postUrl=httpStr+dnsPattern.replace("{0}",options.account.toLowerCase())+"/api/tickets/v1/create"}else{postUrl=httpStr+options.host+"/api/tickets/v1/create"}formData.redirectParam="success_redirection_url";if(options.labelId){formData.values.push({name:"labelId",value:options.labelId})}formData.values.push({name:"account",value:options.account},{name:"kb",value:options.kb},{name:"context",value:createContextString(options.context)},{name:"referer",value:options.referer||location.href})}var uniqueFrameId="tmpuploadframe"+FormUID++;var tempFrame=DOM.createElement("iframe",{parent:document.body,id:uniqueFrameId,name:uniqueFrameId,frameBorder:0,width:0,height:0});var tempForm=DOM.createElement("form",{parent:document.body,target:uniqueFrameId,action:postUrl,method:"post",style:"display:block;width:0;height:0;overflow:hidden;position:relative"});
for(var tmpKey in formData.values){if(formData.values.hasOwnProperty(tmpKey)&&formData.values[tmpKey].value&&formData.values[tmpKey].value.nodeType===1){tempForm.setAttribute("enctype","multipart/form-data");break}}if(formData.redirectParam){DOM.createElement("input",{parent:tempForm,type:"hidden",name:formData.redirectParam,value:httpStr+options.host+"/sdk/channeling/base/thankyou.html"});var postMessageTempHandler=function(e){if(e.data&&e.data.type==="nanoRep.ExternalThankYouSuccess"){removeMessageHandler();clearTimeout(failTimer);DOM.removeNode(tempFrame);DOM.removeNode(tempForm);fCallback(false)}};var removeMessageHandler=function(){clearTimeout(failTimer);if(window.removeEventListener){window.removeEventListener("message",postMessageTempHandler,false)}else{if(window.detachEvent){window.detachEvent("onmessage",postMessageTempHandler)}}};if(window.addEventListener){window.addEventListener("message",postMessageTempHandler,false)}else{if(window.attachEvent){window.attachEvent("onmessage",postMessageTempHandler)}}var failTimer=setTimeout(function(){removeMessageHandler();DOM.removeNode(tempFrame);DOM.removeNode(tempForm);fCallback(true)},10000)}else{setTimeout(function(){DOM.removeNode(tempFrame);DOM.removeNode(tempForm);fCallback(false)},3000)}for(var key in formData.values){if(formData.values.hasOwnProperty(key)){var item=formData.values[key];if(item.value&&item.value.nodeType===1){item.value.setAttribute("name",item.name);tempForm.appendChild(item.value)}else{DOM.createElement("input",{type:"hidden",parent:tempForm,name:item.name,value:item.value})}}}tempForm.submit()};return Module});container.ChannelingPrivate={ActionBarScopeBase:modular.byName("ActionBarScopeBase"),ActionBarModelBase:modular.byName("ActionBarModelBase"),AbstractChatUI:modular.byName("AbstractChatUI"),AbstractContactForm:modular.byName("AbstractContactForm"),AbstractPhoneDialog:modular.byName("AbstractPhoneDialog")};var RemoteModule=modular.byName("Remote");for(var propName in RemoteModule){if(RemoteModule.hasOwnProperty(propName)){this[propName]=RemoteModule[propName]
}}}});nanoRep.BundleManager.define({name:"Tooltip",require:[],data:{modalStylesheet:".nr-tooltip{z-index:9999;position:absolute;background:#2b2b2b;pointer-events:none;border-radius:2px;line-height:normal;font-size:12px;padding:8px 10px;color:#fff}\n.nr-tooltip-triangle{border:10px solid;border-width:8px 8px 0;border-color:#2b2b2b transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}\n.nr-tooltip-vposition-bottom .nr-tooltip-triangle{top:-8px;border-width:0 8px 8px;border-color:transparent transparent #2b2b2b}"},init:function(a,b,d){var c=new d.Modular();d.addStyle(b.modalStylesheet);c.declare("Tooltip",[]);c.define(function(){var e={tooltipAttribute:"nr-tooltip",options:{positionX:"center",positionY:"top",offsetX:8,offsetY:8,showWithEllipsis:false,viewport:null},init:function(){this.addHandlers();return this},addHandlers:function(){var g=this,f=document.documentElement;this.hoverHandler=function(i){var h=g.delegateHandler(i);if(h){g.show(h,g.getTooltipOptions(h))}};this.leaveHandler=function(i){var h=g.delegateHandler(i);if(h){g.hide(h,g.getTooltipOptions(h))}};this.clickHandler=function(i){var h=g.delegateHandler(i);if(h){g.show(h,g.getTooltipOptions(h))}};if(f.addEventListener){f.addEventListener("mouseover",this.hoverHandler,false);f.addEventListener("mouseout",this.leaveHandler,false);f.addEventListener("click",this.clickHandler,false)}else{if(f.attachEvent){f.attachEvent("onmouseover",this.hoverHandler);f.attachEvent("onmouseout",this.leaveHandler);f.attachEvent("onclick",this.clickHandler)}}},delegateHandler:function(g){var h=null,f=g||window.event,i=f.target||f.srcElement,j=f.relatedTarget||(f.type==="mouseout"?f.toElement:f.fromElement);while(i&&i.getAttribute){if(i.getAttribute(this.tooltipAttribute)){h=i;break}i=i.parentNode}if(h&&h!==j&&!h.contains(j)){return h}else{return null}},getOffset:function(h){if(h.getBoundingClientRect){var k=h.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,f=document.documentElement.clientLeft||document.body.clientLeft||0,g=document.documentElement.clientTop||document.body.clientTop||0;
return{top:Math.round(k.top+m-g),left:Math.round(k.left+l-f)}}else{var i=0,j=0;while(h.offsetParent){i+=h.offsetLeft;j+=h.offsetTop;h=h.offsetParent}return{top:j,left:i}}},getTooltipOptions:function(f){var h={};for(var g in this.options){if(this.options.hasOwnProperty(g)){h[g]=this.options[g]}}h.text=f.getAttribute(this.tooltipAttribute);if(f.getAttribute(this.tooltipAttribute+"-show-with-ellipsis")!==null){h.showWithEllipsis=true}if(f.getAttribute(this.tooltipAttribute+"-position-x")!==null){h.positionX=f.getAttribute(this.tooltipAttribute+"-position-x")}if(f.getAttribute(this.tooltipAttribute+"-position-y")!==null){h.positionY=f.getAttribute(this.tooltipAttribute+"-position-y")}if(f.getAttribute(this.tooltipAttribute+"-viewport")!==null){h.viewport=document.querySelector(f.getAttribute(this.tooltipAttribute+"-viewport"))}else{while(f&&f.getAttribute){if(f.getAttribute(this.tooltipAttribute+"-viewport")!==null){h.viewport=f}f=f.parentNode}}return h},getTooltipPosition:function(f,l,j){var k={},i=f.offsetWidth,g=f.offsetHeight,h=this.getOffset(f),n=l.container.offsetWidth,m=l.container.offsetHeight,o,p;switch(j.positionX){case"left":k.left=h.left-n-j.offsetX;break;case"center":k.left=h.left+(i-n)/2;break;case"right":k.left=h.left+i+j.offsetX;break}switch(j.positionY){case"top":k.top=h.top-m-j.offsetY;break;case"center":k.top=h.top+(g-m)/2;break;case"bottom":k.top=h.top+g+j.offsetY;break}if(j.viewport){o=this.getOffset(j.viewport);p=j.viewport.offsetWidth;if(k.left<o.left){k.left=o.left}else{if(k.left+n>o.left+p){k.left=o.left+p-n}}}else{if(k.left<0){k.left=0}if(k.top<0){k.top=0}}if(j.positionX==="center"){l.triangle.style.left=(h.left-k.left)+i/2+"px"}k.left=Math.round(k.left);k.top=Math.round(k.top);return k},isEllipsisActive:function(h){var i=h.style.width,f=h.offsetWidth,g;h.style.width=f-1+"px";g=h.offsetWidth<=h.scrollWidth-1;h.style.width=i;return g},removeActiveTooltip:function(){if(this.activeTooltip){if(this.activeTooltip.container.parentNode){this.activeTooltip.container.parentNode.removeChild(this.activeTooltip.container)
}delete this.activeTooltip}},createTooltipBlock:function(f){var g=document.createElement("div");g.className=["nr-tooltip","nr-tooltip-vposition-"+f.positionY,"nr-tooltip-hposition-"+f.positionX].join(" ");if(f.text){g.appendChild(document.createTextNode(f.text))}else{if(f.html){g.innerHTML=f.html}}var h=document.createElement("div");h.className="nr-tooltip-triangle";g.appendChild(h);g.style.cssText="position:absolute;top:-9999px";return{container:g,triangle:h}},show:function(f,g){if(g.showWithEllipsis&&!this.isEllipsisActive(f)){return}this.removeActiveTooltip();this.activeTooltip=this.createTooltipBlock(g);document.body.appendChild(this.activeTooltip.container);this.tooltipPosition=this.getTooltipPosition(f,this.activeTooltip,g);this.activeTooltip.container.style.top=this.tooltipPosition.top+"px";this.activeTooltip.container.style.left=this.tooltipPosition.left+"px";if(window.requestAnimationFrame){var h=this;this.repositionHandler=function(){if(!h.activeTooltip){return}var i=h.getTooltipPosition(f,h.activeTooltip,g);if(i.top!==h.tooltipPosition.top||i.left!==h.tooltipPosition.left){h.hide()}h.activeFrame=requestAnimationFrame(h.repositionHandler)};cancelAnimationFrame(this.activeFrame);this.activeFrame=requestAnimationFrame(this.repositionHandler)}},hide:function(){this.removeActiveTooltip();if(window.requestAnimationFrame){cancelAnimationFrame(this.activeFrame);this.activeFrame=null}}}.init();return e})}});nanoRep.BundleManager.define({name:"Channeling.Modern",require:["Alloy","Channeling","FileUploader","Styles","Tooltip"],data:{commonStylesheet:".nr-channeling-title{border-bottom:1px solid #e8e8e8;line-height:50px;height:50px;margin:-10px 0 20px;cursor:default;color:#0098c7}\n.nr-inline-form-container .nr-channeling-title{display:none}.nr-channeling-title:after{content:'';height:0;display:block;clear:both}\n.nr-channeling-title .nr-channeling-titletext{float:left;margin:15px 0 0}\n.nr-channeling-title .nr-channeling-titletext,.nr-channeling-title .nr-channeling-titletext *{font-size:16px;font-weight:400;line-height:normal}\n.nr-channeling-title .nr-channeling-back{background:url(//eu1-1.nanorep.com/sdk/query-field/modern/style/icon-cross.png?cv=8D3A59291029055) no-repeat 50% 50%;text-indent:-9999px;overflow:hidden;cursor:pointer;width:20px;height:20px;float:right;margin:15px 0 0}\n.isRtl .nr-channeling-title .nr-channeling-titletext{float:right}.isRtl .nr-channeling-title .nr-channeling-back{float:left}\n.nr-channeling-actionbar-tooltip{text-align:center;position:absolute;bottom:100%;left:50%;height:0;width:200px;margin:0 0 0 -100px}\n.nr-channeling-actionbar-tooltip span{background:rgba(43,45,45,0.95);cursor:default;border-radius:2px;line-height:30px;margin-top:-30px;font-size:12px;padding:0 10px;color:#fff;display:inline-block;vertical-align:top}\n.nr-channeling-actionbar-tooltip:after{border:10px solid;border-width:8px 8px 0;border-color:rgba(43,45,45,0.95) transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert{bottom:0}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert span{margin-top:8px}\n.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert:after{top:0;border-width:0 8px 8px;border-color:transparent transparent rgba(43,45,45,0.95)}",actionbarStylesheet:".nr-channeling-actionbar.nr-channeling-actionbar-nochannels{display:none!important}\n.nr-channeling-actionbar.nr-channeling-hidden,.nr-channeling-actionbar .nr-channeling-hidden{display:none}\n.nr-channeling-actionbar-buttons{display:table!important;table-layout:auto;vertical-align:top;color:#3b3b3b;width:auto}\n.nr-channeling-actionbar-buttons ul{display:table-row;list-style:none;padding:0;margin:0}\n.nr-channeling-actionbar-buttons li{vertical-align:top;display:table-cell;position:relative}\n.nr-channeling-actionbar-compact li,.nr-channeling-actionbar-compact a{width:55px;height:55px}\n.nr-channeling-actionbar li .nr-channeling-actionbar-textwrapper{margin:0 10px 0 0;position:relative}\n.nr-channeling-actionbar-rtl li .nr-channeling-actionbar-textwrapper{margin:0 0 0 10px}\n.nr-channeling-actionbar-buttontext{position:absolute;z-index:1;left:0;right:0;text-decoration:none;text-transform:uppercase;line-height:55px;font-size:10px;cursor:pointer;color:inherit;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}\n.nr-channeling-actionbar-buttontext:hover{color:#3b4b4c}.nr-channeling-actionbar-textcopy{text-transform:uppercase;margin:0 0 0 51px;font-size:10px;visibility:hidden;overflow:hidden;display:block;height:55px}\n.nr-channeling-actionbar-compact li .nr-channeling-actionbar-buttontext{text-overflow:initial;text-align:left;margin:0}\n.nr-channeling-actionbar i.nr-svg-icon{vertical-align:top;overflow:hidden;display:inline-block;width:55px;height:55px;margin:0 -5px 0 0}\n.nr-channeling-actionbar-rtl i.nr-svg-icon{margin:0 0 0 -5px}.nr-channeling-actionbar-compact i.nr-svg-icon{margin:0 9999px 0 0}\n.nr-channeling-actionbar-compact.nr-channeling-actionbar-rtl i.nr-svg-icon{margin:0 0 0 9999px}\n.nr-channeling-actionbar-compact .nr-channeling-actionbar-textcopy{display:none}\n.nr-channeling-actionbar li.nr-channeling-active:before{content:'';background:#0098c7;position:absolute;z-index:2;top:0;width:100%;height:4px}\n.nr-channeling-actionbar-compact .nr-channeling-actionbar-tooltip{display:none}\n.nr-channeling-actionbar-compact li:hover .nr-channeling-actionbar-tooltip{display:block}\n.nr-no-svg .nr-channeling-actionbar i.nr-svg-icon{background-image:url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icons.png?cv=8D3A592911CBDED)}\n.nr-no-svg .nr-channeling-type-phone i.nr-svg-icon{background-position:-5px -5px}\n.nr-no-svg .nr-channeling-type-customEmail i.nr-svg-icon{background-position:-5px -135px}\n.nr-no-svg .nr-channeling-type-chat i.nr-svg-icon{background-position:-5px -70px}",phonedialogStylesheet:".nr-channeling-phonedialog{background:#fff;box-sizing:border-box;padding:10px 0 30px;min-width:250px;color:#4b5e61}\n.nr-channeling-phonedialog .nr-channeling-aligntable{display:table;width:100%}\n.nr-channeling-phonedialog .nr-channeling-alignrow{display:table-row}.nr-channeling-phonedialog .nr-channeling-aligncell{vertical-align:middle}\n.nr-channeling-phonedialog .nr-channeling-phonedialogcontent{padding:0}.nr-channeling-phonedialog .nr-channeling-phonelink{display:inline-block;text-decoration:none;line-height:normal;font-size:28px;font-weight:300;color:#3b3b3b}\n.nr-channeling-phonedialog .nr-channeling-phonelink:hover{text-decoration:none}\n.nr-channeling-phonedialog .nr-channeling-phonedetails{font-size:16px;font-weight:100;padding-top:5px}\n.nr-channeling-phonedialog .nr-channeling-phone-buttons{padding:30px 0 0;text-align:center;display:none}\n.nr-channeling-phonedialog .nr-channeling-phone-buttons span{background-color:#0099c8;display:inline-block;text-align:center;border-radius:2px;line-height:32px;min-width:60px;color:#fff;cursor:pointer}\n.nr-channeling-phonedialog .nr-channeling-phone-buttons span:hover{background-color:#1886b3}",contactformStylesheet:'.nr-ticket-form{position:relative;background:#fff;overflow:hidden;padding:10px 0 20px}\n.nr-ticket-form .CF_TitleDivElement{padding-top:5px;height:auto;font-size:13px}\n.nr-ticket-form .CF_TitleDivElement:focus{outline:0}.nr-ticket-form .CF_textFieldDiv input.CFP_Upload,.nr-ticket-form .CF_buttonsFieldDiv>input[type="reset"],.nr-ticket-form .CF_buttonsFieldDiv>input[type="button"]{background-color:#eaeaea;border-radius:0;color:#777;font-size:16px}\n.nr-ticket-form .CF_textFieldDiv input.CFP_Upload{font-size:12px}.nr-ticket-form .CF_textFieldDiv .CF_fileUploadBtnWrapper:hover input.CFP_Upload,.nr-ticket-form .CF_buttonsFieldDiv>input[type="button"]{background-color:#0099c8}\n.nr-ticket-form .CF_labelClass,.nr-ticket-form .CF_textFieldDiv>label.fieldElement{font-size:16px;font-weight:100}\n.nr-ticket-form #ContactformInnerContainer{margin:0 auto}.borderBoxSizing{box-sizing:border-box}\n.nr-ticket-form .CF_buttonsFieldDiv>input[name="submitbutton"]{background:#f7c545;color:#fff}\n.nr-ticket-form .CF_textFieldDiv input.CFP_Upload{background:#0098c7;line-height:32px;height:auto;color:#fff}\n.nr-ticket-form .searchAnim{display:none}.CF_buttonsFieldDiv{clear:both;width:100%}\n.nr-ticket-form .nr-fileuploader-mask{position:relative;overflow:hidden;float:left}\n.nr-ticket-form .nr-fileuploader-input{font-size:200px!important;position:absolute;cursor:pointer;min-width:100%;width:auto;height:auto;right:0;top:0;opacity:0;filter:alpha(opacity=0);-ms-filter:"alpha(opacity=0)"}\n.nr-ticket-form .nr-fileuploader-list .deleteFileLink{float:none;display:inline-block;margin:0 0 0 5px}\n.nr-ticket-form .CF_textFieldDiv input[type="text"],.nr-ticket-form .CF_textFieldDiv textarea{border:1px solid #e8e8e8;border-radius:0}\n.nr-ticket-form .CF_textFieldDiv.CF_rowError input[type="text"],.nr-ticket-form .CF_textFieldDiv.CF_rowError textarea{border-color:#f00}\n.nr-form-layout-3 .CF_labelError{margin-left:30%}.nr-form-layout-4 .CF_textFieldDiv input[type="text"],.nr-form-layout-4 .CF_textFieldDiv textarea{padding-right:10px}\n@media only screen and (max-width :352px){.nr-form-layout-3 .CF_labelError{margin-left:0}\n}.nr-ticket-form.nr-ticket-form-disabled:after{background:rgba(255,255,255,0.5);position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;content:\'\'}\n.nr-ticket-form-status{position:relative;overflow:hidden;text-align:center;display:table;width:100%;font-size:14px;color:#5e767a}\n.nr-ticket-form-status .nr-ticket-form-status-wrapper{display:table-row}.nr-ticket-form-status .nr-ticket-form-status-content{height:250px;padding:0 50px 30px;display:table-cell;vertical-align:middle}\n.nr-ticket-form-status .nr-ticket-form-status-title{font-size:28px}.nr-ticket-form-status .nr-ticket-form-close{background-color:#0099c8;position:absolute;text-align:center;border-radius:2px;line-height:32px;min-width:60px;color:#fff;cursor:pointer;margin:0 5px;bottom:0;right:0}',customchatStylesheet:'.nr-customchat{background:#fff;overflow:hidden;color:#3b3b3b}.nr-customchat .nr-customchat-header{position:relative;font-size:12px;padding:10px;z-index:1}\n.nr-customchat .nr-customchat-header .nr-customchat-agent-name{font-weight:bold}\n.nr-customchat .nr-customchat-header .nr-channeling-title{position:relative;margin-bottom:5px}\n.nr-customchat .nr-channeling-titletext-wrapper{position:absolute;white-space:nowrap;top:0;left:0}\n.nr-customchat .nr-channeling-toolbar-wrapper{box-shadow:-10px 0 10px 0 #fff;background:#fff;position:relative;z-index:1;margin:9px 0 0;float:right}\n.nr-customchat .nr-channeling-toolbar{line-height:normal;float:left}.nr-customchat .nr-customchat-systemmessage{font-size:12px;margin:0}\n.nr-customchat .nr-customchat-button-endchat{cursor:pointer;background:#dedede;line-height:33px;margin:0 0 0 5px;padding:0 15px;float:right;color:#3b3b3b}\n.nr-customchat-log{padding:35px 20px 15px;overflow:auto}.nr-customchat-log .nr-customchat-author{line-height:50px;overflow:hidden;width:50px;height:50px}\n.nr-customchat-log .nr-customchat-message.nr-customchat-me .nr-customchat-author{float:left;margin:-8px 10px 0 0}\n.nr-customchat-log .nr-customchat-message.nr-customchat-agent .nr-customchat-author{float:right;margin:-8px 0 0 10px}\n.nr-customchat-log .nr-customchat-author-name{display:none}.nr-customchat .nr-customchat-message{margin:20px 0 0;width:100%;float:left}\n.nr-customchat .nr-customchat-message:first-child{margin-top:3px}.nr-customchat .nr-customchat-messagetext{font-size:14px;line-height:19px;background:#f2f2f2;overflow:hidden;padding:7px 10px;color:#424242;height:1%}\n.nr-customchat .nr-customchat-agent .nr-customchat-messagetext{background:#e3f7fc}\n.nr-customchat .nr-customchat-messagetext p{margin:0}.nr-no-svg .nr-customchat-log .nr-customchat-author i.nr-svg-icon{display:block;height:100%;width:100%}\n.nr-customchat-log .nr-customchat-author svg .nr-avatar-fill{fill:#d4d4d4}\n.nr-customchat-log .nr-customchat-agent .nr-customchat-author svg .nr-avatar-fill{fill:#addeeb}\n.nr-no-svg .nr-customchat-log .nr-customchat-author i.nr-svg-icon{background:#d4d4d4 url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icons.png?cv=8D3A592911CBDED) no-repeat -8px -268px}\n.nr-no-svg .nr-customchat-log .nr-customchat-agent .nr-customchat-author i.nr-svg-icon{background-color:#addeeb}\n.nr-customchat-entry-answer{padding:10px 0;clear:both}.nr-customchat-entry-answer .nr-answering-answer-title,.nr-customchat-entry-answer .nr-answering-answer-top-menu{height:auto}\n.nr-customchat-suggested-answer{display:block;margin:0 0 5px;font-size:12px;color:#aaa}\n.nr-customchat-input .nr-autocomplete{display:block}.nr-customchat-input .nr-autocomplete-active{background:#eee!important;color:#000!important}\n.nr-customchat .nr-customchat-message-status-sending .nr-customchat-messagetext{color:#ababab}\n.nr-customchat-me+.nr-customchat-me{margin:-9px 0 0}.nr-customchat-me+.nr-customchat-me .nr-customchat-author{visibility:hidden}\n.nr-customchat-me+.nr-customchat-me .nr-customchat-messagetext{border-top:0}\n.nr-customchat-agent+.nr-customchat-agent{margin:-9px 0 0}.nr-customchat-agent+.nr-customchat-agent .nr-customchat-author{visibility:hidden}\n.nr-customchat-agent+.nr-customchat-agent .nr-customchat-messagetext{border-top:0}\n.nr-customchat .nr-customchat-input{background:#dedede;padding:8px 24px}.nr-customchat .nr-customchat-input:after{content:\'\';height:0;clear:both;display:block}\n.nr-customchat .nr-customchat-button-send{cursor:pointer;background:#f7c545;color:#fff;display:table-cell;font-size:14px;line-height:35px;padding:0 13px;margin:0}\n.nr-customchat .nr-customchat-input-wrapper{height:35px;background:#fff;padding:0 20px 0 0;display:table-cell;width:100%}\n.nr-customchat .nr-customchat-input-wrapper input[type="text"]{font-size:14px;line-height:35px;background:0;border:0;width:100%;margin:0;padding:0 10px;margin:0}\n.nr-customchat .nr-customchat-input-wrapper input[type="text"]:focus{outline:0}\n.nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop{margin:0 -20px 0 0}\n.isRtl .nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop{margin:0 0 0 -20px}\n.nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop li{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}\n.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-button-send{background:#b7b7b7;color:#fff}\n.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-input-wrapper{background:#eee}\n.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-input-wrapper input[type="text"]{display:none}\n.nr-lp-survey{overflow:hidden;font-size:12px;padding:10px}.nr-lp-survey input[type="checkbox"],.nr-lp-survey input[type="radio"]{display:inline-block;vertical-align:middle;margin:0 5px 0 0}\n.nr-lp-survey>table{border-collapse:collapse;margin:5px 0;width:100%}.nr-lp-survey tr.radio-layout-sidebyside table{display:table-cell;width:0}\n.nr-lp-survey table td.question{font-style:italic;width:50%}.nr-lp-survey .surveyHeading{font-size:14px;margin:0 0 20px}\n.nr-lp-survey .validationError input,.nr-lp-survey .validationError textarea{color:#f00}\n.nr-lp-survey .nr-lp-btn-submit{border:0;border-radius:2px;cursor:pointer;background:#0099c8;color:#fff;float:right;font-size:12px;line-height:28px;padding:0 13px;margin:7px 0 0 10px}\n.nr-lp-transcript{white-space:nowrap;display:inline-block;background:#fff;font-size:12px;line-height:25px}\n.nr-lp-transcript .nr-sdk-input-placeholder{position:absolute;color:#aaa;padding:5px 10px;top:0}\n.nr-lp-transcript .nr-lp-transcript-btn,.nr-lp-transcript .nr-lp-transcript-action{text-align:center;position:relative;display:inline-block;background:#dedede;border-radius:0;line-height:33px;height:33px;cursor:pointer;color:#fff}\n.nr-lp-transcript .nr-lp-transcript-action{text-align:center;min-width:60px;margin:0 0 0 5px}\n.nr-lp-transcript .nr-lp-transcript-action-highlight{background:#0099c8}.nr-lp-transcript .nr-lp-transcript-caption{position:absolute;background:#000;display:none;color:#fff;top:100%;left:50%}\n.nr-lp-transcript .nr-lp-transcript-btn:hover .nr-lp-transcript-caption{display:block}\n.nr-lp-transcript .nr-lp-transcript-btn:before{background:url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icon-ticket.svg?cv=8D3A592911CBDED) no-repeat;vertical-align:top;display:inline-block;content:\'\';width:48px;height:48px;margin:-7px 0}\n.nr-lp-transcript .nr-lp-transcript-form{display:inline-block}.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input{vertical-align:top;display:inline-block;background:#fff;border:1px solid #aaa;color:#5e767a;border-radius:0;padding:0 7px;height:31px;width:150px;margin:0}\n.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input::-webkit-input-placeholder{color:#8fa3a6}\n.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:-moz-placeholder{color:#8fa3a6;opacity:1}\n.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input::-moz-placeholder{color:#8fa3a6;opacity:1}\n.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:-ms-input-placeholder{color:#8fa3a6}\n.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:placeholder-shown{color:#8fa3a6}\n.nr-lp-transcript-form-active ~ *{display:none}.isRtl .nr-customchat .nr-channeling-toolbar-wrapper{float:left}\n.isRtl .nr-customchat .nr-channeling-titletext-wrapper{left:auto;right:0}\n.isRtl .nr-customchat .nr-channeling-toolbar{float:right}.isRtl .nr-customchat .nr-customchat-button-endchat{margin:0 5px 0 0;float:left}\n.isRtl .nr-lp-transcript .nr-lp-transcript-action{margin:0 5px 0 0}.isRtl .nr-customchat-log .nr-customchat-message.nr-customchat-me .nr-customchat-author{float:right;margin:-8px 0 0 10px}\n.isRtl .nr-customchat-log .nr-customchat-message.nr-customchat-agent .nr-customchat-author{float:left;margin:-8px 10px 0 0}\n.isRtl .nr-customchat .nr-customchat-input-wrapper{padding:0 0 0 20px}.isRtl .nr-customchat-input .nr-autocomplete{margin:0 0 0 32px}',actionbarTemplate:'<div class="nr-channeling-actionbar {{ (isRTL ? \'nr-channeling-actionbar-rtl\' : \'nr-channeling-actionbar-ltr\') + \' \' + (isHidden ? \'nr-channeling-hidden\' : \'\') + \' \' + (isCompactMode ? \'nr-channeling-actionbar-compact\' : \'\') + \' \' + (!visibleChannels.length ? \'nr-channeling-actionbar-nochannels\' : \'\') + \' \' + (channelIsActive ? \'nr-channeling-actionbar-active\' : \'\') }}">\r\n\t<div class="nr-channeling-actionbar-buttons">\r\n\t\t<ul>\r\n\t\t\t<li alloy-loop="channel in visibleChannels" class="nr-channeling-type-{{channel.type}} {{channel.active? \'nr-channeling-active\': \'\'}}" data-channel-name="{{channel.name}}" data-channel-type="{{channel.escalationType}}">\r\n\t\t\t\t<div class="nr-channeling-actionbar-textwrapper">\r\n\t\t\t\t\t<a role="button" href="javascript:void(0)" alloy-bind-event-click="f(\'activateChannel\', channel)" class="nr-channeling-actionbar-buttontext" nr-tooltip="{{channel.buttonText}}" nr-tooltip-show-with-ellipsis>\r\n\t\t\t\t\t\t<i alloy-if="channel.type === \'phone\'" class="nr-svg-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" xml:space="preserve">\n<style type="text/css">.st2{fill:#3B3B3B}</style>\n<g>\n\t<path class="st2 nr-actionbar-icon" d="M16.4,21.5L16.4,21.5c-1,1.2-3.3,4.1,5.2,12.1c4,3.8,7.2,5.8,9.6,5.8c1.4,0,2.1-0.7,2.7-1.2l0.1-0.1\n\t\tc0.1-0.2,0.4-0.5,1.2-1.3l-4.9-4.6c-0.5,0.5-1,1-1.1,1.2c0,0,0,0.1-0.1,0.1c-0.3,0.3-0.6,0.4-1,0.4l0,0c-2,0-5.6-3.2-6.7-5.5\n\t\tc-0.5-1.2-0.3-1.8,0-2.1l1.2-1.4l-4.9-4.6C17,21,16.6,21.4,16.4,21.5z M31.2,40.1L31.2,40.1c-2.5,0-5.8-1.9-10.1-6\n\t\tc-9-8.5-6.4-11.7-5.3-13.1l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.2-0.1,0.9-0.9,1.5-1.5c0.1-0.1,0.1-0.1,0.3-0.1c0.1,0,0.2,0,0.3,0.1\n\t\tl5.4,5.2c0.1,0.1,0.1,0.4,0,0.5L22,26.6c-0.3,0.3-0.1,0.9,0.1,1.3c1,2.2,4.4,5.1,6,5.1l0,0c0.2,0,0.3,0,0.4-0.1\n\t\tc0.1-0.2,0.5-0.6,1.5-1.6c0.1-0.1,0.4-0.1,0.5,0l5.4,5.2c0.1,0.1,0.1,0.1,0.1,0.3c0,0.1,0,0.2-0.1,0.3c-0.6,0.6-1.3,1.3-1.4,1.5\n\t\tc0,0,0,0.1-0.1,0.1l-0.1,0.1C33.8,39.2,32.9,40.1,31.2,40.1z"/>\n\t<path class="st2 nr-actionbar-icon" d="M40,29.5c-0.2,0-0.4-0.1-0.4-0.4c0-7.5-6-13.5-13.5-13.5c-0.2,0-0.4-0.1-0.4-0.4c0-0.2,0.1-0.4,0.4-0.4\n\t\tc7.9,0,14.3,6.4,14.3,14.3C40.4,29.4,40.2,29.5,40,29.5z"/>\n\t<path class="st2 nr-actionbar-icon" d="M35.5,30.5c-0.2,0-0.4-0.1-0.4-0.4c0-5.5-4.5-9.9-9.9-9.9c-0.2,0-0.4-0.1-0.4-0.4c0-0.2,0.1-0.4,0.4-0.4\n\t\tc5.9,0,10.7,4.8,10.7,10.7C35.9,30.4,35.7,30.5,35.5,30.5z"/>\n</g>\n</svg>\n</i><i alloy-if="channel.type === \'customEmail\'" class="nr-svg-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" xml:space="preserve">\n<style type="text/css">.st2{fill:#3B3B3B}</style>\n<path class="st2 nr-actionbar-icon" d="M41.3,35.8c0,0.3-0.1,0.6-0.3,0.8l-8.5-8.5l-0.4,0.4l8.5,8.5c-0.2,0.1-0.4,0.2-0.6,0.2H15.1\n\tc-0.2,0-0.4-0.1-0.6-0.2l8.5-8.5l-0.4-0.4L14,36.6c-0.2-0.2-0.3-0.5-0.3-0.8V19.2c0-0.3,0.1-0.6,0.3-0.8l12,12\n\tc0.4,0.4,0.9,0.6,1.5,0.6c0.6,0,1.1-0.2,1.5-0.6l12-12c0.2,0.2,0.3,0.5,0.3,0.8V35.8z M39.9,17.8c0.2,0,0.5,0.1,0.7,0.2l-12,12\n\tc-0.6,0.6-1.7,0.6-2.3,0l-12-12c0.2-0.1,0.4-0.2,0.7-0.2H39.9z M39.9,17.3H15.1c-1,0-1.9,0.9-1.9,1.9v16.6c0,1,0.9,1.9,1.9,1.9h24.8\n\tc1,0,1.9-0.9,1.9-1.9V19.2C41.8,18.1,41,17.3,39.9,17.3z"/>\n</svg>\n</i><i alloy-if="channel.type === \'chat\'" class="nr-svg-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" xml:space="preserve">\n<style type="text/css">.st2{fill:#3B3B3B}</style>\n<path class="st2 nr-actionbar-icon" d="M27.5,16.2c3.3,0,6.1,1,8.4,3c2.3,2,3.4,4.3,3.4,7.2s-1.1,5.2-3.4,7.2c-2.3,2-5.1,3-8.4,3\n\tc-1.2,0-2.3-0.1-3.2-0.4c-0.1,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0.1l-1.5,1.3v0c-0.1,0-0.1,0.1-0.2,0.1c-1,0.6-2.1,1-3.2,1.1\n\tc0.6-0.9,0.9-1.7,1.2-2.6v0l0.2-1.2c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1-0.1-0.1c-1.5-1-2.7-2.1-3.5-3.6c-0.9-1.5-1.3-3-1.3-4.7\n\tc0-2.8,1.2-5.2,3.5-7.2c1-0.9,2-1.6,3.2-2.1C23.9,16.5,25.6,16.2,27.5,16.2z M36.3,18.8c-2.4-2.1-5.3-3.2-8.8-3.2\n\tc-2,0-3.8,0.4-5.4,1.1c-1.2,0.5-2.3,1.2-3.3,2.1c-2.4,2.1-3.7,4.6-3.7,7.6c0,1.8,0.5,3.4,1.4,5c0.8,1.4,2,2.6,3.5,3.6l-0.2,1.1l0,0\n\tc-0.3,1-0.7,1.9-1.4,2.9c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0,0.2,0c1.4,0,2.8-0.4,4-1.2c0.1,0,0.1-0.1,0.2-0.2h0\n\tl1.4-1.2c0.9,0.2,2,0.4,3.2,0.4c3.4,0,6.3-1,8.8-3.1c2.4-2.1,3.6-4.7,3.6-7.6S38.7,20.9,36.3,18.8"/>\n</svg>\n</i>{{channel.buttonText}}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span class="nr-channeling-actionbar-textcopy">{{channel.buttonText}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n',contactformTemplate:'<div class="nr-ticket-form {{ disabled ? \'nr-ticket-form-disabled\' : \'\' }}">\r\n\t<div class="nr-channeling-title">\r\n\t\t<span alloy-if="allowCancelForm"><a href="javascript:void(0)" class="nr-channeling-back" alloy-bind-event-click="dismiss()">Close the contact form</a></span><span class="nr-channeling-titletext">{{ getLocalizedText(\'Channeling.ticketDialogTitle\') }}</span>\r\n\t</div>\r\n\t<div class="nr-ticket-form-container" alloy-if="!formSendingFailed && !formSentSuccessfully">\r\n\t\t<!-- form will be generated here -->\r\n\t</div>\r\n\t<div class="nr-ticket-form-status" alloy-if="formSendingFailed">\r\n\t\t<div class="nr-ticket-form-status-wrapper">\r\n\t\t\t<div class="nr-ticket-form-status-content">\r\n\t\t\t\t<div class="nr-ticket-form-status-title">Oops!</div>\r\n\t\t\t\t<div>The form wasn\'t sent. Please try again later.</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<span class="nr-ticket-form-close" alloy-bind-event-click="dismiss()">Close</span>\r\n\t</div>\r\n\t<div class="nr-ticket-form-status" alloy-if="formSentSuccessfully">\r\n\t\t<div class="nr-ticket-form-status-wrapper">\r\n\t\t\t<div class="nr-ticket-form-status-content">\r\n\t\t\t\t<!-- default contact form thank you -->\r\n\t\t\t\t<div alloy-if="!channel.thankYouMessage">\r\n\t\t\t\t\t<div class="nr-ticket-form-status-title">Thank you!</div>\r\n\t\t\t\t\t<div>Your submission has been received!</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- custom contact form thank you -->\r\n\t\t\t\t<div alloy-if="channel.thankYouMessage">\r\n\t\t\t\t\t<div alloy-bind-html="{{channel.thankYouMessage}}"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<span class="nr-ticket-form-close" alloy-bind-event-click="dismiss()">Close</span>\r\n\t</div>\r\n</div>',phonedialogTemplate:'<div class="nr-channeling-phonedialog">\r\n\t<div class="nr-channeling-title">\r\n\t\t<a href="javascript:void(0)" class="nr-channeling-back" alloy-bind-event-click="dismiss()">Close phone dialog</a><span class="nr-channeling-titletext">{{ getLocalizedText(\'Channeling.phoneDialogTitle\') }}</span>\r\n\t</div>\r\n\t<div class="nr-channeling-aligntable">\r\n\t\t<div class="nr-channeling-alignrow">\r\n\t\t\t<div class="nr-channeling-aligncell">\r\n\t\t\t\t<div class="nr-channeling-phonedialogcontent">\r\n\t\t\t\t\t<div class="nr-channeling-phonewrapper">\r\n\t\t\t\t\t\t<a target="_blank" href="tel:{{channel.phoneNumber}}" class="nr-channeling-phonelink">{{channel.phoneNumber}}</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="nr-channeling-phonedetails" alloy-bind-html="{{channel.phoneDescription}}"></div>\r\n\t\t\t\t\t<div class="nr-channeling-phone-buttons">\r\n\t\t\t\t\t\t<span alloy-bind-event-click="dismiss()">OK</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n',customchatTemplate:'<div class="nr-customchat {{ systemMessageVisible ? \'nr-customchat-system-message-visible\' : \'\' }}">\r\n\t<div alloy-if="overlayBlockActive" class="nr-customchat-area-overlay nr-style-scroll">\r\n\t\t<!-- chat providers can insert blocks in overlay here -->\r\n\t</div>\r\n\t<div alloy-if="!overlayBlockActive">\r\n\t\t<!-- main chat block -->\r\n\t\t<div class="nr-customchat-header">\r\n\t\t\t<div class="nr-channeling-title">\r\n\t\t\t\t<div class="nr-channeling-toolbar-wrapper">\r\n\t\t\t\t\t<div class="nr-channeling-toolbar">\r\n\t\t\t\t\t\t<!-- chat providers can insert blocks in toolbar here -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span alloy-bind-event-click="endChatButtonClick()" class="nr-customchat-button-endchat">{{ getLocalizationText(\'Channeling.closeChat\') }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="nr-channeling-titletext-wrapper">\r\n\t\t\t\t\t<span class="nr-channeling-titletext" alloy-bind-html="{{ chatTitleText }}"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div alloy-if="systemMessageVisible" class="nr-customchat-systemmessage" alloy-bind-html="{{ systemMessage }}"></div>\r\n\t\t</div>\r\n\t\t<div class="nr-customchat-log nr-style-scroll">\r\n\t\t\t<nr-chat-entry alloy-loop="entry in entries" alloy-this="entry">\r\n\t\t\t\t<!-- different type of entries might be displayed here - chat messages, widget answers, etc -->\r\n\t\t\t</nr-chat-entry>\r\n\t\t</div>\r\n\t\t<div class="nr-customchat-input {{ inputDisabled ? \'nr-customchat-disabled\' : \'\' }}">\r\n\t\t\t<div class="nr-customchat-input-wrapper">\r\n\t\t\t\t<input type="text" class="nr-customchat-input-field" alloy-bind-event-keyup="keypressHandler(e)" alloy-this="newChatMessage">\r\n\t\t\t</div>\r\n\t\t\t<span alloy-bind-event-click="sendMessage(newChatMessage)" class="nr-customchat-button-send">{{ getLocalizationText(\'Channeling.sendBtn\') }}</span>\r\n\t\t</div>\r\n\t\t<div class="nr-customchat-area-input">\r\n\t\t\t<!-- chat providers can insert blocks under the input area -->\r\n\t\t</div>\r\n\t</div>\r\n</div>',customchatAnswerTemplate:'<div class="nr-customchat-entry-answer">\r\n\t<span class="nr-customchat-suggested-answer">{{ getLocalizedText(\'Channeling.quickAnswer\') }}</span>\r\n\t<nr-answering-answer></nr-answering-answer>\r\n</div>',customchatMessageTemplate:'<div class="nr-customchat-message {{ type === \'client\' ? \'nr-customchat-me\' : \'nr-customchat-agent\' }} {{ \'nr-customchat-message-status-\' + status }}">\r\n\t<div class="nr-customchat-author"><i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\r\n\t<circle class="nr-avatar-fill" fill="#bebebe" opacity="0.6" cx="25" cy="25" r="25"/><path class="nr-avatar-fill" fill="#bebebe" fill-rule="evenodd" d="M30.22,32.2l-0.67-3.88a6.66,6.66,0,0,0,2.68-4V22.56c0.8,0,1.47-.94,1.47-2.14s-0.54-2-1.34-2.14c0.13-.67.27-1.87,0.4-2.81,0.94,0.13,2.41-.4,2.41-1.61-4.28,0-4.28-5.76-7.23-5.76s-4.28,2.28-4.82,2.81c-3.88-1.34-5.76,1.07-6,2.68a20.76,20.76,0,0,0,.67,4.69,2.17,2.17,0,0,0-1.34,2.14c0,1.21.67,2.14,1.47,2.14V24.3c0,0.8.94,2.54,2.68,3.88l-0.67,4c-12.18.54-13.66,3.61-13.66,9.24A24.93,24.93,0,0,0,25.33,50a23.75,23.75,0,0,0,18.42-8.56c0-5.62-1.47-8.7-13.52-9.24"/>\r\n</svg></i><span class="nr-customchat-author-name">{{ author }}</span></div>\r\n\t<div class="nr-customchat-messagetext" alloy-bind-html="{{ text }}"></div>\r\n</div>'},ns:"nanoRep.SDK.Channeling",init:function(container,data,utils){var modular=new utils.Modular(this);
utils.addStyle(data.commonStylesheet);modular.startExport();modular.declare("ActionBarScope",[container.ChannelingPrivate.ActionBarScopeBase,container.Common.CSS]);modular.define(function(ActionBarScopeBase,CSS){var ActionBarScope=ActionBarScopeBase.extend({name:"SharingScope",_prototype:{dtor:function(){if(this.$model&&typeof this.$model.dispose==="function"){this.$model.dispose()}}}});return ActionBarScope});modular.declare("ActionBarModel",[Alloy,container.ChannelingPrivate.ActionBarModelBase,"ActionBarScope",this]);modular.define(function(Alloy,ActionBarModelBase,ActionBarScope,Channeling){var actionHandlers={normal:{phone:function(channel,actionBar,UIActions){UIActions.showPhoneNumber(channel,actionBar)},customEmail:function(channel,actionBar,UIActions){UIActions.showContactForm(channel,actionBar)},chat:function(channel,actionBar,UIActions){UIActions.startChat(channel,actionBar)}},custom:function(channel,actionBar,UIActions){UIActions[channel.action](channel,actionBar)}};var ActionBarModel=ActionBarModelBase.extend({name:"ActionBarModel",_prototype:{ScopeClass:ActionBarScope,ctor:function(options){var self=this;this.options={element:null,channels:null,reportEvents:true,useCustomChatUI:true,session:{host:"my.nanorep.com",account:null,kb:null,articleId:null,text:null,context:null}};if(options){var deepMerge=function(targetObj,sourceObj){for(var prop in sourceObj){if(sourceObj.hasOwnProperty(prop)){if(typeof sourceObj[prop]==="object"&&targetObj[prop]){deepMerge(targetObj[prop],sourceObj[prop])}else{targetObj[prop]=sourceObj[prop]}}}};deepMerge(this.options,options)}this.channels=this.channels||[];this.visibleChannels=[];this.isCompactMode=false;this.maxVisibleChannels=Infinity;if(this.channels.length&&!(this.channels[0] instanceof Channeling.Channel)){this.setChannels(this.channels)}if(this.options.session.account&&this.options.session.kb&&!this.channels.length){Channeling.getChannels(this.options.session,function(error,channels){self.setChannels(channels)})}if(this.options.events){this.on(this.options.events)}},setChannels:function(channels){this.channels=channels&&channels.length?channels:[];
if(this.channels.length&&!(this.channels[0] instanceof nanoRep.SDK.Channeling.Channel)){this.channels=nanoRep.SDK.Channeling.convertChannels(this.channels)}this.settingChannels=true;for(var i=0;i<this.channels.length;i++){if(this.UIActions&&this.UIActions.initChannel){this.UIActions.initChannel(this.channels[i],this)}}this.settingChannels=false;this.updateVisibleChannels();this.emit("channelsChanged",this.channels)},addChannel:function(channel){channel=channel instanceof nanoRep.SDK.Channeling.Channel?channel:new nanoRep.SDK.Channeling.Channel(channel);this.channels.push(channel);if(!this.settingChannels){if(this.UIActions&&this.UIActions.initChannel){this.UIActions.initChannel(channel,this)}this.updateVisibleChannels();this.emit("channelsChanged",this.channels)}return channel},getOpener:function(channel){var container=this.getContainer(),channelIndex=-1;for(var i=0;i<this.visibleChannels.length;i++){if(this.visibleChannels[i]===channel){channelIndex=i;break}}return(container&&channelIndex>-1?container.querySelectorAll("li")[channelIndex]:null)},getChannels:function(){return this.channels},getVisibleChannels:function(){return this.visibleChannels},setMaxVisibleChannels:function(count){this.maxVisibleChannels=count;this.updateVisibleChannels()},isActiveChannel:function(channel){return !!channel.active},setActiveChannel:function(channel){this.channelIsActive=false;for(var i=0;this.channels&&i<this.channels.length;i++){if(this.channels[i]===channel){this.channels[i].active=true;this.channelIsActive=true}else{if(this.channels[i].active&&this.UIActions.destroyChannel){this.UIActions.destroyChannel(this.channels[i],this)}this.channels[i].active=false}}this.updateScope()},useCompactMode:function(enabled){this.isCompactMode=!!enabled;this.updateScope()},updateVisibleChannels:function(){this.visibleChannels=[];for(var i=0,visibleCount=0,currentChannel;i<this.channels.length;i++){currentChannel=this.channels[i];if(!currentChannel||visibleCount>=this.maxVisibleChannels){break}if(currentChannel.hidden){continue}this.visibleChannels.push(currentChannel);
visibleCount++}this.updateScope()},hide:function(){this.isHidden=true;this.updateScope()},show:function(){this.isHidden=false;this.updateScope()},hideChannel:function(channel){channel.hidden=true;this.updateVisibleChannels()},showChannel:function(channel){channel.hidden=false;this.updateVisibleChannels()},activateChannel:function(channel){if(channel.active){return}var actionFunc;if(channel.action==="normal"){actionFunc=actionHandlers.normal[channel.type]}else{actionFunc=actionHandlers.custom}actionFunc(channel,this,this.UIActions)},dtor:function(){if(this.UIActions&&this.UIActions.uninitChannel){for(var i=0;i<this.channels.length;i++){this.UIActions.uninitChannel(this.channels[i],this)}}}}});return ActionBarModel});utils.addStyle(data.actionbarStylesheet);Alloy.injectTemplate(container.ChannelingPrivate.ActionBarScopeBase.prototype.TEMPLATE,data.actionbarTemplate);this.ActionBar=modular.byName("ActionBarModel");utils.addStyle(data.phonedialogStylesheet,data.contactformStylesheet,data.customchatStylesheet);Alloy.injectTemplate("nr-channeling-contactform",data.contactformTemplate);Alloy.injectTemplate("nr-channeling-phonedialog",data.phonedialogTemplate);Alloy.injectTemplate("nr-channeling-customchat",data.customchatTemplate);modular.declare("ChatUI",[Alloy,container.ChannelingPrivate.AbstractChatUI,container.Localization,{text:data.customchatMessageTemplate},{text:data.customchatAnswerTemplate}]);modular.define(function(Alloy,AbstractChatUI,Localization,messageTemplate,answerTemplate){var ChatUI=AbstractChatUI.extend({name:"ChatUI",_prototype:{ctor:function(options){this.options={showSuggestions:false,session:null};if(options){for(var prop in this.options){if(this.options.hasOwnProperty(prop)&&typeof options[prop]!=="undefined"){this.options[prop]=options[prop]}}}if(this.options.showSuggestions){var dependenciesAvailable=window.nanoRep&&nanoRep.SDK&&nanoRep.SDK.QueryField&&nanoRep.SDK.Answering&&nanoRep.SDK.Answering.Answer;if(!dependenciesAvailable){this.options.showSuggestions=false;if(window.console&&window.console.warn){window.console.warn("nanoRep.SDK.QueryField and nanoRep.SDK.Answering.Answer is required to show suggestions in chat.")
}}}this.$model.chatTitleText=this.getLocalizationText("Channeling.chatCallingStatus");this.$model.systemMessageVisible=false;this.$model.inputDisabled=true;this.$model.systemMessage="";this.$model.entries=[];this.$model.newChatMessage="";this.typingDelay=5000;this.setScopeClass("nr-chat-entry",ChatEntry)},afterBind:function(){var self=this;if(!this.isDisposed()&&this.options.showSuggestions){var inputField=this.$domElement.querySelector(".nr-customchat-input-field");this.queryField=new nanoRep.SDK.QueryField({element:inputField,session:this.options.session,fireSearchEventWhileTyping:false,useSuggestionTextAsValue:false,showResetButton:false,showVoiceButton:false,showSuggestions:true,maxSuggestionsCount:2,suggestionsDropdownPosition:"top",events:{search:function(query){self.sendMessage(query)},selectSuggestion:function(suggestionText){self.queryField.reset();self.$model.newChatMessage="";self.queryField.getAnswers({text:suggestionText},function(error,data){var answer=!error&&data.answers&&data.answers[0];if(answer&&!self.isDisposed()){self.addChatLogAnswer(answer)}})}}})}},setProvider:function(provider){var self=this;this.chatProvider=provider;this.chatEventListeners={chatStateChanged:function(chatState){self.updateStateUI(chatState)},systemMessage:function(message){self.updateSystemMessage(message,true)},newMessage:function(message){self.addChatLogMessage(message)},updateMessage:function(messageObject){var message=self.getMessageById(messageObject.id);if(message){for(var prop in messageObject){if(messageObject.hasOwnProperty(prop)){message[prop]=messageObject[prop]}}message.$scope.update()}},agentTyping:function(isTyping){self.updateAgentTypingStatus(isTyping)},providerShowBlock:function(options){self.showCustomBlock(options)}};this.chatProvider.on(this.chatEventListeners);this.chatProvider.requestChat();this.chatProvider.getChatState(function(state){if(state&&state!=="ended"){if(state!=="init"){self.updateStateUI("init")}if(state==="chatting"){self.emit("chatStarted")}self.updateStateUI(state)}})},close:function(){this.emit("close")
},endChatButtonClick:function(){if(this.currentChatState==="chatting"&&!confirm(this.getLocalizationText("Channeling.confirmEndChat"))){return}this.chatProvider.endChat()},sendMessage:function(messageText){var self=this;if(!messageText.replace(/^\s+|\s+$/g,"").length){return}if(this.queryField){this.queryField.reset();this.$model.newChatMessage=""}else{this.$model.newChatMessage="";this.update()}if(this.chatProvider){this.chatProvider.setUserTyping(false);this.waitForInitState(function(){self.chatProvider.sendMessage(messageText,function(message){self.addChatLogMessage(message)})})}},getMessageById:function(messageId){var result=null;for(var i=0;i<this.$model.entries.length;i++){if(this.$model.entries[i].type==="message"&&this.$model.entries[i].data.id===messageId){result=this.$model.entries[i].data;break}}return result},keypressHandler:function(e){var self=this;if(!this.options.showSuggestions&&(e.which||e.keyCode)===13){this.sendMessage(this.$model.newChatMessage);return}if(typeof this.previousMessageValue==="undefined"){this.previousMessageValue=this.$model.newChatMessage}setTimeout(function(){if(self.previousMessageValue!==self.$model.newChatMessage&&self.chatProvider){self.previousMessageValue=self.$model.newChatMessage;self.chatProvider.setUserTyping(true);clearTimeout(self.typingTimer);self.typingTimer=setTimeout(function(){if(self.chatProvider){self.chatProvider.setUserTyping(false)}},self.typingDelay)}},1)},disableInputUI:function(){this.$model.inputDisabled=true;this.update()},enableInputUI:function(){this.$model.inputDisabled=false;this.update()},showCustomBlock:function(options){var self=this,factory=new Function("config","return new "+options["class"]+"(config)"),instance;options.config=options.config||{};options.config.chatProvider=self.chatProvider;options.config.chatUI=self;switch(options.area){case"toolbar":options.config.container=self.$domElement.querySelector(".nr-channeling-toolbar");break;case"input":options.config.container=self.$domElement.querySelector(".nr-customchat-area-input");break;case"overlay":default:self.setModelProperty({overlayBlockActive:true});
options.config.container=self.$domElement.querySelector(".nr-customchat-area-overlay");break}instance=factory(options.config);self.customBlockInstances=self.customBlockInstances||[];self.customBlockInstances.push(instance);instance.on({dispose:function(){if(options.area==="overlay"&&!self.isDisposed()){self.setModelProperty({overlayBlockActive:false})}self.emit("resize")}});self.emit("resize")},updateStateUI:function(chatState){var self=this;self.currentChatState=chatState;switch(chatState){case"init":self.chatProvider.getChatLog(function(messages){for(var i=0;i<messages.length;i++){self.addChatLogMessage(messages[i])}self.emit("_chatStateInit")});break;case"waiting":if(self.chatProvider.capabilities.pendingMessages){self.enableInputUI()}self.chatProvider.getStatusMessage(function(statusMessage){if(statusMessage){self.updateSystemMessage(statusMessage,true)}});break;case"chatting":self.emit("chatStarted");self.enableInputUI();self.chatProvider.getAgentName(function(agentName){self.setModelProperty({chatTitleText:self.getLocalizationText("Channeling.chattingNow")+'<span class="nr-customchat-agent-name">'+agentName+"</span>",systemMessageVisible:false});self.autoScrollChatLog()});break;case"ended":self.disableInputUI();self.setModelProperty({chatTitleText:self.getLocalizationText("Channeling.chatClosed"),systemMessageVisible:true});self.autoScrollChatLog();break;case"close":self.close();break}self.emit("resize")},updateAgentTypingStatus:function(isTyping){var self=this;self.chatProvider.getAgentName(function(agentName){var agentNameHTML=' <span class="nr-customchat-agent-name">'+agentName+"</span> ",titleTextHTML=isTyping?agentNameHTML+self.getLocalizationText("Channeling.chatTyping"):self.getLocalizationText("Channeling.chattingNow")+agentNameHTML;self.setModelProperty({chatTitleText:titleTextHTML})})},updateSystemMessage:function(message,isVisible){this.setModelProperty({systemMessageVisible:isVisible,systemMessage:message.text});this.emit("resize")},waitForInitState:function(callback){if(this.currentChatState){callback.call(this)
}else{var callbackHandler=function(){this.off("_chatStateInit",callbackHandler);setTimeout(callback,1)};this.on("_chatStateInit",callbackHandler)}},addChatLogAnswer:function(answer){this.$model.entries.push({type:"answer",data:{title:answer.title,content:answer.summary}});this.update();this.autoScrollChatLog();var strip=function(html){var node=document.createElement("div"),scripts;node.innerHTML=html;scripts=node.querySelectorAll("script");for(var i=0;i<scripts.length;i++){scripts[i].parentNode.removeChild(scripts[i])}return node.textContent||node.innerText||html};var answerForAgent="["+Localization.getText("Channeling.quickAnswer")+"] "+strip(answer.title)+" \n\n"+strip(answer.summary);this.chatProvider.sendMessage(answerForAgent)},addChatLogMessage:function(message){var self=this;for(var i=0;i<self.$model.entries.length;i++){if(self.$model.entries[i].data.id===message.id){return}}if(message.type==="client"&&message.text.indexOf("<")>-1){message.text=self.customHTMLEscape(message.text)}self.$model.entries.push({type:"message",data:message});self.update();self.emit("resize");self.autoScrollChatLog();this.chatProvider.getAgentName(function(agentName){message.author=(message.type==="client"?self.getLocalizationText("Channeling.me"):agentName);self.update()})},autoScrollChatLog:function(){var chatLogBlock=this.$domElement.querySelector(".nr-customchat-log"),chatScrollOffset=chatLogBlock.scrollHeight-chatLogBlock.offsetHeight;chatLogBlock.scrollTop=chatScrollOffset;setTimeout(function(){chatScrollOffset=chatLogBlock.scrollHeight-chatLogBlock.offsetHeight;chatLogBlock.scrollTop=chatScrollOffset},100)},customHTMLEscape:function(htmlCode){var tempNode=document.createElement("div");tempNode.appendChild(document.createTextNode(htmlCode));return tempNode.innerHTML},dtor:function(){if(this.chatProvider){this.chatProvider.setUserTyping(false);this.chatProvider.off(this.chatEventListeners);this.chatProvider=null}this.options=null}}});var ChatEntry=Alloy.Scope.extend({name:"ChatEntry",_prototype:{afterBind:function(){if(this.isDisposed()){return
}this.$domElement.removeAttribute("alloy-scope");this.$domElement.setAttribute("alloy-template","nr-chat-entry-"+this.$model.type);this.entry=new Entries[this.$model.type]();if(this.$model.type==="answer"){this.entry.setModel(new nanoRep.SDK.Answering.Answer(this.$model.data))}else{this.entry.setModel(this.$model.data);this.entry.$model.$scope=this.entry;this.entry.$model.getLocalizedText=function(){return Localization.getText.apply(Localization,arguments)}}this.entry.bind(this.$domElement)}}});var Entries={message:Alloy.Scope.extend({name:"Chat.Entries.Message"}),answer:Alloy.Scope.extend({name:"Chat.Entries.Answer",_prototype:{ctor:function(){var AnswerScopeClass=nanoRep.SDK.Answering.Answer.prototype.ScopeClass;this.setScopeClass(AnswerScopeClass.prototype.TEMPLATE,AnswerScopeClass)}}})};Alloy.injectTemplate("nr-chat-entry","<div></div>");Alloy.injectTemplate("nr-chat-entry-message",messageTemplate.text);Alloy.injectTemplate("nr-chat-entry-answer",answerTemplate.text);return ChatUI});modular.declare("PhoneDialog",[Alloy,container.ChannelingPrivate.AbstractPhoneDialog,this]);modular.define(function(Alloy,AbstractPhoneDialog,Channeling){var PhoneDialog=AbstractPhoneDialog.extend({name:"PhoneDialog",_prototype:{ctor:function(options){if(options&&options.channel){if(options.channel instanceof Channeling.Channel){this.setChannel(options.channel)}else{this.setChannel(new Channeling.Channel(options.channel))}}if(options&&options.events){this.on(options.events)}},focus:function(){if(this.$domElement){this.$domElement.querySelector("a.nr-channeling-phonelink").focus()}},setChannel:function(channel){this.$model.channel=channel;this.$model.channel.phoneDescription=this.$model.channel.phoneDescription.replace(/\n/g,"<br>");this.update()},dismiss:function(){this.emit("close")}}});return PhoneDialog});modular.declare("ContactForm",[this,container.ChannelingPrivate.AbstractContactForm,Alloy,container.Common.EventEmitter,container.Common.DOM,container.Common.CSS,container.Localization,container.Legacy.Misc.unHTML,container.Legacy.Misc.blockCreditCardNumbers,container.Legacy.Misc.checkString,container.Legacy.Misc.ProgressAnimation,container.FileUploader.AmazonUploader,container.FileUploader.SimpleUploader]);
modular.define(function(Channeling,AbstractContactForm,Alloy,EventEmitter,DOM,CSS,Localization,unHTML,blockCreditCardNumbers,checkString,ProgressAnimation,AmazonUploader,SimpleUploader){var enumInputTypes={Textbox:1,Selectbox:2,Container:3,Checkbox:4,RadioList:5,CheckboxList:6,LabelItem:7,AutoButtons:8,fileUpload:9};var mTextboxType=[{html:"General",value:0,mandatory:false,multiLine:false,maxLength:250},{html:"Email",value:1,mandatory:true,multiLine:false,maxLength:100},{html:"Phone",value:2,mandatory:false,multiLine:false,maxLength:100},{html:"Number",value:3,mandatory:false,multiLine:false,maxLength:100},{html:"Subject",value:4,mandatory:true,multiLine:false,maxLength:250},{html:"Comments",value:5,mandatory:false,multiLine:true,maxLength:2000},{html:"Message",value:6,mandatory:false,multiLine:true,maxLength:2000},{html:"Custom",value:7,mandatory:false,multiLine:false,hasRegex:true,maxLength:2000},{html:"Name",value:8,mandatory:true,multiLine:false,maxLength:100},{html:"CC",value:9,mandatory:false,multiLine:false,maxLength:100},{html:"BCC",value:10,mandatory:false,multiLine:false,maxLength:100}];var enumSelectTypes={general:mTextboxType[0],email:mTextboxType[1],cc:mTextboxType[9],bcc:mTextboxType[10],phone:mTextboxType[2],number:mTextboxType[3],subject:mTextboxType[4],comments:mTextboxType[5],message:mTextboxType[6],custom:mTextboxType[7],name:mTextboxType[8]};var mLayouts=[{layoutWithLabels:false,editorCSS:"/common/contactform/layout0.css",CSSidentifier:"BODY.WEBFORMS_STYLE0",PreviewCSSidentifier:"BODYPREVIEW0",layoutColspan:1,CSS:"/common/contactform/layout0preview.css",thumbnail:"/common/contactform/layout0.jpg"},{layoutWithLabels:false,editorCSS:"/common/contactform/layout1.css",CSSidentifier:"BODY.WEBFORMS_STYLE1",PreviewCSSidentifier:"BODYPREVIEW1",layoutColspan:1,CSS:"/common/contactform/layout1preview.css",thumbnail:"/common/contactform/layout1.jpg",rtlCSS:"/common/contactform/layout1previewrtl.css",CSSRTLidentifier:"BODY.WEBFORMS_RTLCUSTOM1"},{layoutWithLabels:true,editorCSS:"/common/contactform/layout2.css",CSSidentifier:"BODY.WEBFORMS_STYLE2",PreviewCSSidentifier:"BODYPREVIEW2",layoutColspan:1,CSS:"/common/contactform/layout2preview.css",thumbnail:"/common/contactform/layout2.jpg"},{layoutWithLabels:true,editorCSS:"/common/contactform/layout3.css",CSSidentifier:"BODY.WEBFORMS_STYLE3",PreviewCSSidentifier:"BODYPREVIEW3",layoutColspan:1,CSS:"/common/contactform/layout3preview.css",thumbnail:"/common/contactform/layout3.jpg"},{layoutWithLabels:false,editorCSS:"/common/contactform/layout4.css",CSSidentifier:"BODY.WEBFORMS_STYLE4",PreviewCSSidentifier:"BODYPREVIEW4",layoutColspan:1,CSS:"/common/contactform/layout4preview.css",thumbnail:"/common/contactform/layout4.jpg",rtlCSS:"/common/contactform/layoutIconspreviewrtl4.css",CSSRTLidentifier:"BODY.WEBFORMS_RTLCUSTOMICONS4"},{layoutWithLabels:false,editorCSS:"/common/contactform/layout5.css",CSSidentifier:"BODY.WEBFORMS_STYLE5",PreviewCSSidentifier:"BODYPREVIEW5",layoutColspan:1,CSS:"/common/contactform/layout5preview.css",thumbnail:"/common/contactform/layout5.jpg",rtlCSS:"/common/contactform/layoutIconspreviewrtl5.css",CSSRTLidentifier:"BODY.WEBFORMS_RTLCUSTOMICONS5"},{layoutWithLabels:true,editorCSS:"/common/contactform/layout6.css",CSSidentifier:"BODY.WEBFORMS_STYLE6",PreviewCSSidentifier:"BODYPREVIEW6",layoutColspan:2,CSS:"/common/contactform/layout4preview.css",thumbnail:"/common/contactform/layout6.jpg"}];
var PreviewContact=EventEmitter.extend({name:"PreviewContact",_prototype:{previewContainer:null,mGuiItems:null,layout:null,layoutCols:null,mTableBody:null,minSubjectLength:null,doNothing:function(){},formSerialize:null,hSubmit:null,hCancel:null,hCSSloader:null,mInputsIndentifier:1,predefinedSubject:null,allowedFileExtensions:null,searchAnim:null}});PreviewContact.tabIndex=4;PreviewContact.predefinedValues=[];PreviewContact.mobilePredefinedValues={};PreviewContact.populateMobileValues=true;PreviewContact.dependencyExecuter=[];PreviewContact.prototype.deSerialize;PreviewContact.prototype.ctor=function(obj){PreviewContact.instances=PreviewContact.instances||[];PreviewContact.instances.push(this);this.dependencyExecuter=[];if(obj.container){while(obj.container.childNodes.length>0){obj.container.removeChild(obj.container.childNodes[0])}var innerContainer=DOM.createElement("div");innerContainer.setAttribute("id","ContactformInnerContainer");innerContainer.style.cssText="max-width:545px;";obj.container.appendChild(innerContainer);this.previewContainer=innerContainer}else{this.previewContainer=null}this.localizationObject=obj.localizationObject;this.useSimpleUploader=obj.useSimpleUploader;this.uploaderOptionsHandler=obj.uploaderOptionsHandler||null;this.stylesheetsHost=obj.stylesheetsHost||"";this.allowCancelForm=obj.allowCancelForm;this.hSubmit=obj.hSubmit;this.hCancel=obj.hCancel;if(obj.hCSS){this.hCSSloader=obj.hCSS}if(obj.allowedFileExtensions){this.allowedFileExtensions=obj.allowedFileExtensions}else{this.allowedFileExtensions=""}};PreviewContact.prototype.dtor=function(){for(var i=0;i<PreviewContact.instances.length;i++){if(PreviewContact.instances[i]===this){PreviewContact.instances.splice(i,1);break}}if(this.formSerialize){for(var i=0;i<this.formSerialize.length;i++){CSS.removeStyle("CFP_cssItem"+this.formSerialize[i].id)}}if(this.fileUploadObjects){for(var i=0;i<this.fileUploadObjects.length;i++){var fileUploader=this.fileUploadObjects[i].fileUploader;fileUploader.dispose()}}if(this.previewContainer.parentNode){this.previewContainer.parentNode.removeChild(this.previewContainer)
}if(!PreviewContact.instances.length){this.unloadCSS()}};PreviewContact.prototype.sessionEnded=function(){for(var i=0;i<this.fileUploadObjects.length;i++){this.fileUploadObjects[i].fileUploader.clearAttachments()}};PreviewContact.prototype.populateValues=function(formValues,Subject){var keysForMobile=0;for(var key in PreviewContact.mobilePredefinedValues){keysForMobile++}if(keysForMobile>0&&PreviewContact.populateMobileValues){PreviewContact.populateMobileValues=false;this.populateValues(PreviewContact.mobilePredefinedValues,Subject);return}PreviewContact.populateMobileValues=true;var formSerialize=this.formSerialize;PreviewContact.predefinedValues=[];for(var i=0;i<formSerialize.length;i++){if(formSerialize[i].it!=enumInputTypes.Textbox){continue}if(formSerialize[i].ti==enumSelectTypes.subject.value){for(key in formValues){var currentKey=key.toLowerCase();if((currentKey==formSerialize[i]["in"]&&currentKey==formSerialize[i]["in"].toLowerCase())||currentKey=="subject"){Subject=formValues[key].value;formValues[key].found=true}}this.populateTextField(i,Subject)}else{if(formSerialize[i].ti==enumSelectTypes.email.value){for(key in formValues){var currentKey=key.toLowerCase();if((currentKey==formSerialize[i]["in"]&&currentKey==formSerialize[i]["in"].toLowerCase())||currentKey=="email_address"||currentKey=="email"){this.populateTextField(i,formValues[key].value);formValues[key].found=true}}}else{if(formSerialize[i].ti==enumSelectTypes.comments.value||formSerialize[i].ti==enumSelectTypes.message.value){for(key in formValues){var currentKey=key.toLowerCase();if((formSerialize[i]["in"]&&currentKey==formSerialize[i]["in"].toLowerCase())||currentKey=="message_body"||currentKey=="messagebody"||currentKey=="body"||currentKey=="message"){this.populateTextField(i,formValues[key].value);formValues[key].found=true}}}else{for(key in formValues){if(formSerialize[i]["in"]&&key.toLowerCase()==formSerialize[i]["in"].toLowerCase()){this.populateTextField(i,formValues[key].value);formValues[key].found=true}}}}}}for(key in formValues){if(!formValues[key].found){PreviewContact.predefinedValues.push({name:key,value:formValues[key].value,type:formValues[key].type})
}}};PreviewContact.prototype.populateTextField=function(idx,value){var input=this.mGuiItems[idx].getElementsByTagName("INPUT")[0];if(input){input.value=value}else{var input=this.mGuiItems[idx].getElementsByTagName("TEXTAREA")[0];input.value=value}if(input.autoCheck){input.autoCheck()}};PreviewContact.prototype.loadPreviewCSS=function(layoutIndex){var self=this;var layout=mLayouts[layoutIndex];var isRTL=this.localizationObject.isLanguageRTL(this.languageCode);if(!PreviewContact.instances.length){for(var i=0,tmpLayout;i<mLayouts.length;i++){tmpLayout=mLayouts[i];CSS.toggle(tmpLayout.PreviewCSSidentifier,i===layoutIndex);if(tmpLayout.CSSRTLidentifier){CSS.toggle(tmpLayout.CSSRTLidentifier,i===layoutIndex&&isRTL)}}}var stylesheetsToLoad=[{url:this.stylesheetsHost+layout.CSS,id:layout.PreviewCSSidentifier}];if(isRTL){stylesheetsToLoad.push({url:this.stylesheetsHost+"/common/contactform/rtlsettings.css",id:"BODY.WEBFORMS_RTL"})}else{CSS.toggle("BODY.WEBFORMS_RTL",false)}if(isRTL&&layout.CSSRTLidentifier){stylesheetsToLoad.push({url:this.stylesheetsHost+layout.rtlCSS,id:layout.CSSRTLidentifier})}CSS.load(stylesheetsToLoad,function(){if(isRTL){CSS.bringToFront("BODY.WEBFORMS_RTL");if(layout.CSSRTLidentifier){CSS.bringToFront(layout.CSSRTLidentifier)}}if(self.hCSSloader){self.hCSSloader.handle({doScrollTop:true})}self.emit("stylesheets-loaded")})};PreviewContact.prototype.unloadCSS=function(){for(var i=1;i<mLayouts.length;i++){CSS.removeStyle(mLayouts[i].PreviewCSSidentifier,false);if(mLayouts[i].CSSRTLidentifier){CSS.removeStyle(mLayouts[i].CSSRTLidentifier,false)}}CSS.removeStyle("BODY.WEBFORMS_RTL",false)};PreviewContact.prototype.getTabIdx=function(){PreviewContact.tabIndex++;return PreviewContact.tabIndex};PreviewContact.prototype.show=function(deSerialize){PreviewContact.tabIndex=4;var generalSettings=null;if(typeof deSerialize==="string"){generalSettings=eval("("+deSerialize+")")}else{generalSettings=deSerialize}if(/MSIE 7/.test(navigator.userAgent)&&generalSettings.settings.layout){generalSettings.settings.layout=3
}var mThis=this;this.languageCode=generalSettings.settings.language;this.previewContainer.innerHTML="";this.mGuiItems=[];this.hiddenFields=generalSettings.settings.hiddenFields;this.fileUploadObjects=[];this.layout=generalSettings.settings.layout;this.layoutCols=mLayouts[this.layout].layoutColspan;this.layoutWithLabels=mLayouts[this.layout].layoutWithLabels;this.minSubjectLength=generalSettings.settings.minSubjectLength;var formSerialize=generalSettings.fields;this.mPostUrl=(generalSettings.settings.PostUrl)?generalSettings.settings.PostUrl:null;this.mRedirectParam=(generalSettings.settings.redirectParam)?generalSettings.settings.redirectParam:null;for(var i=0;i<formSerialize.length;i++){if(formSerialize[i]["do"]){formSerialize[i].visible=false}else{formSerialize[i].visible=true}}this.formSerialize=formSerialize;for(var i=0;i<formSerialize.length;i++){var obj;var skipStyle=false;if(formSerialize[i].it==enumInputTypes.Textbox){obj=this.createContactTextBox(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.fileUpload){obj=this.createContactFileUpload(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.Selectbox){obj=this.createContactSelectBox(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.RadioList){obj=this.createContactRadio(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.CheckboxList){obj=this.createContactCheckbox(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.LabelItem){obj=this.createLabel(formSerialize[i],i)}else{if(formSerialize[i].it==enumInputTypes.AutoButtons){obj=this.createSubmitButtons(formSerialize[i],i);skipStyle=true}}}}}}}if(this.layoutCols!=2){if(formSerialize[i]["do"]){obj.style.display="none"}}obj.setAttribute("id","CF_guiID"+formSerialize[i].id);if(!skipStyle){this.setStyle(formSerialize[i],obj)}this.mGuiItems.push(obj);skipStyle=false}if(this.layoutCols==2){this.generateTable(formSerialize)}for(var i=0;i<formSerialize.length;i++){if(formSerialize[i].db){var controller=this.mGuiItems[i];if(formSerialize[i].it==enumInputTypes.Selectbox){var selectElement=controller.getElementsByTagName("SELECT");
if(selectElement.length!=0){this.activateSelect(selectElement[0],formSerialize[i].db)}}else{if(formSerialize[i].it==enumInputTypes.RadioList){var inputElements=controller.getElementsByTagName("INPUT");if(inputElements.length!=0){this.activateRadios(inputElements,formSerialize[i].db)}}else{if(formSerialize[i].it==enumInputTypes.CheckboxList){var inputElements=controller.getElementsByTagName("INPUT");if(inputElements.length!=0){this.activateInputs(inputElements,formSerialize[i].db)}}}}}else{if(formSerialize[i].it==enumInputTypes.AutoButtons){this.createValidation(this.mGuiItems[i].getElementsByTagName("INPUT")[0],formSerialize);this.mGuiItems[i].getElementsByTagName("INPUT")[1].onclick=function(){if(mThis.hCancel){mThis.hCancel.handle()}}}}}this.loadPreviewCSS(generalSettings.settings.layout);for(var i=0;i<this.dependencyExecuter.length;i++){this.dependencyExecuter[i].execute()}this.previewContainer.className+=" nr-form-layout-"+this.layout};PreviewContact.prototype.buildCells=function(cellSide,cellColspan,object){var tableElement=this.mTableBody;var tr=null;if(tableElement.rows.length==0){tr=DOM.createElement("tr",{parent:tableElement,valign:"middle"})}else{tr=tableElement.rows[tableElement.rows.length-1]}if((tr.cells.length==2)||((tr.cells.length==1)&&(cellColspan==2))||((tr.cells.length==1)&&(cellSide==0))||((tr.cells.length==1)&&(tr.cells[0].getAttribute("colspan")==2))){tr=DOM.createElement("tr",{parent:tableElement,valign:"middle"})}var td=DOM.createElement("td",{parent:tr,align:"center",valign:"top",style:"width:50%"});if((cellSide==1)&&(td.cellIndex==0)){td=DOM.createElement("td",{parent:tr,align:"center",valign:"top",style:"width:50%"})}if(cellColspan==2){td.setAttribute("colspan","2");td.style.width="100%"}td.appendChild(object)};PreviewContact.prototype.generateTable=function(formSerialize){this.previewContainer.innerHTML="";this.mTableBody=DOM.createElement("table",{parent:this.previewContainer,width:"100%",dir:"ltr",style:"direction:ltr;border:0px",align:"left"});this.mTableBody=DOM.createElement("tbody",this.mTableBody);
var tableLayout=[];var LeftOrRight=0;for(var i=0;i<this.mGuiItems.length;i++){if(formSerialize[i].visible){if(formSerialize[i].sp==1){tableLayout.push({index:i,"float":LeftOrRight});LeftOrRight=(LeftOrRight==0)?1:0}if(formSerialize[i].sp==2){tableLayout.push({index:i,"float":2});LeftOrRight=0}}else{if(formSerialize[i].sp!=2){LeftOrRight=(LeftOrRight==0)?1:0}}}var hasRightside=false;for(var i=0;i<tableLayout.length;i++){if((tableLayout[i]["float"]==0)&&(hasRightside==false)){hasRightside=true}else{if((tableLayout[i]["float"]==1)&&(hasRightside==false)){for(var x=i;x<tableLayout.length;x++){if(tableLayout[x]["float"]==2){break}if(tableLayout[x]["float"]==0){var tdToMove=tableLayout[x];tableLayout.splice(x,1);tableLayout.splice(i,0,tdToMove);i--;break}}}else{if((tableLayout[i]["float"]==0)&&(hasRightside==true)){for(var x=i;x<tableLayout.length;x++){if(tableLayout[x]["float"]==2){break}if(tableLayout[x]["float"]==1){var tdToMove=tableLayout[x];tableLayout.splice(x,1);tableLayout.splice(i,0,tdToMove);i--;break}}}else{hasRightside=false}}}}for(var i=0;i<tableLayout.length;i++){this.buildCells(tableLayout[i]["float"],formSerialize[tableLayout[i].index].sp,this.mGuiItems[tableLayout[i].index])}};PreviewContact.prototype.handleValidationResult=function(fieldType,domField,isMandatory,defaultErrorMessage,validationResult,domFieldCntainer){var elementValue="";var defaultValue="";switch(fieldType){case"textbox":elementValue=domField.value;defaultValue=elementValue;break;case"select":elementValue=domField.selectedIndex;defaultValue=0;break;case"checkbox":case"radio":elementValue=domField.checked;defaultValue=false;if(!isMandatory){validationResult=true}break}var foundLabels=domFieldCntainer.getElementsByTagName("label");var errorLabels=0;for(var i=0;i<foundLabels.length;i++){if(foundLabels[i].className=="CF_labelError"){errorLabels++}}if((!validationResult&&isMandatory)||(!isMandatory&&elementValue!=defaultValue&&!validationResult)){if(domFieldCntainer&&errorLabels==0){var errorSpan=DOM.createElement("label");errorSpan.className="CF_labelError";
errorSpan.innerHTML=defaultErrorMessage;errorSpan.setAttribute("role","alert");domFieldCntainer.appendChild(errorSpan);DOM.addClass(domFieldCntainer,"CF_rowError")}else{for(var i=0;i<foundLabels.length;i++){if(foundLabels[i].className=="CF_labelError"){foundLabels[i].innerHTML=defaultErrorMessage}}}return false}if(domFieldCntainer){for(var i=0;i<foundLabels.length;i++){if(foundLabels[i].className=="CF_labelError"){foundLabels[i].parentNode.removeChild(foundLabels[i]);DOM.removeClass(domFieldCntainer,"CF_rowError")}}}return true};PreviewContact.prototype.regexVerification=function(valueToValidate,regXpattern){var pattern=new RegExp(regXpattern);return pattern.test(valueToValidate)};PreviewContact.prototype.createValidation=function(submitInput,formSerialize){var mThis=this;var animationContainer=DOM.createElement("div",{className:"searchAnim"});PreviewContact.searchAnim=new ProgressAnimation({container:animationContainer});submitInput.parentNode.insertBefore(animationContainer,submitInput);PreviewContact.searchAnim.hide();submitInput.onclick=function(){PreviewContact.searchAnim.show();this.style.display="none";var formKeyValues=[];var validationResult=true;for(var i=0;i<formSerialize.length;i++){if(formSerialize[i].it==enumInputTypes.LabelItem){continue}if(formSerialize[i].it==enumInputTypes.AutoButtons){continue}if(formSerialize[i].it==enumInputTypes.Container){continue}var fieldValue="";switch(formSerialize[i].it){case enumInputTypes.Textbox:var ItemToValidate=mThis.mGuiItems[i].getElementsByTagName("INPUT")[0];if(mThis.mGuiItems[i].style.display!="none"){var verified=null;switch(formSerialize[i].ti){case enumSelectTypes.subject.value:var subjectText=ItemToValidate.value.replace(/^\s+|\s+$/g,"");subjectText=subjectText.split(" ");var subjectLength=subjectText.length;if(subjectLength==1&&subjectText[0]==""){verified=false}else{verified=(subjectLength>=mThis.minSubjectLength)}break;case enumSelectTypes.email.value:case enumSelectTypes.cc.value:case enumSelectTypes.bcc.value:ItemToValidate.value=ItemToValidate.value.Trim();
verified=checkString(ItemToValidate.value,"email")&&(ItemToValidate.value);break;case enumSelectTypes.number.value:ItemToValidate.value=ItemToValidate.value.Trim();verified=checkString(ItemToValidate.value,"number")&&(ItemToValidate.value);break;case enumSelectTypes.phone.value:ItemToValidate.value=ItemToValidate.value.Trim();verified=checkString(ItemToValidate.value,"phone")&&(ItemToValidate.value);break;case enumSelectTypes.custom.value:if(formSerialize[i].rx){verified=mThis.regexVerification(ItemToValidate.value,formSerialize[i].rx)}else{verified=true}break;default:if(ItemToValidate){verified=ItemToValidate.value!=""}else{ItemToValidate=mThis.mGuiItems[i].getElementsByTagName("TEXTAREA")[0];if(ItemToValidate){verified=ItemToValidate.value!=""}}break}fieldValue=ItemToValidate.value;validationResult&=(mThis.handleValidationResult("textbox",ItemToValidate,formSerialize[i].mf,formSerialize[i].vt,verified,mThis.mGuiItems[i]))}break;case enumInputTypes.Selectbox:var ItemToValidate=mThis.mGuiItems[i].getElementsByTagName("select")[0];if(mThis.mGuiItems[i].style.display!="none"){validationResult&=(mThis.handleValidationResult("select",ItemToValidate,formSerialize[i].mf,formSerialize[i].vt,(ItemToValidate.selectedIndex>0),mThis.mGuiItems[i]));fieldValue=(ItemToValidate.options[ItemToValidate.selectedIndex].value&&ItemToValidate.options[ItemToValidate.selectedIndex].value!="null")?ItemToValidate.options[ItemToValidate.selectedIndex].value:ItemToValidate.options[ItemToValidate.selectedIndex].text}break;case enumInputTypes.CheckboxList:if(mThis.mGuiItems[i].style.display!="none"){var ItemsToValidate=mThis.mGuiItems[i].getElementsByTagName("input");var result=false;for(var x=0;x<ItemsToValidate.length;x++){if(!result){result=(mThis.handleValidationResult("checkbox",ItemsToValidate[x],formSerialize[i].mf,formSerialize[i].vt,(ItemsToValidate[x].checked),mThis.mGuiItems[i]))}if(ItemsToValidate[x].checked){if(fieldValue.length){fieldValue+=","}fieldValue+=ItemsToValidate[x].value}}if(result){for(var x=0;x<ItemsToValidate.length;
x++){mThis.handleValidationResult("checkbox",ItemsToValidate[x],formSerialize[i].mf,formSerialize[i].vt,true,mThis.mGuiItems[i])}}validationResult&=result}break;case enumInputTypes.RadioList:if(mThis.mGuiItems[i].style.display!="none"){var ItemsToValidate=mThis.mGuiItems[i].getElementsByTagName("input");var result=false;var selectedItemFound=false;for(var x=0;x<ItemsToValidate.length&&!selectedItemFound;x++){result=result||(mThis.handleValidationResult("radio",ItemsToValidate[x],formSerialize[i].mf,formSerialize[i].vt,(ItemsToValidate[x].checked),mThis.mGuiItems[i]));if(ItemsToValidate[x].checked){if(fieldValue.length){fieldValue+=","}fieldValue+=ItemsToValidate[x].value;selectedItemFound=true}}if(result){for(var x=0;x<ItemsToValidate.length;x++){mThis.handleValidationResult("radio",ItemsToValidate[x],formSerialize[i].mf,formSerialize[i].vt,true,mThis.mGuiItems[i])}}validationResult&=result}break;case enumInputTypes.fileUpload:for(var x=0;x<mThis.fileUploadObjects.length;x++){if(mThis.fileUploadObjects[x].elementId!=formSerialize[i].id){continue}if(mThis.fileUploadObjects[x].container.style.display==="none"){break}var totalFiles=mThis.fileUploadObjects[x].fileUploader.getFileList().length;validationResult&=(mThis.handleValidationResult("fileUpload",null,formSerialize[i].mf,formSerialize[i].vt,(totalFiles>0),mThis.mGuiItems[i]));break}break}var fieldName;if(formSerialize[i]["in"]){fieldName=formSerialize[i]["in"]}else{fieldName=formSerialize[i].lv}if(fieldName&&fieldValue){if(formSerialize[i].it==enumInputTypes.Textbox){formKeyValues.push({name:fieldName,value:(fieldValue)?fieldValue:"",type:mTextboxType[formSerialize[i].ti].html.toLowerCase()})}else{formKeyValues.push({name:fieldName,value:(fieldValue)?fieldValue:"",type:"generic"})}}}if(!validationResult){PreviewContact.searchAnim.hide();this.style.display="block"}if(mThis.hiddenFields){for(var i=0;i<mThis.hiddenFields.length;i++){if(mThis.hiddenFields[i].name&&mThis.hiddenFields[i].value){formKeyValues.push({name:mThis.hiddenFields[i].name,value:mThis.hiddenFields[i].value,type:"generic"})
}}}if(mThis.hSubmit){for(var i=0;i<mThis.fileUploadObjects.length;i++){var uploaderInstance=mThis.fileUploadObjects[i].fileUploader;var uploaderFiles=uploaderInstance.getFileList();var elementId=mThis.fileUploadObjects[i].elementId;var skipObject=false;for(var x=0;x<formSerialize.length;x++){if(formSerialize[x].id==elementId&&mThis.mGuiItems[x].style.display=="none"){skipObject=true;break}}if(uploaderFiles&&!skipObject){if(uploaderInstance.getPendingUploads().length){mThis.showUploadInProcessMessage(validationResult,this);validationResult=false}else{uploaderFiles=uploaderInstance.getUploadedFiles();for(var x=0;x<uploaderFiles.length;x++){formKeyValues.push({name:x+" - "+uploaderFiles[x].name,value:mThis.useSimpleUploader?uploaderFiles[x].fileInput:uploaderFiles[x].key,type:"attachment"})}}}}if(PreviewContact.predefinedValues.length>0){formKeyValues=formKeyValues.concat(PreviewContact.predefinedValues)}var submitInfo={values:formKeyValues,postUrl:mThis.mPostUrl,redirectParam:mThis.mRedirectParam};mThis.hSubmit.handle(validationResult,submitInfo)}}};PreviewContact.prototype.showUploadInProcessMessage=function(validationResult,submitButton){if(validationResult){this.autoSubmitForm=function(){submitButton.click()};this.revertAutoSubmit=function(){PreviewContact.searchAnim.hide();submitButton.style.display="block"}}else{this.autoSubmitForm=null}};PreviewContact.prototype.activateInputs=function(inputs,selectDataDP){var mThis=this;for(var i=0;i<inputs.length;i++){if(this.layoutCols!=2){var controlled=[];var controlledIds=[];for(var x=0;x<selectDataDP.length;x++){var eleM=selectDataDP[x];if(eleM.value==i){controlled.push(DOM._("CF_guiID"+eleM.child));controlledIds.push(eleM.child)}}if(controlled.length===0){continue}inputs[i].controlled=controlled}inputs[i].controlledIds=controlledIds;inputs[i].controlled=controlled;inputs[i].inputIndex=i;inputs[i].onclick=function(){if(mThis.layoutCols==2){var refreshIsRequired=false;for(var x=0;x<selectDataDP.length;x++){var eleM=selectDataDP[x];for(var i=0;i<mThis.formSerialize.length;
i++){if((mThis.formSerialize[i].id==eleM.child)&&(this.inputIndex==eleM.value)){mThis.formSerialize[i].visible=(this.checked)?true:false;refreshIsRequired=true;if(!this.checked){mThis.resetFieldValue(eleM.child)}}}}if(refreshIsRequired){mThis.generateTable(mThis.formSerialize)}}else{if(this.controlled){for(var x=0;x<this.controlled.length;x++){this.controlled[x].style.display=(this.checked)?"block":"none";if(!this.checked){mThis.resetFieldValue(this.controlledIds[x])}}}}if(mThis.hCSSloader){mThis.hCSSloader.handle({stopFadeEffect:true})}};inputs[i].execute=inputs[i].onclick;this.dependencyExecuter.push(inputs[i])}};PreviewContact.prototype.activateRadios=function(inputs,selectDataDP){var mThis=this;for(var i=0;i<inputs.length;i++){var controlled=[];var controlledBlock=[];var controlledIds=[];var controlledBlockIds=[];if(this.layoutCols!=2){for(var x=0;x<selectDataDP.length;x++){var eleM=selectDataDP[x];if(eleM.value==i){controlled.push(DOM._("CF_guiID"+eleM.child));controlledIds.push(eleM.child)}else{controlledBlock.push(DOM._("CF_guiID"+eleM.child));controlledBlockIds.push(eleM.child)}}inputs[i].controlledBlockIds=controlledBlockIds;inputs[i].blocked=controlledBlock;inputs[i].controlled=controlled}inputs[i].inputIndex=i;inputs[i].onclick=function(){if(mThis.layoutCols==2){var refreshIsRequired=false;for(var x=0;x<selectDataDP.length;x++){var eleM=selectDataDP[x];for(var i=0;i<mThis.formSerialize.length;i++){if(mThis.formSerialize[i].id==eleM.child){if((this.inputIndex==eleM.value&&this.checked)){mThis.formSerialize[i].visible=true}else{mThis.formSerialize[i].visible=false;mThis.resetFieldValue(eleM.child)}refreshIsRequired=true}}}if(refreshIsRequired){mThis.generateTable(mThis.formSerialize)}}else{for(var x=0;x<this.controlled.length;x++){this.controlled[x].style.display=(this.checked)?"block":"none"}for(var x=0;x<this.blocked.length;x++){this.blocked[x].style.display="none";mThis.resetFieldValue(this.controlledBlockIds[x])}}if(mThis.hCSSloader){mThis.hCSSloader.handle({stopFadeEffect:true})}};if(inputs[i].checked){inputs[i].execute=inputs[i].onclick;
this.dependencyExecuter.push(inputs[i])}}};PreviewContact.prototype.activateSelect=function(selectElements,selectDataDP){if(!selectElements){return}var mThis=this;selectElements.onchange=function(){for(var x=0;x<selectDataDP.length;x++){var eleM=selectDataDP[x];if(mThis.layoutCols==2){for(var i=0;i<mThis.formSerialize.length;i++){if(mThis.formSerialize[i].id==eleM.child){if(this.selectedIndex==eleM.value){mThis.formSerialize[i].visible=true}else{mThis.formSerialize[i].visible=false;mThis.resetFieldValue(eleM.child)}break}}}else{var controlled=(DOM._("CF_guiID"+eleM.child));controlled.style.display=(this.selectedIndex==(eleM.value))?"block":"none";if(this.selectedIndex==(eleM.value)){controlled.style.display="block"}else{controlled.style.display="none";mThis.resetFieldValue(eleM.child)}}}if(mThis.layoutCols==2){mThis.generateTable(mThis.formSerialize)}if(mThis.hCSSloader){mThis.hCSSloader.handle({stopFadeEffect:true})}mThis.emitResizeEvent()};selectElements.onkeyup=selectElements.onchange;selectElements.execute=selectElements.onchange;this.dependencyExecuter.push(selectElements)};PreviewContact.prototype.emitResizeEvent=function(){var mThis=this;clearTimeout(this.resizeEventDebounceTimer);this.resizeEventDebounceTimer=setTimeout(function(){mThis.emit("resize")},50)};PreviewContact.prototype.resetFieldValue=function(fieldId){for(var i=0;i<this.formSerialize.length;i++){if(this.formSerialize[i].id==fieldId){if(this.formSerialize[i].it==enumInputTypes.Selectbox){var controlledElement=(DOM._("CF_guiID"+fieldId)).getElementsByTagName("select")[0];controlledElement.selectedIndex=0;controlledElement.onchange()}else{if(this.formSerialize[i].it==enumInputTypes.RadioList||this.formSerialize[i].it==enumInputTypes.CheckboxList){var controlledElements=(DOM._("CF_guiID"+fieldId)).getElementsByTagName("input");for(var x=0;x<controlledElements.length;x++){controlledElements[x].checked=false;if(controlledElements[x].onclick){controlledElements[x].onclick()}}}}break}}};PreviewContact.prototype.setStyle=function(deSerialize,item){var element=item;
var style="";if(deSerialize.cc){element.className+=" "+deSerialize.cc}else{if(deSerialize.fc){style+="background-color:"+deSerialize.bc+";color:"+deSerialize.fc+";"}}if(deSerialize.fs){if(deSerialize.fs.indexOf("Underline")>-1){style+="text-decoration:underline;"}if(deSerialize.fs.indexOf("Bold")>-1){style+="font-weight:bold;"}if(deSerialize.fs.indexOf("Italic")>-1){style+="font-style:italic;"}if(deSerialize.fs.indexOf("pt")>-1){style+="font-size:"+parseInt(deSerialize.fs.substring(0,deSerialize.fs.indexOf("pt")))+"pt;"}}if(deSerialize.ta){style+="text-align:"+deSerialize.ta+" !important;"}CSS.removeStyle("CFP_cssItem"+deSerialize.id);if(style!=""){style=".CF_elementClass"+deSerialize.id+"{"+style+"}";CSS.addNewStyle(style,"CFP_cssItem"+deSerialize.id);element.className+=" CF_elementClass"+deSerialize.id}};PreviewContact.prototype.initButtonStyles=function(element,obj){var style="";if(obj.colorsClass){element.className+=" "+obj.colorsClass}else{if(obj.foreColor||obj.backgroundColor){style+="background-color:"+obj.backgroundColor+";";style+="color:"+obj.foreColor+";"}}if(obj.fontStyle){if(obj.fontStyle.indexOf("Underline")>-1){style+="text-decoration:underline;"}if(obj.fontStyle.indexOf("Bold")>-1){style+="font-weight:bold;"}if(obj.fontStyle.indexOf("Italic")>-1){style+="font-style:italic;"}if(obj.fontStyle.indexOf("pt")>-1){style+="font-size:"+parseInt(obj.fontStyle.substring(0,obj.fontStyle.indexOf("pt")))+"pt;"}}CSS.removeStyle("CF_cssItem"+obj.button+this.id);if(!style){return}if(obj.button=="Submit"){style='.CF_buttonsFieldDiv>input[type="button"] {'+style+"}"}else{style='.CF_buttonsFieldDiv>input[type="reset"] {'+style+"}"}CSS.addNewStyle(style,"CF_cssItem"+obj.button+this.id)};PreviewContact.prototype.createLabel=function(deSerialize,idx){var cssClass=deSerialize.cs?" "+deSerialize.cs:"";var divC=DOM.createElement("div",{parent:this.previewContainer,className:"CF_TitleDivElementContainer borderBoxSizing"+cssClass});var divE=DOM.createElement("div",{parent:divC,className:"CF_TitleDivElement"});divE.innerHTML=deSerialize.lv;
return divC};PreviewContact.prototype.createSubmitButtons=function(deSerialize,idx){var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_buttonsFieldDiv borderBoxSizing"});var submitButton=DOM.createElement("input",{type:"button",name:"submitbutton",parent:divE,value:deSerialize.sv,className:"widgetTextColor widgetBGcolor"});var cancelButton=DOM.createElement("input",{type:"reset",name:"cancelbutton",parent:divE,value:deSerialize.cv,className:"widgetBGcolorText"});this.initButtonStyles(submitButton,{button:"Submit",backgroundColor:deSerialize.bc,foreColor:deSerialize.fc,fontStyle:deSerialize.fs,colorsClass:deSerialize.cc,colorIndex:deSerialize.ci,backgroundColorIndex:deSerialize.bci});this.initButtonStyles(cancelButton,{button:"Cancel",backgroundColor:deSerialize.bcC,foreColor:deSerialize.fcC,fontStyle:deSerialize.fsC,colorsClass:deSerialize.ccC,colorIndex:deSerialize.ciC,backgroundColorIndex:deSerialize.bciC});if(!this.allowCancelForm){cancelButton.style.display="none"}return divE};PreviewContact.prototype.addtoSelect=function(input,element){var optionText=input.text||input.value,optionValue=input.value||input.text;if(!input.value&&input.text.indexOf("|")>-1){var res=input.text.split("|");optionText=res[0];optionValue=res[1]}DOM.createElement("option",{parent:element,textContent:optionText,value:optionValue})};PreviewContact.prototype.createLabelForItem=function(parentElement,deSerialize,field,itemId,idx){if(idx){var label=DOM.createElement("div",{className:"CF_labelClass"})}else{var label=DOM.createElement("label",{className:"CF_labelClass fieldElement"})}label.setAttribute("for",itemId);parentElement.appendChild(label);if(deSerialize.it==enumInputTypes.fileUpload&&!this.layoutWithLabels){label.innerHTML=deSerialize.lv==null?"":deSerialize.lv;label.innerHTML+=(deSerialize.mf)?'<span style="color:red">*</span>':"";label.className+=" CF_fpIcon_Upload";DOM.createElement("div",{parent:label,className:"CF_labelIcons CF_floatingIcons CF_fpIcon_Upload"})}else{if(this.layoutWithLabels||deSerialize.it==enumInputTypes.fileUpload||deSerialize.it==enumInputTypes.CheckboxList||deSerialize.it==enumInputTypes.RadioList||deSerialize.it==enumInputTypes.Selectbox){label.innerHTML=deSerialize.lv==null?"":deSerialize.lv;
label.innerHTML+=(deSerialize.mf)?'<span style="color:red">*</span>':""}else{if(deSerialize.it==enumInputTypes.Textbox){if(!this.layoutWithLabels&&!("placeholder" in field)){DOM.setPlaceHolder(field,(deSerialize.lv.length>30)?deSerialize.lv.substring(0,30)+"...":deSerialize.lv,"CF_placeHolderIE",parentElement)}label.className="CF_labelIcons CF_floatingIcons";switch(deSerialize.ti){case enumSelectTypes.email.value:case enumSelectTypes.cc.value:case enumSelectTypes.bcc.value:label.className+=" CF_fpIcon_Email";break;case enumSelectTypes.phone.value:label.className+=" CF_fpIcon_Phone";break;case enumSelectTypes.subject.value:label.className+=" CF_fpIcon_Subject";break;case enumSelectTypes.message.value:label.className+=" CF_fpIcon_Message";break;case enumSelectTypes.comments.value:label.className+=" CF_fpIcon_Message";break;case enumSelectTypes.general.value:label.className+=" CF_fpIcon_Face";break;case enumSelectTypes.name.value:label.className+=" CF_fpIcon_Face";break}}else{label.className="CF_emptyIcons"}}}if(field){field.setAttribute("aria-label",label.textContent)}};PreviewContact.prototype.createContactSelectBox=function(deSerialize,idx){var cssClass=deSerialize.cs?" "+deSerialize.cs:"";var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_textFieldDiv CF_DropDownDiv borderBoxSizing"+cssClass});this.createLabelForItem(divE,deSerialize,null,"selectbox"+idx);var selectBox=DOM.createElement("select");if(deSerialize.si){this.addtoSelect(deSerialize.si,selectBox)}for(var i=0;i<deSerialize.so.length;i++){this.addtoSelect(deSerialize.so[i],selectBox)}selectBox.setAttribute("name","select"+idx);selectBox.setAttribute("id","selectbox"+idx);divE.appendChild(selectBox);return divE};PreviewContact.prototype.createListOption=function(input,parent,defaultChecked,radioItem,idx){var listItemRow=DOM.createElement("div",{parent:parent,className:"CF_listDivItem borderBoxSizing"});DOM.createElement("input",{parent:listItemRow,type:radioItem?"radio":"checkbox",name:radioItem?"RadioItem"+idx:null,id:"choiceInput"+this.mInputsIndentifier,checked:(defaultChecked)?true:false,value:(input.value==null)?input.text:input.value});
DOM.createElement("label",{parent:listItemRow,"for":"choiceInput"+this.mInputsIndentifier,innerHTML:(input.text!=null)?input.text:""});this.mInputsIndentifier++};PreviewContact.prototype.createContactCheckbox=function(deSerialize,idx){var cssClass=deSerialize.cs?" "+deSerialize.cs:"";var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_listDiv borderBoxSizing"+cssClass});var labelId="checkbox"+idx;this.createLabelForItem(divE,deSerialize,null,labelId,idx);var divO=DOM.createElement("div",{parent:divE,className:"CF_ListItemsContainer"});for(var i=0;i<deSerialize.so.length;i++){this.createListOption(deSerialize.so[i],divO,deSerialize.sc[i],false)}return divE};PreviewContact.prototype.createContactRadio=function(deSerialize,idx){var cssClass=deSerialize.cs?" "+deSerialize.cs:"";var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_listRadioDiv borderBoxSizing"+cssClass});var labelId="radioInput"+idx;this.createLabelForItem(divE,deSerialize,null,labelId,idx);var divO=DOM.createElement("div",{parent:divE,className:"CF_ListItemsContainer"});for(var i=0;i<deSerialize.so.length;i++){var value=null;if(deSerialize.sc&&deSerialize.sc.length>i){value=deSerialize.sc[i]}this.createListOption(deSerialize.so[i],divO,value,true,idx)}return divE};PreviewContact.prototype.createContactTextBox=function(deSerialize,idx){var textBox;var cssClass="";if(deSerialize.cs){cssClass+=" "+deSerialize.cs}if(deSerialize.ml){cssClass=" textAreaContainer"}var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_textFieldDiv borderBoxSizing"+cssClass});if(deSerialize.ml){textBox=DOM.createElement("textarea",{id:"textfield"+idx})}else{textBox=DOM.createElement("input",{type:"text",name:"textfield"+idx,className:"CFP_"+mTextboxType[deSerialize.ti].html})}this.createLabelForItem(divE,deSerialize,textBox,"textfield"+idx);if(deSerialize.tb){textBox.setAttribute("placeholder",deSerialize.tb)}textBox.setAttribute("maxLength",mTextboxType[deSerialize.ti].maxLength);divE.appendChild(textBox);
this.emit("form-field-created",textBox);return divE};PreviewContact.prototype.createContactFileUpload=function(deSerialize,idx){var mThis=this;var mFileUploader;var allowedExtensionsConfig=this.allowedFileExtensions.split(",");var cssClass=deSerialize.cs?" "+deSerialize.cs:"";var divE=DOM.createElement("div",{parent:this.previewContainer,className:"CF_textFieldDiv CF_fileUpload borderBoxSizing"+cssClass});var fileUploadContainer=DOM.createElement("div",{className:"CF_fileUploadComp borderBoxSizing"});var fileuploadFieldWrapper=DOM.createElement("div",{className:"CF_fileUploadBtnWrapper",parent:fileUploadContainer});var fileuploadField=DOM.createElement("input",{parent:fileuploadFieldWrapper,type:"button",name:"textfield"+idx,className:"CFP_Upload",value:this.localizationObject.getText("Channeling.chooseFile")});this.createLabelForItem(divE,deSerialize,fileuploadField,"fileupload"+idx);if(this.useSimpleUploader){mFileUploader=new SimpleUploader({container:fileUploadContainer,mask:fileuploadFieldWrapper})}else{mFileUploader=new AmazonUploader({container:fileUploadContainer,amazonOptions:function(fileName,callback){if(mThis.uploaderOptionsHandler){mThis.uploaderOptionsHandler(fileName,deSerialize.msize,callback)}else{callback(null)}}})}fileUploadContainer.appendChild(fileuploadFieldWrapper);divE.appendChild(fileUploadContainer);(function(){var fileInputs=fileUploadContainer.querySelectorAll('input[type="file"]');for(var i=0;i<fileInputs.length;i++){fileInputs[i].setAttribute("tabindex","-1")}}());var validationFunction=function(filename){var extAllowed=false;if(filename.indexOf(".")<0){extAllowed=false;var ext="(none)"}else{var ext=filename.substring(filename.lastIndexOf(".")+1).toLowerCase();deSerialize.allf=deSerialize.allf.toLowerCase();var allowedExtensions=deSerialize.allf.split(",");for(var i=0;i<allowedExtensions.length;i++){if(allowedExtensions[i]==ext){extAllowed=true;break}}if(extAllowed){if(allowedExtensionsConfig.length!=1||(allowedExtensionsConfig.length==1&&allowedExtensionsConfig[0]!="")){for(var i=0;i<allowedExtensionsConfig.length;
i++){if(allowedExtensionsConfig[i]==ext){extAllowed=true;break}}}}}var errorMessage=mThis.localizationObject.getText("Channeling.fileExtensionBlocked");errorMessage=errorMessage.replace("%var%",ext);mThis.handleValidationResult("fileupload",null,true,errorMessage,(extAllowed),divE);if(mThis.hCSSloader){mThis.hCSSloader.handle({stopFadeEffect:true})}return extAllowed};fileuploadField.onclick=function(){mFileUploader.openDialog()};mFileUploader.on({uploadoptionsfailed:function(){var errMsg=mThis.localizationObject.getText("Channeling.fileBlocked");mThis.handleValidationResult("fileupload",null,true,errMsg,false,divE)},attachmentlinkcreated:function(link,fileData){mThis.emit("attachmentlinkcreated",link,fileData)},beforeuploading:function(fileName,reject){if(!mThis.hSubmit){return}var totalUploads=mFileUploader.getFileList().length;mThis.handleValidationResult("fileupload",null,true,mThis.localizationObject.getText("Channeling.fileMaxReached"),(totalUploads<deSerialize.mmax),divE);if(mThis.hCSSloader){mThis.hCSSloader.handle({stopFadeEffect:true})}if(totalUploads>=deSerialize.mmax){reject();return}if(!validationFunction(fileName)){reject()}}});this.fileUploadObjects.push({elementId:deSerialize.id,fileUploader:mFileUploader,container:divE});return divE};function sanitizeContactFormValues(formData,replaceCreditCardNumbers){for(var key in formData.values){if(formData.values.hasOwnProperty(key)){var item=formData.values[key];if(item.value&&item.value.nodeType===1){}else{item.value=unHTML(item.value);if(item.type){switch(item.type.toLowerCase()){case"message":case"textarea":case"comments":case"originaltextarea":item.value=item.value.replace(/(?:\r\n|\r|\n)/g,"<br/>");break}}if(replaceCreditCardNumbers){var blockedCreditCardReplacement="*";item.value=blockCreditCardNumbers(item.value,blockedCreditCardReplacement)}}}}}var ContactForm=AbstractContactForm.extend({name:"ContactForm",_prototype:{ctor:function(options){var self=this;if(options&&options.element){var targetNode=(typeof options.element==="string"?document.querySelector(options.element):options.element);
if(targetNode){targetNode.style.display="none";this.bind(targetNode,"nr-channeling-contactform")}}if(options&&options.channel&&!(options.channel instanceof Channeling.Channel)){options.channel=new Channeling.Channel(options.channel)}if(options&&options.session&&options.channel){Channeling.getFormConfig(options.session,options.channel,function(error,formConfig){if(error){if(window.console&&window.console.warn){window.console.warn("Form",options.channel.contactFormId,"configuration cannot be loaded!")}return}formConfig.stylesheetsHost=options.session.host;self.setFormConfig(formConfig);if(self.$domElement){self.buildForm()}})}if(options&&options.values){this.predefinedValues=options.values}if(options&&options.events){this.on(options.events)}this.$model.allowCancelForm=(options&&options.allowCancelForm===false)?false:true},setFormConfig:function(formConfig){this.mFormConfig=formConfig},setSessionOptions:function(sessionOptions){this.$model.session=sessionOptions},setUploaderOptionsHandler:function(uploaderOptionsHandler){this.mUploaderOptionsHandler=uploaderOptionsHandler},setPredefinedValues:function(values){this.predefinedValues=values;if(this.mPreview){this.updatePredefinedValues()}},afterBind:function(){if(this.mFormConfig){this.buildForm()}},updatePredefinedValues:function(){var convertedValues={},sourceValues=this.predefinedValues,subject="";for(var key in sourceValues){if(sourceValues.hasOwnProperty(key)){if(key.toLowerCase()==="subject"){subject=sourceValues[key].value;delete sourceValues[key]}else{convertedValues[key]={name:key,type:sourceValues[key].type,value:sourceValues[key].value}}}}this.mPreview.populateValues(convertedValues,subject)},_submitFormData:function(submitInfo){var self=this;self.disable();if(self.mFormConfig.settings.customSubmitScript){var hookFunction=new Function("formData","formConfig","done","error",self.mFormConfig.settings.customSubmitScript);try{hookFunction(submitInfo,self.mFormConfig,function(){self.emit("submit");self.enable();self.setSuccessState()},function(error){self.emit("submit",error||true);
self.enable();self.setFailedState()})}catch(e){if(window.console&&window.console.error){window.console.error("Custom form submit hook error:",e)}}return}Channeling.submitContactForm(self.$model.session,self.$model.channel,submitInfo,function(error){self.emit("submit",error);self.enable();if(error){self.setFailedState()}else{self.setSuccessState()}})},buildForm:function(){if(this.mPreview){return}var self=this;self.$domElement.style.display="none";this.formContainer=this.$domElement.querySelector(".nr-ticket-form-container");this.setScopedLocalization(self.mFormConfig.settings.language);this.mPreview=new PreviewContact({allowCancelForm:this.$model.allowCancelForm,allowedFileExtensions:self.mFormConfig.allowedAttachments||null,stylesheetsHost:self.mFormConfig.stylesheetsHost?"//"+self.mFormConfig.stylesheetsHost:"",container:self.formContainer,uploaderOptionsHandler:self.mUploaderOptionsHandler,useSimpleUploader:!self.mUploaderOptionsHandler,localizationObject:self.getLocalizationObject(),hCancel:new Alloy.Handler(function(){self.emit("cancel")}),hSubmit:new Alloy.Handler(function(valid,submitInfo){self.emit("validation",valid);if(!submitInfo.postUrl){sanitizeContactFormValues(submitInfo,self.mFormConfig.blockCreditCardNumbers)}if(valid){self._submitFormData(submitInfo);self.emit("beforeSubmit",submitInfo)}}),hCSS:new Alloy.Handler(function(){})});this.mPreview.on({resize:function(){self.emit("resize")},"form-field-created":function(inputNode){self.emit("form-field-created",inputNode)},"stylesheets-loaded":function(){if(self.cssInitialized){return}else{self.cssInitialized=true}self.$domElement.style.display="block";self.emit("ready")},attachmentlinkcreated:function(link,fileData){self.emit("attachmentlinkcreated",link,fileData)}});this.mPreview.show(self.mFormConfig);if(this.predefinedValues){this.updatePredefinedValues()}},setFailedState:function(){this.$model.formSendingFailed=true;this.$model.formSentSuccessfully=false;this.update()},setSuccessState:function(thankYouMessage){if(typeof thankYouMessage==="string"){this.$model.channel=this.$model.channel||{};
this.$model.channel.thankYouMessage=thankYouMessage}this.$model.formSentSuccessfully=true;this.$model.formSendingFailed=false;this.update()},dismiss:function(){this.emit("cancel")},disable:function(){this.$model.disabled=true;this.update()},enable:function(){this.$model.disabled=false;this.update()},focus:function(){if(this.mPreview&&this.mPreview.mGuiItems){for(var i=0,childInput;i<this.mPreview.mGuiItems.length;i++){childInput=this.mPreview.mGuiItems[i].querySelector("input,textarea,select");if(this.mPreview.mGuiItems[i].offsetHeight&&childInput){childInput.focus();break}}}},dtor:function(){}}});return ContactForm});nanoRep.SDK.Styles.addRules({".nr-channeling-title":{color:"WIDGET_COLOR"},".nr-lp-transcript .nr-lp-transcript-action-highlight":{backgroundColor:"WIDGET_COLOR"},".nr-channeling-actionbar":{color:"ANSWER_TITLE_COLOR"},".nr-channeling-actionbar .nr-actionbar-icon":{fill:"ANSWER_TITLE_COLOR"},".nr-no-svg .nr-channeling-actionbar .nr-svg-icon":{backgroundColor:"ANSWER_TITLE_COLOR"},".nr-channeling-actionbar-buttontext:focus, .nr-channeling-actionbar-buttontext:hover":{color:"WIDGET_COLOR"},".nr-channeling-actionbar-buttontext:focus .nr-actionbar-icon, .nr-channeling-actionbar-buttontext:hover .nr-actionbar-icon":{fill:"WIDGET_COLOR"},".nr-channeling-actionbar li.nr-channeling-active:before":{background:"WIDGET_COLOR"},".nr-channeling-active .nr-channeling-actionbar-buttontext":{color:"ANSWER_TITLE_COLOR"},".nr-channeling-active .nr-channeling-actionbar-buttontext .nr-actionbar-icon":{fill:"ANSWER_TITLE_COLOR"}});this.PhoneDialog=modular.byName("PhoneDialog");this.ContactForm=modular.byName("ContactForm");this.ChatUI=modular.byName("ChatUI")}});nanoRep.BundleManager.define({name:"Answering",require:["Alloy","Localization"],data:{},init:function(a,b,g){var d=new g.Modular(this),e=a.Alloy.SDKModel,f=a.Alloy.SDKScope,c=a.Localization;c.defineDictionary("en","Answering",{cancel:"Cancel",searchResultBasedOn:"Found based on:"});c.defineDictionary("iw","Answering",{cancel:"",searchResultBasedOn:"  :"});
d.startExport();d.declare("AnswerScopeBase",[f,g.objectFinder("nanoRep.SDK.Sharing.SharingScope"),g.objectFinder("nanoRep.SDK.Feedback.Thumbs.ThumbsScope"),g.objectFinder("nanoRep.SDK.Feedback.Survey.SurveyScope"),g.objectFinder("nanoRep.SDK.Feedback.ChoicesDialog.ChoicesDialogScope"),g.objectFinder("nanoRep.SDK.Feedback.SurveyDialog.SurveyDialogScope"),g.objectFinder("nanoRep.SDK.Channeling.ActionBarScope")]);d.define(function(o,j,m,l,i,k,h){var n={TEMPLATE:"nr-answering-answer",ctor:function(){var r=this.$model,s=j(),v=m(),u=l(),q=i(),t=k(),p=h();if(s&&r.hasSharing){this.setScopeClass(s.prototype.TEMPLATE,s)}if(r.hasFeedback){if(v){this.setScopeClass(v.prototype.TEMPLATE,v)}if(u){this.setScopeClass(u.prototype.TEMPLATE,u)}if(q){this.setScopeClass(q.prototype.TEMPLATE,q)}if(t){this.setScopeClass(t.prototype.TEMPLATE,t)}}if(p&&r.hasActionBar){this.setScopeClass(p.prototype.TEMPLATE,p)}this.toggleTranslation(r.showTranslation)},translationToggleClicked:function(p){this.toggleTranslation(!this.$model.showTranslation)},toggleTranslation:function(p){var q=this.$model;q.showTranslation=p;if(p&&q.translatedTitle){q.displayTitle=q.translatedTitle;q.displayContent=q.translatedContent}else{q.displayTitle=q.title;q.displayContent=q.content}if(typeof q.displayContent==="string"){q.displayContent=q.displayContent.split("<page_separator/>")}else{q.displayContent=""}if(q.displayContent&&q.activeContentIndex>=q.displayContent.length){q.activeContentIndex=0}this.update()},afterUpdate:function(){this.toggleTranslation(this.$model.showTranslation)}};return o.extend({name:"AnswerScopeBase",abstractClass:true,_prototype:n})});d.declare("AnswerModelBase",[e,"AnswerScopeBase",g.objectFinder("nanoRep.SDK.Sharing.SharingModel"),g.objectFinder("nanoRep.SDK.Feedback.Thumbs.ThumbsModel"),g.objectFinder("nanoRep.SDK.Feedback.Survey.SurveyModel"),g.objectFinder("nanoRep.SDK.Feedback.ChoicesDialog.ChoicesDialogModel"),g.objectFinder("nanoRep.SDK.Feedback.SurveyDialog.SurveyDialogModel"),g.objectFinder("nanoRep.SDK.Channeling.ActionBarModel")]);
d.define(function(r,h,m,p,o,l,n,k){var j={THUMBS:0,SURVEY:1};var i={SLOW:9.8,FAST:3.14,SUPERFAST:0.5};var q={ScopeClass:h,AutoLinkAnimationTime:i,FeedbackTypeEnum:j,feedbackType:j.THUMBS,container:null,title:"",content:"",contextLabel:"",translatedTitle:"",translatedContent:"",fullArticleTarget:"_self",showFullArticleOpener:false,showTranslation:true,collapsible:true,hasSharing:true,hasFeedback:true,hasActionBar:true,focusable:true,hasTranslation:function(){return !!(this.translatedTitle||this.translatedContent)},ctor:function(v,u){var w=m(),z=p(),y=o(),t=l(),x=n(),s=k();if(u){this.hasSharing=u.answerHasSharing;this.hasFeedback=u.answerHasFeedback;this.hasActionBar=u.answerHasActionBar}if(w&&this.hasSharing){this.sharing=new w;if(this.url&&this.title){this.sharing.setData(this.url,this.title)}}else{this.sharing=new r}if(t&&this.hasFeedback){this.choicesDialog=new t;this.choicesDialog.setHasContext(true)}else{this.choicesDialog=new r}this.surveyDialog=new (x&&this.hasFeedback?x:r);switch(this.feedbackType){case j.THUMBS:if(z&&this.hasFeedback){this.thumbs=new z;this.thumbs.setDialog(this.choicesDialog);this.showThumbs=true}break;case j.SURVEY:if(y&&this.hasFeedback){this.survey=new y;this.survey.setDialog(this.surveyDialog);this.showSurvey=true}break}if(!this.thumbs){this.thumbs=new r}if(!this.survey){this.survey=new r}this.actionBar=new (s&&this.hasActionBar?s:r);if(this.session){this.actionBar.session=this.session}this.displayTitle=this.title;this.displayContent=typeof this.content==="string"?this.content.split("<page_separator/>"):null;this.container=u},focus:function(){},attachmentsStrToList:function(t){var v=[];if(t){var w=t.split(",");for(var u=0,s;u<w.length;u++){s=w[u];v.push({url:"http://"+s.substring(0,s.indexOf("/"))+".s3.amazonaws.com/"+s.substring(s.indexOf("/")+1),name:s.replace(/.*\//,"")})}}return v},getAnswerContentBlock:function(){var s=this.getScope();if(s){return s.$domElement}},getAnswerContentBlocks:function(){var s=this.getAnswerContentBlock();return s?[s]:null}};return r.extend({name:"AnswerModelBase",abstractClass:true,_prototype:q})
});d.declare("ListScopeBase",[f,"AnswerScopeBase"]);d.define(function(j,h){var i={TEMPLATE:"nr-answering-list",ctor:function(){this.setScopeClass(h.prototype.TEMPLATE,h)}};return j.extend({name:"ListScopeBase",abstractClass:true,_prototype:i})});d.declare("ListModelBase",[e,"ListScopeBase","AnswerModelBase"]);d.define(function(k,i,h){var j={ScopeClass:i,AnswerModelClass:h,answers:[],answerHasSharing:true,answerHasFeedback:true,answerHasActionBar:true,ctor:function(l){if(l&&l.element){this.bindScope(l.element)}},setAnswers:function(l){this.answers=l;this.updateScope()}};return k.extend({name:"ListModelBase",abstractClass:true,_prototype:j})})}});nanoRep.BundleManager.define({name:"Answering.Modern",require:["Alloy","Answering","Styles"],data:{answerStyle:".nr-answer-ltr{direction:ltr}.nr-answer-rtl{direction:rtl}.nr-answering-answer{border:1px solid #bbb;background-color:#fff;margin-bottom:5px}\n.nr-answering-answer-header-wrapper{position:relative;padding:0 11px}.nr-answering-answer-header-wrapper:after{content:'';height:1px;background:0;position:absolute;bottom:0;left:11px;right:11px}\n.nr-answer-feedback-active .nr-answering-answer-header-wrapper{transform:translate3d(0,0,0);opacity:.01}\n.nr-answering-answer-header{table-layout:auto;cursor:pointer;display:table;z-index:3;width:100%}\n.nr-answering-answer-open .nr-answering-answer-header-wrapper:after{background:#e8e8e8}\n.nr-answering-answer-top-menu{display:table-row}.nr-answering-answer-title{font-weight:300;font-size:16px;text-decoration:none;color:#0099c8;display:table-cell;vertical-align:middle;padding:15px 0;width:100%}\n.nr-answering-answer-title-text{height:100%;left:0;position:absolute;top:0;width:100%}\n.nr-answering-answer-title-text,.nr-answering-answer-title-text span{vertical-align:middle;display:inline-block;text-decoration:inherit;font-size:inherit;color:inherit}\n.nr-answering-answer-title-text>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;display:inline}\n.nr-answering-answer-title-text span span{vertical-align:top;display:inline}\n.nr-answering-answer-title-text .nr-answering-answer-meta{font-size:18px;display:block;font-style:italic;color:#9b9b9b}\n.nr-answering-answer-title-text .nr-answering-answer-meta b{vertical-align:bottom;font-weight:400}\n.nr-answering-answer-overflow-wrapper{white-space:nowrap;font-size:inherit;position:relative;overflow:hidden;width:100%;min-height:21px}\n.nr-answering-answer-overflow-wrapper .nr-answering-answer-title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n.nr-answering-answer-open .nr-answering-answer-overflow-wrapper .nr-answering-answer-title-text{display:inline-block;font-weight:400;vertical-align:top;position:static;white-space:normal;text-overflow:initial}\n.nr-answering-answer-open .nr-answering-answer-title-text .nr-answering-answer-meta{font-weight:300}\n.nr-answering-answer-buttons-wrapper{white-space:nowrap;display:table-cell;vertical-align:middle;padding:0 0 0 20px}\n.nr-answer-rtl .nr-answering-answer-buttons-wrapper{padding:0 20px 0 0}.nr-answering-answer-buttons-align{vertical-align:middle;display:block;height:40px}\n.nr-answering-answer-buttons-align:before{content:'';display:inline-block;vertical-align:middle;height:100%}\n.nr-answering-answer-new-tab-icon{cursor:pointer;display:inline-block;height:20px;margin:0 15px 0 0;vertical-align:middle;width:21px}\n.nr-answer-rtl .nr-answering-answer-new-tab-icon{margin:0 0 0 15px}.nr-answering-answer-toggle-icon{vertical-align:middle;display:inline-block;width:14px;height:7px}\n.nr-answering-answer-toggle-icon .nr-svg-icon{display:block;width:100%;height:100%}\n.nr-answering-answer-toggle-icon .nr-svg-icon svg{vertical-align:top}.nr-answering-translation-toggle{vertical-align:middle;display:none;width:25px;height:25px}\n.nr-answering-translation-toggle .nr-svg-icon{display:block;width:100%;height:100%}\n.nr-answering-translation-toggle-on,.nr-answering-translation-toggle-off{font-style:normal;color:#7a9199}\n.nr-answering-answer-open .nr-answering-translation-toggle{display:inline-block}\n.nr-answering-answer-body{overflow:visible;position:relative}.nr-answering-answer-body,.nr-answering-answer-footer{height:0;opacity:0;background:#fff;transition:height .4s ease-out,opacity .4s;pointer-events:none}\n.nr-answering-answer-footer{box-shadow:0 -25px 25px 4.5px #fff;position:relative;border-top:0;overflow:hidden;clear:both}\n.nr-answering-answer-open .nr-answering-answer-body{height:225px;opacity:1;pointer-events:all}\n.nr-answering-answer-content{position:relative;overflow-y:auto;height:200px;font-size:14px;font-weight:400;padding:0 5px 0 10px;color:#575656}\n.nr-answering-answer-content table,.nr-answering-answer-content td,.nr-answering-answer-content input,.nr-answering-answer-content textarea,.nr-answering-answer-content div,.nr-answering-answer-content span,.nr-answering-answer-content p{font-weight:300;font-size:16px;line-height:20px}\n.nr-answer-rtl .nr-answering-answer-content{padding:5px 10px 0 5px}.nr-answering-answer-content:after{content:'';display:block;height:55px}\n.nr-style-scroll::-webkit-scrollbar,.nr-style-scroll::-webkit-scrollbar-button,.nr-answering-answer-content::-webkit-scrollbar,.nr-answering-answer-content::-webkit-scrollbar-button{width:5px;height:0}\n.nr-style-scroll::-webkit-scrollbar-thumb,.nr-answering-answer-content::-webkit-scrollbar-thumb{background:#ddd}\n.nr-style-scroll::-webkit-scrollbar-track,.nr-answering-answer-content::-webkit-scrollbar-track{background:#fff}\n.nr-style-scroll::-webkit-scrollbar-corner,.nr-answering-answer-content::-webkit-scrollbar-corner{background:transparent}\n.nr-answering-answer-open .nr-answering-answer-footer{height:40px;opacity:1;overflow:visible;pointer-events:all}\n.nr-answering-answer-bottom-menu{box-shadow:0 -4px 5px 0 rgba(0,0,0,0.03)}\n.nr-answering-answer-bottom-menu:after{content:'';display:block;clear:both;height:0}\n.nr-answering-sharing-wrapper{vertical-align:middle;display:inline-block;position:relative;margin-top:3px;z-index:3}\n.nr-answering-answer-feedback-area{display:inline-block}.nr-answering-answer .nr-channeling-actionbar{float:right}\n.nr-answer-rtl .nr-channeling-actionbar{float:left}.nr-feedback-thumbs,.nr-feedback-survey,.nr-channeling-actionbar{background:rgba(255,255,255,0)!important}\n.nr-answering-feedback-popup{box-shadow:inset 0 -4px 5px 0 rgba(0,0,0,0.03);position:absolute;background:#fff;overflow:auto;left:0;bottom:0;right:0;top:-50px;z-index:4}\n.nr-answering-answer .nr-feedback-survey-dialog textarea{border:1px solid #ddd}\n.nr-answering-answer-autolink{display:none;position:absolute;font-size:14px;z-index:1;top:0;left:0;right:0}\n.nr-answering-answer-autolink-active .nr-answering-bodycontent{padding-top:30px}\n.nr-answering-bodycontent{padding-top:15px;overflow:hidden}.nr-answering-bodycontent a{text-decoration:underline}\n.nr-answering-answer-autolink-present{display:block}.nr-answering-answer-autolink-present+.nr-answering-answer-content{bottom:30px!important}\n.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar{display:inline-block;vertical-align:top;height:30px}\n.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar{width:100%;padding:0;overflow:hidden;cursor:pointer;text-decoration:none}\n.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar-bg{z-index:11;position:absolute;top:0;left:0;bottom:0;margin:0;padding:0;height:30px}\n.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar-text{z-index:12;position:relative;margin:0;top:0;line-height:30px;overflow:hidden;font-size:1.2em;text-align:center;text-overflow:clip;font-weight:300;white-space:nowrap;transition:top .2s}\n.nr-answering-answer-autolink .nr-answering-answer-autolink-cancel{position:absolute;top:0;bottom:0;right:0;z-index:13;padding:0 10px;line-height:30px;text-decoration:none;font-size:1.1em;font-weight:300;color:#333;cursor:pointer}\n.nr-answering-context-label{font-size:12px;color:#999;display:block;margin:10px 0 -15px}\n.nr-answering-attachments{list-style:none;font-size:12px;line-height:20px;padding:0;margin:0}\n.nr-answering-attachments a{text-decoration:none;color:#0099c8}.nr-answering-attachments .nr-svg-icon{vertical-align:middle;display:inline-block;margin:0 2px 0 0;width:13px;height:14px}\n.nr-answering-scroller{position:relative;overflow:hidden;width:100%}.nr-answering-scroller-pager{position:absolute;overflow:hidden;z-index:2;left:0;right:0;bottom:0;padding:2px 18px}\n.nr-answering-scroller-pager ul{list-style:none;text-align:center;padding:0;margin:0}\n.nr-answering-scroller-pager li{color:#3e3e3e;display:inline}.nr-answering-scroller-pager .nr-svg-icon{display:block;width:8px;height:14px}\n.nr-answering-scroller-disabled .nr-svg-icon *{fill:#aaa}.nr-answering-scroller-pager span,.nr-answering-scroller-prev,.nr-answering-scroller-next{display:inline-block;padding:2px 3px;cursor:pointer}\n.nr-answering-scroller-prev{float:left}.nr-answering-scroller-next{float:right}\n.nr-answering-scroller-pager-active span{color:#0099c8}.nr-answer-no-channeling .nr-sharing,.nr-answer-no-channeling .nr-feedback-thumbs,.nr-answer-no-channeling .nr-channeling-actionbar,.nr-answer-no-channeling .nr-answering-answer-footer{display:none!important}\n.nr-answer-no-channeling .nr-answering-answer-content{padding-bottom:0}.nr-answer-not-collapsible .nr-answering-answer-header,.nr-answer-not-collapsible .nr-answering-answer-title-text{cursor:default}\n.nr-answer-not-collapsible .nr-answering-answer-buttons-align{margin:0 -10px}\n.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-header,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-content,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-autolink,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-body{visibility:hidden}\n.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-slide{overflow:visible!important}\n.nr-answering-answer[channeling-embed-active] .nr-answering-answer-form-container{display:none}\n.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{display:block;position:absolute;background:#fff;overflow:auto;padding:0 5px 0 10px;top:0;left:0;right:0;bottom:55px;z-index:1}\n.nr-answer-rtl .nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{padding:0 10px 0 5px;z-index:19}\n.nr-answering-list[data-hover-accordion-mode=\"simple\"] .nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{position:relative;padding-right:10px;margin-top:-50px;overflow:visible;top:auto;left:auto;right:auto;bottom:auto}\n.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-footer{z-index:20;box-shadow:none}\n.nr-answering-answer.nr-answering-answer-open[channeling-embed-active=\"chat\"] .nr-answering-answer-form-container{overflow:auto;padding-left:0;right:0}\n.nr-answering-feedback-wrapper{float:left}.nr-answering-actionbar-wrapper{overflow:hidden;height:1%}\n.nr-answer-rtl .nr-answering-feedback-wrapper{float:right}",answerTemplate:'<div class="nr-answering-answer{{ isOpen ? \' nr-answering-answer-open\' : \'\'}}{{ noChanneling ? \' nr-answer-no-channeling\' : \'\' }}{{ !collapsible ? \' nr-answer-not-collapsible\' : \'\' }}{{ isRTL ? \' nr-answer-rtl\' : \' nr-answer-ltr\' }}{{ choicesDialog.open || surveyDialog.open ? \' nr-answer-feedback-active\' : \'\' }}" data-nr-sharing-viewport>\r\n\t<div class="nr-answering-answer-header-wrapper">\r\n\t\t<div class="nr-answering-answer-header" alloy-bind-event-click="headerClicked(e)">\r\n\t\t\t<div class="nr-answering-answer-top-menu">\r\n\t\t\t\t<div class="nr-answering-answer-title">\r\n\t\t\t\t\t<div class="nr-answering-answer-overflow-wrapper {{meta ? \'nr-answer-has-meta\' : \'nr-answer-no-meta\'}}">\r\n\t\t\t\t\t\t<a href="javascript:void(0)" role="button" nr-tooltip="{{displayTitle}}" nr-tooltip-show-with-ellipsis aria-expanded="{{isOpen ? \'true\' : \'false\'}}" alloy-bind-event-focus="headerFocused(e)" alloy-bind-event-blur="headerBlurred(e)" class="nr-answering-answer-title-text">\r\n\t\t\t\t\t\t\t<span alloy-bind-html="{{displayTitle}}"></span> \r\n\t\t\t\t\t\t\t<span alloy-if="meta" class="nr-answering-answer-meta">{{getLocalizedText(\'Answering.searchResultBasedOn\')}} "<span alloy-bind-html="{{meta}}"></span>"</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="nr-answering-answer-buttons-wrapper">\r\n\t\t\t\t\t<div class="nr-answering-answer-buttons-align">\r\n\t\t\t\t\t\t<span class="nr-answering-sharing-wrapper" alloy-if="isOpen && hasSharing">\r\n\t\t\t\t\t\t\t<nr-sharing alloy-this="sharing" alloy-require-scope></nr-sharing>\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\ttarget="{{fullArticleTarget}}"\r\n\t\t\t\t\t\t\thref="{{url}}"\r\n\t\t\t\t\t\t\tclass="nr-svg-icon nr-answering-answer-new-tab-icon"\r\n\t\t\t\t\t\t\talloy-if="showFullArticleOpener && hasSharing"\r\n\t\t\t\t\t\t><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 21" xml:space="preserve">\n<defs>\n    <polygon id="path-1" points="19.9169863 5.57150685 19.9169863 7.78676971e-15 14.3455616 0 14.3455616 5.57150685 19.9169863 5.57150685"></polygon>\n    <path\n        d="M19.1354247,0 C19.331589,0 19.5277534,0.097260274 19.6726849,0.244383562 C19.8206301,0.392328767 19.9170685,0.636986301 19.9170685,0.830410959 L19.7696712,4.78986301 C19.7696712,5.23068493 19.3773425,5.57150685 18.9392603,5.57150685 C18.4984384,5.57150685 18.1576164,5.17972603 18.1576164,4.74164384 L18.3055616,1.61479452 L15.1759726,1.71123288 C14.7351507,1.71123288 14.3943288,1.37013699 14.3455616,0.929589041 C14.3455616,0.489041096 14.6869315,0.147945205 15.1277534,0.0997260274 L19.1354247,0 C19.0872055,0 19.1354247,0 19.1354247,0"\n        id="path-3"\n    ></path>\n</defs>\n<g id="Welcome" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="-cards_expand_icon" transform="translate(-1082.000000, -352.000000)">\n        <g id="Group-2" transform="translate(1082.000000, 352.000000)">\n            <path\n                d="M11.745589,8.956 C11.5499726,8.956 11.3538082,8.85873973 11.2083288,8.71161644 C10.915726,8.41873973 10.915726,7.88093151 11.2083288,7.58586301 L18.5494247,0.244767123 C18.8420274,-0.0478356164 19.3792877,-0.0478356164 19.6751781,0.244767123 C19.9677808,0.538191781 19.9677808,1.07545205 19.6751781,1.37052055 L12.3343562,8.71161644 C12.1379178,8.90778082 11.9417534,8.956 11.745589,8.956"\n                id="Fill-1"\n                fill="#0AA0FF"\n                class="nr-new-tab-fill"\n            ></path>\n            <mask id="mask-2" fill="white">\n                <use xlink:href="#path-1"></use>\n            </mask>\n            <g id="Clip-4"></g>\n            <mask id="mask-4" fill="white">\n                <use xlink:href="#path-3"></use>\n            </mask>\n            <use\n                id="Fill-3"\n                fill="#0AA0FF"\n                xlink:href="#path-3"\n                class="nr-new-tab-fill"\n            ></use>\n            <path\n                d="M18.2466027,7.28210959 L18.2466027,17.0371781 C18.2466027,17.7925205 17.6320822,18.4070411 16.8767397,18.4070411 L3.01372603,18.4070411 C2.25838356,18.4070411 1.64386301,17.7925205 1.64386301,17.0371781 L1.64386301,3.17416438 C1.64386301,2.41882192 2.25838356,1.80430137 3.01372603,1.80430137 L12.5863288,1.80430137 L12.5863288,0.160465753 L3.01372603,0.160465753 C1.35180822,0.160465753 2.73972603e-05,1.51252055 2.73972603e-05,3.17416438 L2.73972603e-05,17.0371781 C2.73972603e-05,18.6990959 1.35180822,20.0508767 3.01372603,20.0508767 L16.8767397,20.0508767 C18.5383836,20.0508767 19.8904384,18.6990959 19.8904384,17.0371781 L19.8904384,7.28210959 L18.2466027,7.28210959 Z"\n                id="Fill-6"\n                fill="#0AA0FF"\n                class="nr-new-tab-fill"\n            ></path>\n        </g>\n    </g>\n</g>\n</svg></a>\r\n\r\n\t\t\t\t\t\t<span class="nr-answering-answer-toggle-icon" alloy-if="collapsible">\r\n\t\t\t\t\t\t\t<i alloy-if="!isOpen" class="nr-svg-icon nr-answering-answer-toggle-icon-expand"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 7"><path class="nr-expand-button-fill" fill="#333" d="M0.3,1.35L6.6,6.6a0.62,0.62,0,0,0,.79,0l6.3-5.25A0.62,0.62,0,0,0,12.91.4L7,5.33,1.09,0.4A0.62,0.62,0,0,0,.3,1.35Z"/></svg></i>\r\n\t\t\t\t\t\t\t<i alloy-if="isOpen" class="nr-svg-icon nr-answering-answer-toggle-icon-collapse"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 7"><path class="nr-expand-button-fill" fill="#333" d="M13.7,5.65L7.4,0.4a0.62,0.62,0,0,0-.79,0L0.3,5.65a0.62,0.62,0,0,0,.79.95L7,1.67,12.91,6.6A0.62,0.62,0,0,0,13.7,5.65Z"/></svg></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="nr-answering-answer-form-container nr-style-scroll">\r\n\t\t<!-- channeling phone dialog and contact form will be embedded here -->\r\n\t</div>\r\n\t<div class="nr-answering-answer-slide {{autoLink ? \'nr-answering-answer-autolink-active\' : \'\'}}" nr-tooltip-viewport>\r\n\t\t<div class="nr-answering-answer-body" aria-describedby="nr-answer-id-{{answerUID}}" tabindex="0">\r\n\t\t\t<div class="nr-answering-answer-content" id="nr-answer-id-{{answerUID}}">\r\n\t\t\t\t<!-- display single or multipart answer -->\r\n\t\t\t\t<div class="nr-answering-scroller">\r\n\t\t\t\t\t<div class="nr-answering-scroller-mask">\r\n\t\t\t\t\t\t<div class="nr-answering-scroller-slide" alloy-loop="answerPart in displayContent | ITERATOR idx" alloy-if="idx === activeContentIndex">\r\n\t\t\t\t\t\t\t<span class="nr-answering-context-label" alloy-if="contextLabel">{{contextLabel}}</span>\r\n\t\t\t\t\t\t\t<div class="nr-answering-bodycontent" alloy-bind-html="{{answerPart}}"></div>\r\n\t\t\t\t\t\t\t<ul class="nr-answering-attachments" alloy-if="attachments.length">\r\n\t\t\t\t\t\t\t\t<li alloy-loop="attachment in attachments">\r\n\t\t\t\t\t\t\t\t\t<a target="_blank" href="{{attachment.url}}" aria-label="Download attachment - {{attachment.name}}"><i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path fill="#0099c8" d="M15.09,7.92L7.81,15.16a3,3,0,0,1-4.22-4.22h0l8.48-8.48a1.89,1.89,0,1,1,2.67,2.67h0L6.26,13.65a0,0,0,0,1,0,0,0,0,0,0,0,0,0A0.76,0.76,0,1,1,5.1,12.66h0l7.32-7.32a0.55,0.55,0,0,0-.78-0.78L4.33,11.88a1.85,1.85,0,0,0,0,2.62,1.87,1.87,0,0,0,1.29.56,1.7,1.7,0,0,0,1.29-.56,0,0,0,0,1,0,0,0,0,0,0,0,0,0L15.52,5.9a3,3,0,0,0,0-4.22,3,3,0,0,0-4.22,0h0L2.82,10.21a4,4,0,0,0,0,5.77A4.15,4.15,0,0,0,5.7,17.18,4,4,0,0,0,8.59,16L15.86,8.7A0.55,0.55,0,1,0,15.09,7.92Z"/></svg></i> {{attachment.name}}</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- display autolink if needed -->\r\n\t\t\t\t<div class="nr-answering-answer-autolink{{ autoLink ? \' nr-answering-answer-autolink-present\' : \'\'}}">\r\n\t\t\t\t\t<div class="nr-answering-answer-autolink-progress-bar" alloy-bind-event-click="autoLinkClicked()">\r\n\t\t\t\t\t\t<div class="nr-answering-answer-autolink-progress-bar-text">{{autoLink.title || autoLink.url}}</div>\r\n\t\t\t\t\t\t<div class="nr-answering-answer-autolink-progress-bar-completed"></div>\r\n\t\t\t\t\t\t<div class="nr-answering-answer-autolink-progress-bar-bg"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a class="nr-answering-answer-autolink-cancel" alloy-if="this.getShowCancelButton(autoLinkCanceled)" alloy-bind-event-click="cancelAutoLinkClicked(e)">\r\n\t\t\t\t\t\t{{getLocalizedText(\'Answering.cancel\')}}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- display answer pagination -->\r\n\t\t\t<div class="nr-answering-scroller-pager" alloy-if="displayContent.length > 1">\r\n\t\t\t\t<a class="nr-answering-scroller-prev {{ (isRTL ? activeContentIndex === displayContent.length - 1 : activeContentIndex === 0) ? \'nr-answering-scroller-disabled\' : \'\'}}" alloy-bind-event-click="switchSlide(isRTL ? 1 : -1)"><i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 14"><path fill="#010101" d="M5.65,0.3L0.4,6.6a0.62,0.62,0,0,0,0,.79l5.25,6.3a0.62,0.62,0,0,0,.95-0.79L1.67,7,6.6,1.09A0.62,0.62,0,0,0,5.65.3Z"/></svg></i></a>\r\n\t\t\t\t<a class="nr-answering-scroller-next {{ (isRTL ? activeContentIndex === 0 : activeContentIndex === displayContent.length - 1) ? \'nr-answering-scroller-disabled\' : \'\'}}" alloy-bind-event-click="switchSlide(isRTL ? -1 : 1)"><i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 14"><path fill="#010101" d="M1.35,13.7L6.6,7.4a0.62,0.62,0,0,0,0-.79L1.35,0.3a0.62,0.62,0,0,0-.95.79L5.33,7,0.4,12.91A0.62,0.62,0,0,0,1.35,13.7Z"/></svg></i></a>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li alloy-loop="answerPart in displayContent | ITERATOR idx" class="{{idx === activeContentIndex ? \'nr-answering-scroller-pager-active\' : \'\'}}">\r\n\t\t\t\t\t\t<span alloy-bind-event-click="numSlide(idx)">{{idx + 1}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="nr-answering-feedback-popup" alloy-if="choicesDialog.open || surveyDialog.open">\r\n\t\t\t\t<div alloy-if="choicesDialog.open">\r\n\t\t\t\t\t<nr-feedback-choices-dialog alloy-scope-name="choicesDialog" alloy-this="choicesDialog" alloy-require-scope></nr-feedback-choices-dialog>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div alloy-if="surveyDialog.open">\r\n\t\t\t\t\t<nr-feedback-survey-dialog alloy-scope-name="surveyDialog" alloy-this="surveyDialog" alloy-require-scope></nr-feedback-survey-dialog>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="nr-answering-answer-footer">\r\n\t\t\t<div class="nr-answering-answer-bottom-menu">\r\n\t\t\t\t<div class="nr-answering-feedback-wrapper">\r\n\t\t\t\t\t<span alloy-if="showThumbs">\r\n\t\t\t\t\t\t<nr-feedback-thumbs alloy-this="thumbs" alloy-require-scope></nr-feedback-thumbs>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span alloy-if="showSurvey">\r\n\t\t\t\t\t\t<nr-feedback-survey alloy-this="survey" alloy-require-scope></nr-feedback-survey>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="nr-answering-actionbar-wrapper">\r\n\t\t\t\t\t<nr-channeling-actionbar alloy-this="actionBar" alloy-require-scope></nr-channeling-actionbar>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n',listStyle:'.nr-answering-list{margin:5px}.nr-answering-list[data-hover-accordion] .nr-answering-answer{box-shadow:0 3px 4.75px .25px #dfdfdf;background:#fff;border:0;width:100%;margin:0}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer:first-child{box-shadow:0 3px 4.75px .25px #dfdfdf!important}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer[nr-answering-stack-prev]{box-shadow:0 -3px 4.75px .25px #dfdfdf}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer[nr-answering-stack-active]{box-shadow:0 0 4.75px 2.25px #dfdfdf;z-index:999!important}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer-header,.nr-answering-list[data-hover-accordion] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion] .nr-answering-answer-footer{transition:none;opacity:initial;border-width:0;height:auto}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer-buttons-align{height:50px}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer-title{line-height:normal;height:auto;margin:0;color:#3b3b3b}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer-open .nr-answering-answer-title{color:#0099c8}\n.nr-answering-list[data-hover-accordion] .nr-answering-answer-slide{position:relative}\n.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-buttons-align,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-buttons-align{height:35px}\n.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-meta,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-meta{font-size:inherit;display:inline}\n.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-title,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-title,.nr-answering-list[data-hover-accordion][nr-answering-switch-progress] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-title{padding:0;height:35px;font-size:13px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-overflow-wrapper,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-overflow-wrapper{min-height:16px}\n.nr-answering-list.nr-answering-list-empty{height:0!important}.nr-answering-list[data-hover-accordion-mode^="cards"] .nr-answering-answer{margin:0 0 10px}\n.nr-answering-list[data-hover-accordion-mode="cardsfit"]{overflow:hidden}\n.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-body{position:absolute;height:auto;top:0;left:0;right:0;bottom:55px}\n.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-content,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-content{position:absolute;height:auto;top:0;left:0;right:0;bottom:0}\n.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-footer,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-footer{position:absolute;left:0;right:0;bottom:0}\n.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-content{overflow:hidden}\n.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height{height:auto!important;display:block!important}\n.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-body,.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-content,.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-footer{position:static!important}\n.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-content:after{display:none}\n.nr-answering-list[data-hover-accordion-mode="simple"]{height:auto!important}\n.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-content,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-footer{overflow:visible;position:relative;top:auto;left:auto;right:auto;bottom:auto}\n.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-slide{display:none}\n.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-open .nr-answering-answer-slide{display:block}\n.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-content{height:auto}\n.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer{box-shadow:0 3px 4.75px .25px #dfdfdf}\n.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-content{position:absolute;height:auto;bottom:0;top:0;left:0;right:0}\n.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-body{bottom:55px}\n.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-footer{position:absolute;bottom:0;right:0;left:0}',listTemplate:'<div class="nr-answering-list {{ !answers.length ? \'nr-answering-list-empty\' : \'\' }}">\r\n\t<nr-answering-answer alloy-loop="answer in answers" alloy-this="answer"></nr-answering-answer>\r\n</div>\r\n'},ns:"nanoRep.SDK.Answering",init:function(e,f,k){var i=new k.Modular(this),j=e.Styles.Styles,a=e.Answering,b=a.AnswerModelBase,c=a.AnswerScopeBase,g=a.ListModelBase,h=a.ListScopeBase;
i.startExport();i.declare("AnswerScope",[c]);i.define(function(m){var n=["nr-sharing","nr-answering-translation-toggle","nr-answering-answer-new-tab-icon"];var o={ctor:function(){this.updateSharingVisibility()},toggle:function(){var s=this,r=this.$model;r.pristine=false;if(!r.isOpen&&!r.autoLinkCanceled){this.runAutoLink(this.$model.AutoLinkAnimationTime.SLOW)}else{if(r.autoLinkIntervalId){clearInterval(r.autoLinkIntervalId)}r.autoLinkProgress=0;r.autoLinkIntervalId=false}if(typeof r.content==="function"){r.content(function(v,y,x,u,w,z,t){r.content=v;r.origContent=r.content;r.attachments=r.attachmentsStrToList(t);r.translatedTitle=y;r.translatedContent=x;r.keywordsetId=w;r.visibility=z;s.updateSharingVisibility();if(u&&r.actionBar){r.actionBar.setChannels(u)}s.toggleTranslation(r.showTranslation);s.setModelProperty({isOpen:true});r.emit("contentLoaded");s.emit(r.isOpen?"opened":"closed")})}else{this.setModelProperty({isOpen:!r.isOpen});this.emit(r.isOpen?"opened":"closed")}},updateSharingVisibility:function(){var r=4;this.setModelProperty({hasSharing:!!(this.$model.visibility&r)})},autoLinkClicked:function(){this.resetAutoLink();this.runAutoLink(this.$model.AutoLinkAnimationTime.SUPERFAST,true);this.openAutoLink()},openAutoLink:function(){var s=this.$model,r=s.container;if(!r){return}if(r){r.emit("autolink",s)}},runAutoLink:function(v,r){var u=this,s=this.$model;var t=100/(v*100);if(s.autoLink&&!s.autoLinkProgress){s.autoLinkProgress=0;if(s.autoLinkIntervalId){clearInterval(s.autoLinkIntervalId)}s.autoLinkIntervalId=setInterval(function(){if(s.autoLinkProgress<100){s.autoLinkProgress+=t}else{clearInterval(s.autoLinkIntervalId);s.autoLinkIntervalId=false;if(!r){u.openAutoLink()}}if(!u.isDisposed()){u.autoLinkProgressNode.style.width=s.autoLinkProgress+"%"}},10)}},cancelAutoLinkClicked:function(){this.resetAutoLink()},resetAutoLink:function(){if(this.$model.autoLinkIntervalId){clearInterval(this.$model.autoLinkIntervalId)}this.setModelProperty({autoLinkProgress:0,autoLinkIntervalId:false,autoLinkCanceled:true});this.autoLinkProgressNode.style.width=this.$model.autoLinkProgress+"%"
},close:function(){if(this.$model.isOpen){if(this.$model.autoLinkIntervalId){clearInterval(this.$model.autoLinkIntervalId)}this.setModelProperty({isOpen:false,autoLinkProgress:0,autoLinkIntervalId:false});this.autoLinkProgressNode.style.width=this.$model.autoLinkProgress+"%";this.emit("closed")}},beforeBind:function(){this.$model.isRTL=(this.$model.direction==="rtl")},afterBind:function(){if(this.isDisposed()){return}m.prototype.afterBind.apply(this,arguments);if(this.$model.highlightWords){var r=this.$domElement.querySelector(".nr-answering-scroller-mask");p.highlightText(r,this.$model.highlightWords)}this.autoLinkProgressNode=this.$domElement.querySelector(".nr-answering-answer-autolink-progress-bar-bg");this.feedbackNode=this.$domElement.querySelector(".nr-answering-feedback-popup");this.footerNode=this.$domElement.querySelector(".nr-answering-answer-footer");if(!this.$model.focusable){this.$domElement.querySelector(".nr-answering-answer-title-text").setAttribute("tabindex","-1")}},afterUpdate:function(){m.prototype.afterUpdate.apply(this,arguments);if(this.$model.pristine){this.$model.pristine=false;if(this.$model.isOpen){this.runAutoLink(this.$model.AutoLinkAnimationTime.FAST)}}},headerClicked:function(r){if(!this.$model.collapsible){return}var v=(r?r.target:event.srcElement),s=n.length,u,t;while(v&&(v!==document.body)){for(t=0;t<s;++t){u=n[t];if(typeof v.className==="string"&&v.className.indexOf(u)!==-1){return}}v=v.parentNode}this.toggle();if(r.preventDefault){r.preventDefault()}return false},headerFocused:function(){this.emit("focused")},headerBlurred:function(){this.emit("blurred")},switchSlide:function(r){if(r>0){this.nextSlide()}else{this.prevSlide()}},prevSlide:function(){if(this.$model.activeContentIndex>0){this.numSlide(this.$model.activeContentIndex-1)}},nextSlide:function(){if(this.$model.activeContentIndex<this.$model.displayContent.length-1){this.numSlide(this.$model.activeContentIndex+1)}},numSlide:function(r){q.call(this,r)}};function q(y){var v=this.$domElement.querySelector(".nr-answering-scroller-mask"),u=this.$model.isRTL,w=v.offsetWidth,B=v.children,r,x,A=this,z=this.$model.activeContentIndex,s=y<this.$model.activeContentIndex?-1:1;
if(y===z){return}this.setModelProperty({activeContentIndex:y});B[z].style.cssText+="display:block;position:absolute;top:0;"+(u?"right":"left")+":"+(s>0?0:w)+"px;width:"+w+"px";B[y].style.cssText+="display:block;position:absolute;top:0;"+(u?"right":"left")+":"+(s>0?w:0)+"px;width:"+w+"px";r=B[z].offsetHeight;x=B[y].offsetHeight;v.style.cssText+="position:relative;overflow:hidden;height:"+Math.max(r,x)+"px;width:"+w*2+"px";var C={},t={};C[u?"right":"left"]=(s>0?0:-w)+"px";t[u?"right":"left"]=(s>0?-w:0)+"px";new l.Animation(v,[C,t],{duration:200,complete:function(){v.style.cssText="";B[z].style.cssText="";B[y].style.cssText="";B[z].style.display="none";B[y].style.display="";A.$model.emit("answerPartChanged")}});A.$model.emit("answerPartChange")}var p=(function(){var r=function(y){return y.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var t=function(y){t.regs=t.regs||{};t.regs[y]=t.regs[y]||new RegExp("("+r(y.trim()).split(/\s/).join("|")+")","gim");return t.regs[y]};var v=function(y){return !y.trim().length};var x=function(G,y,F){var E,C,B,A;A=0;do{E=y.groups[F].words[A];C=t(E);B=G.textContent.split(C);A++}while(A<y.groups[F].words.length&&B.length===1);if(B.length===1){return}var z=s(B,y,F,E);var D=[];z.forEach(function(H){var I;if(H.isStrong){I=document.createElement("mark");I.className="nr-highlight";I.appendChild(document.createTextNode(H.text))}else{I=document.createTextNode(H.text)}D.push(I)});D.forEach(function(H){G.parentNode.insertBefore(H,G)});G.parentNode.removeChild(G)};var s=function(K,y,H,G){var I=t(G),J,D=[],z,A,B;K=K.slice();for(z=0;z<K.length;z++){if(I.test(K[z])){var F,E,C;J=z;if(K[J+1]){A=H+1;while(A<y.groups.length){F=y.groups[A].words[0];E=t(F);C=K[J+1].split(E);if(C.length>1&&v(C[0])){K[J]+=C[0]+C[1];K[J+1]=C.slice(2).join("")}else{break}A++}}if(K[J-1]){A=H-1;while(A>=0){F=y.groups[A].words[0];E=t(F);C=K[J-1].split(E);if(C.length>1&&v(C[C.length-1])){K[J]=C[C.length-2]+C[C.length-1]+K[J];K[J-1]=C.slice(0,C.length-2).join("")}else{break}A--}}}}for(B=0;B<K.length;B++){D.push({text:K[B],isStrong:I.test(K[B])})
}return D};var w=function(z){var y=Array.prototype.slice.call(z.querySelectorAll("mark.nr-highlight"));y.forEach(function(A){var B=document.createTextNode(A.textContent);A.parentNode.insertBefore(B,A);A.parentNode.removeChild(A)})};var u=function(A,y,B){var z=Array.prototype.slice.call(A.childNodes);z.forEach(function(C){if(C.nodeType===1&&C.tagName.toLowerCase()!=="script"){u(C,y,B)}else{if(C.nodeType===3&&C.parentNode.className.indexOf("nr-highlight")<0){x(C,y,B)}}})};return{highlightText:function(z,y){w(z);for(var A=0;A<y.groups.length;A++){if(y.groups[A].isStrong){u(z,y,A)}}},removeHighlighting:function(y){w(y)}}}());var l=m.extend({name:"AnswerScope",_prototype:o});return l});i.declare("AnswerModel",[b,"AnswerScope",k.objectFinder("nanoRep.SDK.Feedback.Thumbs")]);i.define(function(l,m){var n=0;var o={ScopeClass:m,isOpen:false,meta:"",highlightWords:"",noChanneling:false,activeContentIndex:0,autoLinkProgress:0,pristine:true,ctor:function(){this.answerUID=n++},getShowCancelButton:function(){return !!(this.autoLink&&this.autoLink.allowToAbort&&!this.autoLinkCanceled)},focus:function(){var p=this.getScope();if(p){p.$domElement.querySelector(this.isOpen&&this.content?".nr-answering-answer-body":".nr-answering-answer-title-text").focus()}},getAnswerContentBlock:function(){var p=this.getScope(),q=null;if(p){q=p.$domElement.querySelector(".nr-answering-bodycontent")}return q},getAnswerContentBlocks:function(){var p=this.getScope(),q=null;if(p){q=p.$domElement.querySelectorAll(".nr-answering-bodycontent")}return q}};return l.extend({name:"AnswerModel",_prototype:o})});i.declare("ListScope",[h,"AnswerScope",Alloy,e.Common.CSS]);i.define(function(q,n,l,o){var r={ctor:function(){this.setScopeClass(n.prototype.TEMPLATE,n)},childScopeCreated:function(s){var t=this;if(s instanceof n){s.on("opened",function(){var u=t.$childScopes.length,v,w;for(v=0;v<u;++v){w=t.$childScopes[v];if((w!==s)&&(w instanceof n)){w.close()}}});s.on({focused:function(){if(t.hoverAccordion&&t.$model.answers.indexOf){t.hoverAccordion.activeHoverIndex=t.$model.answers.indexOf(this.$model);
if(t.hoverAccordion.options.mode==="single"){t.hoverAccordion.redraw()}}},blurred:function(){if(t.hoverAccordion){t.hoverAccordion.activeHoverIndex=null;if(t.hoverAccordion.options.mode!=="single"){t.hoverAccordion.redraw()}}},opened:function(u){t.emit("beforeToggleAnswer",s);if(t.hoverAccordion){t.hoverAccordion.glimpseActiveDirection=false;t.hoverAccordion.activeHoverIndex=null;t.hoverAccordion.redraw(u&&u.instantly,function(){t.emit("toggleAnswerCompleted",s);if(t.$model.emit){t.$model.emit("toggleAnswerCompleted",s)}})}t.emit("toggleAnswer",s);if(t.$model.emit){t.$model.emit("toggleAnswer",s)}},closed:function(){t.emit("beforeToggleAnswer",s);if(t.hoverAccordion){t.hoverAccordion.glimpseActiveDirection=false;t.hoverAccordion.activeHoverIndex=null;t.hoverAccordion.redraw(false,function(){t.emit("toggleAnswerCompleted",s);if(t.$model.emit){t.$model.emit("toggleAnswerCompleted",s)}})}t.emit("toggleAnswer",s);if(t.$model.emit){t.$model.emit("toggleAnswer",s)}}})}},afterUpdate:function(){if(this.hoverAccordion){if(this.$model.showAnswerMargin){this.hoverAccordion.options.showAnswerMargin=true}if(this.$model.customScrolling){this.hoverAccordion.options.customScrolling=true}this.hoverAccordion.refresh()}},afterBind:function(){this.hoverAccordion=new p({container:this.$domElement,viewport:this.$model.viewport,customScrolling:this.$model.customScrolling,model:this.$model,mode:this.$model.listMode,showAnswerMargin:this.$model.showAnswerMargin})},openAnswerByIndex:function(u,v){var s=this.$model.answers[u],t=s.getScope();if(typeof s.content==="function"){t.toggle()}else{t.setModelProperty({isOpen:true});t.emit("opened",{instantly:v})}}};var m=(function(){var x=window.requestAnimationFrame||function(y){x.lastTime=x.lastTime||0;var z=new Date().getTime();var B=Math.max(0,16-(z-x.lastTime));var A=window.setTimeout(function(){y(z+B)},B);x.lastTime=z+B;return A};var u=window.cancelAnimationFrame||function(y){clearTimeout(y)};function s(y,z,A){this.options={duration:0};for(var B in A){if(A.hasOwnProperty(B)){this.options[B]=A[B]
}}this.keyframes=z||[];if(this.keyframes.length<=1){throw"multiple keyframes required!"}this.element=y;this.play()}s.prototype={pause:function(){u(this.animTimer)},play:function(){t.call(this)}};s.RAF=function(){x.apply(window,arguments)};function w(y){return !(y==="scrollTop"||y==="scrollLeft")}function t(){var C=this,D,A=this.keyframes[0],E=this.keyframes[1];for(var B in A){if(A.hasOwnProperty(B)){if(w(B)){this.element.style[B]=A[B]}else{this.element[B]=A[B]}}}var z=function(){return Date.now?Date.now():Number(new Date())};var y=function(){var G=z(),H=G-D,I=Math.min(1,H/(C.options.duration||1));for(var J in A){if(A.hasOwnProperty(J)){var F=v(A[J],E[J],I);if(w(J)){C.element.style[J]=F}else{C.element[J]=F}}}if(typeof C.options.step==="function"){C.options.step(I)}if(I<1){C.animTimer=x(y)}else{if(typeof C.options.complete==="function"){C.options.complete.call(C)}}};D=z();y()}function v(C,D,z){var A=parseFloat(C),y=parseFloat(D),B=(String(C)).replace(A,"");return A+(y-A)*z+B}return s})();n.Animation=m;var p=l.Base.extend({name:"HoverAccordion",_prototype:{ctor:function(s){this.options={container:null,viewport:null,customScrolling:false,showAnswerMargin:false,mode:"simple",hoverDelay:75,animDuration:200,extraEdgeHoverHeight:10,headerBlockSelector:".nr-answering-answer-header",slideBlockSelector:".nr-answering-answer-slide",scrollableBlockSelector:".nr-answering-answer-content",expandedClass:"nr-answering-answer-open",expandedModeActiveAttr:"nr-answering-expanded-mode",switchInProgressAttr:"nr-answering-switch-progress",stackPrevAttr:"nr-answering-stack-prev",stackActiveAttr:"nr-answering-stack-active",stackNextAttr:"nr-answering-stack-next"};for(var t in s){if(s.hasOwnProperty(t)){this.options[t]=s[t]}}this.options.mode=this.options.mode||"simple";this.container=this.options.container;this.container.setAttribute("data-hover-accordion","");this.container.setAttribute("data-hover-accordion-mode",this.options.mode);this.addHoverHandler();this.addWheelHandler();this.addTouchHandler();this.animations=[];this.refresh()},addHoverHandler:function(){var s=this;
this.activeHoverIndex=null;this.onMoveOverItem=function(t){if(s.options.mode==="simple"||s.options.mode==="single"||s.isAnimated()){return}var u=s.getExpandedAnswerIndex();if(u<0){return}var v=s.getActiveAnswerNeighborIfHoveredOverEdge(s.answers,u,t.pageY);if(v===null){if(s.prevNeighborIndex!==v){s.prevNeighborIndex=v;if(s.activeHoverIndex===null){s.onLeaveItem()}}}else{if(s.prevNeighborIndex!==v){s.prevNeighborIndex=v;if(s.activeHoverIndex===null){s.onHoverItem({target:s.answers[v].block})}}}};this.onHoverItem=function(t){if(s.options.mode==="simple"||s.options.mode==="single"){return}var u=t.target||t.srcElement;clearTimeout(s.hoverTimer);s.hoverTimer=setTimeout(function(){if(!s.expandedLayoutActive){s.activeHoverIndex=null;return}var v=s.getExpandedAnswerIndex();s.forEach(s.answers,function(w,x){if(w.block===u||w.block.contains(u)){if(x===v&&s.activeHoverIndex!==null&&!s.glimpseActiveDirection){s.activeHoverIndex=null;s.redraw()}else{if((x<v&&(s.activeHoverIndex===null||s.activeHoverIndex>v))||(x>v&&(s.activeHoverIndex===null||s.activeHoverIndex<v))){s.glimpseActiveDirection=false;s.activeHoverIndex=x;s.redraw()}}}})},s.options.hoverDelay)};this.onLeaveItem=function(){if(s.options.mode==="simple"||s.options.mode==="single"){return}clearTimeout(s.hoverTimer);s.hoverTimer=setTimeout(function(){if(s.expandedLayoutActive&&s.activeHoverIndex!==null&&!s.glimpseActiveDirection){s.activeHoverIndex=null;s.redraw()}},s.options.hoverDelay)};if(this.container.addEventListener){this.container.addEventListener("mousemove",this.onMoveOverItem,false);this.container.addEventListener("mouseover",this.onHoverItem,false);this.container.addEventListener("mouseout",this.onLeaveItem,false)}else{if(this.container.attachEvent){this.container.attachEvent("onmousemove",this.onMoveOverItem);this.container.attachEvent("onmouseover",this.onHoverItem);this.container.attachEvent("onmouseout",this.onLeaveItem)}}},addWheelHandler:function(){if(p.globalWheelHandlerAdded){return}else{p.globalWheelHandlerAdded=true}var t=this;this.wheelEvents=("onwheel" in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");
this.wheelEventHandler=function(v){if(!t.options.customScrolling){return}var x=v||window.event,u={};u.type="wheel";u.target=x.target||x.srcElement;u.preventDefault=function(){if(x.preventDefault){x.preventDefault()}else{x.returnValue=false}};if("detail" in x){u.deltaY=-x.detail}if("wheelDelta" in x){u.deltaY=-x.wheelDelta}if("wheelDeltaY" in x){u.deltaY=-x.wheelDeltaY}if("wheelDeltaX" in x){u.deltaX=-x.wheelDeltaX}if("deltaY" in x){u.deltaY=x.deltaY}if("deltaX" in x){u.deltaX=x.deltaX}u.delta=u.deltaY||u.deltaX;if(x.deltaMode===1){var w=16;u.delta*=w;u.deltaY*=w;u.deltaX*=w}return t.onMouseWheel(u)};for(var s=0;s<this.wheelEvents.length;s++){if(document.body.addEventListener){document.body.addEventListener(this.wheelEvents[s],this.wheelEventHandler,false)}else{document.body["on"+this.wheelEvents[s]]=this.wheelEventHandler}}},addTouchHandler:function(){if(p.globalTouchHandlerAdded){return}else{p.globalTouchHandlerAdded=true}var t=this,s=null;if(!("ontouchstart" in window)){return}this.touchStartHandler=function(u){if(!t.options.customScrolling){return}s=u.changedTouches[0].pageY};this.touchMoveHandler=function(v){if(!t.options.customScrolling){return}var u=s>v.changedTouches[0].pageY?1:-1;s=v.changedTouches[0].pageY;t.controlScrollingEvent(v,v.target,u)};document.body.addEventListener("touchstart",this.touchStartHandler);document.body.addEventListener("touchmove",this.touchMoveHandler)},onMouseWheel:function(t){if(!t.deltaY){t.preventDefault();return}var s=t.deltaY/Math.abs(t.deltaY);this.controlScrollingEvent(t,t.target,s)},controlScrollingEvent:function(t,z,s){var A=z,x,y;while(A&&A.tagName){x=o.getComputedStyle(A,"overflowY")||o.getComputedStyle(A,"overflow");if(x==="auto"||x==="scroll"){if(this.shouldPreventScrollingInBlock(A,s)){y=false;break}else{y=true;break}}A=A.parentNode}if(y){this.deactivateGlimpse()}else{t.preventDefault();var v=this.getExpandedAnswerIndex();var u=this.answers[v];var w=u&&(u.scrollable===z||u.scrollable.contains(z));if(!w){return}if(this.shouldPreventScrollingInBlock(u.scrollable,s)){this.activateGlimpse(s)
}else{if(this.glimpseActiveDirection){this.deactivateGlimpse()}}}},activateGlimpse:function(s){var t=this.getExpandedAnswerIndex();var u=-1;if(s>0&&t<this.answers.length-1){u=t+1}else{if(s<0&&t>0){u=t-1}}if(this.glimpseActiveDirection!==s){this.glimpseActiveDirection=s;if(u>-1){this.activeHoverIndex=u}else{this.activeHoverIndex=null}this.redraw()}},deactivateGlimpse:function(){if(this.glimpseActiveDirection){this.glimpseActiveDirection=false;this.activeHoverIndex=null;this.redraw()}},shouldPreventScrollingInBlock:function(s,t){return(t<0&&s.scrollTop==0)||(t>0&&s.scrollTop===s.scrollHeight-s.offsetHeight)||(t>0&&this.glimpseActiveDirection===t)},getActiveAnswerNeighborIfHoveredOverEdge:function(w,v,x){if(!this.options.extraEdgeHoverHeight||("ontouchstart" in window)){return null}var s=w[v].block,t=s.offsetHeight,u=s.getBoundingClientRect().top;if(v>0&&x>=u&&x<=u+this.options.extraEdgeHoverHeight){return v-1}else{if(v<w.length-1&&x<=u+t&&x>=u+t-this.options.extraEdgeHoverHeight){return v+1}else{return null}}},isAnimated:function(){return this.animationActive},isExpanded:function(s){return s.block.className.indexOf(this.options.expandedClass)>-1},setMode:function(s){s=s||"simple";if(this.options.mode!==s){this.options.mode=s;this.container.setAttribute("data-hover-accordion-mode",s)}},getExpandedAnswerIndex:function(){var t=this,s=-1;this.forEach(this.answers,function(u,v){if(s<0&&t.isExpanded(u)){s=v}});return s},getAnswerHeaderHeight:function(s){var t=s.header.offsetHeight;if(!t){var u=s.header.style.display;s.header.style.display="block";t=s.header.offsetHeight;s.header.style.display=u}return t},detectHeightValues:function(){if(this.valuesDetected||!this.answers.length){return}else{this.valuesDetected=true}var s=this.answers[0];var v=s.block.className;var w=this.container.getAttribute(this.options.expandedModeActiveAttr);this.container.setAttribute(this.options.expandedModeActiveAttr,"");s.block.className=s.block.className.replace(this.options.expandedClass,"");this.options.answerHeadingHeight=s.header.offsetHeight;
var x=s.block.getAttribute(this.options.stackPrevAttr);s.block.setAttribute(this.options.stackPrevAttr,"");this.options.answerHeadingHeightCollapsed=s.header.offsetHeight;this.options.answerHoverHeight=this.options.answerHeadingHeightCollapsed;var t=parseFloat(o.getComputedStyle(s.block,"marginBottom"))||0;this.options.answerEdgeHeight=t;var u=parseFloat(o.getComputedStyle(s.block,"marginTop"))||0;this.options.answerMarginHeight=u;s.block.className=v;if(x===null){s.block.removeAttribute(this.options.stackPrevAttr)}if(w===null){this.container.removeAttribute(this.options.expandedModeActiveAttr)}},refresh:function(s,t){var u=this;this.glimpseActiveDirection=false;this.answers=[];this.forEach(this.container.children,function(v,y,w){if(v.nodeType!==1){return}var x=v.querySelector(u.options.headerBlockSelector);var z=v.querySelector(u.options.scrollableBlockSelector);var A=v.querySelector(u.options.slideBlockSelector);if(u.options.mode==="cards"||u.options.mode==="cardsfit"||u.options.mode==="simple"){u.container.style.position="relative";if(u.options.mode!=="simple"){v.style.position="absolute"}if(v.style.zIndex===""){v.style.zIndex=w.length-y}}if(u.options.mode==="single"&&A&&v){u.options.viewport.style.position="relative";v.style.position="relative";A.style.display="none";A.style.height=0;if(v.style.zIndex===""){v.style.zIndex=w.length-y}}u.answers.push({block:v,header:x,slide:A,scrollable:z,height:0,top:0})});m.RAF(function(){if(!u.isAnimated()){u.redraw(!s,t)}})},redraw:function(u,t){var s=this.options.animDuration;if(u){this.options.animDuration=0}if(this.options.mode==="simple"){this.redrawModeSimple(t)}else{if(this.options.mode==="single"){this.redrawModeSingle(t)}else{this.redrawModeCards(t)}}if(u){this.options.animDuration=s}},redrawModeSimple:function(s){this.container.style.padding="";if(typeof s==="function"){s()}},redrawModeSingle:function(t){this.container.style.padding="";this.detectHeightValues();this.animationActive=true;this.forEach(this.animations,function(w){w.pause()});this.animations=[];var v=this,s=v.options.animDuration,u=this.getExpandedAnswerIndex();
if(s){this.container.setAttribute(this.options.switchInProgressAttr,"")}if(u<0){this.options.viewport.style.overflow="";this.options.viewport.style.overflow="";this.forEach(this.answers,function(w,x){if(w.block.style.position==="absolute"){var A=o.getBlockOffset(v.options.viewport),B=v.options.viewport.offsetWidth;w.block.parentNode.insertBefore(w.tmpPlaceholder,w.block);var y=o.getBlockOffset(w.tmpPlaceholder),z=w.tmpPlaceholder.offsetWidth;w.header.style.width=w.header.offsetWidth+"px";w.scrollable.style.width=w.scrollable.offsetWidth+"px";w.block.style.position="absolute";v.animations.push(new m(w.block,[{top:v.options.viewport.scrollTop+"px",left:"0px",width:B+"px"},{top:v.options.viewport.scrollTop+y.top-A.top+"px",left:y.left-A.left+"px",width:z+"px"}],{duration:s,complete:function(){if(w.tmpPlaceholder&&w.tmpPlaceholder.parentNode){w.tmpPlaceholder.parentNode.removeChild(w.tmpPlaceholder);w.tmpPlaceholder=null}w.block.style.position="relative";w.block.style.zIndex=v.answers.length-x;w.block.style.width="";w.block.style.top="";w.block.style.left=""}}));w.slide.style.overflow="hidden";v.animations.push(new m(w.slide,[{height:w.slide.offsetHeight+"px"},{height:"0px"},],{duration:s,complete:function(){w.slide.style.display="none";w.slide.style.overflow="";w.slide.style.height=0;w.header.style.width="";w.scrollable.style.width=""}}))}})}else{this.options.viewport.style.overflow="hidden";this.forEach(this.answers,function(w,A){if(A===u){var C=o.getBlockOffset(v.options.viewport),D=v.options.viewport.offsetWidth,y=o.getBlockOffset(w.block),z=w.block.offsetWidth,x=v.container.offsetWidth,B=v.options.viewport.offsetHeight-v.getAnswerHeaderHeight(w);w.header.style.width=x+"px";w.scrollable.style.width=x+"px";if(!w.tmpPlaceholder){w.tmpPlaceholder=document.createElement("div");w.tmpPlaceholder.style.height=w.block.offsetHeight+"px";w.block.parentNode.insertBefore(w.tmpPlaceholder,w.block)}w.block.style.zIndex=999;w.block.style.position="absolute";w.block.style.top=v.options.viewport.scrollTop+y.top-C.top+"px";w.block.style.left=y.left-C.left+"px";
w.block.style.width=z+"px";w.slide.style.display="block";w.slide.style.overflow="hidden";w.scrollable.style.height=B+"px";v.animations.push(new m(w.block,[{top:w.block.style.top,left:w.block.style.left,width:w.block.style.width},{top:v.options.viewport.scrollTop+"px",left:"0px",width:D+"px"},],{duration:s,complete:function(){w.block.style.width="";if(w.tmpPlaceholder.parentNode){w.tmpPlaceholder.parentNode.removeChild(w.tmpPlaceholder)}w.header.style.width="";w.scrollable.style.width=""}}));v.animations.push(new m(w.slide,[{height:w.slide.offsetHeight+"px"},{height:B+"px"},],{duration:s,complete:function(){w.slide.style.overflow="";w.scrollable.style.height=""}}))}});if(s){setTimeout(function(){if(v.forceFastRedraw){v.forceFastRedraw=false}else{v.forceFastRedraw=true;v.redraw(true)}},s)}}setTimeout(function(){v.animationActive=false;v.container.removeAttribute(v.options.switchInProgressAttr);if(typeof t==="function"){t()}},s)},redrawModeCards:function(u){this.detectHeightValues();this.animationActive=true;this.forEach(this.animations,function(C){C.pause()});this.animations=[];this.container.style.padding=0;var y=this,v=this.container.offsetHeight,w=this.getExpandedAnswerIndex(),t=this.answers.length,s=this.options.animDuration,x=0,z=0;if(this.options.mode==="cards"){if(w>-1){var A=this.answers[w].slide,B;A.className+=" nr-calculate-slide-height";B=A.offsetHeight;A.className=A.className.replace("nr-calculate-slide-height","");v=(y.options.answerHeadingHeight+B)+y.options.answerEdgeHeight*(t-1)}else{v=0;this.forEach(this.answers,function(C){v+=y.getAnswerHeaderHeight(C)+(y.options.showAnswerMargin?y.options.answerMarginHeight:0)})}y.animations.push(new m(this.container,[{height:this.container.offsetHeight+"px"},{height:v+"px"}],{duration:s,step:function(){if(y.options.model&&y.options.model.emit){y.options.model.emit("resize")}}}))}if(w<0){this.prevActiveIndex=null;this.expandedLayoutActive=false;this.forEach(this.answers,function(C,E){C.block.style.position="absolute";C.block.style.margin=0;var F=parseFloat(o.getComputedStyle(y.container,"paddingTop"))||0;
var G=F;for(var D=0;D<E;D++){G+=y.getAnswerHeaderHeight(y.answers[D])+(y.options.showAnswerMargin?y.options.answerMarginHeight:0)}y.animations.push(new m(C.block,[{top:C.block.style.top?C.block.style.top:C.top+"px"},{top:G+"px"}],{duration:s,complete:function(){C.top=G}}));C.slide.style.overflow="hidden";y.animations.push(new m(C.slide,[{height:C.slide.style.height?C.slide.style.height:C.height+"px"},{height:0+"px"}],{duration:s,complete:function(){C.slide.style.display="none";C.slide.style.overflow=""}}));C.height=0});y.container.removeAttribute(y.options.switchInProgressAttr);y.container.removeAttribute(y.options.expandedModeActiveAttr);clearTimeout(y.stackAttrTimer);y.stackAttrTimer=setTimeout(function(){y.animationActive=false;y.forEach(y.answers,function(C,D){C.block.style.zIndex=t-D;C.block.removeAttribute(y.options.stackPrevAttr);C.block.removeAttribute(y.options.stackActiveAttr);C.block.removeAttribute(y.options.stackNextAttr);if(typeof u==="function"){u()}})},s)}else{this.expandedLayoutActive=true;this.forEach(this.answers,function(C,D){C.block.style.margin=0;C.block.style.zIndex=D<w?D:(t-(D-w));if(D<w){C.block.setAttribute(y.options.stackPrevAttr,"")}else{C.block.removeAttribute(y.options.stackPrevAttr)}if(D===w){C.block.setAttribute(y.options.stackActiveAttr,"")}else{C.block.removeAttribute(y.options.stackActiveAttr)}if(D>w){C.block.setAttribute(y.options.stackNextAttr,"")}else{C.block.removeAttribute(y.options.stackNextAttr)}var F=z;y.animations.push(new m(C.block,[{top:C.block.style.top?C.block.style.top:C.top+"px"},{top:F+"px"}],{duration:s,complete:function(){C.top=F}}));if(D===w){x=v;if(typeof y.activeHoverIndex==="number"&&y.activeHoverIndex!==w){if(y.activeHoverIndex<w){x-=w*y.options.answerHoverHeight+(t-w-1)*y.options.answerEdgeHeight}else{x-=(t-w-1)*y.options.answerHoverHeight+w*y.options.answerEdgeHeight}}else{x-=(t-1)*y.options.answerEdgeHeight}if(typeof y.activeHoverIndex==="number"&&y.activeHoverIndex>w){z+=x-(y.options.answerHeadingHeightCollapsed-y.options.answerHoverHeight)}else{z+=x-(y.options.answerHeadingHeightCollapsed-y.options.answerEdgeHeight)
}}else{if(typeof y.activeHoverIndex==="number"){if(y.activeHoverIndex<w&&D<w){z+=y.options.answerHoverHeight}else{if(y.activeHoverIndex>w&&D>w){z+=y.options.answerHoverHeight}else{z+=y.options.answerEdgeHeight}}}else{z+=y.options.answerEdgeHeight}}C.slide.style.display="block";C.slide.style.overflow="hidden";var E=(D===w?x-y.getAnswerHeaderHeight(C):0);y.animations.push(new m(C.slide,[{height:C.slide.style.height?C.slide.style.height:C.height+"px"},{height:E+"px"}],{duration:s,step:function(){if(D===w&&y.options.model&&y.options.model.emit){y.options.model.emit("resize")}},complete:function(){C.slide.style.overflow="";C.height=E;if(E===0){C.slide.style.display="none"}}}))});y.prevActiveIndex=(typeof y.prevActiveIndex!=="number"?w:y.prevActiveIndex);if(y.prevActiveIndex!==w){y.container.setAttribute(y.options.switchInProgressAttr,"");y.container.removeAttribute(y.options.expandedModeActiveAttr)}y.prevActiveIndex=w;clearTimeout(y.stackAttrTimer);y.stackAttrTimer=setTimeout(function(){y.animationActive=false;y.container.removeAttribute(y.options.switchInProgressAttr);y.container.setAttribute(y.options.expandedModeActiveAttr,"");if(typeof u==="function"){u()}if(y.forceFastRedraw){y.forceFastRedraw=false}else{if(s){y.forceFastRedraw=true;y.redraw(true)}}},s)}},forEach:function(s,t){for(var u=0;u<s.length;u++){t(s[u],u,s)}},dtor:function(){this.container.style.position="";this.container.removeAttribute("data-hover-accordion");if(this.container.removeEventListener){this.container.removeEventListener("mousemove",this.onMoveOverItem,false);this.container.removeEventListener("mouseover",this.onHoverItem,false);this.container.removeEventListener("mouseout",this.onLeaveItem,false)}else{if(this.container.detachEvent){this.container.detachEvent("onmousemove",this.onMoveOverItem);this.container.detachEvent("onmouseover",this.onHoverItem);this.container.detachEvent("onmouseout",this.onLeaveItem)}}if(this.wheelEventHandler){for(var s=0;s<this.wheelEvents.length;s++){if(document.body.addEventListener){document.body.removeEventListener(this.wheelEvents[s],this.wheelEventHandler,false)
}else{document.body["on"+this.wheelEvents[s]]=null}}}}}});return q.extend({name:"ListScope",_prototype:r})});i.declare("ListModel",[g,"ListScope","AnswerModel"]);i.define(function(m,n,l){var o={ScopeClass:n,AnswerModelClass:l,setListMode:function(p){var q=this.getScope();if(q&&q.hoverAccordion){q.hoverAccordion.setMode(p)}},redraw:function(p,q){var r=this.getScope();if(r&&r.hoverAccordion){r.hoverAccordion.refresh(p,q)}}};return m.extend({name:"ListModel",_prototype:o})});k.addStyle(f.answerStyle,f.listStyle);var d="lighten(tint('WIDGET_COLOR', 0.34), 0.1)";j.addRules({".nr-answering-answer-title-text:focus":{color:"WIDGET_COLOR"},".nr-answering-answer-toggle-icon svg .nr-expand-button-fill":{fill:"WIDGET_COLOR"},".nr-answering-answer .nr-answering-answer-autolink-progress-bar":{backgroundColor:"lighten(tint('WIDGET_COLOR', 0.09), 0.17)"},".nr-answering-answer .nr-answering-answer-autolink-progress-bar:hover":{backgroundColor:d},".nr-answering-answer .nr-answering-answer-autolink-progress-bar-bg":{backgroundColor:"WIDGET_COLOR"},".nr-answering-answer .nr-answering-answer-autolink-progress-bar-text":{color:"white"},".nr-answering-answer .nr-answering-answer-autolink-progress-bar-completed":{color:"white"},".nr-answering-answer-autolink .nr-answering-answer-autolink-cancel":{color:"tint('WIDGET_COLOR', 0.9)"},".nr-answering-answer-autolink .nr-answering-answer-autolink-cancel:hover":{backgroundColor:d},".nr-answering-answer-new-tab-icon svg .nr-new-tab-fill":{fill:"WIDGET_COLOR"}});this.Answer=i.byName("AnswerModel");this.List=i.byName("ListModel");Alloy.injectTemplate(this.AnswerScope.prototype.TEMPLATE,f.answerTemplate);Alloy.injectTemplate(this.ListScope.prototype.TEMPLATE,f.listTemplate)}});nanoRep.BundleManager.define({name:"Sharing",require:["Alloy","Common","Localization"],data:{},init:function(a,b,e){var d=new e.Modular(this),c=a.Localization;c.defineDictionary("en","Sharing",{shareThisAnswer:"Share this answer",copyToClipboard:"Copy to clipboard",copiedToClipboard:"Link copied to clipboard!",email:"Share via Email",facebook:"Share via Facebook",twitter:"Share via Twitter"});
c.defineDictionary("iw","Sharing",{shareThisAnswer:"  ",copyToClipboard:"",copiedToClipboard:" ",email:"   ",facebook:"  ",twitter:"  "});c.defineDictionary("ru","Sharing",{shareThisAnswer:"    ",copyToClipboard:"   ",copiedToClipboard:"    !",email:"  Email",facebook:"  Facebook",twitter:"  Twitter"});d.startExport();d.declare("SharingScopeBase",[a.Alloy.SDKScope]);d.define(function(f){return f.extend({name:"SharingScopeBase",abstractClass:true,_prototype:{TEMPLATE:"nr-sharing"}})});d.declare("SharingModelBase",[a.Alloy.SDKModel,"SharingScopeBase"]);d.define(function(f,h){var g=f.extend({name:"SharingModelBase",abstractClass:true,_prototype:{ScopeClass:h,emailShareLink:"mailto:",ctor:function(i){if(i&&i.element){var j=(typeof i.element==="string"?document.querySelector(i.element):i.element);if(j){this.bindScope(j)}else{if(window.console&&window.console.warn){window.console.warn("nanorep SDK: Sharing container is not available!")}}}if(i&&i.events){this.on(i.events)}},copyToClipboard:function(){},shareToFacebook:function(){},shareToTwitter:function(){},setData:function(){},setPopupSize:function(){}}});g.copyToClipboard=(function(){var k=/Mac OS X ([0-9_\.]*)/.test(navigator.userAgent)?"CMD":"CTRL";function j(){var n=document.getSelection();if(!n.rangeCount){return function(){}}var l=document.activeElement;var m=Array.apply(Array,{length:n.rangeCount}).map(function(p,o){return n.getRangeAt(o)});switch(l.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":l.blur();break;default:l=null;break}n.removeAllRanges();return function(){n.type==="Caret"&&n.removeAllRanges();if(!n.rangeCount){m.forEach(function(o){n.addRange(o)})}l&&l.focus()}}function i(s){var p,q,o,n,t=true;try{p=j();o=document.createRange();q=document.getSelection();n=document.createElement("mark");n.textContent=s;document.body.appendChild(n);o.selectNode(n);q.addRange(o);
var r=document.execCommand("copy");if(!r){throw new Error("copy command was unsuccessful")}}catch(m){try{window.clipboardData.setData("text",s)}catch(l){t=false;window.prompt("Copy to clipboard: "+k+"+C, Enter",s)}}finally{if(q){if(typeof q.removeRange==="function"){q.removeRange(o)}else{q.removeAllRanges()}}if(n){document.body.removeChild(n)}if(p){p()}return t}}return i}());return g})}});nanoRep.BundleManager.define({name:"Sharing.Modern",require:["Sharing","Styles"],data:{sharingStylesheet:".nr-sharing{display:inline-block;position:relative;width:40px;height:40px}\n.nr-sharing .nr-sharing-opener{text-decoration:none;position:absolute;cursor:pointer;top:0;left:0;width:100%;height:100%}\n.nr-sharing .nr-sharing-opener .nr-sharing-icon{position:absolute;width:55%;height:55%;top:22.5%;left:22.5%}\n.nr-sharing .nr-sharing-drop{box-shadow:0 0 4px 0 #aaa;background:#f5f5f5;position:absolute;top:100%;left:0}\n.nr-sharing .nr-sharing-drop-corner{position:absolute;overflow:hidden;width:25px;height:15px;left:10px;bottom:100%}\n.nr-sharing .nr-sharing-drop-corner:before{box-shadow:0 0 4px 0 #aaa;transform-origin:50% 50%;transform:rotate(-45deg);position:absolute;background:#f5f5f5;content:'';height:15px;width:15px;z-index:2;top:8px;left:4px}\n.nr-sharing .nr-sharing-drop ul{position:relative;white-space:nowrap;list-style:none;z-index:2;padding:0;margin:0}\n.nr-sharing .nr-sharing-drop li{display:inline-block;font-size:0}*+html .nr-sharing .nr-sharing-drop li{display:inline}\n.nr-sharing .nr-sharing-drop a{height:45px;width:45px;cursor:pointer;display:block}\n.nr-sharing .nr-sharing-drop .nr-sharing-icon{vertical-align:middle;display:inline-block;margin:6px;width:32px;height:32px}\n.nr-sharing .nr-sharing-icon svg{width:100%;height:100%}.nr-no-svg svg{display:none}\n.nr-no-svg .nr-sharing .nr-svg-fallback{background-image:url(//eu1-1.nanorep.com/sdk/sharing/modern/style/icons.png?cv=8D3A592910C15D4);display:inline-block;width:100%;height:100%}\n.nr-sharing .nr-sharing-opener .nr-svg-fallback{background-position:-14px -15px}\n.nr-sharing .nr-sharing-icon-twitter .nr-svg-fallback{background-position:-10px -218px}\n.nr-sharing .nr-sharing-icon-facebook .nr-svg-fallback{background-position:-10px -114px}\n.nr-sharing .nr-sharing-icon-clipboard .nr-svg-fallback{background-position:-10px -62px}\n.nr-sharing .nr-sharing-icon-mail .nr-svg-fallback{background-position:-10px -166px}",sharingTemplate:'<div class="nr-sharing">\r\n\t<a href="javascript:void(0)" onclick="return false" aria-label="{{ getLocalizedText(\'Sharing.shareThisAnswer\') }}" aria-expanded="{{dropdownActive ? \'true\' : \'false\'}}" class="nr-sharing-opener" alloy-bind-event-click="toggleDropdown()">\r\n\t\t<i class="nr-sharing-icon">\r\n\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 22 24" xml:space="preserve">\n<path class="nr-sharing-toggle" d="M18,1.7c1.4,0,2.5,1.1,2.5,2.5S19.4,6.7,18,6.7c-1.4,0-2.5-1.1-2.5-2.5S16.6,1.7,18,1.7z M4,14.5\n\tc-1.4,0-2.5-1.1-2.5-2.5S2.6,9.5,4,9.5s2.5,1.1,2.5,2.5S5.4,14.5,4,14.5z M18,17.3c1.4,0,2.5,1.1,2.5,2.5s-1.1,2.5-2.5,2.5\n\tc-1.4,0-2.5-1.1-2.5-2.5S16.6,17.3,18,17.3z M18,8c2.1,0,3.7-1.7,3.7-3.7S20,0.5,18,0.5s-3.7,1.7-3.7,3.7c0,0.4,0.1,0.7,0.2,1.1\n\tL7,9.8C6.3,8.9,5.2,8.3,4,8.3C2,8.3,0.3,9.9,0.3,12S2,15.7,4,15.7c1.2,0,2.3-0.6,3-1.5l7.4,4.4c-0.1,0.4-0.2,0.7-0.2,1.1\n\tc0,2.1,1.7,3.7,3.7,3.7s3.7-1.7,3.7-3.7S20,16,18,16c-1.2,0-2.3,0.6-3,1.5l-7.4-4.5c0.1-0.3,0.2-0.7,0.2-1.1s-0.1-0.7-0.2-1.1\n\tL15,6.5C15.7,7.4,16.8,8,18,8z"/>\n</svg>\n\r\n\t\t\t<span class="nr-svg-fallback"></span>\r\n\t\t</i>\r\n\t</a>\r\n\t<div class="nr-sharing-drop" alloy-if="dropdownActive">\r\n\t\t<ul>\r\n\t\t\t<li>\r\n\t\t\t\t<a href="javascript:void(0)" onclick="return false" title="{{ getLocalizedText(\'Sharing.copyToClipboard\') }}" alloy-bind-event-click="onClipboardClick()">\r\n\t\t\t\t\t<i class="nr-sharing-icon nr-sharing-icon-clipboard">\r\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 43 45" xml:space="preserve">\r\n<g>\r\n\t<path class="nr-sharing-fill" fill="#3B3B3B" d="M33.6,37.5h-4.1V11.9c0-1.3-1.1-2.4-2.4-2.4H12.2V7.2c0-1.9,1.5-3.4,3.4-3.4h18c1.9,0,3.4,1.5,3.4,3.4V34\r\n\t\tC37.1,35.9,35.5,37.5,33.6,37.5z M30.5,36.5h3.1c1.3,0,2.4-1.1,2.4-2.4V7.2c0-1.3-1.1-2.4-2.4-2.4h-18c-1.3,0-2.4,1.1-2.4,2.4v1.2\r\n\t\th13.9c1.9,0,3.4,1.5,3.4,3.4V36.5z"/>\r\n</g>\r\n<g>\r\n\t<path class="nr-sharing-fill" fill="#3B3B3B" d="M27.2,42.1h-18c-1.9,0-3.4-1.5-3.4-3.4V11.9c0-1.9,1.5-3.4,3.4-3.4h18c1.9,0,3.4,1.5,3.4,3.4v26.8\r\n\t\tC30.6,40.6,29.1,42.1,27.2,42.1z M9.2,9.5c-1.3,0-2.4,1.1-2.4,2.4v26.8c0,1.3,1.1,2.4,2.4,2.4h18c1.3,0,2.4-1.1,2.4-2.4V11.9\r\n\t\tc0-1.3-1.1-2.4-2.4-2.4H9.2z"/>\r\n</g>\r\n</svg>\r\n\t\t\t\t\t\t<span class="nr-svg-fallback"></span>\r\n\t\t\t\t\t</i>\r\n\t\t\t\t\t{{ getLocalizedText(\'Sharing.copyToClipboard\') }}\r\n\t\t\t\t</a>\r\n\t\t\t</li><li>\r\n\t\t\t\t<a href="javascript:void(0)" onclick="return false" title="{{ getLocalizedText(\'Sharing.email\') }}"  alloy-bind-event-click="onEmailClick()">\r\n\t\t\t\t\t<i class="nr-sharing-icon nr-sharing-icon-mail">\r\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 43 45" xml:space="preserve">\n<g>\n\t<path class="nr-sharing-fill" fill="#3B3B3B" d="M38.4,32.4c0,0.4-0.1,0.7-0.4,1L27.6,23l-0.5,0.5l10.4,10.4c-0.2,0.1-0.5,0.2-0.8,0.2H6.3\n\t\tc-0.3,0-0.5-0.1-0.8-0.2l10.4-10.4L15.4,23L5,33.4c-0.2-0.3-0.4-0.6-0.4-1V12c0-0.4,0.1-0.7,0.3-1l14.7,14.7\n\t\tc0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8L38.1,11c0.2,0.3,0.3,0.6,0.3,1V32.4z M36.7,10.4c0.3,0,0.6,0.1,0.8,0.2L22.9,25.3\n\t\tc-0.7,0.7-2,0.7-2.8,0L5.4,10.6c0.2-0.1,0.5-0.2,0.8-0.2H36.7z M36.7,9.7H6.3c-1.3,0-2.3,1-2.3,2.3v20.4c0,1.3,1,2.3,2.3,2.3h30.5\n\t\tc1.3,0,2.3-1,2.3-2.3V12C39.1,10.7,38,9.7,36.7,9.7z"/>\n</g>\n</svg>\n\r\n\t\t\t\t\t\t<span class="nr-svg-fallback"></span>\r\n\t\t\t\t\t</i>\r\n\t\t\t\t\t{{ getLocalizedText(\'Sharing.email\') }}\r\n\t\t\t\t</a>\r\n\t\t\t</li><li>\r\n\t\t\t\t<a href="javascript:void(0)" onclick="return false" title="{{ getLocalizedText(\'Sharing.facebook\') }}"  alloy-bind-event-click="onFacebookClick()">\r\n\t\t\t\t\t<i class="nr-sharing-icon nr-sharing-icon-facebook">\r\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 43 45" xml:space="preserve">\n<g>\n\t<path class="nr-sharing-fill" fill="#3B3B3B" d="M24.7,11.2c-0.4,0.2-0.7,0.4-0.9,0.7c-0.4,0.5-0.6,1-0.8,1.7c-0.2,0.6-0.2,1.4-0.2,2.2c0,0.1,0,0.2,0,0.3\n\t\tc0,0.4,0.3,0.6,0.7,0.6c1,0,2.7-0.1,3.7-0.1c0.1,0,0.1,0,0.2,0l0,3c-0.4,0-0.8,0-1.3,0c-0.8,0-1.6,0-2.1,0.1\n\t\tc-0.4,0-0.7,0.3-0.7,0.7c0,1.2,0.1,5.7,0.1,9.9c0,2.1,0,4.1,0.1,5.6c0,0.7,0,1.3,0,1.8l-5,0c0-0.9,0-2.7,0-4.9c0-4,0-9.3-0.2-12.6\n\t\tc0-0.4-0.3-0.7-0.7-0.7c-1,0-2.6,0-3.5,0l0-3.3c0.2,0,0.4,0,0.7,0c0.7,0,1.5,0,2.1,0c0.4,0,0.7-0.3,0.7-0.7c0-1.5,0.1-3,0.5-4.3\n\t\tc0.2-0.6,0.5-1.2,0.9-1.7c0.4-0.5,0.9-1,1.5-1.3c1.4-0.8,2.8-1.1,4.3-1.1c1.7,0,3.3,0.4,4.6,0.8c0,0.2,0,0.5-0.1,0.8\n\t\tc-0.1,0.5-0.3,1.2-0.4,1.7c-0.1,0.3-0.1,0.5-0.2,0.7c-0.8-0.3-1.6-0.4-2.3-0.4C25.8,10.9,25.2,11,24.7,11.2z M30.8,7.4\n\t\tc0-0.3-0.2-0.5-0.5-0.6c-1.5-0.5-3.4-1.1-5.6-1.1c-1.7,0-3.4,0.3-5,1.3c-0.8,0.5-1.5,1.1-2,1.7c-0.7,1-1.1,2.2-1.4,3.3\n\t\tc-0.2,0.9-0.2,1.9-0.3,2.9c-0.4,0-0.9,0-1.3,0c-0.4,0-0.7,0-1,0c-0.1,0-0.2,0-0.3,0c-0.1,0-0.1,0-0.1,0c-0.2,0-0.4,0.1-0.5,0.2\n\t\tc-0.1,0.1-0.2,0.3-0.2,0.5l0,4.7c0,0.4,0.3,0.7,0.7,0.7c0,0,0.2,0,0.5,0c0.7,0,2,0,3,0c0.1,3.2,0.2,8.1,0.2,11.9c0,1.6,0,3,0,4\n\t\tc0,0.5,0,0.9,0,1.2c0,0.3,0,0.4,0,0.4c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.3,0.2,0.5,0.2l6.4,0c0.2,0,0.4-0.1,0.5-0.2\n\t\tc0.1-0.1,0.2-0.3,0.2-0.5c0,0,0-3.9-0.1-8.1c0-3.6-0.1-7.4-0.1-9.2c0.4,0,0.9,0,1.3,0c0.5,0,1,0,1.4,0c0.2,0,0.3,0,0.5,0\n\t\tc0.1,0,0.2,0,0.2,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.1,0.2-0.3,0.2-0.5l0-4.4c0-0.2-0.1-0.4-0.2-0.6c-0.1-0.1-0.3-0.3-0.5-0.3\n\t\tc0,0-0.1,0-0.2,0c-0.2,0-0.4,0.1-0.6,0.1c-0.8,0-2,0-3,0c0-0.5,0.1-0.9,0.1-1.3c0.1-0.4,0.2-0.6,0.3-0.9c0.1-0.2,0.2-0.3,0.3-0.4\n\t\tc0.2-0.2,0.3-0.3,0.5-0.4c0.2-0.1,0.5-0.1,0.8-0.1c0.6,0,1.5,0.2,2.5,0.6c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0\n\t\tc0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0\n\t\tc0,0,0,0,0.1,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5,0.4-1.3,0.6-2.1\n\t\tc0.1-0.4,0.2-0.8,0.3-1.3c0.1-0.4,0.1-0.8,0.1-1.2C30.8,7.7,30.8,7.5,30.8,7.4z"/>\n</g>\n</svg>\n\r\n\t\t\t\t\t\t<span class="nr-svg-fallback"></span>\r\n\t\t\t\t\t</i>\r\n\t\t\t\t\t{{ getLocalizedText(\'Sharing.facebook\') }}\r\n\t\t\t\t</a>\r\n\t\t\t</li><li>\r\n\t\t\t\t<a href="javascript:void(0)" onclick="return false" title="{{ getLocalizedText(\'Sharing.twitter\') }}"  alloy-bind-event-click="onTwitterClick()">\r\n\t\t\t\t\t<i class="nr-sharing-icon nr-sharing-icon-twitter">\r\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 43 45" xml:space="preserve">\n<g>\n\t<path class="nr-sharing-fill" fill="#3B3B3B" d="M29.3,8.7c-4.2,0-7.6,3.3-7.7,7.5c-3.9-0.6-7.5-2.7-10.1-5.8c-0.3-0.3-0.7-0.5-1.1-0.5c-0.1,0-0.1,0-0.2,0\n\t\tC9.7,9.9,9.2,10.2,9,10.7C5.9,17.3,7.4,22.1,9.2,25c1.3,2.1,3.1,3.7,4.9,4.7c-1.4,0.6-2.8,0.9-4.4,0.9c-0.8,0-1.5,0.7-1.5,1.5\n\t\tc0,1.4,2.3,2.5,3,2.8c1.4,0.6,3.6,1.3,6.6,1.3c7.2,0,11.7-3.4,14.3-6.3c3.1-3.6,4.9-8.3,4.9-12.9c0-0.2,0-0.4,0-0.6\n\t\tc0.1-0.3,0.2-0.6,0.3-0.9c0.4-1.1,0.5-1.7,0.9-3c0-0.1,0.1-0.3,0.1-0.5c0-0.8-0.7-1.5-1.5-1.5h0c0,0,0,0,0,0l-0.5,0\n\t\tc-0.5,0-0.8,0-1,0c-0.3,0-0.4,0-0.8,0l-0.1,0C33,9.4,31.2,8.7,29.3,8.7z M36.8,12.2L36.8,12.2 M29.3,10.2c1.8,0,3.4,0.8,4.5,2\n\t\tc0.9,0,1,0,1.5,0c0.3,0,0.7,0,1.5,0c-0.5,1.8-0.6,2.1-1.3,4.2c0,0.3,0,0.5,0,0.8c0,8.2-6.3,17.7-17.7,17.7c-5.5,0-8.6-2.7-8.1-2.7\n\t\tc2.9,0,5.6-1,7.7-2.7c-2.7-0.1-12.7-6.4-7.1-18.2c3.1,3.8,7.7,6.3,12.8,6.5c-0.1-0.5-0.2-0.9-0.2-1.4C23,12.9,25.8,10.2,29.3,10.2"\n\t\t/>\n</g>\n</svg>\n\r\n\t\t\t\t\t\t<span class="nr-svg-fallback"></span>\r\n\t\t\t\t\t</i>\r\n\t\t\t\t\t{{ getLocalizedText(\'Sharing.twitter\') }}\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<span class="nr-sharing-drop-corner"></span>\r\n\t</div>\r\n</div>\r\n'},init:function(a,b,h){var d=new h.Modular(this),c=a.Common.Helper,e=a.Sharing,f=e.SharingModelBase,g=e.SharingScopeBase;
d.startExport();nanoRep.SDK.Styles.addRules({".nr-sharing .nr-sharing-fill":{fill:"ANSWER_TITLE_COLOR"},".nr-no-svg .nr-sharing .nr-svg-fallback":{backgroundColor:"ANSWER_TITLE_COLOR"},".nr-sharing .nr-sharing-toggle":{fill:"WIDGET_COLOR"},".nr-sharing a:hover .nr-sharing-fill, .nr-sharing a:focus .nr-sharing-fill":{fill:"WIDGET_COLOR"},".nr-no-svg .nr-sharing a:hover .nr-svg-fallback":{backgroundColor:"WIDGET_COLOR"}});d.declare("SharingScope",[g]);d.define(function(k){return k.extend({name:"SharingScope",_prototype:{onClipboardClick:function(){this.hideDropdown();this.$model.copyToClipboard()},onEmailClick:function(){this.hideDropdown();this.$model.shareByEmail()},onFacebookClick:function(){this.hideDropdown();this.$model.shareToFacebook()},onTwitterClick:function(){this.hideDropdown();this.$model.shareToTwitter()},afterBind:function(){if(this.isDisposed()){return}var l=this;l.outsideClickHandler=function(n){var p=n.target||n.srcElement,o=false;while(p){if(p===l.$domElement){o=true;break}p=p.parentNode}if(!o){l.hideDropdown()}};var m=this.$domElement.parentNode;l.viewportNode=null;while(m&&m.getAttribute){if(m.getAttribute("data-nr-sharing-viewport")!==null){l.viewportNode=m;break}m=m.parentNode}},showDropdown:function(){if(!this.$model.dropdownActive){this.$model.dropdownActive=true;this.update();if(document.addEventListener){document.addEventListener("click",this.outsideClickHandler,false)}else{if(document.attachEvent){document.attachEvent("onclick",this.outsideClickHandler)}}if(this.viewportNode){j(this.$domElement,this.viewportNode)}this.$model.emit("popupVisibilityChanged",true)}},hideDropdown:function(){if(this.$model.dropdownActive){this.$model.dropdownActive=false;this.update();if(document.removeEventListener){document.removeEventListener("click",this.outsideClickHandler,false)}else{if(document.detachEvent){document.detachEvent("onclick",this.outsideClickHandler)}}this.$model.emit("popupVisibilityChanged",false)}},toggleDropdown:function(){if(this.$model.dropdownActive){this.hideDropdown()}else{this.showDropdown()
}},dtor:function(){this.hideDropdown()}}});function i(l){if(l.getBoundingClientRect){var q=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;var m=document.documentElement.clientLeft||document.body.clientLeft||0;var n=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(l.getBoundingClientRect().top+r-n),left:Math.round(l.getBoundingClientRect().left+q-m)}}else{var o=0,p=0;while(l.offsetParent){o+=l.offsetLeft;p+=l.offsetTop;l=l.offsetParent}return{top:p,left:o}}}function j(u,l){var r=u,o=u.querySelector(".nr-sharing-drop"),v=u.querySelector(".nr-sharing-drop-corner");o.style.left="";v.style.left="";var t=10,s=i(r).left,p=i(o).left,m=i(l).left+t,q=o.offsetWidth,n=l.offsetWidth-t*2;if(p+q>m+n){o.style.left=(p-s)-(p+q-m-n)+"px";p=i(o).left;v.style.left=s-p+(r.offsetWidth-v.offsetWidth)/2+"px"}}});d.declare("SharingModel",[f,"SharingScope",c]);d.define(function(j,k,i){return j.extend({name:"SharingModel",_prototype:{ScopeClass:k,ctor:function(l){this.defaultValues={element:null,dropdownActive:false,url:location.href,text:document.title,popupWidth:600,popupHeight:400};for(var m in this.defaultValues){if(this.defaultValues.hasOwnProperty(m)){if(l&&l.hasOwnProperty(m)){this.defaultValues[m]=l[m]}this[m]=this.defaultValues[m]}}},setData:function(m,l){this.url=m;this.text=l;this.updateScope()},setPopupSize:function(m,l){this.popupWidth=m;this.popupHeight=l},copyToClipboard:function(){var l=j.copyToClipboard(this.url);if(l){this.emit("shared",{type:"clipboard",text:this.getLocalizedText("Sharing.copiedToClipboard")})}},shareByEmail:function(){top.location.href="mailto:?subject="+this.text+"&body="+this.url},shareToFacebook:function(){var l="http://www.facebook.com/sharer.php?u="+encodeURIComponent(this.url)+"&t="+encodeURIComponent(this.text);i.openPopup(l,"nanoRepLiveChatIncChatWindow",this.popupWidth,this.popupHeight)},shareToTwitter:function(){var l="http://twitter.com/share?url="+encodeURIComponent(this.url)+"&text="+encodeURIComponent(this.text);
i.openPopup(l,"nanoRepLiveChatIncChatWindow",this.popupWidth,this.popupHeight)}}})});nanoRep.SDK.Sharing=this.SharingModel;nanoRep.SDK.Sharing.SharingModel=this.SharingModel;nanoRep.SDK.Sharing.SharingScope=this.SharingScope;h.addStyle(b.sharingStylesheet);Alloy.injectTemplate(this.SharingScope.prototype.TEMPLATE,b.sharingTemplate)}});nanoRep.BundleManager.define({name:"QueryField",require:["Common"],data:{},init:function(a,b,e){var d=new e.Modular(this),c=a.Localization;c.defineDictionary("en","QueryField",{pressEnterToSearch:"Press Enter to search",clearInputText:"Clear search query",searchByVoice:"Search by voice",noSuggestions:"No suggestions are available",suggestionsAvailable:function(f){return f.count+" "+(f.count===1?"suggestion is":"suggestions are")+" available, use up and down arrow keys to navigate"}});c.defineDictionary("iw","QueryField",{pressEnterToSearch:"   ",clearInputText:"  ",searchByVoice:"  ",noSuggestions:"  ",suggestionsAvailable:function(f){if(f.count===1){return"  ,    "}else{return"{0}  ,    ".replace("{0}",f.count)}}});d.declare("AbstractQueryField",[a.Common.AlloySDKComponent]);d.define(function(g){var f=g.extend({name:"AbstractQueryField",abstractClass:true,_prototype:{clear:function(){}}});return f});this.AbstractQueryField=d.byName("AbstractQueryField")}});nanoRep.BundleManager.define({name:"SpeechRecognition",require:["Common"],data:{},init:function(a,b,d){var c=new d.Modular();c.declare("SpeechRecognition",[a.Common.EventEmitter]);c.define(function(e){var f=window.SpeechRecognition||window.webkitSpeechRecognition||null;var g=e.extend({name:"SpeechRecognition",_prototype:{ctor:function(){var h=this;this.idleTime=2000;this.currentText="";this.defaultLanguage="en";this.recognitionActive=false;this.recognizer=new f();this.recognizer.continuous=true;this.recognizer.interimResults=true;this.recognizer.maxAlternatives=1;this.recognizer.lang=this.defaultLanguage;this.stop=this.stop.bind(this);
this.recognizer.onresult=function(j){var l="";for(var k=j.resultIndex;k<j.results.length;k++){if(j.results[k].isFinal){l=j.results[k][0].transcript}else{l+=j.results[k][0].transcript}}clearTimeout(h.autoStopTimer);h.autoStopTimer=setTimeout(h.stop,h.idleTime);if(this.prevText===l){return}else{this.prevText=l}h.currentText=l;h.emit("input",l)};this.recognizer.onaudiostart=function(){h.currentText="";h.emit("start");clearTimeout(h.autoStopTimer);h.autoStopTimer=setTimeout(h.stop,h.idleTime)};this.recognizer.onend=function(){h.emit("stop",h.currentText);clearTimeout(h.autoStopTimer);h.currentText=""}},setLanguage:function(h){this.recognizer.lang=h||this.defaultLanguage;return this},isActive:function(){return this.recognitionActive},start:function(){this.recognitionActive=true;this.recognizer.start()},stop:function(){this.recognitionActive=false;this.recognizer.stop()},dtor:function(){clearTimeout(self.autoStopTimer)}}});g.supported=function(){return !!f};return g});this.SpeechRecognition=c.byName("SpeechRecognition")}});nanoRep.BundleManager.define({name:"QueryField.Modern",require:["Alloy","Common","QueryField","SpeechRecognition"],data:{fieldTemplate:'<div class="nr-autocomplete {{isRTL ? \'nr-autocomplete-rtl\' : \'\'}} {{customInputUsed ? \'nr-autocomplete-custominput\' : \'nr-autocomplete-default\'}} {{ \'nr-autocomplete-position-\' + suggestionsDropdownPosition }}">\r\n\t<div class="nr-autocomplete-area {{speechRecognitionActive ? \'nr-autocomplete-speech-active\' : \'\'}}">\t\r\n\t\t<div class="nr-autocomplete-placeholders" alloy-if="!value">\r\n\t\t\t<span class="nr-autocomplete-placeholder {{ idx === placeholderIndex ? \'nr-autocomplete-placeholder-active\' : \'\'}}" alloy-loop="placeholder in placeholders | ITERATOR idx">{{placeholder}}</span>\r\n\t\t</div>\r\n\t\t<div class="nr-autocomplete-inputwrapper">\r\n\t\t\t<input type="text"\r\n\t\t\t\taria-describedby="nr-query-field-description"\r\n\t\t\t\tclass="nr-autocomplete-input"\r\n\t\t\t\talloy-this="value"\r\n\t\t\t\talloy-bind-event-focus="onFocus()"\r\n\t\t\t\talloy-bind-event-blur="onBlur()"\r\n\t\t\t\talloy-bind-event-input="onChangeDebouncer()"\r\n\t\t\t\talloy-bind-event-keydown="onKeyPress(e)"\r\n\t\t\t\talloy-bind-event-keyup="onChangeDebouncer()"\r\n\t\t\t\talloy-bind-event-change="onChangeDebouncer()"\r\n\t\t\t\talloy-bind-event-paste="onChangeDebouncer()"\r\n\t\t\t>\r\n\t\t\t<span id="nr-query-field-description" class="nr-autocomplete-ariahelper">{{ accessibilityPlaceholder }}</span>\r\n\t\t\t<span role="status" aria-live="polite" class="nr-autocomplete-ariahelper">{{ accessibilitySuggestionStatus }}</span>\r\n\t\t</div>\r\n\t\t<div class="nr-autocomplete-buttons">\r\n\t\t\t<div class="nr-autocomplete-reset" alloy-if="showResetButton && value && !speechRecognitionActive"><a href="javascript:void(0)" data-role="button" aria-label="{{ loc_clearInputText }}" alloy-bind-event-click="reset()" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M10.57,11a0.43,0.43,0,0,1-.3-0.13L0.13,0.74A0.43,0.43,0,0,1,.74.13L10.87,10.26A0.43,0.43,0,0,1,10.57,11Z"/><path d="M0.43,11a0.43,0.43,0,0,1-.3-0.74L10.26,0.13a0.43,0.43,0,0,1,.61.61L0.74,10.87A0.43,0.43,0,0,1,.43,11Z"/></svg></a></div>\r\n\t\t\t<div class="nr-autocomplete-speech" alloy-if="!(showResetButton && value && !speechRecognitionActive) && showVoiceButton && speechRecognitionSupported"><a href="javascript:void(0)" data-role="button" aria-label="{{ loc_searchByVoice }}" alloy-bind-event-click="toggleSpeechRecognition()" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path fill="#bebebe" d="M12.5,20.36A7.87,7.87,0,0,1,4.64,12.5a1,1,0,1,1,2,0,5.89,5.89,0,1,0,11.78,0,1,1,0,1,1,2,0A7.87,7.87,0,0,1,12.5,20.36Z"/><path fill="#bebebe" d="M12.5,2.19A2.46,2.46,0,0,0,10,4.64V12.5a2.45,2.45,0,0,0,4.91,0V4.64A2.46,2.46,0,0,0,12.5,2.19Zm0,14.73A4.42,4.42,0,0,1,8.08,12.5V4.64a4.42,4.42,0,1,1,8.84,0V12.5A4.42,4.42,0,0,1,12.5,16.92Z"/><path fill="#bebebe" d="M12.5,24.28a1,1,0,0,1-1-1V19.37a1,1,0,0,1,2,0V23.3A1,1,0,0,1,12.5,24.28Z"/><path fill="#bebebe" d="M15,24.77H10a1,1,0,1,1,0-2H15A1,1,0,1,1,15,24.77Z"/></svg></a></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="nr-autocomplete-drop" alloy-if="showSuggestions && dropVisible && !speechRecognitionActive">\r\n\t\t<ul alloy-bind-event-mouseover="onHover($domElement, e)" alloy-bind-event-click="onSelect($domElement, e)" alloy-bind-event-mousedown="onMouseDown($domElement, e)">\r\n\t\t\t<li alloy-loop="choice in choices | ITERATOR idx" class="{{ idx === activeIndex ? \'nr-autocomplete-active\' : \'\'}}" aria-label="{{choice.text}}">\r\n\t\t\t\t<span alloy-bind-html="{{choice.html}}"></span>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n',fieldStylesheet:'.nr-autocomplete{display:inline-block;position:relative}.nr-autocomplete.nr-autocomplete-default{display:block}\n.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-area{border:1px solid #aaa;overflow:hidden}\n.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons{position:absolute;right:0;left:auto;top:0;margin:0;padding:0;width:35px;height:100%;line-height:50px}\n.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-inputwrapper{margin:0;padding:0;overflow:hidden;height:100%;width:100%;float:left}\n.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-input{box-sizing:border-box;padding:17px 35px 17px 18px;color:#3b3b3b;width:100%}\n.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-input{padding:17px 18px 17px 35px}\n.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-buttons{right:auto;left:0}\n.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-inputwrapper{float:right}\n.nr-autocomplete-placeholders{white-space:nowrap;position:absolute;z-index:1;right:0;left:0;top:0}\n.nr-autocomplete-placeholder{position:absolute;margin:18px 18px;background:#fff;color:#aaa;transition:opacity .5s linear;-ms-filter:"alpha(opacity=0)";filter:alpha(opacity=0);opacity:0;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;left:0;right:0}\n.nr-autocomplete-placeholder.nr-autocomplete-placeholder-active{transition-delay:.5s;-ms-filter:"alpha(opacity=100)";filter:alpha(opacity=100);opacity:1}\n.nr-autocomplete .nr-autocomplete-input{background:transparent;border:0;position:relative;font-size:14px;line-height:14px;padding:18px 15px;z-index:2}\n.nr-autocomplete .nr-autocomplete-input::-ms-clear{display:none}.nr-autocomplete .nr-autocomplete-input:focus{outline:0}\n.nr-autocomplete-buttons{white-space:nowrap;position:absolute;padding:0 10px;z-index:3;right:0;top:50%;margin-top:-12px}\n.nr-autocomplete-rtl .nr-autocomplete-buttons{right:auto;left:0}.nr-autocomplete .nr-svg-icon{width:100%;height:100%;display:block}\n.nr-autocomplete .nr-svg-icon svg{display:block}.nr-autocomplete .nr-autocomplete-reset{overflow:hidden;position:relative;display:inline-block;vertical-align:middle;cursor:pointer;margin:0 10px;width:10px;height:10px}\n.nr-autocomplete .nr-autocomplete-speech{vertical-align:middle;display:inline-block;cursor:pointer;width:25px;height:25px;opacity:1}\n.nr-autocomplete .nr-autocomplete-speech-active .nr-autocomplete-speech{animation:nr-autocomplete-voice-active .5s linear infinite;animation-direction:alternate}\n@keyframes nr-autocomplete-voice-active{0%{opacity:1}100%{opacity:0}}.nr-autocomplete .nr-autocomplete-drop{border:1px solid #aaa;position:absolute;background:#fff;color:#3a3a3a;top:100%;right:0;left:0;z-index:4;margin-top:-1px}\n.nr-autocomplete.nr-autocomplete-position-top .nr-autocomplete-drop{top:auto;bottom:100%}\n.nr-autocomplete .nr-autocomplete-drop ul{list-style:none;padding:0;margin:0}\n.nr-autocomplete .nr-autocomplete-drop li{width:auto;max-width:none;display:block;padding:5px 18px}\n.nr-autocomplete .nr-autocomplete-drop li.nr-autocomplete-active{background:#eee}\n.nr-autocomplete .nr-autocomplete-drop li span{cursor:default}.nr-autocomplete-ariahelper{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}\n@media screen\\0{.nr-autocomplete .nr-autocomplete-input{background:url(//eu1-1.nanorep.com/sdk/query-field/modern/style/none.gif?cv=8D3A59291029055)}\n}'},ns:"nanoRep.SDK",init:function(a,b,d){var c=new d.Modular();
d.addStyle(b.fieldStylesheet);Alloy.injectTemplate("nr-autocomplete",b.fieldTemplate);c.declare("QueryField",[Alloy,a.QueryField.AbstractQueryField,a.SpeechRecognition.SpeechRecognition,a.Localization,a.Common.CSS,a.Legacy.Session,a.Common.LoadCnf]);c.define(function(f,e,s,n,h,r,l){var q=2;var o=e.extend({name:"QueryField",_prototype:{ctor:function(x){this.options={element:null,language:"en",placeholder:null,suggestionsDropdownPosition:"bottom",fireSearchEventWhileTyping:true,useSuggestionTextAsValue:true,maxSuggestionsCount:null,searchInArticleBody:null,showSuggestions:true,showResetButton:true,showVoiceButton:true,maxLength:250,session:{host:"my.nanorep.com",account:null,context:null,kb:null},events:{reset:function(){},type:function(){},search:function(){},noSuggestions:function(){},newSuggestions:function(){},selectSuggestion:function(){},showSuggestions:function(){},hideSuggestions:function(){}}};var w=function(A){if(typeof A==="object"){return !(A instanceof Array)&&!(A instanceof f.Base)&&!(A&&A.isDerivedOf&&A.isDerivedOf(f.Base))&&Object.prototype.toString.call(A)==="[object Object]"}else{return false}};var v=function(A,B){for(var C in A){if(A.hasOwnProperty(C)&&B&&typeof B[C]!=="undefined"){if(w(B[C])){if(A[C]){v(A[C],B[C])}else{A[C]=B[C]}}else{A[C]=B[C]}}}};v(this.options,x);if(this.options.session&&!w(this.options.session)){this.setSession(this.options.session)}else{l({host:this.options.session.host,account:this.options.session.account,referer:location.href},function(){})}var y=this;this.$model.fireSearchEventWhileTyping=this.options.fireSearchEventWhileTyping;this.$model.showSuggestions=this.options.showSuggestions;this.$model.showResetButton=this.options.showResetButton;this.$model.showVoiceButton=this.options.showVoiceButton;this.$model.speechRecognitionSupported=s.supported();this.$model.suggestionsDropdownPosition=this.options.suggestionsDropdownPosition||"bottom";this.$model.speechRecognitionActive=false;this.$model.inSuggestionMenu=false;this.$model.dropVisible=false;this.$model.isFocused=false;this.$model.placeholders=[];
this.$model.choices=[];this.$model.value="";this.$model.activeIndex=-1;this.rotateDelay=5000;this.attemptCount=0;this.setPlaceholder(this.options.placeholder);this.setLocalizationTexts();if(this.$model.speechRecognitionSupported){this.recognizer=new s();this.recognizer.on({start:function(){y.setModelProperty({speechRecognitionActive:true})},stop:function(A){y.prevValue=A;y.setModelProperty({speechRecognitionActive:false});y.emit("search",A)},input:function(A){y.setModelProperty({value:A})}})}this.inputDebouncer=i(function(){if(y.isDisposed()){return}if(y.$model.fireSearchEventWhileTyping){y.emit("search",y.$model.value)}if(y.$model.value){if(y.options.showSuggestions){y.activeSuggestionRequest=m.call(y,y.$model.value)}}else{y.setModelProperty({dropVisible:false,choices:[]});y.emit("hideSuggestions")}});this.questionMarkSearchDebouncer=i(function(){if(y.isDisposed()){return}y.emit("search",y.$model.value)});this.on(this.options.events);if(this.options.element){var z=(typeof this.options.element==="string"?document.querySelector(this.options.element):this.options.element);if(z){if(z.tagName.toLowerCase()==="input"||z.tagName.toLowerCase()==="textarea"){this.bindToExistingInput(z)}else{this.bind(z,"nr-autocomplete")}}}},afterBind:function(){this.inputField=this.inputField||this.$domElement.querySelector("input");this.inputField.setAttribute("autocomplete","off");this.inputField.setAttribute("aria-label",this.$model.placeholders[0]);if(isFinite(this.options.maxLength)){this.inputField.setAttribute("maxlength",this.options.maxLength)}this.inputField.value=this.$model.value;this.accessibilityHelperNode=this.$domElement.querySelector('[role="status"][aria-live="polite"]');this.placeholderContainerNode=this.$domElement.querySelector(".nr-autocomplete-placeholders");this.refreshRTLClass()},updateAccessibilityStatus:function(v){if(this.accessibilityHelperNode&&this.currentStatusText!==v){this.currentStatusText=v;this.accessibilityHelperNode.innerHTML="";this.accessibilityHelperNode.appendChild(document.createTextNode(v))}},refreshRTLClass:function(){if(this.$domElement&&typeof this.$model.isRTL==="undefined"){this.$model.isRTL=h.getComputedStyle(this.$domElement,"direction")==="rtl";
this.update()}},onFocus:function(){clearTimeout(this.focusTimer);u.call(this);this.setModelProperty({isFocused:true,dropVisible:this.$model.value&&this.$model.choices.length>0});this.emit(this.$model.dropVisible?"showSuggestions":"hideSuggestions")},onBlur:function(){var v=this;if(this.mousePressed){return}clearTimeout(v.focusTimer);v.focusTimer=setTimeout(function(){t.call(v);v.setModelProperty({isFocused:false,dropVisible:false,inSuggestionMenu:false,activeIndex:-1});v.emit("hideSuggestions")},150)},onChange:function(){if(this.inputField.value!==this.$model.value){this.$model.value=this.inputField.value}if(this.placeholderContainerNode){this.placeholderContainerNode.style.display=this.inputField.value?"none":""}if(this.$model.value===this.escSkipValue){this.escSkipValue=null;return}if(this.$model.value.indexOf("?")>-1){this.inputDebouncer.cancel();if(this.activeSuggestionRequest){this.activeSuggestionRequest.abort()}if(this.$model.dropVisible){this.setModelProperty({dropVisible:false,inSuggestionMenu:false,choices:[]});this.emit("hideSuggestions")}this.questionMarkSearchDebouncer.update();return}else{this.questionMarkSearchDebouncer.cancel()}if(this.$model.inSuggestionMenu&&this.$model.choices[this.$model.activeIndex]&&this.$model.value!==this.$model.choices[this.$model.activeIndex].text){if(this.options.useSuggestionTextAsValue){this.setModelProperty({dropVisible:false,inSuggestionMenu:false,activeIndex:-1});this.emit("hideSuggestions")}else{if(this.prevValue!==this.$model.value){this.setModelProperty({inSuggestionMenu:false,activeIndex:-1})}}}if(!this.$model.inSuggestionMenu&&this.prevValue!==this.$model.value){this.prevValue=this.$model.value;this.emit("type",this.$model.value)}else{return}if(!this.$model.value&&this.$model.dropVisible){this.setModelProperty({dropVisible:false,inSuggestionMenu:false});this.emit("hideSuggestions")}this.inputDebouncer.update()},onChangeDebouncer:function(){var w=this,v=Array.prototype.slice.call(arguments);if(this.placeholderContainerNode){this.placeholderContainerNode.style.display=this.inputField.value?"none":""
}clearTimeout(this.onChangeDebounceTimer);this.onChangeDebounceTimer=setTimeout(function(){w.onChange.apply(w,v)},1)},onHover:function(x,v){var w=this.getNodeIndex(x,v.target||v.srcElement);if(this.$model.activeIndex!==w){this.setModelProperty({activeIndex:w})}},onSelect:function(x,w){var v=this.getNodeIndex(x,w.target||w.srcElement);this.selectAnswer(v);this.mousePressed=false;this.setModelProperty({isFocused:false,dropVisible:false,inSuggestionMenu:false,activeIndex:-1});this.emit("hideSuggestions")},onMouseDown:function(){var v=this;this.mousePressed=true;if(!this.tmpReleaseHandler){this.tmpReleaseHandler=function(w){if(window.removeEventListener){document.documentElement.removeEventListener("mouseup",v.tmpReleaseHandler,false)}else{if(window.detachEvent){document.documentElement.detachEvent("onmouseup",v.tmpReleaseHandler)}}delete v.tmpReleaseHandler;w=w||window.event;v.onMouseUp(w.target||w.srcElement)}}if(window.addEventListener){document.documentElement.addEventListener("mouseup",this.tmpReleaseHandler,false)}else{if(window.attachEvent){document.documentElement.attachEvent("onmouseup",this.tmpReleaseHandler)}}},onMouseUp:function(v){this.mousePressed=false;if(!this.$domElement.contains(v)){this.setModelProperty({isFocused:false,dropVisible:false,inSuggestionMenu:false,activeIndex:-1});this.emit("hideSuggestions")}},onKeyPress:function(x){var z=x.which||x.keyCode;switch(z){case 13:this.inputDebouncer.cancel();if(this.activeSuggestionRequest){this.activeSuggestionRequest.abort()}if(this.$model.inSuggestionMenu&&this.$model.activeIndex>-1&&this.$model.choices.length){this.selectAnswer(this.$model.activeIndex)}else{if(this.$model.value){this.emit("search",this.$model.value)}else{this.emit("reset")}}if(this.$model.dropVisible){this.setModelProperty({dropVisible:false,inSuggestionMenu:false,choices:[]});this.emit("hideSuggestions")}break;case 27:this.escSkipValue=this.$model.value;if(this.$model.dropVisible){this.setModelProperty({dropVisible:false,inSuggestionMenu:false});this.emit("hideSuggestions")}else{if(this.$model.choices.length){this.setModelProperty({dropVisible:true});
this.emit("showSuggestions");this.inputField.select()}}break;case 38:case 40:if(this.$model.showSuggestions){var y=(z===38),v=this.$model.activeIndex,w=this.$model.choices.length,A=v;if(v<0){if(y){if(this.options.suggestionsDropdownPosition==="top"){A=w-1}}else{if(this.options.suggestionsDropdownPosition==="bottom"){A=v+1}}}else{if(y){if(v>=0){A=v-1;if(this.options.suggestionsDropdownPosition==="top"){A=Math.max(0,A)}}}else{if(v<=w-1){A=v+1;if(this.options.suggestionsDropdownPosition==="bottom"){A=Math.min(w-1,A)}else{if(this.options.suggestionsDropdownPosition==="top"&&A>=w){A=-1}}}}}if(A!==v){if(A<0){this.setModelProperty({inSuggestionMenu:false,value:this.$model.userQuery,activeIndex:-1});this.updateAccessibilityStatus(this.$model.userQuery);this.$model.userQuery=null}else{if(this.$model.choices.length){this.$model.userQuery=this.$model.userQuery||this.$model.value;this.setModelProperty({inSuggestionMenu:true,activeIndex:A,value:this.options.useSuggestionTextAsValue?this.$model.choices[A].text:this.$model.value});this.updateAccessibilityStatus(this.$model.choices[A].text)}}}}else{return true}break;default:return true}if(x.preventDefault){x.preventDefault()}else{x.returnValue=false}return false},toggleSpeechButton:function(v){this.setModelProperty({showVoiceButton:!!v})},startSpeechRecognition:function(){if(!this.recognizer.isActive()){this.recognizer.start()}},stopSpeechRecognition:function(){if(this.recognizer.isActive()){this.recognizer.stop()}},toggleSpeechRecognition:function(){if(this.recognizer.isActive()){this.stopSpeechRecognition()}else{this.startSpeechRecognition()}},getAnswers:function(w,v){var x=this;if(!w.text){v(new Error("empty request not allowed"));return}this.getSession().request({url:"q.js",params:{sid:this.getSession().id(),searchInArticleBody:this.options.searchInArticleBody||null,text:w.text},handler:function(A,y,z){if(A===200&&y.status!==400){x.attemptCount=0;if(y&&y.answers instanceof Array){y.answers=y.answers.filter(function(B){return !!B.summary})}v(false,y)}else{x.attemptCount++;if(x.attemptCount<q){x.getSession().retry(z)
}}}})},getNodeIndex:function(y,z){var x=y.children,A=-1;var v=function(C,B){while(B){if(B.parentNode===C){return true}B=B.parentNode}return false};for(var w=0;w<x.length;w++){if(x[w]===z||v(x[w],z)){A=w;break}}return A},getDropdownSize:function(){var v=this.$domElement.querySelector(".nr-autocomplete-drop");return{width:v.offsetWidth,height:v.offsetHeight}},getValue:function(){return this.$model.value},setValue:function(v){this.setModelProperty({value:v})},focus:function(){if(this.inputField){this.inputField.focus()}},reset:function(){this.prevValue=null;this.setModelProperty({inSuggestionMenu:false,dropVisible:false,choices:[],value:""});if(this.activeSuggestionRequest){this.activeSuggestionRequest.abort()}this.focus();this.emit("hideSuggestions");this.emit("reset")},setShowSuggestions:function(v){this.$model.showSuggestions=!!v;if(!this.$model.showSuggestions){if(this.activeSuggestionRequest){this.activeSuggestionRequest.abort()}this.setModelProperty({dropVisible:false});this.emit("hideSuggestions")}},getSession:function(){if(!this.session){this.usingOwnSession=true;this.session=new r({account:this.options.session.account,host:this.options.session.host,urlPrefix:"/api/widget/v1/",defaultTimeout:8000,loginParams:{internal:"true",url:location.href,doctype:null,configId:null,kb:this.options.session.kb,nostats:false,ctx:k.call(this),values:null},fStateChanged:null})}return this.session},setSession:function(v){this.session=v},setContext:function(v){this.getSession().setContext(v);this.options.session.context=v},setLanguage:function(v){if(this.recognizer){this.recognizer.setLanguage(v)}this.$model.isRTL=n.isLanguageRTL(v);this.setLocalizationTexts()},setLocalizationTexts:function(){this.$model.loc_clearInputText=n.getText("QueryField.clearInputText");this.$model.loc_searchByVoice=n.getText("QueryField.searchByVoice");this.update()},setPlaceholder:function(w){var x=w instanceof Array?w:[w];var v=n.getText("QueryField.pressEnterToSearch",this.options.language);this.setModelProperty({placeholderIndex:0,placeholders:x,accessibilityPlaceholder:v});
t.call(this)},selectAnswer:function(v){this.prevValue=this.$model.choices[v].text;this.setModelProperty({activeIndex:v,value:this.options.useSuggestionTextAsValue?this.prevValue:this.$model.value});if(this.$model.speechRecognitionActive){this.recognizer.stop()}this.emit("selectSuggestion",this.prevValue)},bindToExistingInput:function(B){var A=this;var z=document.createElement("div");B.parentNode.insertBefore(z,B);this.$model.customInputUsed=true;this.inputField=B;this.bind(z,"nr-autocomplete");var w=this.$domElement.getElementsByTagName("input")[0];w.parentNode.insertBefore(B,w);w.style.display="none";var v=function(C,E){var D=function(F){var G=E.match(/\w+/)[0];A[G].call(A,F)};if(B.addEventListener){B.addEventListener(C,D,false)}else{if(B.attachEvent){B.attachEvent("on"+C,D)}}};for(var x=0;x<w.attributes.length;x++){if(w.attributes[x].name.indexOf("alloy-bind-event-")>-1){v(w.attributes[x].name.substr("alloy-bind-event-".length),w.attributes[x].value)}}var y=this.afterUpdate;this.afterUpdate=function(){B.value=A.$model.value;g(B,this.$domElement.querySelector(".nr-autocomplete-drop"));return y.apply(this,arguments)}},dtor:function(){if(!this.usingOwnSession){this.session=null}if(this.$model.customInputUsed){}}}});var g=function(x,A){var y=["font-size","line-height","font-family","padding","background-color","color"],w="",v;for(v=0;v<y.length;v++){w+=y[v]+":"+h.getComputedStyle(x,y[v])+";"}var z=A.querySelectorAll("li");for(v=0;v<z.length;v++){z[v].style.cssText+=w}};var i=(function(){var w=2,z=250,y=1500,A=6,x=[];var v=function(){var D=z*w;if(x.length===A){x.shift()}x.push(+new Date);if(x.length>2){D=0;for(var C=1,B;C<x.length;C++){B=x[C]-x[C-1];if(B<z){B=z}else{if(B>y){B=y}}D+=B}D=D/x.length*w}return D};return function(C){var D,F;var E=function(){C();B.cancel()};var B={update:function(){clearTimeout(D);D=setTimeout(function(){x=[];B.cancel();C()},v());if(!F){F=setTimeout(E,y)}},cancel:function(){clearTimeout(D);clearTimeout(F);F=null}};return B}}());function m(v){var x=this,w;this.updateAccessibilityStatus("");if(this.requestActive){this.pendingQuery=v;
return}else{this.requestActive=true}this.getSession().request({urlPrefix:"/~"+this.getSession().mAccount.toLowerCase()+"/api/kb/v1/",url:"autocomplete",params:{sid:this.getSession().id(),context:k.call(this),maxResults:this.options.maxSuggestionsCount,text:encodeURIComponent(v)},handler:function(A,y,z){if(w){return}x.requestActive=false;if(A===200&&y.status!==400){x.attemptCount=0;j.call(x,y);if(x.pendingQuery){m.call(x,x.pendingQuery);x.pendingQuery=null}}else{x.attemptCount++;if(x.attemptCount<q){x.getSession().retry(z)}}}});return{abort:function(){x.requestActive=false;w=true}}}function k(){var v=this.options.session.context,x="";for(var w in v){if(v.hasOwnProperty(w)){x+=(x?",":"")+(w+":"+v[w].replace(/,/g," "))}}return x||null}function p(B){var x=0;var v=[];var A=5;var z=0,y;for(y=0;y<B.length;y++){var w=B.charAt(y);if(w==="|"){if(x===0){v.push(w)}continue}if(isNaN(w)){if(x>0){if(x<=A){v.push(B.substring(z,y))}x=0}v.push(w);continue}if(x===0){z=y}x++}if(x>0&&x<=A){v.push(B.substring(z,y))}return v.join("")}function j(x){if(!x.a){this.updateAccessibilityStatus(n.getText("QueryField.noSuggestions")),this.setModelProperty({dropVisible:false,choices:[]});this.emit("hideSuggestions");this.emit("noSuggestions",this.$model.value);return}var z=function(H,I){for(var J=0;J<H.length;J++){if(H[J]===I){return J}}return -1};var D=x.q.split("|"),y,B,C,A,G,E,w,v;for(y=0;y<D.length;y++){if(z(D[y],",")>-1){G=D[y].split(",");D.splice(y,1);for(B=0;B<G.length;B++){D.splice(y,0,G[B])}y+=G.length-1}}this.$model.choices=[];for(y=0;x.a&&y<x.a.length;y++){G=p(x.a[y]);G=G.split("|");for(B=0;B<G.length;B++){E=G[B];if(E.charAt(E.length-1)==="*"){A=true;E=E.substr(0,E.length-1)}else{A=false}if(E.indexOf(",")>-1){var F=E.split(",");for(C=0;A&&C<F.length;C++){if(z(D,F[C])>-1){A=false}}E=F[0]}G[B]={text:E,strong:A}}w="";for(B=0;B<G.length;B++){w+=(B>0?" ":"")+G[B].text}v="";for(B=0;B<G.length;B++){E=G[B];v+=(B>0?" ":"")+(E.strong&&z(D,E.text)<0?"<b>"+E.text+"</b>":E.text)}v=v.replace(/<\/b> <b>/g," ");this.$model.choices.push({html:v,text:w})
}this.$model.activeIndex=-1;this.$model.dropVisible=true;this.updateAccessibilityStatus(nanoRep.SDK.Localization.getText("QueryField.suggestionsAvailable",null,{count:this.$model.choices.length}));this.emit("newSuggestions",this.$model.value,this.$model.choices);this.update();this.emit("showSuggestions")}function t(){var v=this;if(this.$model.placeholders.length>1){u.call(this);this.placeholderRotationTimer=setInterval(function(){v.$model.placeholderIndex=(v.$model.placeholderIndex+1)%v.$model.placeholders.length;v.update()},this.rotateDelay)}}function u(){clearInterval(this.placeholderRotationTimer)}return o});this.QueryField=c.byName("QueryField")}});nanoRep.BundleManager.define({name:"Translation",require:["Common","Localization"],data:{},ns:"nanoRep.SDK.Translation",init:function(a,b,d){var c=new d.Modular();c.declare("BaseSwitcher",[a.Common.AlloySDKComponent]);c.define(function(e){var f=e.extend({name:"BaseTranslationToggle",abstractClass:true,_prototype:{toggle:function(){}}});return f});a.TranslationPrivate={BaseSwitcher:c.byName("BaseSwitcher")}}});nanoRep.BundleManager.define({name:"Translation.Modern",require:["Translation"],data:{switcherTemplate:'<div class="nr-translation-switcher">\n\t<span class="nr-translation-switcher-text">Translate to {{languageName}}</span>\n\t<span class="nr-translation-switcher-checkbox {{ active ? \'nr-translation-switcher-checkbox-active\' : \'\' }}" alloy-bind-event-click="toggle()">\n\t\t<span class="nr-translation-switcher-checkbox-point"></span>\n\t</span>\n</div>',switcherStylesheet:".nr-translation-switcher{box-shadow:0 2px 5px 0 rgba(0,0,0,0.15);overflow:hidden;background:#fff;padding:0 19px;font-size:16px;line-height:35px;height:35px}\n.nr-translation-switcher-text{float:left}.nr-translation-switcher-checkbox{transition:background-color .3s ease;cursor:pointer;float:right;position:relative;border-radius:12px;background:#cfcfcf;margin:6px 0 0;width:43px;height:23px}\n.nr-translation-switcher-checkbox-point{transition:left .3s ease;position:absolute;background:#fff;border-radius:50%;width:21px;height:21px;margin:1px;top:0;left:0}\n.nr-translation-switcher-checkbox-active{background:#26d78e}.nr-translation-switcher-checkbox-active .nr-translation-switcher-checkbox-point{left:20px}"},ns:"nanoRep.SDK.Translation",init:function(a,b,d){var c=new d.Modular();
d.addStyle(b.switcherStylesheet);Alloy.injectTemplate("nr-translation-switcher",b.switcherTemplate);c.declare("Switcher",[a.TranslationPrivate.BaseSwitcher,a.Localization]);c.define(function(e,f){var g=e.extend({name:"Switcher",_prototype:{ctor:function(h){if(h.languageCode){this.setLanguage(h.languageCode)}if(h.events){this.on(h.events)}if(h.element){var i=(typeof h.element==="string"?document.querySelector(h.element):h.element);if(i){this.bind(i,"nr-translation-switcher")}}},setLanguage:function(h){this.$model.languageName=f.Languages[h]||h;this.update()},enable:function(){if(!this.$model.active){this.$model.active=true;this.update();this.emit("activate");this.emit("toggle",this.$model.active)}},disable:function(){if(this.$model.active){this.$model.active=false;this.update();this.emit("deactivate");this.emit("toggle",this.$model.active)}},isActive:function(){return !!this.$model.active},toggle:function(){if(this.isActive()){this.disable()}else{this.enable()}}}});return g});this.Switcher=c.byName("Switcher")}});nanoRep.BundleManager.define({name:"Context.Modern",require:["Common"],data:{barTemplate:'<div class="nr-context-bar">\r\n  <div class="nr-context-words">\r\n    <div class="nr-context-word" alloy-loop="word in entries"><i class="nr-svg-icon nr-context-separator"><?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="4px" height="4px" viewBox="0 0 4 4" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="03_floating_context_sticky" transform="translate(-131.000000, -113.000000)" fill="#4A4A4A">\n            <circle id="Oval-Copy" cx="133" cy="115" r="2"></circle>\n        </g>\n    </g>\n</svg></i><span>{{word}}</span></div>\r\n  </div>\r\n  <div alloy-bind-event-click="changeButtonClicked()" class="nr-svg-icon nr-context-button"><?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="15px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="03_floating_context_sticky" transform="translate(-359.000000, -107.000000)" fill="#4A4A4A">\n            <path d="M370.192034,107.000606 L370.192034,107.000606 C370.065016,107.016105 369.948,107.073853 369.857988,107.164598 L360.106651,116.914112 C360.031391,116.988358 359.978884,117.081104 359.95438,117.183599 L359.016752,121.308393 C358.923989,121.712873 359.286289,122.075105 359.690594,121.982359 L363.81616,121.044906 C363.920674,121.021407 364.016437,120.96866 364.091697,120.892414 L373.843034,111.1429 C374.059814,110.924161 374.059814,110.570678 373.843034,110.351939 L370.655097,107.164598 C370.53383,107.041604 370.363057,106.981107 370.192034,107.000606 L370.192034,107.000606 Z M370.256542,108.354039 L372.64737,110.750419 L363.693143,119.702973 L361.302315,117.312592 L370.256542,108.354039 Z M360.8275,118.425787 L362.573739,120.17195 L360.31768,120.687424 L360.8275,118.425787 Z" id="edit_icon"></path>\n        </g>\n    </g>\n</svg></div>\r\n</div>\r\n',barStylesheet:".nr-context-bar{background:#fff;font-size:14px;padding:5px 26px;overflow:hidden}\n.nr-context-words{float:left}.nr-context-word{vertical-align:middle;display:inline-block;color:#4a4a4a}\n.nr-context-word .nr-svg-icon{width:4px;height:4px}.nr-context-word span,.nr-context-word .nr-svg-icon{display:inline-block;vertical-align:middle}\n.nr-context-word .nr-svg-icon svg{display:block}.nr-context-button{cursor:pointer;float:right}\n.nr-context-button svg{display:inline-block;vertical-align:middle}.nr-context-separator{margin:0 7px}\n.nr-context-word:first-child .nr-context-separator{display:none}"},ns:"nanoRep.SDK.Context",init:function(a,b,d){var c=new d.Modular();
d.addStyle(b.barStylesheet);Alloy.injectTemplate("nr-context-bar",b.barTemplate);c.declare("Bar",[a.Common.AlloySDKComponent]);c.define(function(e){var f=e.extend({name:"Bar",_prototype:{ctor:function(g){if(g.events){this.on(g.events)}if(g.element){var h=(typeof g.element==="string"?document.querySelector(g.element):g.element);if(h){this.bind(h,"nr-context-bar")}}},changeButtonClicked:function(){this.emit("change")}}});return f});this.Bar=c.byName("Bar")}});</script><style type="text/css">.nr-feedback-dialog{font-size:16px;background:#fff;color:#3b3b3b;padding:15px 20px;cursor:default}
.nr-feedback-dialog .nr-feedback-dialog-title{text-align:center;font-weight:400;font-size:18px;margin:25px 0 35px;display:block;color:#000}
.nr-feedback-dialog .nr-feedback-dialog-buttons{text-align:center}.nr-feedback-dialog .nr-feedback-dialog-button{border-radius:2px;text-decoration:none;text-align:center;display:inline-block;background:#e8e8e8;color:#545454;line-height:30px;width:30%;font-size:16px;margin:0 10px;padding:0;cursor:pointer}
.nr-feedback-dialog .nr-feedback-dialog-button-highlight{background:#ebbb42}
.nr-channeling-actionbar-tooltip{text-align:center;position:absolute;bottom:100%;left:50%;height:0;width:200px;margin:0 0 0 -100px;z-index:2;pointer-events:none}
.nr-channeling-actionbar-tooltip span{background:rgba(43,45,45,0.95);cursor:default;border-radius:2px;line-height:30px;margin-top:-30px;font-size:12px;padding:0 10px;color:#fff;display:inline-block;vertical-align:top}
.nr-channeling-actionbar-tooltip:after{border:10px solid;border-width:8px 8px 0;border-color:rgba(43,45,45,0.95) transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert{bottom:0}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert span{margin-top:8px}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert:after{top:0;border-width:0 8px 8px;border-color:transparent transparent rgba(43,45,45,0.95)}
.nr-feedback-thumbs{vertical-align:top;display:inline-block;border:1px solid #eaeaea;border-width:0 1px;margin:0 -1px}
.nr-feedback-thumbs .nr-feedback-thumbs-like,.nr-feedback-thumbs .nr-feedback-thumbs-dislike{position:relative;vertical-align:top;display:inline-block;text-align:center;cursor:pointer;height:55px;width:85px}
.nr-feedback-thumbs .nr-svg-icon{display:inline-block;vertical-align:top;margin-top:13px;width:30px;height:30px}
.nr-feedback-thumbs .nr-feedback-thumbs-counter{background-color:#eaeaea;content:'';width:1px;height:55px;display:inline-block;vertical-align:middle;overflow:hidden;text-indent:-9999px}
.nr-feedback-thumbs .nr-feedback-thumbs-like.nr-feedback-thumbs-active{background:#27d68d}
.nr-feedback-thumbs .nr-feedback-thumbs-like.nr-feedback-thumbs-active svg .nr-feedback-fill{stroke:#fff}
.nr-feedback-thumbs .nr-feedback-thumbs-dislike.nr-feedback-thumbs-active{background:#f56e62}
.nr-feedback-thumbs .nr-feedback-thumbs-dislike.nr-feedback-thumbs-active svg .nr-feedback-fill{stroke:#fff}
.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-inactive svg .nr-feedback-fill{stroke:#3b3b3b!important}
.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-like .nr-svg-icon,.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-dislike .nr-svg-icon{background-image:url(//eu1-1.nanorep.com/sdk/feedback/modern/style/icons.png?cv=8D3A59290F6AA19);background-position:-5px -45px}
.nr-no-svg .nr-feedback-thumbs .nr-feedback-thumbs-dislike .nr-svg-icon{background-position:-5px -5px}
.nr-feedback-thumbs .nr-channeling-actionbar-tooltip{display:none}.nr-feedback-thumbs .nr-feedback-thumbs-like:hover .nr-channeling-actionbar-tooltip,.nr-feedback-thumbs .nr-feedback-thumbs-dislike:hover .nr-channeling-actionbar-tooltip{display:block}
.nr-feedback-thumbs.nr-feedback-thumbs-disabled:hover .nr-channeling-actionbar-tooltip{display:none}
.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-like,.nr-feedback-thumbs.nr-feedback-thumbs-disabled .nr-feedback-thumbs-dislike{cursor:default}
.nr-feedback-survey{vertical-align:top;display:inline-block;background:#fff;color:#333;padding:0 10px;line-height:23px;min-height:23px}
.nr-feedback-survey-title{display:inline-block;vertical-align:top;margin:0 5px 0 0}
.nr-feedback-survey-btn{text-decoration:none;display:inline-block;vertical-align:middle;background:#dedede;cursor:pointer;font-size:12px;line-height:23px;padding:0 15px;margin:0 5px 0 0;color:#3b3b3b}
.nr-feedback-survey-disabled .nr-feedback-survey-btn{cursor:default}.nr-feedback-survey-helpful .nr-feedback-survey-btn-yes{background:#27d68d;color:#fff}
.nr-feedback-survey-unhelpful .nr-feedback-survey-btn-no{background:#f56e62;color:#fff}
.nr-feedback-dialog .nr-feedback-choices-list{font-size:18px;list-style:none;padding:0;margin:0 0 10px}
.nr-feedback-dialog .nr-feedback-choices-list li{padding:0 0 20px}.nr-feedback-dialog .nr-feedback-choices-list label{font-weight:100;display:inline;vertical-align:middle}
.nr-feedback-dialog .nr-feedback-choices-list input[type="radio"]{display:inline-block;vertical-align:middle;margin:0 5px 0 0}
.nr-feedback-dialog .nr-feedback-choices-list input[type="radio"]:checked+label{color:#0099c8}
.nr-feedback-custom-radios .nr-feedback-choices-list input[type="radio"]{-webkit-appearance:none;border:1px solid #0099c8;border-radius:50%;position:relative;cursor:default;height:16px;width:16px}
.nr-feedback-custom-radios .nr-feedback-choices-list input[type="radio"]:checked:before{position:absolute;content:'';width:8px;height:8px;border-radius:50%;background:#0099c8;top:3px;left:3px}
.nr-feedback-dialog .nr-feedback-choices-dialog-invalid input[type="radio"],.nr-feedback-dialog .nr-feedback-choices-dialog-invalid input[type="radio"]+label{animation:nr-feedback-choices-dialog-validation .25s linear 3}
@keyframes nr-feedback-choices-dialog-validation{0%{opacity:0}100%{opacity:1}
}
.nr-feedback-dialog-textarea{box-sizing:border-box;resize:none;border:1px solid #ccc;min-height:75px;padding:10px;margin:0 0 15px;width:100%}
.nr-feedback-dialog-disclaimer{margin:-10px 0 10px;font-size:11px}.nr-feedback-dialog-input-wrapper{position:relative}
.nr-feedback-dialog-input-wrapper .nr-sdk-input-placeholder{position:absolute;top:0;left:0;margin:10px 13px;color:#b1a9b1}</style><style type="text/css">.nr-tooltip{z-index:9999;position:absolute;background:#2b2b2b;pointer-events:none;border-radius:2px;line-height:normal;font-size:12px;padding:8px 10px;color:#fff}
.nr-tooltip-triangle{border:10px solid;border-width:8px 8px 0;border-color:#2b2b2b transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}
.nr-tooltip-vposition-bottom .nr-tooltip-triangle{top:-8px;border-width:0 8px 8px;border-color:transparent transparent #2b2b2b}</style><style type="text/css">.nr-channeling-title{border-bottom:1px solid #e8e8e8;line-height:50px;height:50px;margin:-10px 0 20px;cursor:default;color:#0098c7}
.nr-inline-form-container .nr-channeling-title{display:none}.nr-channeling-title:after{content:'';height:0;display:block;clear:both}
.nr-channeling-title .nr-channeling-titletext{float:left;margin:15px 0 0}
.nr-channeling-title .nr-channeling-titletext,.nr-channeling-title .nr-channeling-titletext *{font-size:16px;font-weight:400;line-height:normal}
.nr-channeling-title .nr-channeling-back{background:url(//eu1-1.nanorep.com/sdk/query-field/modern/style/icon-cross.png?cv=8D3A59291029055) no-repeat 50% 50%;text-indent:-9999px;overflow:hidden;cursor:pointer;width:20px;height:20px;float:right;margin:15px 0 0}
.isRtl .nr-channeling-title .nr-channeling-titletext{float:right}.isRtl .nr-channeling-title .nr-channeling-back{float:left}
.nr-channeling-actionbar-tooltip{text-align:center;position:absolute;bottom:100%;left:50%;height:0;width:200px;margin:0 0 0 -100px}
.nr-channeling-actionbar-tooltip span{background:rgba(43,45,45,0.95);cursor:default;border-radius:2px;line-height:30px;margin-top:-30px;font-size:12px;padding:0 10px;color:#fff;display:inline-block;vertical-align:top}
.nr-channeling-actionbar-tooltip:after{border:10px solid;border-width:8px 8px 0;border-color:rgba(43,45,45,0.95) transparent transparent;position:absolute;content:'';top:100%;left:50%;margin:0 0 0 -10px}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert{bottom:0}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert span{margin-top:8px}
.nr-channeling-actionbar-tooltip.nr-channeling-actionbar-tooltip-invert:after{top:0;border-width:0 8px 8px;border-color:transparent transparent rgba(43,45,45,0.95)}</style><style type="text/css">.nr-channeling-actionbar.nr-channeling-actionbar-nochannels{display:none!important}
.nr-channeling-actionbar.nr-channeling-hidden,.nr-channeling-actionbar .nr-channeling-hidden{display:none}
.nr-channeling-actionbar-buttons{display:table!important;table-layout:auto;vertical-align:top;color:#3b3b3b;width:auto}
.nr-channeling-actionbar-buttons ul{display:table-row;list-style:none;padding:0;margin:0}
.nr-channeling-actionbar-buttons li{vertical-align:top;display:table-cell;position:relative}
.nr-channeling-actionbar-compact li,.nr-channeling-actionbar-compact a{width:55px;height:55px}
.nr-channeling-actionbar li .nr-channeling-actionbar-textwrapper{margin:0 10px 0 0;position:relative}
.nr-channeling-actionbar-rtl li .nr-channeling-actionbar-textwrapper{margin:0 0 0 10px}
.nr-channeling-actionbar-buttontext{position:absolute;z-index:1;left:0;right:0;text-decoration:none;text-transform:uppercase;line-height:55px;font-size:10px;cursor:pointer;color:inherit;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}
.nr-channeling-actionbar-buttontext:hover{color:#3b4b4c}.nr-channeling-actionbar-textcopy{text-transform:uppercase;margin:0 0 0 51px;font-size:10px;visibility:hidden;overflow:hidden;display:block;height:55px}
.nr-channeling-actionbar-compact li .nr-channeling-actionbar-buttontext{text-overflow:initial;text-align:left;margin:0}
.nr-channeling-actionbar i.nr-svg-icon{vertical-align:top;overflow:hidden;display:inline-block;width:55px;height:55px;margin:0 -5px 0 0}
.nr-channeling-actionbar-rtl i.nr-svg-icon{margin:0 0 0 -5px}.nr-channeling-actionbar-compact i.nr-svg-icon{margin:0 9999px 0 0}
.nr-channeling-actionbar-compact.nr-channeling-actionbar-rtl i.nr-svg-icon{margin:0 0 0 9999px}
.nr-channeling-actionbar-compact .nr-channeling-actionbar-textcopy{display:none}
.nr-channeling-actionbar li.nr-channeling-active:before{content:'';background:#0098c7;position:absolute;z-index:2;top:0;width:100%;height:4px}
.nr-channeling-actionbar-compact .nr-channeling-actionbar-tooltip{display:none}
.nr-channeling-actionbar-compact li:hover .nr-channeling-actionbar-tooltip{display:block}
.nr-no-svg .nr-channeling-actionbar i.nr-svg-icon{background-image:url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icons.png?cv=8D3A592911CBDED)}
.nr-no-svg .nr-channeling-type-phone i.nr-svg-icon{background-position:-5px -5px}
.nr-no-svg .nr-channeling-type-customEmail i.nr-svg-icon{background-position:-5px -135px}
.nr-no-svg .nr-channeling-type-chat i.nr-svg-icon{background-position:-5px -70px}</style><style type="text/css">.nr-channeling-phonedialog{background:#fff;box-sizing:border-box;padding:10px 0 30px;min-width:250px;color:#4b5e61}
.nr-channeling-phonedialog .nr-channeling-aligntable{display:table;width:100%}
.nr-channeling-phonedialog .nr-channeling-alignrow{display:table-row}.nr-channeling-phonedialog .nr-channeling-aligncell{vertical-align:middle}
.nr-channeling-phonedialog .nr-channeling-phonedialogcontent{padding:0}.nr-channeling-phonedialog .nr-channeling-phonelink{display:inline-block;text-decoration:none;line-height:normal;font-size:28px;font-weight:300;color:#3b3b3b}
.nr-channeling-phonedialog .nr-channeling-phonelink:hover{text-decoration:none}
.nr-channeling-phonedialog .nr-channeling-phonedetails{font-size:16px;font-weight:100;padding-top:5px}
.nr-channeling-phonedialog .nr-channeling-phone-buttons{padding:30px 0 0;text-align:center;display:none}
.nr-channeling-phonedialog .nr-channeling-phone-buttons span{background-color:#0099c8;display:inline-block;text-align:center;border-radius:2px;line-height:32px;min-width:60px;color:#fff;cursor:pointer}
.nr-channeling-phonedialog .nr-channeling-phone-buttons span:hover{background-color:#1886b3}
.nr-ticket-form{position:relative;background:#fff;overflow:hidden;padding:10px 0 20px}
.nr-ticket-form .CF_TitleDivElement{padding-top:5px;height:auto;font-size:13px}
.nr-ticket-form .CF_TitleDivElement:focus{outline:0}.nr-ticket-form .CF_textFieldDiv input.CFP_Upload,.nr-ticket-form .CF_buttonsFieldDiv>input[type="reset"],.nr-ticket-form .CF_buttonsFieldDiv>input[type="button"]{background-color:#eaeaea;border-radius:0;color:#777;font-size:16px}
.nr-ticket-form .CF_textFieldDiv input.CFP_Upload{font-size:12px}.nr-ticket-form .CF_textFieldDiv .CF_fileUploadBtnWrapper:hover input.CFP_Upload,.nr-ticket-form .CF_buttonsFieldDiv>input[type="button"]{background-color:#0099c8}
.nr-ticket-form .CF_labelClass,.nr-ticket-form .CF_textFieldDiv>label.fieldElement{font-size:16px;font-weight:100}
.nr-ticket-form #ContactformInnerContainer{margin:0 auto}.borderBoxSizing{box-sizing:border-box}
.nr-ticket-form .CF_buttonsFieldDiv>input[name="submitbutton"]{background:#f7c545;color:#fff}
.nr-ticket-form .CF_textFieldDiv input.CFP_Upload{background:#0098c7;line-height:32px;height:auto;color:#fff}
.nr-ticket-form .searchAnim{display:none}.CF_buttonsFieldDiv{clear:both;width:100%}
.nr-ticket-form .nr-fileuploader-mask{position:relative;overflow:hidden;float:left}
.nr-ticket-form .nr-fileuploader-input{font-size:200px!important;position:absolute;cursor:pointer;min-width:100%;width:auto;height:auto;right:0;top:0;opacity:0;filter:alpha(opacity=0);-ms-filter:"alpha(opacity=0)"}
.nr-ticket-form .nr-fileuploader-list .deleteFileLink{float:none;display:inline-block;margin:0 0 0 5px}
.nr-ticket-form .CF_textFieldDiv input[type="text"],.nr-ticket-form .CF_textFieldDiv textarea{border:1px solid #e8e8e8;border-radius:0}
.nr-ticket-form .CF_textFieldDiv.CF_rowError input[type="text"],.nr-ticket-form .CF_textFieldDiv.CF_rowError textarea{border-color:#f00}
.nr-form-layout-3 .CF_labelError{margin-left:30%}.nr-form-layout-4 .CF_textFieldDiv input[type="text"],.nr-form-layout-4 .CF_textFieldDiv textarea{padding-right:10px}
@media only screen and (max-width :352px){.nr-form-layout-3 .CF_labelError{margin-left:0}
}.nr-ticket-form.nr-ticket-form-disabled:after{background:rgba(255,255,255,0.5);position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;content:''}
.nr-ticket-form-status{position:relative;overflow:hidden;text-align:center;display:table;width:100%;font-size:14px;color:#5e767a}
.nr-ticket-form-status .nr-ticket-form-status-wrapper{display:table-row}.nr-ticket-form-status .nr-ticket-form-status-content{height:250px;padding:0 50px 30px;display:table-cell;vertical-align:middle}
.nr-ticket-form-status .nr-ticket-form-status-title{font-size:28px}.nr-ticket-form-status .nr-ticket-form-close{background-color:#0099c8;position:absolute;text-align:center;border-radius:2px;line-height:32px;min-width:60px;color:#fff;cursor:pointer;margin:0 5px;bottom:0;right:0}
.nr-customchat{background:#fff;overflow:hidden;color:#3b3b3b}.nr-customchat .nr-customchat-header{position:relative;font-size:12px;padding:10px;z-index:1}
.nr-customchat .nr-customchat-header .nr-customchat-agent-name{font-weight:bold}
.nr-customchat .nr-customchat-header .nr-channeling-title{position:relative;margin-bottom:5px}
.nr-customchat .nr-channeling-titletext-wrapper{position:absolute;white-space:nowrap;top:0;left:0}
.nr-customchat .nr-channeling-toolbar-wrapper{box-shadow:-10px 0 10px 0 #fff;background:#fff;position:relative;z-index:1;margin:9px 0 0;float:right}
.nr-customchat .nr-channeling-toolbar{line-height:normal;float:left}.nr-customchat .nr-customchat-systemmessage{font-size:12px;margin:0}
.nr-customchat .nr-customchat-button-endchat{cursor:pointer;background:#dedede;line-height:33px;margin:0 0 0 5px;padding:0 15px;float:right;color:#3b3b3b}
.nr-customchat-log{padding:35px 20px 15px;overflow:auto}.nr-customchat-log .nr-customchat-author{line-height:50px;overflow:hidden;width:50px;height:50px}
.nr-customchat-log .nr-customchat-message.nr-customchat-me .nr-customchat-author{float:left;margin:-8px 10px 0 0}
.nr-customchat-log .nr-customchat-message.nr-customchat-agent .nr-customchat-author{float:right;margin:-8px 0 0 10px}
.nr-customchat-log .nr-customchat-author-name{display:none}.nr-customchat .nr-customchat-message{margin:20px 0 0;width:100%;float:left}
.nr-customchat .nr-customchat-message:first-child{margin-top:3px}.nr-customchat .nr-customchat-messagetext{font-size:14px;line-height:19px;background:#f2f2f2;overflow:hidden;padding:7px 10px;color:#424242;height:1%}
.nr-customchat .nr-customchat-agent .nr-customchat-messagetext{background:#e3f7fc}
.nr-customchat .nr-customchat-messagetext p{margin:0}.nr-no-svg .nr-customchat-log .nr-customchat-author i.nr-svg-icon{display:block;height:100%;width:100%}
.nr-customchat-log .nr-customchat-author svg .nr-avatar-fill{fill:#d4d4d4}
.nr-customchat-log .nr-customchat-agent .nr-customchat-author svg .nr-avatar-fill{fill:#addeeb}
.nr-no-svg .nr-customchat-log .nr-customchat-author i.nr-svg-icon{background:#d4d4d4 url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icons.png?cv=8D3A592911CBDED) no-repeat -8px -268px}
.nr-no-svg .nr-customchat-log .nr-customchat-agent .nr-customchat-author i.nr-svg-icon{background-color:#addeeb}
.nr-customchat-entry-answer{padding:10px 0;clear:both}.nr-customchat-entry-answer .nr-answering-answer-title,.nr-customchat-entry-answer .nr-answering-answer-top-menu{height:auto}
.nr-customchat-suggested-answer{display:block;margin:0 0 5px;font-size:12px;color:#aaa}
.nr-customchat-input .nr-autocomplete{display:block}.nr-customchat-input .nr-autocomplete-active{background:#eee!important;color:#000!important}
.nr-customchat .nr-customchat-message-status-sending .nr-customchat-messagetext{color:#ababab}
.nr-customchat-me+.nr-customchat-me{margin:-9px 0 0}.nr-customchat-me+.nr-customchat-me .nr-customchat-author{visibility:hidden}
.nr-customchat-me+.nr-customchat-me .nr-customchat-messagetext{border-top:0}
.nr-customchat-agent+.nr-customchat-agent{margin:-9px 0 0}.nr-customchat-agent+.nr-customchat-agent .nr-customchat-author{visibility:hidden}
.nr-customchat-agent+.nr-customchat-agent .nr-customchat-messagetext{border-top:0}
.nr-customchat .nr-customchat-input{background:#dedede;padding:8px 24px}.nr-customchat .nr-customchat-input:after{content:'';height:0;clear:both;display:block}
.nr-customchat .nr-customchat-button-send{cursor:pointer;background:#f7c545;color:#fff;display:table-cell;font-size:14px;line-height:35px;padding:0 13px;margin:0}
.nr-customchat .nr-customchat-input-wrapper{height:35px;background:#fff;padding:0 20px 0 0;display:table-cell;width:100%}
.nr-customchat .nr-customchat-input-wrapper input[type="text"]{font-size:14px;line-height:35px;background:0;border:0;width:100%;margin:0;padding:0 10px;margin:0}
.nr-customchat .nr-customchat-input-wrapper input[type="text"]:focus{outline:0}
.nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop{margin:0 -20px 0 0}
.isRtl .nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop{margin:0 0 0 -20px}
.nr-customchat .nr-customchat-input-wrapper .nr-autocomplete-drop li{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}
.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-button-send{background:#b7b7b7;color:#fff}
.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-input-wrapper{background:#eee}
.nr-customchat .nr-customchat-input.nr-customchat-disabled .nr-customchat-input-wrapper input[type="text"]{display:none}
.nr-lp-survey{overflow:hidden;font-size:12px;padding:10px}.nr-lp-survey input[type="checkbox"],.nr-lp-survey input[type="radio"]{display:inline-block;vertical-align:middle;margin:0 5px 0 0}
.nr-lp-survey>table{border-collapse:collapse;margin:5px 0;width:100%}.nr-lp-survey tr.radio-layout-sidebyside table{display:table-cell;width:0}
.nr-lp-survey table td.question{font-style:italic;width:50%}.nr-lp-survey .surveyHeading{font-size:14px;margin:0 0 20px}
.nr-lp-survey .validationError input,.nr-lp-survey .validationError textarea{color:#f00}
.nr-lp-survey .nr-lp-btn-submit{border:0;border-radius:2px;cursor:pointer;background:#0099c8;color:#fff;float:right;font-size:12px;line-height:28px;padding:0 13px;margin:7px 0 0 10px}
.nr-lp-transcript{white-space:nowrap;display:inline-block;background:#fff;font-size:12px;line-height:25px}
.nr-lp-transcript .nr-sdk-input-placeholder{position:absolute;color:#aaa;padding:5px 10px;top:0}
.nr-lp-transcript .nr-lp-transcript-btn,.nr-lp-transcript .nr-lp-transcript-action{text-align:center;position:relative;display:inline-block;background:#dedede;border-radius:0;line-height:33px;height:33px;cursor:pointer;color:#fff}
.nr-lp-transcript .nr-lp-transcript-action{text-align:center;min-width:60px;margin:0 0 0 5px}
.nr-lp-transcript .nr-lp-transcript-action-highlight{background:#0099c8}.nr-lp-transcript .nr-lp-transcript-caption{position:absolute;background:#000;display:none;color:#fff;top:100%;left:50%}
.nr-lp-transcript .nr-lp-transcript-btn:hover .nr-lp-transcript-caption{display:block}
.nr-lp-transcript .nr-lp-transcript-btn:before{background:url(//eu1-1.nanorep.com/sdk/channeling/modern/style/icon-ticket.svg?cv=8D3A592911CBDED) no-repeat;vertical-align:top;display:inline-block;content:'';width:48px;height:48px;margin:-7px 0}
.nr-lp-transcript .nr-lp-transcript-form{display:inline-block}.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input{vertical-align:top;display:inline-block;background:#fff;border:1px solid #aaa;color:#5e767a;border-radius:0;padding:0 7px;height:31px;width:150px;margin:0}
.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input::-webkit-input-placeholder{color:#8fa3a6}
.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:-moz-placeholder{color:#8fa3a6;opacity:1}
.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input::-moz-placeholder{color:#8fa3a6;opacity:1}
.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:-ms-input-placeholder{color:#8fa3a6}
.nr-lp-transcript .nr-lp-transcript-form input.nr-lp-transcript-input:placeholder-shown{color:#8fa3a6}
.nr-lp-transcript-form-active ~ *{display:none}.isRtl .nr-customchat .nr-channeling-toolbar-wrapper{float:left}
.isRtl .nr-customchat .nr-channeling-titletext-wrapper{left:auto;right:0}
.isRtl .nr-customchat .nr-channeling-toolbar{float:right}.isRtl .nr-customchat .nr-customchat-button-endchat{margin:0 5px 0 0;float:left}
.isRtl .nr-lp-transcript .nr-lp-transcript-action{margin:0 5px 0 0}.isRtl .nr-customchat-log .nr-customchat-message.nr-customchat-me .nr-customchat-author{float:right;margin:-8px 0 0 10px}
.isRtl .nr-customchat-log .nr-customchat-message.nr-customchat-agent .nr-customchat-author{float:left;margin:-8px 10px 0 0}
.isRtl .nr-customchat .nr-customchat-input-wrapper{padding:0 0 0 20px}.isRtl .nr-customchat-input .nr-autocomplete{margin:0 0 0 32px}</style><style type="text/css">.nr-answer-ltr{direction:ltr}.nr-answer-rtl{direction:rtl}.nr-answering-answer{border:1px solid #bbb;background-color:#fff;margin-bottom:5px}
.nr-answering-answer-header-wrapper{position:relative;padding:0 11px}.nr-answering-answer-header-wrapper:after{content:'';height:1px;background:0;position:absolute;bottom:0;left:11px;right:11px}
.nr-answer-feedback-active .nr-answering-answer-header-wrapper{transform:translate3d(0,0,0);opacity:.01}
.nr-answering-answer-header{table-layout:auto;cursor:pointer;display:table;z-index:3;width:100%}
.nr-answering-answer-open .nr-answering-answer-header-wrapper:after{background:#e8e8e8}
.nr-answering-answer-top-menu{display:table-row}.nr-answering-answer-title{font-weight:300;font-size:16px;text-decoration:none;color:#0099c8;display:table-cell;vertical-align:middle;padding:15px 0;width:100%}
.nr-answering-answer-title-text{height:100%;left:0;position:absolute;top:0;width:100%}
.nr-answering-answer-title-text,.nr-answering-answer-title-text span{vertical-align:middle;display:inline-block;text-decoration:inherit;font-size:inherit;color:inherit}
.nr-answering-answer-title-text>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;display:inline}
.nr-answering-answer-title-text span span{vertical-align:top;display:inline}
.nr-answering-answer-title-text .nr-answering-answer-meta{font-size:18px;display:block;font-style:italic;color:#9b9b9b}
.nr-answering-answer-title-text .nr-answering-answer-meta b{vertical-align:bottom;font-weight:400}
.nr-answering-answer-overflow-wrapper{white-space:nowrap;font-size:inherit;position:relative;overflow:hidden;width:100%;min-height:21px}
.nr-answering-answer-overflow-wrapper .nr-answering-answer-title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.nr-answering-answer-open .nr-answering-answer-overflow-wrapper .nr-answering-answer-title-text{display:inline-block;font-weight:400;vertical-align:top;position:static;white-space:normal;text-overflow:initial}
.nr-answering-answer-open .nr-answering-answer-title-text .nr-answering-answer-meta{font-weight:300}
.nr-answering-answer-buttons-wrapper{white-space:nowrap;display:table-cell;vertical-align:middle;padding:0 0 0 20px}
.nr-answer-rtl .nr-answering-answer-buttons-wrapper{padding:0 20px 0 0}.nr-answering-answer-buttons-align{vertical-align:middle;display:block;height:40px}
.nr-answering-answer-buttons-align:before{content:'';display:inline-block;vertical-align:middle;height:100%}
.nr-answering-answer-new-tab-icon{cursor:pointer;display:inline-block;height:20px;margin:0 15px 0 0;vertical-align:middle;width:21px}
.nr-answer-rtl .nr-answering-answer-new-tab-icon{margin:0 0 0 15px}.nr-answering-answer-toggle-icon{vertical-align:middle;display:inline-block;width:14px;height:7px}
.nr-answering-answer-toggle-icon .nr-svg-icon{display:block;width:100%;height:100%}
.nr-answering-answer-toggle-icon .nr-svg-icon svg{vertical-align:top}.nr-answering-translation-toggle{vertical-align:middle;display:none;width:25px;height:25px}
.nr-answering-translation-toggle .nr-svg-icon{display:block;width:100%;height:100%}
.nr-answering-translation-toggle-on,.nr-answering-translation-toggle-off{font-style:normal;color:#7a9199}
.nr-answering-answer-open .nr-answering-translation-toggle{display:inline-block}
.nr-answering-answer-body{overflow:visible;position:relative}.nr-answering-answer-body,.nr-answering-answer-footer{height:0;opacity:0;background:#fff;transition:height .4s ease-out,opacity .4s;pointer-events:none}
.nr-answering-answer-footer{box-shadow:0 -25px 25px 4.5px #fff;position:relative;border-top:0;overflow:hidden;clear:both}
.nr-answering-answer-open .nr-answering-answer-body{height:225px;opacity:1;pointer-events:all}
.nr-answering-answer-content{position:relative;overflow-y:auto;height:200px;font-size:14px;font-weight:400;padding:0 5px 0 10px;color:#575656}
.nr-answering-answer-content table,.nr-answering-answer-content td,.nr-answering-answer-content input,.nr-answering-answer-content textarea,.nr-answering-answer-content div,.nr-answering-answer-content span,.nr-answering-answer-content p{font-weight:300;font-size:16px;line-height:20px}
.nr-answer-rtl .nr-answering-answer-content{padding:5px 10px 0 5px}.nr-answering-answer-content:after{content:'';display:block;height:55px}
.nr-style-scroll::-webkit-scrollbar,.nr-style-scroll::-webkit-scrollbar-button,.nr-answering-answer-content::-webkit-scrollbar,.nr-answering-answer-content::-webkit-scrollbar-button{width:5px;height:0}
.nr-style-scroll::-webkit-scrollbar-thumb,.nr-answering-answer-content::-webkit-scrollbar-thumb{background:#ddd}
.nr-style-scroll::-webkit-scrollbar-track,.nr-answering-answer-content::-webkit-scrollbar-track{background:#fff}
.nr-style-scroll::-webkit-scrollbar-corner,.nr-answering-answer-content::-webkit-scrollbar-corner{background:transparent}
.nr-answering-answer-open .nr-answering-answer-footer{height:40px;opacity:1;overflow:visible;pointer-events:all}
.nr-answering-answer-bottom-menu{box-shadow:0 -4px 5px 0 rgba(0,0,0,0.03)}
.nr-answering-answer-bottom-menu:after{content:'';display:block;clear:both;height:0}
.nr-answering-sharing-wrapper{vertical-align:middle;display:inline-block;position:relative;margin-top:3px;z-index:3}
.nr-answering-answer-feedback-area{display:inline-block}.nr-answering-answer .nr-channeling-actionbar{float:right}
.nr-answer-rtl .nr-channeling-actionbar{float:left}.nr-feedback-thumbs,.nr-feedback-survey,.nr-channeling-actionbar{background:rgba(255,255,255,0)!important}
.nr-answering-feedback-popup{box-shadow:inset 0 -4px 5px 0 rgba(0,0,0,0.03);position:absolute;background:#fff;overflow:auto;left:0;bottom:0;right:0;top:-50px;z-index:4}
.nr-answering-answer .nr-feedback-survey-dialog textarea{border:1px solid #ddd}
.nr-answering-answer-autolink{display:none;position:absolute;font-size:14px;z-index:1;top:0;left:0;right:0}
.nr-answering-answer-autolink-active .nr-answering-bodycontent{padding-top:30px}
.nr-answering-bodycontent{padding-top:15px;overflow:hidden}.nr-answering-bodycontent a{text-decoration:underline}
.nr-answering-answer-autolink-present{display:block}.nr-answering-answer-autolink-present+.nr-answering-answer-content{bottom:30px!important}
.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar{display:inline-block;vertical-align:top;height:30px}
.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar{width:100%;padding:0;overflow:hidden;cursor:pointer;text-decoration:none}
.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar-bg{z-index:11;position:absolute;top:0;left:0;bottom:0;margin:0;padding:0;height:30px}
.nr-answering-answer-autolink .nr-answering-answer-autolink-progress-bar-text{z-index:12;position:relative;margin:0;top:0;line-height:30px;overflow:hidden;font-size:1.2em;text-align:center;text-overflow:clip;font-weight:300;white-space:nowrap;transition:top .2s}
.nr-answering-answer-autolink .nr-answering-answer-autolink-cancel{position:absolute;top:0;bottom:0;right:0;z-index:13;padding:0 10px;line-height:30px;text-decoration:none;font-size:1.1em;font-weight:300;color:#333;cursor:pointer}
.nr-answering-context-label{font-size:12px;color:#999;display:block;margin:10px 0 -15px}
.nr-answering-attachments{list-style:none;font-size:12px;line-height:20px;padding:0;margin:0}
.nr-answering-attachments a{text-decoration:none;color:#0099c8}.nr-answering-attachments .nr-svg-icon{vertical-align:middle;display:inline-block;margin:0 2px 0 0;width:13px;height:14px}
.nr-answering-scroller{position:relative;overflow:hidden;width:100%}.nr-answering-scroller-pager{position:absolute;overflow:hidden;z-index:2;left:0;right:0;bottom:0;padding:2px 18px}
.nr-answering-scroller-pager ul{list-style:none;text-align:center;padding:0;margin:0}
.nr-answering-scroller-pager li{color:#3e3e3e;display:inline}.nr-answering-scroller-pager .nr-svg-icon{display:block;width:8px;height:14px}
.nr-answering-scroller-disabled .nr-svg-icon *{fill:#aaa}.nr-answering-scroller-pager span,.nr-answering-scroller-prev,.nr-answering-scroller-next{display:inline-block;padding:2px 3px;cursor:pointer}
.nr-answering-scroller-prev{float:left}.nr-answering-scroller-next{float:right}
.nr-answering-scroller-pager-active span{color:#0099c8}.nr-answer-no-channeling .nr-sharing,.nr-answer-no-channeling .nr-feedback-thumbs,.nr-answer-no-channeling .nr-channeling-actionbar,.nr-answer-no-channeling .nr-answering-answer-footer{display:none!important}
.nr-answer-no-channeling .nr-answering-answer-content{padding-bottom:0}.nr-answer-not-collapsible .nr-answering-answer-header,.nr-answer-not-collapsible .nr-answering-answer-title-text{cursor:default}
.nr-answer-not-collapsible .nr-answering-answer-buttons-align{margin:0 -10px}
.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-header,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-content,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-autolink,.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-body{visibility:hidden}
.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-slide{overflow:visible!important}
.nr-answering-answer[channeling-embed-active] .nr-answering-answer-form-container{display:none}
.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{display:block;position:absolute;background:#fff;overflow:auto;padding:0 5px 0 10px;top:0;left:0;right:0;bottom:55px;z-index:1}
.nr-answer-rtl .nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{padding:0 10px 0 5px;z-index:19}
.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-form-container{position:relative;padding-right:10px;margin-top:-50px;overflow:visible;top:auto;left:auto;right:auto;bottom:auto}
.nr-answering-answer.nr-answering-answer-open[channeling-embed-active] .nr-answering-answer-footer{z-index:20;box-shadow:none}
.nr-answering-answer.nr-answering-answer-open[channeling-embed-active="chat"] .nr-answering-answer-form-container{overflow:auto;padding-left:0;right:0}
.nr-answering-feedback-wrapper{float:left}.nr-answering-actionbar-wrapper{overflow:hidden;height:1%}
.nr-answer-rtl .nr-answering-feedback-wrapper{float:right}
.nr-answering-list{margin:5px}.nr-answering-list[data-hover-accordion] .nr-answering-answer{box-shadow:0 3px 4.75px .25px #dfdfdf;background:#fff;border:0;width:100%;margin:0}
.nr-answering-list[data-hover-accordion] .nr-answering-answer:first-child{box-shadow:0 3px 4.75px .25px #dfdfdf!important}
.nr-answering-list[data-hover-accordion] .nr-answering-answer[nr-answering-stack-prev]{box-shadow:0 -3px 4.75px .25px #dfdfdf}
.nr-answering-list[data-hover-accordion] .nr-answering-answer[nr-answering-stack-active]{box-shadow:0 0 4.75px 2.25px #dfdfdf;z-index:999!important}
.nr-answering-list[data-hover-accordion] .nr-answering-answer-header,.nr-answering-list[data-hover-accordion] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion] .nr-answering-answer-footer{transition:none;opacity:initial;border-width:0;height:auto}
.nr-answering-list[data-hover-accordion] .nr-answering-answer-buttons-align{height:50px}
.nr-answering-list[data-hover-accordion] .nr-answering-answer-title{line-height:normal;height:auto;margin:0;color:#3b3b3b}
.nr-answering-list[data-hover-accordion] .nr-answering-answer-open .nr-answering-answer-title{color:#0099c8}
.nr-answering-list[data-hover-accordion] .nr-answering-answer-slide{position:relative}
.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-buttons-align,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-buttons-align{height:35px}
.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-meta,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-meta{font-size:inherit;display:inline}
.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-title,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-title,.nr-answering-list[data-hover-accordion][nr-answering-switch-progress] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-title{padding:0;height:35px;font-size:13px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-prev] .nr-answering-answer-overflow-wrapper,.nr-answering-list[data-hover-accordion][nr-answering-expanded-mode] .nr-answering-answer[nr-answering-stack-next] .nr-answering-answer-overflow-wrapper{min-height:16px}
.nr-answering-list.nr-answering-list-empty{height:0!important}.nr-answering-list[data-hover-accordion-mode^="cards"] .nr-answering-answer{margin:0 0 10px}
.nr-answering-list[data-hover-accordion-mode="cardsfit"]{overflow:hidden}
.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-body{position:absolute;height:auto;top:0;left:0;right:0;bottom:55px}
.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-content,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-content{position:absolute;height:auto;top:0;left:0;right:0;bottom:0}
.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-footer,.nr-answering-list[data-hover-accordion-mode="cardsfit"] .nr-answering-answer-footer{position:absolute;left:0;right:0;bottom:0}
.nr-answering-list[data-hover-accordion-mode="cards"] .nr-answering-answer-content{overflow:hidden}
.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height{height:auto!important;display:block!important}
.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-body,.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-content,.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-footer{position:static!important}
.nr-answering-list .nr-answering-answer-slide.nr-calculate-slide-height .nr-answering-answer-content:after{display:none}
.nr-answering-list[data-hover-accordion-mode="simple"]{height:auto!important}
.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-content,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-footer{overflow:visible;position:relative;top:auto;left:auto;right:auto;bottom:auto}
.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-slide{display:none}
.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-open .nr-answering-answer-slide{display:block}
.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="simple"] .nr-answering-answer-content{height:auto}
.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer{box-shadow:0 3px 4.75px .25px #dfdfdf}
.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-body,.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-content{position:absolute;height:auto;bottom:0;top:0;left:0;right:0}
.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-body{bottom:55px}
.nr-answering-list[data-hover-accordion-mode="single"] .nr-answering-answer-footer{position:absolute;bottom:0;right:0;left:0}</style><style type="text/css">.nr-sharing{display:inline-block;position:relative;width:40px;height:40px}
.nr-sharing .nr-sharing-opener{text-decoration:none;position:absolute;cursor:pointer;top:0;left:0;width:100%;height:100%}
.nr-sharing .nr-sharing-opener .nr-sharing-icon{position:absolute;width:55%;height:55%;top:22.5%;left:22.5%}
.nr-sharing .nr-sharing-drop{box-shadow:0 0 4px 0 #aaa;background:#f5f5f5;position:absolute;top:100%;left:0}
.nr-sharing .nr-sharing-drop-corner{position:absolute;overflow:hidden;width:25px;height:15px;left:10px;bottom:100%}
.nr-sharing .nr-sharing-drop-corner:before{box-shadow:0 0 4px 0 #aaa;transform-origin:50% 50%;transform:rotate(-45deg);position:absolute;background:#f5f5f5;content:'';height:15px;width:15px;z-index:2;top:8px;left:4px}
.nr-sharing .nr-sharing-drop ul{position:relative;white-space:nowrap;list-style:none;z-index:2;padding:0;margin:0}
.nr-sharing .nr-sharing-drop li{display:inline-block;font-size:0}*+html .nr-sharing .nr-sharing-drop li{display:inline}
.nr-sharing .nr-sharing-drop a{height:45px;width:45px;cursor:pointer;display:block}
.nr-sharing .nr-sharing-drop .nr-sharing-icon{vertical-align:middle;display:inline-block;margin:6px;width:32px;height:32px}
.nr-sharing .nr-sharing-icon svg{width:100%;height:100%}.nr-no-svg svg{display:none}
.nr-no-svg .nr-sharing .nr-svg-fallback{background-image:url(//eu1-1.nanorep.com/sdk/sharing/modern/style/icons.png?cv=8D3A592910C15D4);display:inline-block;width:100%;height:100%}
.nr-sharing .nr-sharing-opener .nr-svg-fallback{background-position:-14px -15px}
.nr-sharing .nr-sharing-icon-twitter .nr-svg-fallback{background-position:-10px -218px}
.nr-sharing .nr-sharing-icon-facebook .nr-svg-fallback{background-position:-10px -114px}
.nr-sharing .nr-sharing-icon-clipboard .nr-svg-fallback{background-position:-10px -62px}
.nr-sharing .nr-sharing-icon-mail .nr-svg-fallback{background-position:-10px -166px}</style><style type="text/css">.nr-autocomplete{display:inline-block;position:relative}.nr-autocomplete.nr-autocomplete-default{display:block}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-area{border:1px solid #aaa;overflow:hidden}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons{position:absolute;right:0;left:auto;top:0;margin:0;padding:0;width:35px;height:100%;line-height:50px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-inputwrapper{margin:0;padding:0;overflow:hidden;height:100%;width:100%;float:left}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-input{box-sizing:border-box;padding:17px 35px 17px 18px;color:#3b3b3b;width:100%}
.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-input{padding:17px 18px 17px 35px}
.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-buttons{right:auto;left:0}
.nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-inputwrapper{float:right}
.nr-autocomplete-placeholders{white-space:nowrap;position:absolute;z-index:1;right:0;left:0;top:0}
.nr-autocomplete-placeholder{position:absolute;margin:18px 18px;background:#fff;color:#aaa;transition:opacity .5s linear;-ms-filter:"alpha(opacity=0)";filter:alpha(opacity=0);opacity:0;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;left:0;right:0}
.nr-autocomplete-placeholder.nr-autocomplete-placeholder-active{transition-delay:.5s;-ms-filter:"alpha(opacity=100)";filter:alpha(opacity=100);opacity:1}
.nr-autocomplete .nr-autocomplete-input{background:transparent;border:0;position:relative;font-size:14px;line-height:14px;padding:18px 15px;z-index:2}
.nr-autocomplete .nr-autocomplete-input::-ms-clear{display:none}.nr-autocomplete .nr-autocomplete-input:focus{outline:0}
.nr-autocomplete-buttons{white-space:nowrap;position:absolute;padding:0 10px;z-index:3;right:0;top:50%;margin-top:-12px}
.nr-autocomplete-rtl .nr-autocomplete-buttons{right:auto;left:0}.nr-autocomplete .nr-svg-icon{width:100%;height:100%;display:block}
.nr-autocomplete .nr-svg-icon svg{display:block}.nr-autocomplete .nr-autocomplete-reset{overflow:hidden;position:relative;display:inline-block;vertical-align:middle;cursor:pointer;margin:0 10px;width:10px;height:10px}
.nr-autocomplete .nr-autocomplete-speech{vertical-align:middle;display:inline-block;cursor:pointer;width:25px;height:25px;opacity:1}
.nr-autocomplete .nr-autocomplete-speech-active .nr-autocomplete-speech{animation:nr-autocomplete-voice-active .5s linear infinite;animation-direction:alternate}
@keyframes nr-autocomplete-voice-active{0%{opacity:1}100%{opacity:0}}.nr-autocomplete .nr-autocomplete-drop{border:1px solid #aaa;position:absolute;background:#fff;color:#3a3a3a;top:100%;right:0;left:0;z-index:4;margin-top:-1px}
.nr-autocomplete.nr-autocomplete-position-top .nr-autocomplete-drop{top:auto;bottom:100%}
.nr-autocomplete .nr-autocomplete-drop ul{list-style:none;padding:0;margin:0}
.nr-autocomplete .nr-autocomplete-drop li{width:auto;max-width:none;display:block;padding:5px 18px}
.nr-autocomplete .nr-autocomplete-drop li.nr-autocomplete-active{background:#eee}
.nr-autocomplete .nr-autocomplete-drop li span{cursor:default}.nr-autocomplete-ariahelper{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}
@media screen\0{.nr-autocomplete .nr-autocomplete-input{background:url(//eu1-1.nanorep.com/sdk/query-field/modern/style/none.gif?cv=8D3A59291029055)}
}</style><style type="text/css">.nr-translation-switcher{box-shadow:0 2px 5px 0 rgba(0,0,0,0.15);overflow:hidden;background:#fff;padding:0 19px;font-size:16px;line-height:35px;height:35px}
.nr-translation-switcher-text{float:left}.nr-translation-switcher-checkbox{transition:background-color .3s ease;cursor:pointer;float:right;position:relative;border-radius:12px;background:#cfcfcf;margin:6px 0 0;width:43px;height:23px}
.nr-translation-switcher-checkbox-point{transition:left .3s ease;position:absolute;background:#fff;border-radius:50%;width:21px;height:21px;margin:1px;top:0;left:0}
.nr-translation-switcher-checkbox-active{background:#26d78e}.nr-translation-switcher-checkbox-active .nr-translation-switcher-checkbox-point{left:20px}</style><style type="text/css">.nr-context-bar{background:#fff;font-size:14px;padding:5px 26px;overflow:hidden}
.nr-context-words{float:left}.nr-context-word{vertical-align:middle;display:inline-block;color:#4a4a4a}
.nr-context-word .nr-svg-icon{width:4px;height:4px}.nr-context-word span,.nr-context-word .nr-svg-icon{display:inline-block;vertical-align:middle}
.nr-context-word .nr-svg-icon svg{display:block}.nr-context-button{cursor:pointer;float:right}
.nr-context-button svg{display:inline-block;vertical-align:middle}.nr-context-separator{margin:0 7px}
.nr-context-word:first-child .nr-context-separator{display:none}</style>
	<script type="text/javascript" mini="true">Date.prototype.ToString=function(d,m,n){d=d+"";n=n||false;var j=new Array();var k;for(var f=0;f<d.length;++f){var a=d.charAt(f);if(a==="%"&&f!==d.length-1){k=d.charAt(++f);switch(k){case"d":var b=n?this.getUTCDate():this.getDate();if(b<10){b="0"+b}j.push(b);break;case"m":var h="";if(d.charAt(f+1)==="m"){++f;h=n?this.getUTCMonth():this.getMonth()+1;switch(h){case 1:if(m){h=m.jan}else{h="Jan"}break;case 2:if(m){h=m.feb}else{h="Feb"}break;case 3:if(m){h=m.mar}else{h="Mar"}break;case 4:if(m){h=m.apr}else{h="Apr"}break;case 5:if(m){h=m.may}else{h="May"}break;case 6:if(m){h=m.jun}else{h="Jun"}break;case 7:if(m){h=m.jul}else{h="Jul"}break;case 8:if(m){h=m.aug}else{h="Aug"}break;case 9:if(m){h=m.sep}else{h="Sep"}break;case 10:if(m){h=m.oct}else{h="Oct"}break;case 11:if(m){h=m.nov}else{h="Nov"}break;case 12:if(m){h=m.dec}else{h="Dec"}break}}else{h=n?this.getUTCMonth():this.getMonth()+1;if(h<10){h="0"+h}}j.push(h);break;case"y":var o=this.getYear();if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11)&&(!ISQ.Http.browser.isOpera||ISQ.Http.browser.full>="opera10.52")){o+=1900}j.push(o);break;case"Y":var o=this.getYear();if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11)&&(!ISQ.Http.browser.isOpera||ISQ.Http.browser.full>="opera10.52")){o+=1900}if(o){j.push(o.toString().substr(2,2))}break;case"H":var e=n?this.getUTCHours():this.getHours();if(e<10){e="0"+e}j.push(e);break;case"M":var g=n?this.getUTCMinutes():this.getMinutes();if(g<10){g="0"+g}j.push(g);break;case"S":var l=n?this.getUTCSeconds():this.getSeconds();if(l<10){l="0"+l}j.push(l);break;case"t":var l=n?this.getUTCMilliseconds():this.getMilliseconds();if(l<10){l="0"+l}j.push(l);break;default:j.push(d.charAt(f-1));j.push(d.charAt(f));break}}else{j.push(a)}}return j.join("")};String.prototype.equals=function(h,g,d){if(!g){g=0}if(g+h.length>this.length){return false}var f=0;var e=g+h.length;for(var c=g;c<e;++c,++f){var a=this.charCodeAt(c);var b=h.charCodeAt(f);if(a===b){continue
}if(!d){return false}if(a>90){a-=32}if(b>90){b-=32}if(a!==b){return false}}return true};String.prototype.startsWith=function(b){if(this.length<b.length){return false}for(var a=0;a<b.length;++a){if(this.charAt(a)!==b.charAt(a)){return false}}return true};String.prototype.endsWith=function(b){if(this.length<b.length){return false}var c=b.length-1;for(var a=this.length-1;a>this.length-1-b.length;--a){if(b.charAt(c--)!==this.charAt(a)){return false}}return true};String.prototype.contains=function(a){return this.indexOf(a)!==-1};String.prototype.Trim=function(e){if(e){var d=this.startsWith_repeat(e);if(d<this.length){var a=this.endsWith_repeat(e);if(d!=0||a!=this.length-1){return this.substring(d,a+1)}else{return this.toString()}}else{return""}}else{var c=0;var b=this.length;for(;/\s/.test(this.charAt(c))&&c<b;++c){}if(c==b){return""}for(;/\s/.test(this.charAt(b-1));--b){}if(c==0&&b==this.length){return this+""}return this.substring(c,b)}};String.prototype.startsWith_repeat=function(b){if(this.length<b.length){return 0}var c=0;var a=0;for(;a<this.length;a++){if(this.charAt(a)!=b.charAt(c)){a-=c;break}if(c==b.length-1){c=0}else{c++}}return a};String.prototype.endsWith_repeat=function(b){if(this.length<b.length){return this.length}var c=b.length-1;var a=this.length-1;for(;a>0;a--){if(this.charAt(a)!=b.charAt(c)){a+=c;break}if(c==0){c=b.length-1}else{c--}}return a};String.prototype.LastIndexOf=function(d,c){if(this.length===0||d===null){return -1}if(d.length>this.length){return -1}if(isNaN(c)){c=this.length-d.length}var a=false;for(var b=c;b>=0;--b){a=true;for(var e=0;e<d.length;++e){if(this.charAt(b+e)!==d.charAt(e)){a=false;break}}if(a){return b}}return -1};String.prototype.LastIndexOf_char=function(a,c){c=c||this.length-1;for(var b=c;b>=0;--b){if(this.charAt(b)===a){return b}}return -1};String.prototype.setCharAt=function(b,a){if(b>this.length-1){return str}return this.substr(0,b)+a+this.substr(b+1)};String.prototype.countCharAppearances=function(a){var b=0;for(var c=0;c<this.length;++c){if(this.charAt(c)==a){++b}}return b
};String.prototype.indexOfAny=function(e,d){var a=this.length;for(var b=0;b<e.length;++b){var c=this.indexOf(e[b],d);if(c!=-1&&c<a){a=c}}if(a==this.length){return -1}return a};String.prototype.replaceMultipleOccurancesWithOne=function(a,e){var d=this.indexOf(a);if(d===-1){return this.toString()}var f=[];var c=d;var g;for(var b=0;b<this.length;++b){g=this.charAt(b);if(g!==a){f.push(g)}else{if(c!=b-1){f.push(e)}c=b}}return f.join("")};String.prototype.replacer=function(a){var d=null;for(var b=0;b<this.length;++b){var c;for(c=0;c<a.length;++c){if(this.charAt(b)===a[c].from){if(!d){d=[];d.push(this.substring(0,b))}if(a[c].to){d.push(a[c].to)}break}}if(c===a.length&&d){d.push(this.charAt(b))}}if(d){return d.join("")}else{return this}};String.prototype.escaper=function(){return this.replacer(String.escapeData)};String.escapeData=[{from:"\r",to:"\\r"},{from:"\n",to:"\\n"},{from:"\t",to:"\\t"},{from:"'",to:"'"},{from:'"',to:'\\"'},{from:"\\",to:"\\\\"}];String.prototype.replaceAll=function(b,c,a){if(typeof(a)==="undefined"){a=true}return this.replace(new RegExp(b.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(a?"gi":"g")),(typeof(c)=="string")?c.replace(/\$/g,"$$$$"):c)};String.prototype.firstLetterUpperCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)};if(!document.querySelectorAll){document.querySelectorAll=function(c){var d=document.createElement("style"),b=[],a;document.documentElement.firstChild.appendChild(d);document._qsa=[];d.styleSheet.cssText=c+"{x-qsa:expression(document._qsa && document._qsa.push(this))}";window.scrollBy(0,0);d.parentNode.removeChild(d);while(document._qsa.length){a=document._qsa.shift();a.style.removeAttribute("x-qsa");b.push(a)}document._qsa=null;return b}}if(!document.querySelector){document.querySelector=function(b){var a=document.querySelectorAll(b);return(a.length)?a[0]:null}};</script>
	<script type="text/javascript" mini="true">ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.stateEnum={KEY:5,VALUE:6};ISQ.Tools.stringToPairArray=function(h,b,k,i,j){var c=h.length;if(c===0){return null}var f=new Array();i=i!==false;j=j!==false;var g=ISQ.Tools.stateEnum.KEY;var d="";var a=new Array();var e=0;while(e<c){switch(g){case ISQ.Tools.stateEnum.KEY:if(h.charAt(e)!==b){a.push(h.charAt(e))}else{g=ISQ.Tools.stateEnum.VALUE;d=ISQ.Tools.getStringValue(a,i);a=new Array()}break;case ISQ.Tools.stateEnum.VALUE:if(h.charAt(e)!==k){a.push(h.charAt(e))}else{g=ISQ.Tools.stateEnum.KEY;f[d]=ISQ.Tools.getStringValue(a,j);a=new Array()}break}++e}if(g===ISQ.Tools.stateEnum.VALUE){f[d]=ISQ.Tools.getStringValue(a)}return f};ISQ.Tools.getStringValue=function(a,b){b=b===true;var c=unescape(a.join("").toString()).Trim();if(b){c=c.toLowerCase()}return c};ISQ.Tools.getNumber=function(c,a){var d=typeof(c);if(typeof(c)==="number"){return c}if(typeof(c)!=="string"){c=c.toString()}var b;if(c.contains(".")){b=parseFloat(c)}else{b=parseInt(c)}if(isNaN(b)){return typeof(a)==="number"?a:NaN}return b};ISQ.Tools.verifyNumber=function(b){var a=ISQ.Tools.getNumber(b);if(isNaN(a)){throw ("ISQ.Tools.verifyNumber: given value is not a number")}};ISQ.Tools.getEnumValue=function(a,c){if(typeof(a)!=="object"||c===null){return null}for(var b in a){if(a[b]==c){return b}}return null};ISQ.Tools.getOpacityFromRGBA=function(b){if(b==="transparent"){return 0}var a=b.LastIndexOf(",");if(a===-1){throw ("ISQ.Tools.getOpacityFromRGBA(): Invalid string")}if(b.countCharAppearances(",")===2){return 100}b=b.substring(a+1);return parseInt(b)};ISQ.Tools.RGBtoHex=function(c,b,a){return ISQ.Tools.toHex(c)+ISQ.Tools.toHex(b)+ISQ.Tools.toHex(a)};ISQ.Tools.RGBtoHex2=function(a){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+ISQ.Tools.toHex(a[1])+ISQ.Tools.toHex(a[2])+ISQ.Tools.toHex(a[3])};ISQ.Tools.toHex=function(a){if(typeof(a)==="string"){a=parseInt(a)}if(typeof(a)!=="number"||a===0){return"00"}a=Math.max(0,a);a=Math.min(a,255);a=Math.round(a);return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)
};ISQ.Tools.hexToRGB=function(a){var b={r:-1,g:-1,b:-1};a=(a.charAt(0)=="#")?a.substring(1):a;b.r=parseInt(a.substring(0,2),16);b.g=parseInt(a.substring(2,4),16);b.b=parseInt(a.substring(4,6),16);return b};ISQ.Tools.getPrettyNumber=function(k,c,e,g){k=parseFloat(k);if(isNaN(k)){return k}var m="";if(e){if(k>=1073741824){k=k/1073741824;m="GB"}else{if(k>=1048576){k=k/1048576;m="MB"}else{if(k>=1024){k=k/1024;m="KB"}else{m="B"}}}}else{if(g&&k>=1000){k=k/1000;m="K"}}if(isNaN(c)&&c!==true&&c!==false){c=true}switch(c){case false:break;case 0:k=parseInt(k);break;case true:if(Math.abs(k)<10){c=2}else{if(Math.abs(k)<100){c=1}else{c=0}}k=k.toFixed(c);break;default:k=k.toFixed(c);break}if(k%1===0){k=parseInt(k)}var l=k+"";var d=null;var h=l.indexOf(".");if(h!==-1){d=l.substr(h);var n=-1;for(var f=0;f<d.length;++f){if(d.charAt(f)==="0"){if(n==-1){n=f}}else{n=-1}}if(n!=-1){d=d.substr(0,n)}if(d.length===1){d=null}l=l.substr(0,h)}k=parseInt(l);if((k/1000)>=1){var a=new Array(l.length+Math.floor((l.length-1)/3));var j=a.length;var b=0;for(var f=l.length-1;f>-1;--f){if(f<l.length-1&&b%3===0){a[j--]=","}a[j--]=l.charAt(f);++b}}else{a=[];a.push(k)}if(d!==""){a.push(d)}if(m){a.push(m)}return a.join("")};ISQ.Tools.formatPercentage=function(c){var b;var a=Math.abs(c);if(a>1000){b=(c/1000).toFixed(0)+"K "}else{if(a<1){b=c.toFixed(2)}else{if(a<10){b=c.toFixed(1)}else{b=c.toFixed(0)}}}return b+"%"};ISQ.Tools.toArray=function(d){if(d instanceof Array){return d}var b=new Array();if(typeof(d.length)!=="number"){b.push(d)}else{var c;if(d.length===0){for(c in d){b[c]=d[c]}}else{if(d.length>10000){_debug().insertText("Error converting object to an array. Object length: "+d.length);return new Array()}for(c=0;c<d.length;++c){b[c]=d[c]}}}return b};ISQ.Tools.getDateTicks=function(b,d,e,f,j){b=b.Trim();if(b===""){return -1}var c,g,k;var h=d.indexOf("dd");c=b.substr(h,2);if(isNaN(c)){return -1}h=d.indexOf("mm");g=b.substr(h,2);if(isNaN(g)){return -1}h=d.indexOf("yyyy");if(h===-1){h=d.indexOf("yy")}k=b.substr(h,4);if(isNaN(k)){return -1}var i=new Date();
e=typeof(e)=="undefined"?i.getHours():e;f=typeof(f)=="undefined"?i.getMinutes():f;j=typeof(j)=="undefined"?i.getSeconds():j;var a=new Date(k,g-1,c,e,f,j);return Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())};ISQ.Tools.getIPString=function(c){var b=false;if(c<0){c=-c;b=true}var d=new Array();if(b){d.push(256-(c%256))}else{d.push(c%256)}for(var a=2;a>=0;a--){c=Math.floor(c/256);d.push(".");if(b){d.push(255-(c%256))}else{d.push(c%256)}}return d.join("")};ISQ.Tools.getIPNum=function(c){var d=c.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(d){var b=0,e;for(var a=1;a<=4;a++){e=parseInt(d[a]);if(e<0||e>255){return null}b=b*256+e}return b}return null};ISQ.Tools.isIPsValid=function(d){if(typeof d==="string"){if(d.length==0){return true}d=d.split(",")}else{if(typeof d!=="array"){return false}}for(var a=0;a<d.length;a++){var e=d[a].split("-");if(e.length==1){if(ISQ.Tools.getIPNum(e[0])==null){return false}}else{if(e.length==2){var b=ISQ.Tools.getIPNum(e[0]);if(b==null){return false}var c=ISQ.Tools.getIPNum(e[1]);if(c==null||b>c){return false}}else{return false}}}return true};ISQ.Tools.addRemoveClickOutsideElementsListener=function(c,d,a,b){if(!ISQ.Tools.clickOutsideListeners){ISQ.Tools.clickOutsideListeners=new Array()}if(d){if(!c){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid id")}if(!ISQ.Base.isDerivedOf(b,ISQ.Handler)){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid handler")}if(!ISQ.Tools.clickOutsideListeners[c]){ISQ.Tools.clickOutsideListeners[c]={}}if(ISQ.Tools.clickOutsideListeners[c].registered){if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.removeEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)}}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}ISQ.Tools.clickOutsideListeners[c].func=function(e){if(ISQ.Tools.clickOutsideListeners[c].ignoreNextClick){ISQ.Tools.clickOutsideListeners[c].ignoreNextClick=false;
return}if(ISQ.Tools.clickOutsideElements(e,a)){b.handle(e)}};ISQ.Tools.clickOutsideListeners[c].registered=true;if(document.addEventListener){document.addEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.addEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)}}else{if(document.attachEvent){document.attachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}else{if(ISQ.Tools.clickOutsideListeners[c]&&ISQ.Tools.clickOutsideListeners[c].registered){ISQ.Tools.clickOutsideListeners[c].registered=false;if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.removeEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)}}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}}};ISQ.Tools.fireMouseEvents=function(c,b){if(document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent(b,true,false);c.dispatchEvent(a)}else{if(document.createEventObject){c.fireEvent("on"+b)}}};ISQ.Tools.clickOutsideElements=function(c,b){if(!b||!(b instanceof Array)){return false}var a=ISQ.Html.getDomEvent(c);while(a.target!==document.body&&a.target!==null){for(var d in b){if(a.target==b[d]){return false}}a.target=a.target.parentNode}if(a.target!==document.body&&a.target!==null){return false}return true};ISQ.Tools.ignoreNextClickOutsideElementsEvent=function(a){if(!ISQ.Tools.clickOutsideListeners[a]){return}ISQ.Tools.clickOutsideListeners[a].ignoreNextClick=true};ISQ.Data=initializeNS("ISQ.Data");ISQ.Data.getEmailAddress=function(e){var a=/[\w-_\&.]+\@[\w-_]+\.+[\w-_.]+/g;var d=e.match(a);if(d===null||d.length===0){return null}var f=new RegExp();f.compile("[~!#$%^&*()=`'\"\\/><?[]{}|]","g");var b=new Array();for(var c=0;c<d.length;++c){if(d[c].search(f)===-1){b.push(d[c])}}return b};ISQ.Data.checkString=function(e,f){var d=true;var c;switch(f){case"email":if(e.contains("..")){return false
}if(e.contains(".@")||e.contains("@.")){return false}var a=/^[\w-_\&\+.]+\@([\w-_]+\.){1,}[\w-_]+$/;var g=new RegExp("[~!#$%^&*()=''\"\\/><?[]{}|]","g");return(e.search(g)===-1)&&(e.match(a))&&(e!=="");break;case"number":var b=/^[-]?[0-9]+\.?[0-9]?$/;return b.test(e);break;case"phone":var b=/^\+?[0-9\s(-)-\[\].\ ]*[#x]?[0-9\s]*?$/;return b.test(e);break;case"username":c=new RegExp(".+@.+");return(c.test(e));break;case"url":c=new RegExp("^https?://([a-zA-Z0-9]+.){1,}[a-zA-Z0-9]+");return(c.test(e));break}return d};ISQ.Data.validateRangeInputs=function(d,g,f,a){var e=d.value.Trim();if(!e){return}var h=g.value.Trim();if(!h){return}var b=ISQ.Tools.getDateTicks(e,a);var c=ISQ.Tools.getDateTicks(h,a);if(b>c){if(f===d){d.value=h}else{g.value=e}}};ISQ.Tools.forceNumericValue=function(a,b){if(b){a.setAttribute("maxLength",b)}$(document).ready(function(){$(a).keydown(function(c){if(c.keyCode==46||c.keyCode==8||c.keyCode==9||c.keyCode==27||(c.keyCode==65&&c.ctrlKey===true)||(c.keyCode>=35&&c.keyCode<=39)){return}else{if(c.shiftKey||(c.keyCode<48||c.keyCode>57)&&(c.keyCode<96||c.keyCode>105)){c.preventDefault()}}})})};ISQ.Tools.extend=function(b,h){h=h||{};b=b===true;var d=arguments.length;var f=null;for(var c=2;c<d;c++){f=arguments[c];if(typeof(f)==="undefined"||f===null){continue}for(var e in f){var g=h[e],a=f[e];if(h===a){continue}if(typeof(a)==="undefined"){continue}if(b&&a!==null&&typeof(a)==="object"&&!a.nodeType){if(typeof(a.isDerivedOf)!=="function"||!a.isDerivedOf(ISQ.Base)){h[e]=ISQ.Tools.extend(true,g||(a.length!=null?[]:{}),a)}else{h[e]=a}}else{if(a!==undefined){h[e]=a}}}}return h};ISQ.Tools.addArrayToGC=function(b,a){b.add({dispose:function(){for(var c in a){a[c].dispose();a[c]=null}a=null}})};ISQ.Tools.blinkElement=function(a,d,c,b){if(c){ISQ.CSS.addClass(a,b);d--}else{ISQ.CSS.removeClass(a,b)}if(d){setTimeout(function(){ISQ.Tools.blinkElement(a,d,!c,b)},150)}};ISQ.Tools.toggleBlinkElement=function(a,b,c){if(a.blinkInterval){clearInterval(a.blinkInterval);ISQ.CSS.removeClass(a,b);delete a.blinkInterval;return}a.blinkInterval=setInterval(function(){if(a.blinkOn){a.blinkOn=false;
ISQ.CSS.removeClass(a,b)}else{a.blinkOn=true;ISQ.CSS.addClass(a,b)}},c||800)};ISQ.Data.autoEllipseText=function(n,p,b,e,c,a){var o;var d=false;a=a||null;if(e){o=e.offsetWidth}else{o=ISQ.Data.checkTextWidth(n,b);e=ISQ.Html._("ellipsisDiv")}var k=n;if(o>p){d=true;e.innerHTML="";var m=0,f=n.length,j;var l=f;do{j=m+Math.floor((f-m)/2);var h=false;var g;for(g=f;g>0&&(g>j||h);--g){if(n.charAt(g)===">"){h=true}else{if(n.charAt(g)==="<"){h=false}}}j=g;e.innerHTML=n.substr(0,j)+"...";if(e.offsetWidth<p){m=j}else{f=j}if(l===j){break}l=j}while((f-m)>1);if(e.offsetWidth>p||l==j){n=n.substr(0,j-1)+"..."}else{n=e.innerHTML}}else{if(c){return}}if(b){b.innerHTML=n;if(d){b.setAttribute("title",k)}}else{return n}};ISQ.Data.autoCssEllipseText=function(c,a,b){if(a){a.innerHTML=c;var d=ISQ.Data.checkTextWidth(c,a);if(d>b){ISQ.Console.Common.createTooltip(a,c,".plainTooltip");a.style.maxWidth=b+"px";a.style.whiteSpace="nowrap";a.style.overflow="hidden";a.style.textOverflow="ellipsis"}}return c};ISQ.Data.checkTextWidth=function(c,b){var a=ISQ.Html._("ellipsisDiv");if(!a){a=createDiv(null,"position:fixed;white-space:nowrap;top:0px;left:0px;z-index:-5;visibility:hidden");a.id="ellipsisDiv";document.body.insertBefore(a,document.body.firstChild)}else{clearNode(a)}ISQ.Data.copyElementFontStyle(b,a);a.innerHTML=c;return a.offsetWidth};ISQ.Data.copyElementFontStyle=function(b,c){if(!c||!b){return}var a=null;if(ISQ.Http.browser.isIE9&&document.body.style.overflow){a=document.body.style.overflow;document.body.style.overflow="hidden"}c.style.fontSize=ISQ.CSS.getElementStyle(b,"font-size");c.style.fontWeight=ISQ.CSS.getElementStyle(b,"font-weight");c.style.fontFamily=ISQ.CSS.getElementStyle(b,"font-family");c.style.fontStyle=ISQ.CSS.getElementStyle(b,"font-style");c.style.textDecoration=ISQ.CSS.getElementStyle(b,"text-decoration");if(a){document.body.style.overflow=a}};ISQ.Data=initializeNS("ISQ.Data");ISQ.Data.indexOfArray=function(a,c){var b=a.length;while(b--){if(a[b]==c){return b}}return -1};ISQ.Data.inArray=function(a,b){return ISQ.Data.indexOfArray(a,b)!==-1
};ISQ.Data.isObjectEmpty=function(b){for(var a in b){return false}return true};ISQ.Data.isObjectEmptyIE8=function(b){for(var a in b){if(b[a]===undefined){continue}return false}return true};ISQ.Data.parseJson=function(json){try{if(window.JSON&&JSON.parse){return JSON.parse(json)}var t=json.replace(/"(\\.|[^"\\])*"/g,"");if(!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(t)){return eval("("+json+")")}}catch(e){}};ISQ.Data.jsonToString=function(f,g,d){if(!d&&!window.Prototype){try{return JSON.stringify(f)}catch(a){}}if(!g){g=new Array()}if(f instanceof Array){g.push("[");for(var c=0;c<f.length;++c){if(c!==0){g.push(",")}ISQ.Data.jsonToString(f[c],g,true)}g.push("]")}else{if(f===null){g.push("null")}else{if(typeof(f)==="object"){g.push("{");var b=true;for(var c in f){if(!b){g.push(",")}b=false;g.push('"');g.push(c);g.push('"');g.push(":");ISQ.Data.jsonToString(f[c],g,true)}g.push("}")}else{if(typeof(f)==="string"){g.push('"');g.push(f.escaper());g.push('"')}else{g.push(f)}}}}if(!d){return g.join("")}};ISQ.Data.blockCreditCardNumbers=function(h,f){var e=/(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})/g;var k=h.replace(/ /g,"").replace(/-/g,"").replace(/\n/g,"").replace(/\r/g,"").replace(/\./g,"");var m=k;var d=k.match(e);if(!d||d.length==0){return h}for(var a=0;a<d.length;++a){var c=d[a];var g=new Array();for(var b=0;b<c.length;++b){g.push(f)}m=m.replace(c,g.join(""))}var l=0;for(var a=0;a<h.length;++a){if(h.charAt(a)==" "||h.charAt(a)=="-"){continue}if(k.charAt(l)!=m.charAt(l)){h=h.setCharAt(a,f)}l++}return h};ISQ.Data.htmlEncode=function(b){var a=createElement("div");a.innerHTML=b;if(typeof(a.innerText)!=="undefined"){return a.innerText.Trim()}else{if(typeof(a.textContent)!=="undefined"){return a.textContent.Trim()}}return a.innerHTML.Trim()};ISQ.Data.htmlDecode=function(b){var a=createElement("div");a.innerHTML=b;return a.innerHTML.Trim()};ISQ.Data.getTextFromHtml=function(b){var a=createElement("div");a.innerHTML=b;return($(a).text()).Trim()
};ISQ.Data.stripHtml=function(b,e,c){var h=0,g=-1,d=0;var a=new Array();var f;e=e||"";h=b.indexOf("<"+e,h);while(h>-1){a.push(b.substr(d,h-d));g=b.indexOf(">",h);d=h+1;if(g!=-1){f=b.substr(h+1,g-h-1).toLowerCase();if(f.startsWith("br")||f.startsWith("p")){if(c){a.push("<br/>")}else{a.push("\n ")}}d=g+1}else{a.push("<")}h=b.indexOf("<",d)}if(d!=b.length){a.push(b.substr(d,b.length-d))}return a.join("")};ISQ.Data.unHTML=function(a){if(!a){return""}a=a.replace(/\</g,"&lt;");a=a.replace(/\>/g,"&gt;");a=a.replace(/&lt;wbr\/&gt;/g,"<wbr/>");return a};ISQ.Data.toHTML=function(a){if(!a){return""}a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");return a};ISQ.Data.escapeJS=function(a){if(!a){return""}a=a.replace(/\'/g,"\\'");return a};ISQ.Data.processHTMLstring=function(H,s){s=s||{};var t={text:"",script:""};if(!H){return t}var y=H.indexOf("<");if(y===-1){if(s.decodeEntities){H=ISQ.Data.htmlEncode(H)}if(s.wordBreak){t.text=ISQ.Data.breakWords(H)}else{t.text=H}return t}var f=-1;var o=0;var p=-1;var v=new Array();var u=null;var F;do{if(o!==y){F=H.substring(o,y);if(s.decodeEntities){F=ISQ.Data.htmlEncode(F)}if(s.wordBreak){ISQ.Data.breakWords(F,v,true)}else{v.push(F)}}p=y;f=H.indexOf(">",y+1);if(f===-1){break}var m="";var A=H.charAt(y+1);var n=false;if(H.charAt(y+2)===" "&&(A==="A"||A==="a")){n=true;f=H.indexOf("</a>",y);if(f===-1){f=H.indexOf("</A>",y);if(f===-1){break}}f+=4;var z=H.substring(y,f);var C=createDiv(null);C.innerHTML=z;var k=C.firstChild;if(C.parentNode!=null){C.parentNode.removeChild(C)}C=null;if(k.nodeName!=="A"){break}var c=k.getAttribute("nanoreplinkid");if(c&&s.questionTagFunction){s.questionTagFunction(v,c,k.innerHTML,z,s.questionTagCustomParams||null)}else{var j=k.getAttribute("href");if(j&&j!="javascript:void(0)"&&j.charAt(0)!="#"&&s.allowLinksInSameWindow!==true){var a;if(s.url&&!j.startsWith("\\")&&((a=j.indexOf(":/"))===-1)&&((a=j.indexOf(":\\"))===-1)&&!j.startsWith("mailto:")){if(j.startsWith("/")){var x=0;if(s.url.startsWith("https://")){x+=8}else{if(s.url.startsWith("http://")){x+=7}}var e=s.url.substring(0,s.url.indexOf("/",x));
j=e+j}else{var q=s.url.indexOf("?");var r=s.url.indexOf("#");var g;if(q===-1){if(r===-1){g=s.url.length-1}else{g=r}}else{if(r===-1){g=q}else{g=Math.min(q,r)}}var I=s.url.substring(0,s.url.LastIndexOf("/",g)+1);j=I+j}k.setAttribute("href",j)}var b=k.getAttribute("target");switch(b){case"blank":case"top":case"_blank":case"_top":case"_parent":case"parent":break;default:k.setAttribute("target","_blank");break}}else{if(j&&j.charAt(0)=="#"&&s.namedAnchorFunction){k.setAttribute("onclick","return "+s.namedAnchorFunction+"(this.hash)")}}m=elementToString(k,ISQ.Data.processHTMLstring(k.innerHTML,s).text)}}else{if(H.equals("table ",y+1)||H.equals("table>",y+1)){var E=H.indexOf("</table>",y);if(E===-1){E=H.indexOf("</TABLE>",y)}if(E!=-1){E+=8;var z=H.substring(y,E);var C=createDiv(null);C.innerHTML=z;var l=C.firstChild;if(C.parentNode!=null){C.parentNode.removeChild(C)}C=null;if(l.nodeName!=="TABLE"){break}n=true;f=E;for(var w in l.rows){var G=l.rows[w];for(var B in G.childNodes){var d=G.cells.length;if(G.childNodes[B].nodeName!="TD"){continue}G.childNodes[B].setAttribute("width",100/d+"%");G.childNodes[B].style.width=100/d+"%"}}var J=l.getAttribute("width");l.setAttribute("width","100%");l.style.width="100%";l.style.tableLayout="fixed";m=elementToString(l,ISQ.Data.processHTMLstring(l.innerHTML,s).text)}}else{if(H.equals("script ",y+1)||H.equals("script>",y+1)&&s.doNotProcessScriptTag!==true){var i=H.indexOf(">",y+6);if(i===-1){break}var h=H.indexOf("</",i);if(h===-1){break}if(u===null){u=new Array()}u.push(H.substring(i+1,h));u.push(";");var D=H.indexOf(">",h+2);if(D!==-1){f=++D;n=true}}}}if(!n){m=H.substring(y,++f)}v.push(m);o=f;y=H.indexOf("<",o)}while(y!==-1);if(f===-1){F=H.substring(p);if(s.decodeEntities){F=ISQ.Data.htmlEncode(F)}if(s.wordBreak){ISQ.Data.breakWords(F,v,true)}else{v.push(F)}}else{F=H.substring(o);if(s.decodeEntities){F=ISQ.Data.htmlEncode(F)}if(s.wordBreak){ISQ.Data.breakWords(F,v,true)}else{v.push(F)}}t.text=v.join("");if(u){t.script=u.join("")}return t};ISQ.Data.getDBAnswerAsHtml=function(h,g,d,c,b,f){try{return ISQ.Data.processHTMLstring(h,{wordBreak:g!==true,questionTagFunction:d,questionTagCustomParams:c,namedAnchorFunction:b,decodeEntities:false,url:f})
}catch(a){if(typeof(_debug)==="function"){_debug().insertText("ISQ.Data.getDBAnswerAsHtml exception: "+h)}return{text:"",error:a}}};ISQ.Data.createLink=function(e,h,f,c,b,g,a){if(!e||!h){return""}if(b&&g){e=ISQ.Data.unHTML(ISQ.Data.breakWords(e))}else{if(b){e=ISQ.Data.breakWords(e)}else{if(g){e=ISQ.Data.unHTML(e)}}}if(a&&!h.startsWith("http://")&&!h.startsWith("https://")){h="http://"+h}var d=new Array();d.push('<a href="');d.push(h);if(f){d.push('" target="');d.push(f)}if(c){d.push('" class="');d.push(c)}d.push('">');d.push(e);d.push("</a>");return d.join("")};ISQ.Data.parseURL=function(a,b){if(!a){return""}return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(c){return ISQ.Data.createLink(c,c,b)})};ISQ.Data.breakWords=function(e,d,f){if(!e){if(d){return}return""}var c=new ISQ.Data.EntityParser(e);var b={};var a;if(d){a=d}else{a=new Array()}while(c.getNextSegment(b)){ISQ.Data.breakWords_internal(b.segment,a,f);if(b.entity){a.push(b.entity)}}c.dispose();if(d){return}return a.join("")};ISQ.Data.breakWords_internal=function(f,e,g){if(!f||!e){return}var h="<wbr/>";if(ISQ.Http.browser.full.startsWith("safari3")||ISQ.Http.browser.isOpera||ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){h="&#8203;"}if(g&&ISQ.Http.browser.isIE8){h="&shy;"}var c=f.length;var j=0;var d=-1;var a=false;var b=0;for(b=0;b<c;++b){if(f.charAt(b)===" "){j=0}else{if(j>=20&&j%2===0){e.push(f.substring(d+1,b+1));d=b;e.push(h);++j}else{++j}}}e.push(f.substring(d+1))};ISQ.Data.EntityParser=ISQ.Base.extend({name:"ISQ.Data.EntityParser"});ISQ.Data.EntityParser.prototype.ctor=function(a){if(!a){throw ("ISQ.Data.EntityParser: no txt")}this.mOriginalText=a;this.mIndex=0};ISQ.Data.EntityParser.prototype.dtor=function(){};ISQ.Data.EntityParser.prototype.getNextSegment=function(c){if(this.mIndex==this.mOriginalText.length){return false}var b=this.mOriginalText.indexOf("&",this.mIndex);var a=this.mOriginalText.indexOf(";",b);if(b===-1||a===-1||a-b>8){c.entity=null;c.segment=this.mOriginalText.substring(this.mIndex);
this.mIndex=this.mOriginalText.length}else{if(b!==-1){c.entity=this.mOriginalText.substring(b,++a);var d=this.mOriginalText.substring(this.mIndex,b);c.segment=d;this.mIndex=a}}return true};ISQ.Data.escapeXml=function(a){return a.replace(/[<>&'"]/g,function(b){switch(b){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})};ISQ.Data.EntityParser.prototype.mOriginalText;ISQ.Data.EntityParser.prototype.mLastEntityFound=null;ISQ.Data.EntityParser.prototype.mAlteredText;ISQ.Data.EntityParser.prototype.mIndex=0;ISQ.Data.EntityParser.prototype.mNextIndex=-1;ISQ.Tools.FileLoader=initializeNS("ISQ.Tools.FileLoader");ISQ.Tools.FileLoader.ajaxPool=null;ISQ.Tools.FileLoader.getAjaxPool=function(){if(ISQ.Tools.FileLoader.ajaxPool===null){var a=(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7)?1:2;ISQ.Tools.FileLoader.ajaxPool=new Ajax.Pool("/kb",a,Ajax.methodEnum.GET,Ajax.typeEnum.ASYNC,10000);ISQ.Tools.FileLoader.ajaxPool.incomingResponseEvent.addHandler(ISQ.Tools.FileLoader.loadResponse);if(typeof("sessionGC")==="function"){sessionGC().add(ISQ.Tools.FileLoader.ajaxPool)}}return ISQ.Tools.FileLoader.ajaxPool};ISQ.Tools.FileLoader.load=function(src,handler,tag,splitInHeader){if(handler&&!ISQ.Base.isDerivedOf(handler,ISQ.Handler)){handler=new ISQ.Handler(handler)}var responseHandler=function(text){try{var simpleUrl=src;var ndx=src.indexOf("?");if(ndx!=-1){simpleUrl=src.substring(0,ndx)}else{if((ndx=src.indexOf("#"))!=-1){simpleUrl=src.substring(0,ndx)}}if(simpleUrl.endsWith(".css")){ISQ.CSS.addNewStyle(text,"fileloaderStyleSheet",splitInHeader)}else{if(simpleUrl.endsWith(".js")||simpleUrl.endsWith(".repo")){try{var scriptTag=document.createElement("script");scriptTag.type="text/javascript";scriptTag.charset="utf-8";scriptTag.id="testing";scriptTag.defer=true;scriptTag.async=true;scriptTag.text=text;document.getElementsByTagName("head")[0].appendChild(scriptTag)}catch(e){eval(text)}}}}catch(ex){_debug().insertText("ISQ.Tools.FileLoader.loadResponse: Error loading file ( "+response.request.mUrl+").\n"+ex)
}if(handler){handler.handle(tag,text)}};if(typeof(ISQ.Com)!=="undefined"&&typeof(ISQ.Com.TinyAjax)!=="undefined"){ISQ.Com.TinyAjax.create({url:src,method:ISQ.Com.TinyAjax.enumMethod.GET,timeout:5000,handler:function(status,text){if(status!=ISQ.Com.TinyAjax.enumStatus.OK){return}responseHandler(text)}})}else{var request=new Ajax.Request(src,Ajax.methodEnum.GET,Ajax.typeEnum.ASYNC);request.disableProcessJson=true;request.incomingResponseEvent.addHandler(function(response){if(response.type!==Ajax.responseTypeEnum.OK){return}responseHandler(response.text);setTimeout(function(){request.dispose()},0)});request.send()}};ISQ.Tools.appendScript=function(d,a){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.defer=true;if(d instanceof Array){d=d.join("")}if(a){var b=function(){if(ISQ.Base.isDerivedOf(a,ISQ.Handler)){a.handle()}else{a()}};if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){c.onload=b}else{c.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}b()}}}c.src=d;document.getElementsByTagName("head")[0].appendChild(c);return c};ISQ.Tools.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(j){var k="";var a,b,c,d,e,f,g;var h=0;while(h<j.length){a=j.charCodeAt(h++);b=j.charCodeAt(h++);c=j.charCodeAt(h++);d=a>>2;e=((a&3)<<4)|(b>>4);f=((b&15)<<2)|(c>>6);g=c&63;if(isNaN(b)){f=g=64}else{if(isNaN(c)){g=64}}k=k+this._keyStr.charAt(d)+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)}return k},decode:function(j){var k="";var a,b,c;var d,e,f,g;var h=0;j=j.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<j.length){d=this._keyStr.indexOf(j.charAt(h++));e=this._keyStr.indexOf(j.charAt(h++));f=this._keyStr.indexOf(j.charAt(h++));g=this._keyStr.indexOf(j.charAt(h++));a=(d<<2)|(e>>4);b=((e&15)<<4)|(f>>2);c=((f&3)<<6)|g;k=k+String.fromCharCode(a);if(f!=64){k=k+String.fromCharCode(b)}if(g!=64){k=k+String.fromCharCode(c)}}return k},_utf8_encode:function(d){d=d.replace(/\r\n/g,"\n");var e="";for(var b=0;
b<d.length;b++){var a=d.charCodeAt(b);if(a<128){e+=String.fromCharCode(a)}else{if((a>127)&&(a<2048)){e+=String.fromCharCode((a>>6)|192);e+=String.fromCharCode((a&63)|128)}else{e+=String.fromCharCode((a>>12)|224);e+=String.fromCharCode(((a>>6)&63)|128);e+=String.fromCharCode((a&63)|128)}}}return e},_utf8_decode:function(e){var d="";var b=0;var a=c1=c2=0;while(b<e.length){a=e.charCodeAt(b);if(a<128){d+=String.fromCharCode(a);b++}else{if((a>191)&&(a<224)){c2=e.charCodeAt(b+1);d+=String.fromCharCode(((a&31)<<6)|(c2&63));b+=2}else{c2=e.charCodeAt(b+1);c3=e.charCodeAt(b+2);d+=String.fromCharCode(((a&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return d},encodeString:function(d){if(!d){return""}var a=false;for(var b=0;b<d.length&&!a;++b){if(d.charCodeAt(b)>127){a=true}}var c;if(a){d=ISQ.Tools.Base64._utf8_encode(d)}return ISQ.Tools.Base64.encode(d)},decodeString:function(a){var d=ISQ.Tools.Base64.decode(a);var b=false;for(var c=0;c<d.length&&!b;++c){if(d.charCodeAt(c)>127){b=true}}if(b){d=ISQ.Tools.Base64._utf8_decode(d)}return d}};ISQ.Data.getURLencodedString=function(a){if(!a){return""}return escape(ISQ.Tools.Base64._utf8_encode(a))};ISQ.Data.getURLdecodedString=function(a){if(!a){return""}return ISQ.Tools.Base64._utf8_decode(unescape(a))};ISQ.Tools.compareArrays_flat=function(a,b,d){if(a===b){return true}if(!a&&!b){return true}if(!a||!b){return false}if(a.length!==b.length){return false}for(var c=0;c<a.length;++c){if(a[c]!==b[c]){return false}}return true};ISQ.Tools.compareArrays=function(a,b,f){if(a===b){return true}if(!a&&!b){return true}if(!a||!b){return false}if(a.length!==b.length){return false}for(var d in a){var g=a[d];var c=false;for(var e in b){if(b[e]===g){c=true;break}}if(!c){return false}}if(f){return true}return ISQ.Tools.compareArrays(b,a,true)};ISQ.Tools.reverseArray=function(a){var d=a.length;for(var b=0;b<a.length;++b){var e=0;for(var c=1;c<d;++c){var f=a[e];a[e]=a[c];a[c]=f;++e}--d}};ISQ.Tools.disposeArray=function(a){if(!a){return}for(var b=0;b<a.length;++b){if(!a[b]){continue}if(a[b] instanceof Array){ISQ.Tools.disposeArray(a[b]);
continue}if(typeof(a[b].dispose)==="function"){a[b].dispose()}a[b]=null;delete a[b]}};ISQ.Tools.isInCSVList=function(c,b){if(typeof(c)!=="string"||typeof(b)!=="string"){return false}if(!c||!b){return false}b=b.Trim();c=c.Trim();var a=c.indexOf(b);if(a==-1){return false}if(a>0&&c[a-1]!=","){return false}if(a+b.length<c.length&&c[a+b.length]!=","){return false}return true};ISQ.Tools.getUniformLanguageCode=function(a){if(!a){return null}var b=ISQ.Tools.UniformLanguageCode[a];if(b){return b}return a};ISQ.Tools.UniformLanguageCode={he:"iw","zh-CHS":"zh","zh-CHT":"zh","zh-CN":"zh"};ISQ.Tools.isLanguageRTL=function(a){a=ISQ.Tools.getUniformLanguageCode(a);switch(a){case"iw":case"ar":case"yi":case"ur":return true}return false};ISQ.Tools.Languages={ar:"Arabic",bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek, Modern",en:"English",es:"Spanish",et:"Estonian",fi:"Finnish",fr:"French",hi:"Hindi",hu:"Hungarian",id:"Indonesian",it:"Italian",iw:"Hebrew",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian, Moldavian, Moldovan",ru:"Russian",sk:"Slovak",sl:"Slovene",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",yi:"Yiddish",zh:"Chinese"};ISQ.Tools.LanguageSynonym={"zh-CHS":"Chinese","zh-CHT":"Chinese","zh-CN":"Chinese",he:"Hebrew"};ISQ.Tools.getLanguageName=function(b){var a=ISQ.Tools.Languages[b];if(!a){a=ISQ.Tools.LanguageSynonym[b]}if(!a){return null}return a};ISQ.Tools.pagerSeperator="<page_separator/>";ISQ.Data.uniqueId=function(){return Math.floor(Math.random()*10000000)};ISQ.Data.nowMili=new Date().getTime();ISQ.Data.dayInMs=24*60*60*1000;ISQ.Tools.HTML=initializeNS("ISQ.Tools.HTML");ISQ.Tools.HTML.openPopup=function(g,c,h,a,e){var b=(screen.width/2)-(h/2);var f=(screen.height/2)-(a/2);var d=e||"no";return window.open(g,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+d+", resizable=no, copyhistory=no, width="+h+", height="+a+", top="+f+", left="+b)};ISQ.Data.decodeEntities=function(b){if(typeof(jQuery)==="function"){return $("<div/>").html(b).text()
}try{if(!ISQ.Data.entityDecoderElement){ISQ.Data.entityDecoderElement=createElement("textarea",document.body,"display:none;visibility:hidden;position:absolute;top:100px;left:13px;")}ISQ.Data.entityDecoderElement.innerHTML=ISQ.Data.unHTML(b);return ISQ.Data.entityDecoderElement.value}catch(a){return b}};ISQ.Data.parseArticleContext=function(f,e){result=new Array();var d=0,b=false,c=0,a;while(d<f.length){d=f.indexOf(",",c);if(d===-1){d=f.length}b=!b;if(b){a=f.substring(c,d++)}else{if(!e){result[a]=f.substring(c,d++)}else{result.push(f.substring(c,d++))}}c=d}return result};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.setSelectionRange=function(a,d,c){if(a.setSelectionRange){a.setSelectionRange(d,c);return}if(a.createTextRange){var b=a.createTextRange();b.collapse(true);b.moveEnd("character",c);b.moveStart("character",d);b.select()}};ISQ.Tools.createEditableDateInput=function(){var d=$('<div class="input-date-container">');d.on("click",function(i){if(i.target.nodeName!="INPUT"){$(a).focus()}});var a=createInput("text");ISQ.Tools.forceNumericValue(a,2);$(a).keydown(function(i){if(i.keyCode==39){return}var k=this.value;if(k.length==2&&this.cursor>2){if(k>31){this.cursor=0;ISQ.Tools.setSelectionRange(this,0,0);this.value="01"}else{try{$(f).focus()}catch(i){}}}if(i.keyCode==13){d.trigger("change",c());return}var k=this.value;if(e(i.keyCode)){var j=b(i.keyCode);if(this.cursor==0){this.value=j+this.value.substr(-1);this.cursor++;setTimeout(function(){ISQ.Tools.setSelectionRange(this,1,2)}.bind(this),20)}else{if(this.cursor==1){this.value=this.value.substr(0,1)+j;this.cursor++;ISQ.Tools.setSelectionRange(this,2,2);$(f).focus()}}}if(i.keyCode==39){if(this.cursor<=1){this.cursor++;ISQ.Tools.setSelectionRange(this,this.cursor,this.cursor)}else{$(f).focus();i.preventDefault()}i.preventDefault()}});$(a).keydown(function(i){});$(a).click(function(){try{$(this).focus()}catch(i){}});$(a).focus(function(){try{ISQ.Tools.setSelectionRange(this,0,2);this.cursor=0}catch(i){}});$(a).blur(function(){if(this.value>31){this.value="31"}if(this.value=="00"){this.value="01"
}if(this.value.length==1){this.value="0"+this.value}d.trigger("change",c())});var f=createInput("text");ISQ.Tools.forceNumericValue(f,2);$(f).keydown(function(i){if(i.keyCode==39){return}var k=this.value;if(k.length==2&&this.cursor>2){if(k>12){this.cursor=0;ISQ.Tools.setSelectionRange(this,0,0);this.value="01"}else{try{$(h).focus()}catch(i){}}}if(i.keyCode==13){d.trigger("change",c());return}var k=this.value;if(e(i.keyCode)){var j=b(i.keyCode);if(this.cursor==0){this.value=j+this.value.substr(-1);this.cursor++;setTimeout(function(){ISQ.Tools.setSelectionRange(this,1,2)}.bind(this),20)}else{if(this.cursor==1){this.value=this.value.substr(0,1)+j;this.cursor++;ISQ.Tools.setSelectionRange(this,2,2);try{$(h).focus()}catch(i){}}}}if(i.keyCode==39){if(this.cursor<=1){this.cursor++;ISQ.Tools.setSelectionRange(this,this.cursor,this.cursor)}else{try{$(h).focus()}catch(i){}}i.preventDefault()}if(i.keyCode==37){if(this.cursor>0){this.cursor--;ISQ.Tools.setSelectionRange(this,this.cursor,this.cursor)}else{try{$(a).focus()}catch(i){}}i.preventDefault()}});$(f).keydown(function(i){});$(f).click(function(){try{$(this).focus()}catch(i){}});$(f).focus(function(i){setTimeout(function(){try{ISQ.Tools.setSelectionRange(this,0,2);this.cursor=0}catch(j){}}.bind(this),0)});$(f).blur(function(){if(this.value>12){this.value="12"}if(this.value=="00"){this.value="01"}if(this.value.length==1){this.value="0"+this.value}d.trigger("change",c())});var h=createInput("text",null,null,null,null,".year");ISQ.Tools.forceNumericValue(h,4);$(h).keydown(function(i){if(i.keyCode==13){d.trigger("change",c());return}var k=this.value;if(e(i.keyCode)){var j=b(i.keyCode);if(this.cursor==0){this.value=j+this.value.substr(1);this.cursor++;setTimeout(function(){ISQ.Tools.setSelectionRange(this,1,4)}.bind(this),20)}else{if(this.cursor<4){this.value=this.value.substr(0,this.cursor)+j+this.value.substr(this.cursor+1);this.cursor++;if(this.cursor==4&&g){try{g.find("input:first").focus()}catch(i){}i.preventDefault()}else{setTimeout(function(){ISQ.Tools.setSelectionRange(this,this.cursor,4)
}.bind(this),20)}if(this.value=="0000"){this.value=new Date().getFullYear()}}}}if(i.keyCode==37){if(this.cursor>0){this.cursor--;ISQ.Tools.setSelectionRange(this,this.cursor,this.cursor)}else{try{$(f).focus()}catch(i){}}i.preventDefault()}if(i.keyCode==39){if(this.cursor<=3){this.cursor++;ISQ.Tools.setSelectionRange(this,this.cursor,this.cursor)}else{if(g){try{g.find("input:first").focus()}catch(i){}i.preventDefault()}}i.preventDefault()}if(g&&i.keyCode==9){try{g.find("input:first").eq(0).focus()}catch(i){}i.preventDefault()}});$(h).blur(function(){var i=$(this).val();if(i.length<4){$(this).val(new Date().getFullYear());this.cursor=0;ISQ.Tools.setSelectionRange(this,0,0)}if(i=="0000"){this.value=new Date().getFullYear()}d.trigger("change",c())});$(h).click(function(){try{$(this).focus()}catch(i){}});$(h).focus(function(){setTimeout(function(){try{ISQ.Tools.setSelectionRange(this,0,4);this.cursor=0}catch(i){}}.bind(this),0)});function c(){return a.value+"/"+f.value+"/"+h.value}function e(i){return i>=48&&i<=57||i>=96&&i<=105}function b(i){return String.fromCharCode((96<=i&&i<=105)?i-48:i)}d.setValue=function(i){a.value=i.substr(0,2);f.value=i.substr(3,2);h.value=i.substr(6,4)};var g=null;d.linkToDate=function(i){g=i};d.append(a);d.append($("<span>/</span>"));d.append(f);d.append($("<span>/</span>"));d.append(h);return d};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.Storage=initializeNS("ISQ.Tools.Storage");ISQ.Tools.Storage.HTML5=false;try{ISQ.Tools.Storage.HTML5=window.localStorage!==null&&typeof(window.localStorage)!=="undefined"}catch(ex){}ISQ.Tools.Storage.get=function(a,b){if(!ISQ.Tools.Storage.HTML5){return null}if(b){return window.sessionStorage.getItem(a)}else{return window.localStorage.getItem(a)}};ISQ.Tools.Storage.set=function(a,c,b){if(!ISQ.Tools.Storage.HTML5){return false}if(b){window.sessionStorage.setItem(a,c)}else{window.localStorage.setItem(a,c)}return true};ISQ.Tools.Storage.remove=function(a,b){if(!ISQ.Tools.Storage.HTML5){return}if(b){window.sessionStorage.removeItem(a)}else{window.localStorage.removeItem(a)
}};ISQ.Tools.Storage.clear=function(a){if(!ISQ.Tools.Storage.HTML5){return}if(a){window.sessionStorage.clear()}else{window.localStorage.clear()}};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.foreach=function(a,b){for(var c in a){var d=null;if(ISQ.Base.isDerivedOf(b,ISQ.Handler)){d=b.handle(a[c],c)}else{d=b(a[c],c)}if(d===false){break}}};window.foreach=ISQ.Tools.foreach;ISQ.Tools.iteration=function(a,c,b){if(!b){for(var d=0;d<a.length;++d){var e=null;if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){e=c.handle(a[d],d)}else{e=c(a[d],d)}if(e===false){break}}}else{for(var d=a.length-1;d>=0;--d){var e=null;if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){e=c.handle(a[d],d)}else{e=c(a[d],d)}if(e===false){break}}}};window.iteration=window._it=ISQ.Tools.iteration;</script>
	<script type="text/javascript" mini="true">if(typeof(ISQ.Infra)==="undefined"){ISQ.Infra={}}ISQ.Infra.Queue=ISQ.Base.extend({name:"ISQ.Infra.Queue"});ISQ.Infra.Queue.prototype.ctor=function(){};ISQ.Infra.Queue.prototype.dtor=function(){this.reset();delete this.mArray};ISQ.Infra.Queue.prototype.mArray=null;ISQ.Infra.Queue.prototype.mLength=0;ISQ.Infra.Queue.prototype.mDndx=0;ISQ.Infra.Queue.prototype.mEndx=0;ISQ.Infra.Queue.prototype.mCount=0;ISQ.Infra.Queue.prototype.count=function(){return this.mCount};ISQ.Infra.Queue.prototype.init=function(){this.mLength=5;this.mArray=new Array(this.mLength);for(var a=0;a<this.mLength;++a){this.mArray[a]=null}};ISQ.Infra.Queue.prototype.enqueue=function(a){if(a===null){return}if(this.mArray===null){this.init()}if(this.mArray[this.mEndx]!==null){this.enlarge()}this.mArray[this.mEndx++]=a;if(this.mEndx===this.mLength){this.mEndx=0}++this.mCount};ISQ.Infra.Queue.prototype.priorityEnqueue=function(c){if(c===null){return}if(this.mArray===null){this.init()}var a=new Array();a.push(c);var b=this.mCount+1;while(this.mCount>0){a.push(this.dequeue())}this.mDndx=0;this.mEndx=a.length;if(this.mLength<b){this.mLength*=2}this.mCount=b;this.mArray=a};ISQ.Infra.Queue.prototype.enlarge=function(){var a=new Array();var b=this.mCount;while(this.mCount>0){a.push(this.dequeue())}this.mDndx=0;this.mEndx=a.length;this.mLength*=2;this.mCount=b;this.mArray=a};ISQ.Infra.Queue.prototype.dequeue=function(){if(this.mCount===0){return null}if(this.mDndx===this.mLength){this.mDndx=0}var a=this.mArray[this.mDndx];this.mArray[this.mDndx++]=null;--this.mCount;return a};ISQ.Infra.Queue.prototype.reset=function(){this.mDndx=0;this.mEndx=0;this.mCount=0;if(this.mArray!==null){for(var a=0;a<this.mArray.length;++a){if(this.mArray[a]){if(typeof(this.mArray[a].dispose)==="function"){this.mArray[a].dispose()}delete this.mArray[a]}}}};</script>
	<script type="text/javascript" mini="true">if(typeof(ISQ.Infra)==="undefined"){ISQ.Infra={}}ISQ.Infra.LinkedList=ISQ.Base.extend({name:"ISQ.Infra.LinkedList"});ISQ.Infra.LinkedList.prototype.ctor=function(){};ISQ.Infra.LinkedList.prototype.dtor=function(){var b=this.mHead;while(b!==null){var a=b;b=b.mNext;a.dispose()}this.mHead=null;this.mTail=null;this.mCount=0};ISQ.Infra.LinkedList.prototype.mHead=null;ISQ.Infra.LinkedList.prototype.mTail=null;ISQ.Infra.LinkedList.prototype.mCount=0;ISQ.Infra.LinkedList.prototype.head=function(){return this.mHead};ISQ.Infra.LinkedList.prototype.tail=function(){return this.mTail};ISQ.Infra.LinkedList.prototype.count=function(){return this.mCount};ISQ.Infra.LinkedList.prototype.addFirst=function(b){var a=b;if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){a=new ISQ.Infra.LinkedListNode(b,this)}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.addFirst() ")}if(this.mHead===null){this.mHead=a;this.mTail=a}else{this.mHead.mPrevious=a;a.mNext=this.mHead;this.mHead=a}++this.mCount;return a};ISQ.Infra.LinkedList.prototype.addLast=function(b){var a=b;if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){a=new ISQ.Infra.LinkedListNode(b,this)}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.addLast() tried to remove non-existing value")}if(this.mTail===null){this.mHead=a;this.mTail=a}else{this.mTail.mNext=a;a.mPrevious=this.mTail;this.mTail=a}++this.mCount;return a};ISQ.Infra.LinkedList.prototype.setFirst=function(a){if(this.head()===a){return a}this.remove(a,false);this.addFirst(a);return a};ISQ.Infra.LinkedList.prototype.setLast=function(a){if(this.tail()===a){return a}this.remove(a,false);this.addLast(a);return a};ISQ.Infra.LinkedList.prototype.remove=function(a,b){if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){throw ("ISQ.Infra.LinkedList.remove() Unexpected node type")}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.remove() tried to remove non-existing value")}if(this.mCount===1){this.mHead=null;this.mTail=null}else{if(this.mHead===a){this.mHead=a.mNext;this.mHead.mPrevious=null}else{if(this.mTail===a){this.mTail=a.mPrevious;
this.mTail.mNext=null}else{a.mPrevious.mNext=a.mNext;a.mNext.mPrevious=a.mPrevious}}}a.mNext=null;a.mPrevious=null;--this.mCount;if(b!==false){a.dispose()}};ISQ.Infra.LinkedList.prototype.contains=function(b){var a=this.mHead;while(a!==null){if(a===b){return true}a=a.mNext}return false};ISQ.Infra.LinkedListNode=ISQ.Base.extend({name:"ISQ.Infra.LinkedListNode"});ISQ.Infra.LinkedListNode.prototype.ctor=function(){this.mData=arguments[0];this.mList=arguments[1];this.mPrevious=null;this.mNext=null};ISQ.Infra.LinkedListNode.prototype.dtor=function(){this.mData=null;delete this.mData;delete this.mNext;delete this.mPrevious;delete this.mList};ISQ.Infra.LinkedListNode.prototype.mData=null;ISQ.Infra.LinkedListNode.prototype.mNext=null;ISQ.Infra.LinkedListNode.prototype.mPrevious=null;ISQ.Infra.LinkedListNode.prototype.mList=null;ISQ.Infra.LinkedListNode.prototype.data=function(){if(arguments.length===0){return this.mData}this.mData=arguments[0]};ISQ.Infra.LinkedListNode.prototype.next=function(){return this.mNext};ISQ.Infra.LinkedListNode.prototype.previous=function(){return this.mPrevious};</script>
	<script type="text/javascript" mini="true">if(typeof(ISQ.Infra)==="undefined"){ISQ.Infra={}}ISQ.Infra.Stack=ISQ.Base.extend({name:"ISQ.Infra.Stack"});ISQ.Infra.Stack.prototype.ctor=function(){};ISQ.Infra.Stack.prototype.dtor=function(){this.clear()};ISQ.Infra.Stack.prototype.mArr=null;ISQ.Infra.Stack.prototype.mIndex=-1;ISQ.Infra.Stack.prototype.pop=function(){var a=this.mArr[this.mIndex];this.mArr[this.mIndex--]=null;return a};ISQ.Infra.Stack.prototype.peek=function(){if(this.mIndex===-1){return null}return this.mArr[this.mIndex]};ISQ.Infra.Stack.prototype.count=function(){return this.mIndex};ISQ.Infra.Stack.prototype.push=function(a){if(!this.mArr){this.mArr=new Array();this.mIndex=-1}this.mArr[++this.mIndex]=a};ISQ.Infra.Stack.prototype.clear=function(){this.mArr=null};</script>
	<script type="text/javascript" mini="true">ISQ.Html=initializeNS("ISQ.Html");ISQ.Html=initializeNS("ISQ.Html");ISQ.Html._=function(d,a){if(!d){return null}var b=null;if(typeof(d)==="string"){if(ISQ.Http.browser.app==="ie"){if(!ISQ.Html.IE_idMap){ISQ.Html.IE_idMap=new Array();if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)==="function"){sessionGC().add(ISQ.Html.IE_idMap);ISQ.Html.IE_idMap.dispose=function(){ISQ.Html.IE_idMap=new Array()}}}if(!a){b=ISQ.Html.IE_idMap[d];if(ISQ.Http.browser.isIE&&b){var c=b;do{c=c.parentNode}while(c!==null&&c!==document);if(c===null){b=null}}}if(!b||a===true){b=document.getElementById(d);if(b){ISQ.Html.IE_idMap[d]=b}}}else{b=document.getElementById(d)}}else{if(typeof(d)==="object"&&typeof(d.parentNode)!=="undefined"&&typeof(d.nodeName)!=="undefined"){b=d}}return b};if(typeof(window._)!=="function"){window._=ISQ.Html._}ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.pageDirection=function(){if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection=document.body.getAttribute("dir");if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection=ISQ.CSS.getValue(document.body,"direction")}if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection="ltr"}}return ISQ.Html._pageDirection};ISQ.Html.setMinHeight=function(a,b){a=ISQ.Html._(a);if(a===null){return}if(a.offsetHeight<b){a.style.height=b+"px"}};ISQ.Html.actualHeight=function(d){var c=$(d);var e=c.height();var b=c.css("border-top");if(b){e+=parseInt(b)}var a=c.css("border-bottom");if(a){e+=parseInt(a)}var g=c.css("padding-top");if(g){e+=parseInt(g)}var f=c.css("padding-bottom");if(f){e+=parseInt(f)}return e};ISQ.Html.redraw=function(a){var b=ISQ.CSS.getElementStyle(a,"display");a.style.display="inline";var c=a.offsetHeight;a.style.display=b;return c};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.position_new=function(a,c){if(c){return ISQ.Html.position(a,c)}if(typeof(a.getBoundingClientRect)=="undefined"||!a.getBoundingClientRect){return ISQ.Html.position(a,c)}var b=a.getBoundingClientRect();b.x=b.left;b.y=b.top;return b};ISQ.Html.position=function(b,g,d){var f={x:-1,y:-1};b=ISQ.Html._(b);if(b===null){return f
}var e=ISQ.Html._(g)||document.body;f.x=0;f.y=0;var a=b;while(a!==null&&a!==e&&a!==document.body&&a.nodeName!=="HTML"){f.x+=a.offsetLeft;f.x-=a.scrollLeft;var c=parseInt(ISQ.CSS.getElementStyle(a,"margin-left"));f.x-=isNaN(c)?0:c;f.y+=a.offsetTop;f.y-=a.scrollTop;a=a.offsetParent}if(e!==document.body&&(a===document.body||a===null)){f.x=-1;f.y=-1}b=null;g=null;return f};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.screenSize=function(){return ISQ.Html.pageSize(true)};ISQ.Html.scrollBarWidth=function(){return 17};ISQ.Html.scrollBarWidth_afterCheck=function(){var a=ISQ.Html.screenSize();if(document.body.scrollHeight===a.h){return 0}return ISQ.Html.scrollBarWidth()};ISQ.Html.pageSize=function(b,a){var c={w:0,h:0};var d={};if(self&&self.innerHeight){d.w=self.innerWidth;d.h=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){d.w=document.documentElement.clientWidth;d.h=document.documentElement.clientHeight}else{if(document.body){d.w=document.body.clientWidth;d.h=document.body.clientHeight}}}var f=ISQ.Html.getScroll("width");var e=ISQ.Html.getScroll("height");if(b||d.w>f){c.w=d.w}else{c.w=f}if((b&&(!ISQ.Http.browser.isIPad||window.top!==window))||d.h>e){c.h=d.h}else{c.h=e}if(e>d.h){if(ISQ.CSS.getElementStyle(document.body,"overflow")==="hidden"){return c}if(ISQ.CSS.getElementStyle(document.body,"overflow-y")==="hidden"){return c}if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE11){if(!a){c.w-=ISQ.Html.scrollBarWidth()}}else{if(a){c.w+=ISQ.Html.scrollBarWidth()}}}return c};ISQ.Html.getScroll=function(c){c=c||"top";var a=0;var b=0;if(c==="top"){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11){b=window.pageYOffset}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollY)}b=ISQ.Html.returnMaxScroll(b,document.body.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollTop)}else{if(c==="left"){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11){b=window.pageXOffset
}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollX)}b=ISQ.Html.returnMaxScroll(b,document.body.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollLeft)}else{if(c==="height"){switch(ISQ.Http.browser.app){case"chrome":case"ff":case"opera":case"safari":if(window.top===window){b=document.documentElement.scrollHeight}else{b=document.body.scrollHeight}break;default:b=ISQ.Html.returnMaxScroll(b,document.body.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollHeight);break}}else{if(c==="width"){b=ISQ.Html.returnMaxScroll(b,document.body.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollWidth)}}}}return b};ISQ.Html.returnMaxScroll=function(a,b){if(a>b){return a}return b};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.getEventTarget=function(a){return window.event?window.event.srcElement:a?a.target:null};ISQ.Html.getDomEvent=function(a){if(ISQ.Base.isDerivedOf(a,ISQ.Html.DomEvent)){return a}return new ISQ.Html.DomEvent(a)};ISQ.Html.DomEvent=ISQ.Base.extend({name:"ISQ.Html.DomEvent"});ISQ.Html.DomEvent.prototype.ctor=function(a){this.domEvent=window.event||a;this.target=ISQ.Html.getEventTarget(a)};ISQ.Html.DomEvent.prototype.dtor=function(){delete target;delete domEvent};ISQ.Html.DomEvent.prototype.cancel=function(){if(!this.domEvent){return}if(this.domEvent.stopPropagation){this.domEvent.stopPropagation()}if(this.domEvent.cancelBubble!=null){this.domEvent.cancelBubble=true}};ISQ.Html.DomEvent.prototype.target=null;ISQ.Html.DomEvent.prototype.domEvent=null;window.addEvents=function(a,b,c){if(a.addEventListener){if(b.indexOf("on")==0){b=b.charAt(2).toLowerCase()+b.slice(3)}a.addEventListener(b,c)}else{if(a.attachEvent){if(b.indexOf("on")!=0){b="on"+b}a.attachEvent(b,c)}}};window.removeEvents=function(a,b,c){if(a.removeEventListener){if(b.indexOf("on")==0){b=b.charAt(2).toLowerCase()+b.slice(3)
}a.removeEventListener(b,c)}else{if(a.detachEvent){if(b.indexOf("on")!=0){b="on"+b}a.detachEvent(b,c)}}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.Scroll=initializeNS("ISQ.Html.Scroll");ISQ.Html.Scroll.init=function(){if(ISQ.Html.Scroll._wasInit){return}ISQ.Html.Scroll._wasInit=true;ISQ.Html.Scroll._running=true;if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)==="function"){sessionGC().add(ISQ.Html.Scroll)}ISQ.Html.Scroll.event=new ISQ.Event();if(window.addEventListener){window.addEventListener("scroll",ISQ.Html.Scroll.scrollHandler,true)}else{if(window.attachEvent){window.attachEvent("onscroll",ISQ.Html.Scroll.scrollHandler)}}if(ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6){ISQ.Html.Scroll.interval=30;ISQ.Html.Scroll.diff=65}};ISQ.Html.Scroll.scrollHandler=function(a){if(!ISQ.Html.Scroll._running){return}var c=ISQ.Html.getEventTarget(a);if(c!==null&&c!==document){return}var b={left:ISQ.Html.getScroll("left"),top:ISQ.Html.getScroll("top")};if(ISQ.Html.Scroll.mLastScroll&&ISQ.Html.Scroll.mLastScroll.left===b.left&&ISQ.Html.Scroll.mLastScroll.top===b.top){return}ISQ.Html.Scroll.mLastScroll=b;ISQ.Html.Scroll.timeStamp=new Date().getTime();if(ISQ.Html.Scroll.timer!==null){return}ISQ.Html.Scroll.timer=setInterval(function(){if(ISQ.Html.Scroll._running){var d=new Date().getTime();if(d-ISQ.Html.Scroll.timeStamp<ISQ.Html.Scroll.diff){return}ISQ.Html.Scroll.event.dispatch(ISQ.Html.Scroll.mLastScroll,ISQ.Html.pageSize(),ISQ.Html.screenSize())}clearInterval(ISQ.Html.Scroll.timer);ISQ.Html.Scroll.timer=null},ISQ.Html.Scroll.interval)};ISQ.Html.Scroll.dispose=function(){ISQ.Html.Scroll._running=false;if(window.removeEventListener){window.removeEventListener("scroll",ISQ.Html.Scroll.scrollHandler,true)}else{if(window.detachEvent){window.detachEvent("onscroll",ISQ.Html.Scroll.scrollHandler)}}ISQ.Html.Scroll.event.dispose();ISQ.Html.Scroll.event=null};ISQ.Html.Scroll.interval=5;ISQ.Html.Scroll.diff=11;ISQ.Html.Scroll.timer=null;ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.ReSize=initializeNS("ISQ.Html.ReSize");
ISQ.Html.ReSize.enumListenTo={width:1,height:2,both:3};ISQ.Html.ReSize.init=function(a,b){if(!this.mListenTo){this.mListenTo=0}this.mListenTo|=a;ISQ.Html.ReSize.mSkipTimer|=b===true;if(ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._wasInit=true;ISQ.Html.ReSize._running=true;if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)=="function"){sessionGC().add(ISQ.Html.ReSize)}ISQ.Html.ReSize.Event=new ISQ.Event();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.screenSize();ISQ.Html.ReSize.mWindowSize_browserEvent=ISQ.Html.screenSize();if(window.addEventListener){window.addEventListener("resize",ISQ.Html.ReSize.resizeHandler,true);if(ISQ.Http.browser.isMobile){window.addEventListener("zoom",ISQ.Html.ReSize.resizeHandler,true)}}else{if(window.attachEvent){window.attachEvent("onresize",ISQ.Html.ReSize.resizeHandler)}}};ISQ.Html.ReSize.resizeHandler=function(){if(!ISQ.Html.ReSize._running){return}var a=ISQ.Html.screenSize();if(!ISQ.Html.ReSize.mWindowSize_thisEvent||!ISQ.Html.ReSize.mWindowSize_browserEvent){return}if((a.w===ISQ.Html.ReSize.mWindowSize_thisEvent.w||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.width)===0)&&(a.h===ISQ.Html.ReSize.mWindowSize_thisEvent.h||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.height)===0)){if(ISQ.Html.ReSize.timer){clearInterval(ISQ.Html.ReSize.timer);ISQ.Html.ReSize.timer=null}return}if((a.w===ISQ.Html.ReSize.mWindowSize_browserEvent.w||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.width)===0)&&(a.h===ISQ.Html.ReSize.mWindowSize_browserEvent.h||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.height)===0)){return}ISQ.Html.ReSize.mWindowSize_browserEvent=a;ISQ.Html.ReSize.timeStamp=new Date().getTime();if(ISQ.Html.ReSize.timer!=null&&typeof(ISQ.Html.ReSize.timer)!=="undefined"){return}if(ISQ.Html.ReSize.mSkipTimer){ISQ.Html.ReSize.Event.dispatch();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.ReSize.mWindowSize_browserEvent;return}ISQ.Html.ReSize.timer=setInterval(function(){if(ISQ.Html.ReSize._running){var b=new Date().getTime();if(b-ISQ.Html.ReSize.timeStamp<ISQ.Html.ReSize.diff){return
}ISQ.Html.ReSize.Event.dispatch();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.ReSize.mWindowSize_browserEvent}clearInterval(ISQ.Html.ReSize.timer);ISQ.Html.ReSize.timer=null},ISQ.Html.ReSize.interval)};ISQ.Html.ReSize.wasInit=function(){if(typeof(this._wasInit)==="undefined"){return false}return this._wasInit};ISQ.Html.ReSize.suspend=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=false};ISQ.Html.ReSize.resume=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=true};ISQ.Html.ReSize.dispose=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=false;if(window.removeEventListener){window.removeEventListener("resize",ISQ.Html.ReSize.resizeHandler,true);if(ISQ.Http.browser.isMobile){window.removeEventListener("zoom",ISQ.Html.ReSize.resizeHandler,true)}}else{if(window.detachEvent){window.detachEvent("onresize",ISQ.Html.ReSize.resizeHandler)}}ISQ.Html.ReSize.Event.dispose();ISQ.Html.ReSize.Event=null};ISQ.Html.ReSize.interval=100;ISQ.Html.ReSize.diff=199;ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.WindowActive=initializeNS("ISQ.Html.WindowActive");ISQ.Html.WindowActive.isInit=false;ISQ.Html.WindowActive.hidden=null;ISQ.Html.WindowActive.event=null;ISQ.Html.WindowActive.init=function(){if(ISQ.Html.WindowActive.isInit){return}ISQ.Html.WindowActive.isInit=true;ISQ.Html.WindowActive.event=new ISQ.Event();ISQ.Html.WindowActive.hidden="hidden";if(ISQ.Html.WindowActive.hidden in document){document.addEventListener("visibilitychange",ISQ.Html.WindowActive.onchange)}else{if((ISQ.Html.WindowActive.hidden="mozHidden") in document){document.addEventListener("mozvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if((ISQ.Html.WindowActive.hidden="webkitHidden") in document){document.addEventListener("webkitvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if((ISQ.Html.WindowActive.hidden="msHidden") in document){document.addEventListener("msvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if("onfocusin" in document){document.onfocusin=document.onfocusout=ISQ.Html.WindowActive.onchange
}else{window.onpageshow=window.onpagehide=window.onfocus=window.onblur=ISQ.Html.WindowActive.onchange}}}}}};ISQ.Html.WindowActive.onchange=function(b){var a=true,d=false;var c={focus:a,focusin:a,pageshow:a,blur:d,focusout:d,pagehide:d};b=b||window.event;var e;if(b.type in c){e=c[b.type]}else{e=this[ISQ.Html.WindowActive.hidden]?d:a}ISQ.Html.WindowActive.event.dispatch(e)};ISQ.Html.WindowActive.dispose=function(){if(!ISQ.Html.WindowActive.isInit){return}if("hidden" in document){document.removeEventListener("visibilitychange",ISQ.Html.WindowActive.onchange)}else{if("mozHidden" in document){document.removeEventListener("mozvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if("webkitHidden" in document){document.removeEventListener("webkitvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if("msHidden" in document){document.removeEventListener("msvisibilitychange",ISQ.Html.WindowActive.onchange)}else{if("onfocusin" in document){document.onfocusin=document.onfocusout=null}else{window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}}}}}ISQ.Html.WindowActive.event.dispose();ISQ.Html.WindowActive.event=null};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html._doc=document;ISQ.Html.createElement=function(e,c,d){var b=ISQ.Html._doc.createElement(e);var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createElement=ISQ.Html.createElement;ISQ.Html.createDiv=function(c,d){var b=ISQ.Html._doc.createElement("div");var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createDiv=ISQ.Html.createDiv;ISQ.Html.createTable=function(c,f,b,d,a){var e=createElement("table",c);e.setAttribute("cellPadding",0);e.setAttribute("cellSpacing",0);e.setAttribute("border",0);if(typeof(a)==="string"){e.setAttribute("align",a)}if(typeof(f)==="number"||typeof(f)==="string"){e.setAttribute("width",f)}if(typeof(b)==="string"){e.setAttribute("dir",b);e.style.direction=b}if(typeof(d)==="string"){ISQ.CSS.setStyle(e,d)}return createElement("tbody",e)
};var createTable=ISQ.Html.createTable;ISQ.Html.createRow=function(b,a,d){var c=createElement("tr",b);if(typeof(a)==="string"){ISQ.CSS.setStyle(c,a)}if(typeof(d)==="string"){c.setAttribute("valign",d)}return c};var createRow=ISQ.Html.createRow;ISQ.Html.addSpaceRow=function(d,b,a,c){var f=createRow(d);var e=createElement("td",f);e.style.height=b;if(typeof(c)==="string"){ISQ.CSS.setStyle(f,c)}if(a){e.setAttribute("colSpan",a)}return f};var addSpaceRow=ISQ.Html.addSpaceRow;ISQ.Html.addSpaceTd=function(d,e,b){var c=createElement("td",d);if(typeof(b)==="number"){c.setAttribute("rowSpan",b)}if(!e){return}c.style.width=e;var a=createDiv(c,"width:"+e);a.innerHTML="&nbsp;";return c};var addSpaceTd=ISQ.Html.addSpaceTd;ISQ.Html.createTd=function(e,a,f,c,b){var d=createElement("td",e);if(f){d.setAttribute("vAlign",f)}if(a){d.setAttribute("align",a)}if(typeof(c)==="string"){ISQ.CSS.setStyle(d,c)}if(b){d.setAttribute("colSpan",b)}return d};var createTd=ISQ.Html.createTd;ISQ.Html.clearNode=function(a,c){if(typeof(a)==="undefined"||a===null){return null}if(a.nodeType!==1){return a}c=c!==false;if(c){var b=a.nodeName;switch(b){case"TR":case"TBODY":case"TABLE":break;default:a.innerHTML="";return a}}while(a.firstChild!==null){if(c){ISQ.Html.clearNode(a.firstChild,true)}a.removeChild(a.firstChild)}return a};var clearNode=ISQ.Html.clearNode;ISQ.Html.createInput=function(l,f,i,m,b,h,j){if(typeof(arguments[0])=="object"){var g=arguments[0];return createInput(g.type,g.name,g.parent,g.value||null,g.errorStyle||null,g.style||null,g.placeholder||null)}var c;f=f||"";var d=false;if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){try{var k=new Array();k.push("<input type='");k.push(l);k.push("' name='");k.push(f);k.push("' id='");k.push(f);k.push("' />");c=ISQ.Html._doc.createElement(k.join(""));if(i){i.appendChild(c)}d=true}catch(a){d=false}}if(!d){c=createElement("input",i);c.type=l;c.name=c.id=f}if(typeof(m)!=="undefined"&&m!==null){c.value=m}if(typeof(j)!=="undefined"&&j!==null){c.placeholder=j}if(typeof(b)==="string"){c.errorStyle=b;
c.error=function(){ISQ.CSS.setStyle(this,this.errorStyle);c.hasError=true}}c.okStyle=typeof(h)==="string"?h:"";ISQ.CSS.setStyle(c,c.okStyle);c.ok=function(){ISQ.CSS.setStyle(this,this.okStyle);c.hasError=false};return c};var createInput=ISQ.Html.createInput;ISQ.Html.createCheckbox=function(f,d,i,l,a,c,h){if(typeof(arguments[0])=="object"&&arguments[0]!=null){var g=arguments[0];return createCheckbox(g.name,g.id,g.parent,g.text,g.style,g.checked,g.onclick)}var j=createTable(i);var d=d||f||"cb_"+Math.floor(Math.random()*1000000);if(a){ISQ.CSS.setStyle(j.parentNode,a)}var m=createRow(j);var k=createTd(m);var b=createInput("checkbox",d,k);b.style.margin="2px 3px 0";b.id=d;b.checked=b.defaultChecked=c===true;if(typeof(h)!="undefined"){b.onclick=h}if(l){k=createTd(m);var e=createElement("label",k);e.setAttribute("for",b.id);e.innerHTML=l;b.label=e}return b};var createCheckbox=ISQ.Html.createCheckbox;ISQ.Html.createRadio=function(h,f,k,o,q,b,c,a,j,e){if(typeof(arguments[0])=="object"){var i=arguments[0];return ISQ.Html.createRadio(i.name,i.id,i.parent,i.text,i.value,i.style,i.checked,i.floatStyle,i.onclick,i.holderStyle)}var m=createTable(k);if(a){m.parentNode.setAttribute("align",a);var d=(a.toLowerCase()==="left"?"right":"left");ISQ.CSS.setStyle(m.parentNode,"margin-"+d+": 5px")}var p=createRow(m);var n=createTd(p,"","",e);var l=createInput("radio",h,n,q,b,b);l.style.margin="0 3px 0";l.id=f||"radio_"+Math.floor(Math.random()*1000000);if(typeof(c)!="undefined"){l.checked=c}if(typeof(j)!="undefined"){l.onclick=j}n=createTd(p);var g=createElement("label",n);g.setAttribute("for",l.id);g.innerHTML=o;return l};var createRadio=ISQ.Html.createRadio;ISQ.Html.createSelect=function(b){var d=createElement("select",b.parent,b.style||"");if(b.defaultValue){var c=createElement("option",d);c.selected=true;if(typeof(b.defaultValue)==="object"){c.value=b.defaultValue.value;c.innerHTML=ISQ.Data.unHTML(b.defaultValue.html.toString())}else{c.value=c.innerHTML=b.defaultValue}if(b.defaultValue.title){c.title=b.defaultValue.title}}for(var a=0;
a<b.values.length;++a){var c=createElement("option",d);if(typeof(b.values[a])==="object"){c.innerHTML=ISQ.Data.unHTML(b.values[a].html.toString());c.value=b.values[a].value}else{c.value=b.values[a];c.innerHTML=ISQ.Data.unHTML(b.values[a].toString())}if(b.selected&&c.value==b.selected){c.selected=true}if(b.values[a].title){c.title=b.values[a].title}}return d};var createSelect=ISQ.Html.createSelect;ISQ.Html.updateSelectOptions=function(b){clearNode(b.select);for(var a=0;a<b.values.length;++a){var c=createElement("option",b.select);if(typeof(b.values[a])==="object"){c.innerHTML=b.values[a].html;c.value=b.values[a].value}else{c.value=c.innerHTML=b.values[a]}if(b.selected&&c.value==b.selected){c.selected=true}}return b.select};var updateSelectOptions=ISQ.Html.updateSelectOptions;ISQ.Html.select_selectedOption=function(a){return a[a.selectedIndex]};ISQ.Html.createForm=function(d){var a=createElement("form",d.parent);if(typeof(d.action)==="string"){a.action=d.action}if(typeof(d.method)==="string"){a.method=d.method}if(typeof(d.id)==="string"){a.id=from.name=d.id}if(typeof(d.name)==="string"){from.name=d.name;if(typeof(d.id)!=="string"){a.id=from.name}}var b=typeof(d.onsubmit)!=="undefined"&&d.onsubmit!==null?d.onsubmit:null;if(b!==null){b.executed=false}a.onsubmit=function(e){if(b!==null){if(!b.executed){b.handle(ISQ.Html.getDomEvent(e));b.executed=true}else{b.executed=false}}return false};function c(f){var e=ISQ.Html.getDomEvent(f);if(e.domEvent.keyCode!==13){return false}if(b!==null){if(!b.executed){b.handle(e);b.executed=true}else{b.executed=false}}e.cancel();return false}if(ISQ.Html._doc.addEventListener){if(ISQ.Http.browser.app!=="chrome"&&ISQ.Http.browser.app!=="opera"){a.addEventListener("keypress",c,true)}else{a.addEventListener("keyup",c,true)}}else{if(ISQ.Html._doc.attachEvent){a.attachEvent("onkeyup",c)}}return a};var createForm=ISQ.Html.createForm;ISQ.Html.createIframe=function(b,d,a,e){e=e||"about:blank";var c=createElement("iframe");c.setAttribute("name",d);c.setAttribute("id",b);c.setAttribute("src",e);if(a){ISQ.CSS.setStyle(c,a)
}return c};ISQ.Html.createImage=function(b){if(!b.src){throw ("createImage: invalid src")}var a=new Image();a.src=b.src;if(b.onload){a.onload=b.onload}if(b.id){a.id=b.id}if(b.align){a.setAttribute("align",b.align)}if(b.style){ISQ.CSS.setStyle(a,b.style)}if(b.parent){b.parent.appendChild(a)}if(b.altText){a.setAttribute("title",b.altText)}if(b.overSrc){ISQ.Html.setImageMouseOverAndOut(a,b.overSrc)}return a};var createImage=ISQ.Html.createImage;ISQ.Html.createLink=function(c){var b=createElement("a",c.parent,c.style);if(c.text){b.innerHTML=c.text}if(typeof(c.href)==="string"){b.href=c.href}else{b.href="javascript:void(0)"}if(typeof(c.title)==="string"){b.title=c.title}if(typeof(c.target)==="string"){b.target=c.target}if(typeof(c.id)==="string"){b.id=c.id}ISQ.Html.setOnclick(b,c.onclick);return b};var createLink=ISQ.Html.createLink;window.setOnclick=ISQ.Html.setOnclick=function(a,b){if(a.nodeName!=="A"){if(b){a.onclick=b}return}a.onclick=function(c){if(typeof(ISQ.Console)!=="undefined"&&typeof(ISQ.Console.SessionManager)!=="undefined"){ISQ.Console.SessionManager.lastClickedLinkHref=this.href?this.href:null;setTimeout(function(){delete ISQ.Console.SessionManager.lastClickedLinkHref},10)}if(typeof(b)!=="undefined"){b.apply(this,new Array(c))}}};ISQ.Html.createHR=function(d,c,a,b){var f=createRow(d);var e=createElement("td",f);e.style.height=c;e.style.background=a;if(typeof(b)==="number"){e.setAttribute("colSpan",b)}return f};var createHR=ISQ.Html.createHR;ISQ.Html.createTextNode=function(d,c){var b=ISQ.Html._doc.createTextNode(d);var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}return b};var createTextNode=ISQ.Html.createTextNode;ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.moveChildNodesToElement=function(c,b){clearNode(b);var a=c.childNodes;while(a.length>0){b.appendChild(a[0])}};var moveChildNodesToElement=ISQ.Html.moveChildNodesToElement;ISQ.Html.domRecursion=function(a,b){if(!a){return}b(a);for(var c=0;c<a.childNodes.length;++c){domRecursion(a.childNodes[c],b)}};window.domRecursion=ISQ.Html.domRecursion;ISQ.Html.setImageMouseOverAndOut=function(a,c){var b=a.src;
a.onmouseover=function(){this.src=c};a.onmouseout=function(){this.src=b}};var setImageMouseOverAndOut=ISQ.Html.setImageMouseOverAndOut;ISQ.Html.elementToString=function(c,e){var g=new Array();g.push("<");g.push(c.nodeName);g.push(" ");for(var d=0;d<c.attributes.length;++d){var a=c.attributes[d];var b=a.value||a.nodeValue;if(!b){continue}var f=null;if(typeof(b)==="string"){f=b.indexOf("'")>-1?'"':"'"}g.push(a.nodeName);g.push("=");if(f){g.push(f)}g.push(b);if(f){g.push(f)}g.push(" ")}g.push(">");if(e){g.push(e)}else{g.push(c.innerHTML)}g.push("</");g.push(c.nodeName);g.push(">");return g.join("")};var elementToString=ISQ.Html.elementToString;ISQ.Html.getElementsByClassName=function(b,a){if(typeof(document.getElementsByClassName)==="function"){return b.getElementsByClassName(a)}else{return b.querySelectorAll("."+a)}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.setPlaceHolder=function(d,g,a,f){var e=d.parentNode||f;if(!e){return}var h=createDiv(e);h.className=a;h.innerHTML=g;h.onclick=function(){d.focus()};var b=function(){if(d.value==""){h.style.display="block"}else{h.style.display="none"}};var c=function(){if(d.value==""){h.style.display="block"}};window.addEvents(d,"onkeyup",b);window.addEvents(d,"onblur",c);d.autoCheck=b};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.createInvisibleIframe=function(a){var b=createElement("iframe",document.body,"visible:hidden;position:absolute;top:0px;left:0px;width:1px;height:1px");b.setAttribute("frameBorder",0);setTimeout(function(){if(a.isDisposed()){if(b.parentNode){document.body.removeChild(b)}return}ISQ.Html.waitUntilAvailable(b,a)},0);return b};createInvisibleIframe=ISQ.Html.createInvisibleIframe;ISQ.Html.waitUntilAvailable=function(d,b){var c=null;var e=null;try{c=d.contentDocument||d.contentWindow.document||null;e=d.contentWindow||d.contentDocument.defaultView||null}catch(a){}if(!c||!e||(!c.body&&!e.document.body)){setTimeout(function(){if(b.isDisposed()){document.body.removeChild(d);return}ISQ.Html.waitUntilAvailable(d,b)},10);return}if(c.body){ISQ.Html.iframeReady(c,b)}else{ISQ.Html.iframeReady(e.document,b)
}};ISQ.Html.iframeReady=function(b,a){b.open();b.writeln("<html><body></body></html>");b.close();a.handle(b);a.dispose()};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.detectDoctype=function(){var a="loose";try{var b=null;if(window.document.doctype){b=window.document.doctype.systemId;if(!b){b=window.document.doctype.publicId}if(!b&&window.document.doctype.name.toLowerCase()==="html"){b="doctype html"}}else{b=window.document.firstChild;if(b.innerHTML.length!==0){b=null}else{b=b.nodeValue}}if(b===null){a="nodoctype"}else{b=b.toLowerCase();if(b==="doctype html"||b==="ctype ht"){a="html5"}else{if(b.indexOf("xhtml")!==-1||b.indexOf("rdfa 1.1")!==-1){a="xhtml"}else{if(b.indexOf("strict")!==-1){a="strict"}else{if(b.indexOf("loose")!==-1){a="loose"}else{if(b.indexOf("transitional")!==-1){if(b.indexOf("4.01")!==-1){a="transitional401"}else{if(b.indexOf("4.0")!==-1){a="transitional4"}else{a="transitional"}}}else{if(b.indexOf("frameset")!==-1){a="frameset"}else{a="nodoctype"}}}}}}}}catch(c){a="nodoctype"}return a};</script>
	<script type="text/javascript" mini="true">ISQ.Http=initializeNS("ISQ.Http");ISQ.Http.MAX_URL_SIZE=2047;ISQ.Http.getNoHashUrl=function(){var b=window.location.hash;var a=window.location.href;if(b!==""){var c;do{c=a.indexOf(b);if(c!==-1){a=a.substring(0,c)}}while(c!==-1)}return a};ISQ.Http.detectBroswer=function(){var b=navigator.appVersion;var f=navigator.userAgent;var a=0;ISQ.Http.browser={};if(b.indexOf("Android")!==-1||f.indexOf("Android")!==-1){ISQ.Http.browser.app="android";var c=b.indexOf("Android ")+8;var g=b.substring(c,b.indexOf(";",c));ISQ.Http.browser.version=g;ISQ.Http.browser.isMobile=b.indexOf("Mobile")>-1||f.indexOf("Mobile")!==-1;ISQ.Http.browser.isTablet=!ISQ.Http.browser.isMobile;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isAndroid=true;if(parseInt(ISQ.Http.browser.version)<4){ISQ.Http.browser.oldAndroid=true}}else{if(navigator.appVersion.indexOf("iPhone")!==-1){var g=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="iphone "+parseInt(g);ISQ.Http.browser.isMobile=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPhone=true;if(b.indexOf("OS 6_")!==-1){ISQ.Http.browser.isIOS6=true}else{if(b.indexOf("OS 7_")!==-1){ISQ.Http.browser.isIOS7=true}}ISQ.Http.browser.isIOS=true}else{if(navigator.appVersion.indexOf("iPad")!==-1){var g=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="ipad "+parseInt(g);ISQ.Http.browser.isTablet=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPad=true;if(b.indexOf("OS 6_")!==-1){ISQ.Http.browser.isIOS6=true}else{if(b.indexOf("OS 7_")!==-1){ISQ.Http.browser.isIOS7=true}}ISQ.Http.browser.isIOS=ISQ.Http.browser.isIOS6||ISQ.Http.browser.isIOS7}}}if((a=b.indexOf("MSIE "))!==-1){ISQ.Http.browser.app="ie";a+=5;var e=b.indexOf(" ",a);if(e===-1){ISQ.Http.browser.version=b.substring(a)}else{ISQ.Http.browser.version=b.substring(a,e)}if(ISQ.Http.browser.version.startsWith("10")){ISQ.Http.browser.isIE10=true}if(ISQ.Http.browser.version.startsWith("9")){ISQ.Http.browser.isIE9=true
}if(ISQ.Http.browser.version.startsWith("8")){ISQ.Http.browser.isIE8=true}if(ISQ.Http.browser.version.startsWith("7")){ISQ.Http.browser.isIE7=true}if(ISQ.Http.browser.version.startsWith("6")){ISQ.Http.browser.isIE6=true}ISQ.Http.browser.isIE=true}else{if(b.indexOf("Chrome")!==-1){ISQ.Http.browser.app="chrome";ISQ.Http.browser.version="0"}else{if((a=b.indexOf("Safari"))!==-1&&ISQ.Http.browser.app!="android"){var g=b.substring(a+7);ISQ.Http.browser.app="safari";if(g<="530.17"){ISQ.Http.browser.version="3"}else{ISQ.Http.browser.version="4"}}else{if((a=f.indexOf("Firefox/"))!==-1){ISQ.Http.browser.app="ff";var e=f.indexOf(" ",a);if(e===-1){ISQ.Http.browser.version=f.substring(a+8)}else{ISQ.Http.browser.version=f.substring(a+8,e)}if(ISQ.Http.browser.version.startsWith("3")){ISQ.Http.browser.isFF3=true}if(ISQ.Http.browser.version.startsWith("3.0")){ISQ.Http.browser.isFF3_0=true}if(ISQ.Http.browser.version.startsWith("3.6")){ISQ.Http.browser.isFF3_6=true}}else{if(f.indexOf("Opera/")!==-1){ISQ.Http.browser.app="opera";var c=f.indexOf("Version/");if(c===-1){var d=f.indexOf(" ",6);ISQ.Http.browser.version=f.substring(6,d)}else{var d=f.indexOf(" ",c);if(d===-1){ISQ.Http.browser.version=f.substring(c+8)}else{ISQ.Http.browser.version=f.substring(c+8,d)}}ISQ.Http.browser.isOpera=true}else{if(f.indexOf("Symbian")!=-1){ISQ.Http.browser.app="symbian";ISQ.Http.browser.version=1;ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version}}}}}}if(!ISQ.Http.browser.app){if(f.indexOf("AppleWebKit")!==-1){ISQ.Http.browser.app="safari";ISQ.Http.browser.version="5"}else{if(b.indexOf("Trident/7")!==-1){ISQ.Http.browser.app="ie";ISQ.Http.browser.isIE=true;var c=b.indexOf("rv:");if(c!==-1){c+=3;if(b.equals("11",c)){ISQ.Http.browser.version="11";ISQ.Http.browser.isIE11=true}}}else{ISQ.Http.browser.app="default";ISQ.Http.browser.version="--"}}}ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version;f=null;b=null};if(typeof(ISQ.Http.browser)==="undefined"||!ISQ.Http.browser){ISQ.Http.detectBroswer()}ISQ.Http.isIEQuirksMode=function(){return(ISQ.Http.browser.isIE&&document.compatMode!=="CSS1Compat")
};ISQ.Http.isChrome=function(){var a=navigator.appVersion;if(a.indexOf("Chrome")!==-1){return true}return false};ISQ.Http.Cookies=initializeNS("ISQ.Http.Cookies");ISQ.Http.Cookies._read=function(d){if(!d){return null}var i=document.cookie;var f=0;var a;var e;var g=0;var c={KEY:1,VALUE:2};var h=c.KEY;while(g<i.length){a=i.charAt(g++);if(a===" "){continue}if(h===c.KEY){if(a==="="){h=c.VALUE;f=0;continue}e=d.charAt(f);if(a===e||a.toLowerCase()===e.toLowerCase()){if(++f===d.length){if(i.charAt(g)==="="){var b=i.indexOf(";",++g);if(b===-1){b=i.length}return i.substring(g,b)}else{f=0}}}else{f=0}}else{if(a===";"){h=c.KEY}}}return null};ISQ.Http.Cookies._readCaseSensitive=function(b){if(!b){return null}var d=document.cookie;var c=d.indexOf(b);while(c!==-1){c+=b.length;if(d.charAt(c)==="="){var a=d.indexOf(";",++c);if(a===-1){a=d.length}return d.substring(c,a)}else{c=d.indexOf(b)}}return null};ISQ.Http.Cookies._write=function(e,i,g,b,h,d,f){e=e||null;i=!isNaN(i)?i:i||null;g=g||"/";b=b||null;h=h===true;d=d||null;if(e===null||i===null){return}var c=new Date();if(d!==null){c.setSeconds(c.getSeconds()+d);c=c.toGMTString()}var a=[];if(e.indexOf("%20")!==-1||e.toLowerCase().indexOf("%3a")!==-1){a.push(e)}else{a.push(escape(e))}a.push("=");if(i.toString().indexOf("%20")!==-1||i.toString().toLowerCase().indexOf("%3a")!==-1||f){a.push(i)}else{a.push(escape(i))}a.push("; path=");a.push(g);if(b!==null){a.push("; domain=");a.push(b)}if(h){a.push("; secure=");a.push(h)}if(d!==null){a.push("; expires=");a.push(c)}document.cookie=a.join("")};ISQ.Http.Cookies._delete=function(d,e,b,f){d=d||null;e=e||null;b=b||null;f=f||null;if(d===null){return}var g=ISQ.Http.Cookies._read(d);if(g===null){return}var c=new Date();c.setMonth(c.getMonth()-1);c=c.toGMTString();var a=[];a.push(escape(d));a.push("=1");a.push("; expires=");a.push(c);e=e||"/";a.push("; path=");a.push(e);b=b||ISQ.Http.domain(false);a.push("; domain=");a.push(b);if(f!==null){a.push("; secure=");a.push(f)}document.cookie=a.join("")};ISQ.Http.Cookies.encode64=function(b){b+="";if(b.length===0){return b
}var a=ISQ.Tools.Base64.encodeString(b);return a.replace(/\=/g,"_").replace(/\+/g,"|")};ISQ.Http.Cookies.decode64=function(b){b+="";if(b.length===0){return b}var a=b.replace(/\_/g,"=").replace(/\|/g,"+");return ISQ.Tools.Base64.decodeString(a)};ISQ.Http.domain=function(d,g){d=d===true;var b;var c;if(typeof(ISQ.Http.mDomain)==="undefined"||!ISQ.Http.mDomain||g){g=g||window.location.href;var e=g.indexOf("//")+2;b=g.substring(e);var f=b.indexOf("/");if(f>-1){c=b.substring(0,f)}else{c=b}var a=b.indexOf(":");if(a>-1){b=c.substring(0,a)}else{b=c}}if(!g){ISQ.Http.mIncludePort=c;ISQ.Http.mDomain=b}if(d){return c}else{return b}};ISQ.Http.topDomain=function(c){c=c||window.location.href;var a=ISQ.Http.domain(false,c);var b=a.indexOf(".");return a.substring(b)};ISQ.Http.relativePath=function(e){e=e||window.location.href;var d={path:"",filename:""};var a=e.indexOf("//")+2;a=e.indexOf("/",a);if(a==e.length-1){return d}var c=e.indexOf("?");var b=e.LastIndexOf_char("/",c===-1?0:c);d.path=e.substring(a,b++);d.filename=e.substring(b);a=d.filename.indexOf("#");if(a!==-1){d.filename=d.filename.substring(0,a)}return d};if(typeof(ISQ.Http.urlArguments)==="undefined"||!ISQ.Http.urlArguments){if(window.location.search.length!==0){ISQ.Http.urlArguments=ISQ.Tools.stringToPairArray(window.location.search.substring(1),"=","&",true,false)}else{ISQ.Http.urlArguments=[]}}if(typeof(ISQ.Http.hashArguments)==="undefined"||!ISQ.Http.hashArguments){if(window.location.hash.length!==0){ISQ.Http.hashArguments=ISQ.Tools.stringToPairArray(window.location.hash.substring(1),"=","&",true,false)}else{ISQ.Http.hashArguments=[]}}ISQ.Http.getUrlParam=function(a,e){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)";var b=new RegExp(c);e=e||window;var d=b.exec(e.location.href);if(d==null){return""}else{return d[1]}};ISQ.Http.getUrlFakePart=function(){var b=window.location.href.indexOf("/~");if(b===-1){return""}b+=2;if(window.location.search&&b>window.location.href.indexOf("?")){return""}if(window.location.hash&&b>window.location.href.indexOf("#")){return""
}var a=window.location.href.indexOf("/",b);if(a===-1){return""}return window.location.href.substring(b,a)};ISQ.Http.isValidUrl=function(a){return(/^((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)$/gi).test(a)};</script>
	<script type="text/javascript" mini="true">ISQ.Com=initializeNS("ISQ.Com");ISQ.Com.JsonP={};ISQ.Com.JsonP.Request=ISQ.Base.extend({name:"ISQ.Com.JsonP.Request",cbId:new Date().getTime()%1000,enumResponseType:{OK:200,ERROR:400,TIMEOUT:500},_prototype:{ctor:function(a){},send:function(c){var a;var b="_jspcb"+(ISQ.Com.JsonP.Request.cbId++);window[b]=function(i){clearTimeout(g);c.handler(ISQ.Com.JsonP.Request.enumResponseType.OK,i,c);try{delete window[b]}catch(h){window[b]=undefined}var j=a.parentNode;if(j){j.removeChild(a)}};var e=[];e.push(c.url);e.push("?cb=");e.push(b);if(c.params){for(var d in c.params){if(c.params[d]==null){continue}e.push("&");e.push(d);e.push("=");e.push(c.params[d])}}a=document.createElement("script");a.type="text/javascript";a.async=true;a.defer=true;a.src=e.join("");a.onload=function(){clearTimeout(g)};a.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}clearTimeout(g)};document.getElementsByTagName("head")[0].appendChild(a);var f=function(){var h=a.parentNode;if(h){h.removeChild(a)}c.handler(ISQ.Com.JsonP.Request.enumResponseType.TIMEOUT,null,c)};var g=setTimeout(f,c.timeout||10000)}}});ISQ.Com.JsonP.Client=ISQ.Base.extend({name:"ISQ.Com.JsonP.Client",enumState:{DISCONNECTED:0,CONNECTING:1,CONNECTED:2,FAILED:3},SESSION_ID_KEY:"sid",REQUEST_ID:0,_prototype:{ctor:function(b){this.mState=ISQ.Com.JsonP.Client.enumState.DISCONNECTED;this.mAccount=b.account;this.mHost=b.host||"";this.mUrlPrefix=this.mHost+b.urlPrefix;this.mRequest=new ISQ.Com.JsonP.Request();this.mLoginParams=b.loginParams||null;this.mDefaultTimeout=b.defaultTimeout||10000;this.fStateChanged=b.fStateChanged;if(!this.mLoginParams.url){var a=window.location.href.indexOf("#");if(a==-1){this.mLoginParams.url=escape(window.location.href)}else{this.mLoginParams.url=escape(window.location.href.substring(0,a))}}},setHost:function(a){if(a===this.mHost){return}this.mUrlPrefix=this.mUrlPrefix.replace(this.mHost,a);this.mHost=a},retry:function(a){if(this.mState!==ISQ.Com.JsonP.Client.enumState.CONNECTING&&(this.mState!==ISQ.Com.JsonP.Client.enumState.CONNECTED||a.params.sid===this.mSessionId)){this.changeState(ISQ.Com.JsonP.Client.enumState.DISCONNECTED)
}this.request(a)},request:function(a){var b=typeof a.urlPrefix==="string"?a.urlPrefix:this.mUrlPrefix;if(!a.url.startsWith(b)){a.url=b+a.url}a.timeout=a.timeout||this.mDefaultTimeout;if(this.mState!=ISQ.Com.JsonP.Client.enumState.CONNECTED){if(!this.mQueue){this.mQueue=new ISQ.Infra.Queue()}this.mQueue.enqueue(a);if(this.mState!=ISQ.Com.JsonP.Client.enumState.CONNECTING){this.hello()}}else{this.request_internal(a)}},keepAlive:function(b){var a=this;this.request({url:"keepAlive.js",params:null,handler:function(d,c){clearTimeout(a.mKeepAliveTimer);if(a.mState!=ISQ.Com.JsonP.Client.enumState.CONNECTED){return}if(b){return}if(d==ISQ.Com.JsonP.Request.enumResponseType.OK){a.mKeepAliveTimer=setTimeout(function(){a.keepAlive()},a.mKeepAliveInterval)}else{a.mKeepAliveTimer=setTimeout(function(){a.keepAlive()},a.mKeepAliveInterval*2)}}})},stopKeepAlive:function(){clearTimeout(this.mKeepAliveTimer)},persistentSession:function(a){a.widgetSessionId=this.id();a.now=new Date().getTime();a.logoutTimeout=this.mLogoutInterval-(2*this.mKeepAliveInterval);a.account=this.mAccount;var b=ISQ.Data.jsonToString(a);ISQ.Http.Cookies._write(ISQ.Com.JsonP.Client.SESSION_ID_KEY,b,"/widget",ISQ.Http.domain())},deleteSession:function(){ISQ.Http.Cookies._delete(ISQ.Com.JsonP.Client.SESSION_ID_KEY,"/widget",ISQ.Http.domain())},loadSessionFromId:function(a){this.mSessionId=a;this.keepAlive(true)},loadSession:function(){var obj={result:false};if(this.mState!==ISQ.Com.JsonP.Client.enumState.DISCONNECTED){return obj}var data=ISQ.Tools.Storage.get(ISQ.Com.JsonP.Client.SESSION_ID_KEY,true);if(!data){data=ISQ.Http.Cookies._read(ISQ.Com.JsonP.Client.SESSION_ID_KEY);if(data){data=unescape(data)}}if(!data){return obj}if(data.length<3){return obj}var json=null;try{json=eval("("+data+")")}catch(e){}if(!json){return obj}if(json.account!=this.mAccount){return obj}this.deleteSession();if(!json.now){return obj}var now=new Date().getTime();this.mLogoutInterval=parseInt(json.logoutTimeout);if(now-json.now>this.mLogoutInterval){return obj}this.loadSessionFromId(json.widgetSessionId);
json.result=true;return json},die:function(){if(this.mState!=ISQ.Com.JsonP.Client.enumState.CONNECTED){return}this.changeState(ISQ.Com.JsonP.Client.enumState.DISCONNECTED);this.request_internal({url:this.mUrlPrefix+"die.js",params:null,handler:function(){}})},setContext:function(a,b,c){for(var d in a){var e=d.toLowerCase();a[e]=a[d].Trim();if(e!==d){delete a[d]}}this.mContexts=a;var f=[];for(var d in a){if(f.length!=0){f.push(",")}f.push(d);f.push(":");f.push(a[d].replace(/,/g," "))}this.mLoginParams.ctx=f.join("");if(c||this.mState===ISQ.Com.JsonP.Client.enumState.CONNECTED||this.mState===ISQ.Com.JsonP.Client.enumState.CONNECTING){this.request({url:"set.js",params:{ctx:this.mLoginParams.ctx},handler:function(i,g,h){if(i!=ISQ.Com.JsonP.Request.enumResponseType.OK){_session().retry(h);return}if(b){b()}}})}},setValues:function(c){var b=[];for(var a in c){if(b.length!=0){b.push(",")}b.push(a);b.push(":");b.push(c[a])}this.mLoginParams.values=ISQ.Http.Cookies.encode64(b.join(""));if(this.mState===ISQ.Com.JsonP.Client.enumState.CONNECTED||this.mState===ISQ.Com.JsonP.Client.enumState.CONNECTING){this.request({url:"set.js",params:{values:this.mLoginParams.values},handler:function(){}})}},getUploadParams:function(a,b){this.request({url:"getUploadParams.js",params:{data:a},handler:function(d,c){b.handle(c)}})},deleteFile:function(a){this.request({url:"deleteTempFile.js",params:{data:a},handler:function(c,b){}})},state:function(){return this.mState},id:function(){return this.mSessionId},contexts:function(){return this.mContexts},hasContext:function(){if(this.mContexts){for(var a in this.mContexts){return true}}return false},hello:function(){if(this.mState!=ISQ.Com.JsonP.Client.enumState.DISCONNECTED){return}this.mState=ISQ.Com.JsonP.Client.enumState.CONNECTING;var a=this;this.request_internal({url:this.mUrlPrefix+"hello.js",params:this.mLoginParams,handler:function(c,b){clearTimeout(a.mLoginTimer);if(c==ISQ.Com.JsonP.Request.enumResponseType.OK){a.mSessionId=b.sessionId;a.mLogoutInterval=b.timeout*1000;clearTimeout(a.mDisconnectedTimer);
a.mDisconnectedTimer=setTimeout(function(){a.changeState(ISQ.Com.JsonP.Client.enumState.DISCONNECTED)},a.mLogoutInterval);if(a.mQueue){while(a.mQueue.count()!=0){a.request_internal(a.mQueue.dequeue())}}a.changeState(ISQ.Com.JsonP.Client.enumState.CONNECTED)}else{console.log("Could not connect to server");a.mLoginTimer=setTimeout(function(){a.changeState(ISQ.Com.JsonP.Client.enumState.DISCONNECTED)},a.mLoginTimerInterval);if(a.mLoginTimerInterval<30000){a.mLoginTimerInterval+=1000}}}})},request_internal:function(a){if(!a.params){a.params={}}a.params.sid=this.mSessionId;this.mRequest.send(a)},changeState:function(a){var b=this.mState;this.mState=a;if(this.fStateChanged){this.fStateChanged(b,a)}},mContexts:null,mUrlPrefix:"",mHost:null,mState:null,mRequest:null,mDefaultTimeout:null,mLoginParams:null,mQueue:null,mSessionId:0,mDisconnectedTimer:null,mLoginTimer:null,mLoginTimerInterval:2000,fStateChanged:null,mKeepAliveInterval:3000,mKeepAliveTimer:null,mLogoutInterval:null,mAccount:null}});</script>
	<script type="text/javascript" mini="true">ISQ.Com=initializeNS("ISQ.Com");ISQ.Com.TinyAjax={enumMethod:{GET:"GET",POST:"POST"},enumStatus:{OK:200,FAIL:400,TIMEOUT:500},create:function(a){var g=null;if(typeof(XMLHttpRequest)==="function"||typeof(XMLHttpRequest)==="object"){g=new XMLHttpRequest()}else{throw"Cannot create ajax object"}if(a.method==this.enumMethod.GET&&a.data){a.url+="?"+a.data}g.open(a.method,a.url,true);if(a.headers){for(var b in a.headers){g.setRequestHeader(b,a.headers[b])}}g.onreadystatechange=function(){switch(this.readyState){case 4:c(ISQ.Com.TinyAjax.enumStatus.OK);break}};g.onerror=function(){c(ISQ.Com.TinyAjax.enumStatus.FAIL)};g.onload=function(){c(ISQ.Com.TinyAjax.enumStatus.OK)};var c=function(i){if(!d){return}clearTimeout(f);d=false;var k=-1;try{var k=g.status;if(!k){k=400}}catch(h){if(e){k=-1}else{k=400}}var j="";switch(k){case 200:i=ISQ.Com.TinyAjax.enumStatus.OK;j=g.responseText||"";break;case 400:case 403:case 404:i=ISQ.Com.TinyAjax.enumStatus.FAIL;break;default:if(e){i=ISQ.Com.TinyAjax.enumStatus.TIMEOUT}else{i=ISQ.Com.TinyAjax.enumStatus.FAIL}break}a.handler(i,j)};var f=setTimeout(function(){if(!d){return}e=true;g.abort();if(d){c(ISQ.Com.TinyAjax.enumStatus.TIMEOUT)}},(a.timeout||10000));var d=true;var e=false;if(a.method===this.enumMethod.POST){g.send(a.data)}else{g.send(null)}}};</script>
	<script type="text/javascript" mini="true">ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.getVerticalMargin=function(a){var b=0;tp=ISQ.CSS.getElementStyle(a,"margin-top");tp=parseInt(tp);if(!isNaN(tp)){b+=tp}bt=ISQ.CSS.getElementStyle(a,"margin-bottom");bt=parseInt(bt);if(!isNaN(bt)){b+=bt}return b};ISQ.CSS.getHorizonalMargin=function(a){var b=0;left=ISQ.CSS.getElementStyle(a,"margin-left");left=parseInt(left);if(!isNaN(left)){b+=left}right=ISQ.CSS.getElementStyle(a,"margin-right");right=parseInt(right);if(!isNaN(right)){b+=right}return b};ISQ.CSS.setStyle=function(c,e,a){c=ISQ.Html._(c);if(c===null){return}if(typeof(e)!=="string"){return}if(typeof(a)==="undefined"){a=true}if(a){c.className="";c.style.cssText=""}var d=e.split("&");for(var b=0;b<d.length;++b){if(d[b].charAt(0)==="."){c.className+=" "+d[b].substring(1)}else{c.style.cssText+=";"+d[b]}}};ISQ.CSS.setOpacity=function(b,c){b=ISQ.Html._(b);if(b===null){return}if(typeof(c)!=="number"||(c<0||c>100)){return}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7){if(c===100){b.style.removeAttribute("filter");if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){ISQ.CSS.setOpacity(b.childNodes[a],c)}}}else{b.style.filter="alpha(opacity="+c+")";if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){ISQ.CSS.setOpacity(b.childNodes[a],c)}}}}else{if(ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE9){if(c===100){b.style.removeAttribute("filter");if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.removeAttribute("filter")}}}else{b.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")";if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.filter="inherit"}}}}else{if(c===100){b.style.removeProperty("opacity");if(ISQ.Http.browser.app==="opera"&&b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.removeProperty("opacity")}}}else{b.style.opacity=(c/100);if(ISQ.Http.browser.app==="opera"&&b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.opacity="inherit"}}}}}};ISQ.CSS.toggleCss=function(a,c){var d=false;
var h="cssRules";if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){h="rules"}var g=document.styleSheets.length;for(var f=g-1;f>=0;--f){var k=document.styleSheets[f];try{if(k.href||k[h].length==0){continue}var j=k[h][0].selectorText;if(!j&&k[h].length>1){j=k[h][1].selectorText}if(!j){continue}if(j.toLowerCase()!==a.toLowerCase()){continue}k.disabled=!c;d=true}catch(b){}}return d};ISQ.CSS.bringToFront=function(a){var c=false;var h="cssRules";if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){h="rules"}var g=document.styleSheets.length;for(var f=g-1;f>=0;--f){var k=document.styleSheets[f];try{if(k.href||k[h].length==0){continue}var j=k[h][0].selectorText;if(!j&&k[h].length>1){j=k[h][1].selectorText}if(!j){continue}if(j.toLowerCase()!==a.toLowerCase()){continue}if(k.ownerNode){styleElement=k.ownerNode}else{styleElement=k.owningElement}var d=styleElement.parentNode;if(d){d.appendChild(styleElement)}c=true}catch(b){}}return c};ISQ.CSS.getElementWidth=function(a,b){var c=a.offsetWidth;c-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-left"),0);c-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-right"),0);if(b){c-=ISQ.CSS.getHorizonalMargin(a)}return c};ISQ.CSS.getElementHeight=function(a,c,b){var d=a.offsetHeight;if(d===0){if(b){return 0}d=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"height"),0)}d-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-top"),0);d-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-bottom"),0);if(c){d-=ISQ.CSS.getVerticalMargin(a)}return d};ISQ.CSS.getPaddingWidth=function(a){var b=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-left"),0);b+=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-right"),0);return b};ISQ.CSS.setWidthIncludingPadding=function(a,b){b-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-left"),0);b-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-right"),0);a.style.width=b+"px"};ISQ.CSS.addClass=function(b,a){if(b.className){var d=b.className.split(" ");for(var c in d){if(d[c]==a){return}}}b.className+=" "+a
};ISQ.CSS.removeClass=function(c,b){if(!c.className){return}var a=new Array();var e=c.className.split(" ");for(var d in e){if(e[d]&&e[d]!=b){a.push(e[d])}}c.className=a.join(" ")};ISQ.CSS.addNewStyleToHead=function(b,a){var c=document.createElement("style");c.type="text/css";if(a){c.id=a}document.getElementsByTagName("head")[0].appendChild(c);if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11&&c.styleSheet){c.styleSheet.cssText=b}else{var d=document.createTextNode(b);c.appendChild(d)}return c};ISQ.CSS.addNewStyle=function(g,b,e){if(e){if(typeof ISQ.CSS.dynamicLoadedCssUniqueId=="undefined"){ISQ.CSS.dynamicLoadedCssUniqueId=0}var d="splitInHeaderStart{direction:rtl}\r\n";var c="splitInHeaderEnd{direction:rtl}\r\n";var f=function(){while(a!=-1){ISQ.CSS.dynamicLoadedCssUniqueId++;var h=g.indexOf(c);var i=g.substring(a+d.length,h-a);var j=[];j.push(g.substring(0,a));j.push(g.substring(h+c.length));g=j.join("");ISQ.CSS.addNewStyleToHead(i,b+ISQ.CSS.dynamicLoadedCssUniqueId);a=g.indexOf(d)}if(g.length>0){ISQ.CSS.addNewStyleToHead(g,b+ISQ.CSS.dynamicLoadedCssUniqueId)}};var a=-1;a=g.indexOf(d);if(a!=-1){f()}else{d="splitInHeaderStart{direction:rtl}";c="splitInHeaderEnd{direction:rtl}";a=g.indexOf(d);f()}}else{return ISQ.CSS.addNewStyleToHead(g,b)}};ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.getElementStyle=function(c,f){c=ISQ.Html._(c);var g=null;if(window.getComputedStyle){g=document.defaultView.getComputedStyle(c,null).getPropertyValue(f)}if(!g&&c.runtimeStyle){if(f.indexOf("-")!==-1){var a=[];for(var d=0;d<f.length;d++){if(f.charAt(d)==="-"){a.push(f.charAt(++d).toUpperCase())}else{a.push(f.charAt(d))}}f=a.join("")}if(typeof(document.defaultView)!=="undefined"){try{g=document.defaultView.getComputedStyle(c,null)[f]}catch(b){g=null}}if(!g){try{g=c.runtimeStyle[f]}catch(b){g=null}}if(!g){if((ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6)&&f.contains("border")){g=null}else{if(c.currentStyle){g=c.currentStyle[f]}}}}return g};</script>
	<script type="text/javascript" mini="true">ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.setNodeStyleText=function(a,b){a.setAttribute("style",b);a.style.cssText=b};ISQ.CSS.removeStyle=function(d){if(!d){return}var a=document.getElementsByTagName("head")[0];for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];if(b.id==d){a.removeChild(b);--c}}};ISQ.CSS.generateCSSstring=function(d,c){if(d===null||c===null){return""}var a=[];a.push(c);a.push("{"+d+"}");var b=a.join("");return b};ISQ.CSS.getAttributeValueFromStyleString=function(d,a){var e=0;var c=d.indexOf(a);if(c>-1){c=d.indexOf(":",c);var b=d.indexOf(";",c);if(b>-1){e=d.substring(c+1,b)}else{e=d.substring(c+1)}}return e};ISQ.CSS.getBackgroundImage=function(d){var e="";var a=ISQ.CSS.getAttributeValueFromStyleString(d,"background-image");if(a===0){a=ISQ.CSS.getAttributeValueFromStyleString(d,"background")}var c=a.indexOf("url(");if(c>-1){c+=4;var b=a.indexOf(")",c);b-=1;e=a.substring(c,b);e=e.replace('"',"")}return e};ISQ.CSS.getSelectorStyle=function(p,q){if(typeof(p)!=="string"){return}p=p.toLowerCase();if(typeof(q)!=="string"){q=null}else{q=q.toLowerCase()}var o="cssRules";if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){o="rules"}try{var f=document.styleSheets.length;var t=new Array();for(var d=f-1;d>=0;--d){var u=document.styleSheets[d];try{if(u.disabled){continue}var k=u[o].length;for(var e=k-1;e>=0;--e){var s=u[o][e].selectorText;if(!s){continue}var r=s.toLowerCase().split(",");var g=r.length;for(h=g-1;h>=0;--h){var b=r[h].Trim();if(p===b||(q!==null&&q===b)){var v;for(var a in u[o][e].style){if(t[a]){continue}v=u[o][e].style[a];if(!v){continue}t[a]=v}}}}}catch(c){}}return t}catch(c){}return null};ISQ.CSS.getValueBySelectors=function(a,c,d){if(typeof(a)!=="string"){return}if(typeof(c)!=="string"){return}if(typeof(d)!=="string"){d=null}var b=ISQ.CSS.getSelectorStyle(c,d);if(b===null){return null}value=b[a];if(typeof(value)!=="string"){return null}var e=value.Trim();if(e===""){return null}return e};ISQ.CSS.changeValueBySelector=function(d,a,c){if(typeof(a)!=="string"){return}if(typeof(d)!=="string"){return
}if(typeof(c)!=="string"){return}var b=ISQ.CSS.getSelectorStyle(d);if(!b){return null}b[a]=c};ISQ.CSS.getValue=function(e,d){var b=ISQ.Html._(e);if(b===null){return null}var c="#"+b.id;var a="."+b.className;var f=b.nodeName.toLowerCase();d=d.toLowerCase();var i=null;i=b.style[d];if(i){return i.Trim()}var g=ISQ.CSS.getValueBySelectors(d,a,c);if(g===null){return ISQ.CSS.getValueBySelectors(d,f+a,f+c)}};</script>
	<script type="text/javascript" mini="true">ISQ.CDC=initializeNS("ISQ.CDC");if(typeof(nanoRep)==="undefined"){window.nanoRep={}}if(typeof(nanoRep.CDC)==="undefined"){nanoRep.CDC={}}nanoRep.CDC.Helper={splitURLArguments:function(e){var g=new Array();var i=e;var c=i.length;if(c===0){return g}var b=function(j){return unescape(j.join("").toString()).replace(/^\s+|\s+$/g,"")};var h=1;var d="";var f=0;var a=new Array();while(f<c){switch(h){case 1:if(i.charAt(f)!=="="){a.push(i.charAt(f))}else{h=2;d=b(a).toLowerCase();a=new Array()}break;case 2:if(i.charAt(f)!=="&"){a.push(i.charAt(f))}else{h=1;g[d]=b(a);a=new Array()}break}++f}if(h===2){g[d]=b(a)}return g},getTargetWindow:function(a,c){if(!a){return window.top}var g=window;if(c){g=window.parent}if(a==="parent"){return g.parent}var f=false;var d;do{try{if(g===window.top){f=true}d=g.frames[a];if(d){return d}}catch(b){}g=g.parent}while(!f);return window.top},parseMessage:function(a){if(!a){return""}var b=nanoRep.CDC.Helper.splitURLArguments(a);b.s=unescape(b.s);b.t=unescape(b.t);return b}};ISQ.CDC.User=ISQ.Base.extend({name:"ISQ.CDC.User"});ISQ.CDC.User.prototype.ctor=function(b){this.mTargetWindowName=b.targetWindowName||"";this.mProxyIFrameUrl=b.proxyIFrameUrl||null;this.mAllowMessagesFrom=b.allowMessagesFrom||null;this.incomingMessageEvent=new ISQ.Event();this.mWidget=b.widget||null;this.eFilterMessages=new ISQ.Event();if(typeof(ISQ.CDC.users)==="undefined"){ISQ.CDC.users=new Array()}ISQ.CDC.users.push(this);if(typeof(window.postMessage)!="function"&&typeof(window.postMessage)!="object"){this.mLegacyMode=true;this.mHost_l=window.location.protocol+"//"+window.location.host;if(this.mProxyIFrameUrl){if(this.mProxyIFrameUrl.contains("?")){this.mProxyIFrameUrl+="&srv="+b.server}else{this.mProxyIFrameUrl+="?srv="+b.server}}}else{var a=this;this.mPostMessageEventListener=function(d){if(d.origin!==a.mAllowMessagesFrom){return}var c=ISQ.CDC.Helper.splitURLArguments(d.data);c.s=unescape(d.origin);c.t="*";a.dispatchMessage(c)};if(window.addEventListener){window.addEventListener("message",this.mPostMessageEventListener,false)
}else{if(window.attachEvent){window.attachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.dtor=function(){if(this.mProxyIFrame_l&&this.mProxyIFrame_l.parentNode!==null){document.body.removeChild(this.mProxyIFrame_l)}if(!this.mLegacyMode){if(window.removeEventListener){window.removeEventListener("message",this.mPostMessageEventListener,false)}else{if(window.detachEvent){window.detachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.sendMessage=function(b,e){e=e||"*";if(!this.mLegacyMode){var f=ISQ.CDC.Helper.getTargetWindow(this.mTargetWindowName);b+="&ord="+(++this.mMessageOrdinal);f.postMessage(b,e)}else{if(!this.mMessagesOnSent){this.mMessagesOnSent=new Array()}if(!this.mProxyIFrameBaseUrl_l){var a=new Array();a.push(this.mProxyIFrameUrl);a.push("#");a.push("s=");a.push(escape(this.mHost_l));a.push("&t=");a.push(escape(e));a.push("&twnd=");a.push(this.mTargetWindowName);this.mProxyIFrameBaseUrl_l=a.join("")}var c=function(g,l,h,n){var o=new Array();o.push(g.mProxyIFrameBaseUrl_l);o.push("&");o.push(h);o.push("&ord=");o.push(l);var m="position: absolute; left: 0px; top:-1100px;height:70px;width:70px;";var i=document.createElement("iframe");var j=ISQ.CDC.User.getIframeId();i.setAttribute("id",j);i.setAttribute("name",j);i.setAttribute("src",o.join(""));i.setAttribute("frameBorder","1");i.setAttribute("scrolling","auto");i.setAttribute("width","70px");i.setAttribute("height","70px");i.setAttribute("style",m);if(i.style.setAttribute){i.style.setAttribute("cssText",m)}document.body.appendChild(i);var k=function(){setTimeout(function(){g.mMessagesOnSent[l]=null},100)};if(ISQ.Http.browser.app==="opera"){i.onload=k}else{if(document.addEventListener){i.addEventListener("load",k,true)}else{if(document.attachEvent){i.attachEvent("onload",k)}}}};var d=++this.mMessageOrdinal;this.mMessagesOnSent[d]=new c(this,d,b,e)}};ISQ.CDC.User.prototype.dispatchMessage=function(d){if(d.widget&&this.mWidget!==d.widget){return}var h={message:d,filter:false};this.eFilterMessages.dispatch(h);
if(h.filter){return}if(d.subject&&d.subject=="reset"){this.mLastHandledMessageOrdinal=0;this.mMessageOrdinal=0;this.mReceivedMessages=null;this.mWasReset_debug=true}var j=parseInt(d.ord);var a=j-this.mLastHandledMessageOrdinal;if(a<=0){return}if(a>1){if(this.mReceivedMessages===null){this.mReceivedMessages=new Array();this.mReceivedMessagesCount=0}this.mReceivedMessages[j]=d;++this.mReceivedMessagesCount}else{try{this.incomingMessageEvent.dispatch(d)}catch(b){}if(this.mReceivedMessages!==null){var g=this.mReceivedMessagesCount;var f=j+1;for(var c=0;c<g;++c,++f){if(!this.mReceivedMessages[f]){break}this.incomingMessageEvent.dispatch(this.mReceivedMessages[f]);j=f;--this.mReceivedMessagesCount}if(this.mReceivedMessagesCount===0){this.mReceivedMessages=null}}this.mLastHandledMessageOrdinal=j}};ISQ.CDC.User.prototype.targetWindowName=function(){return this.mTargetWindowName};ISQ.CDC.User.prototype.allowMessagesFrom=function(){return this.mAllowMessagesFrom};ISQ.CDC.User.prototype.mTargetWindowName=null;ISQ.CDC.User.prototype.mLegacyMode=false;ISQ.CDC.User.prototype.mHost_l="";ISQ.CDC.User.prototype.mProxyIFrameUrl=null;ISQ.CDC.User.prototype.mProxyIFrameBaseUrl_l=null;ISQ.CDC.User.prototype.mCurrentHeight=70;ISQ.CDC.User.prototype.incomingMessageEvent=null;ISQ.CDC.User.prototype.eFilterMessages=null;ISQ.CDC.User.prototype.mPostMessageEventListener=null;ISQ.CDC.User.prototype.mIsCDCStation=true;ISQ.CDC.User.prototype.mMessageOrdinal=0;ISQ.CDC.User.prototype.mAllowMessagesFrom=null;ISQ.CDC.User.prototype.mMessagesOnSent=null;ISQ.CDC.User.prototype.mReceivedMessages=null;ISQ.CDC.User.prototype.mLastHandledMessageOrdinal=0;ISQ.CDC.User.prototype.mReceivedMessagesCount=0;ISQ.CDC.User.prototype.mWasReset_debug=false;ISQ.CDC.User.getIframeId=function(){return"nR_CDC"+ISQ.CDC.User.iframeIdCounter++};ISQ.CDC.User.iframeIdCounter=new Date().getTime();</script>
	<script type="text/javascript" mini="true">ISQ.Debug=initializeNS("ISQ.Debug");var _debug=function(){if(arguments.length===0){return ISQ.Debug}if(typeof(arguments[0])==="object"){ISQ.Debug.insertHTML(arguments[0])}else{ISQ.Debug.insertText(arguments[0])}};ISQ.Debug.init=function(){if(!debugLevel){return}if(document.addEventListener){document.addEventListener("keydown",ISQ.Debug.documentKeyDown,true)}else{if(document.attachEvent){document.attachEvent("onkeydown",ISQ.Debug.documentKeyDown)}}};ISQ.Debug.insertText=function(b){if(!debugLevel){return}this.show();var a=createDiv(this.mPopup.contentNode);a.innerHTML=b};ISQ.Debug.insertTimeDiff=function(d,a){var c=new Date();var b=(c-a);if(b>10){ISQ.Debug.insertText("<b>"+d+"</b> @ <b>"+b+" ms</b>")}return c};ISQ.Debug.insertTime=function(b){var a=new Date();ISQ.Debug.insertText("<b>"+b+"</b> @ "+a.ToString("%M:%S")+":"+a.getMilliseconds())};ISQ.Debug.insertHTML=function(a){if(!debugLevel){return}this.show();this.mPopup.contentNode.appendChild(a)};ISQ.Debug.insertObject=function(d,a,b){b=b||0;if(b===4){ISQ.Debug.insertText("DEPTH TOO DEEP");return}if(!a){ISQ.Debug.insertText("START depicting object:")}for(var c in d){ISQ.Debug.insertText("KEY:"+c);if(d[c]===null){ISQ.Debug.insertText("NULL")}else{if(typeof(d[c])==="undefined"){ISQ.Debug.insertText("Undefined")}else{if(typeof(d[c])==="object"){var e=false;if(ISQ.Base.isDerivedOf(d[c],ISQ.Base)){if(d[c].isDerivedOf(ISQ.Policies.Policy)){e=true;ISQ.Debug.insertText("Policy Id:"+d[c].id())}else{if(d[c].isDerivedOf(ISQ.Event)){e=true;ISQ.Debug.insertText("Event")}else{if(d[c].isDerivedOf(ISQ.Handler)){e=true;ISQ.Debug.insertText("Handler")}}}}else{if(d[c].nodeName){e=true;ISQ.Debug.insertText("HTML node. Name:"+d[c].nodeName+", id: "+d[c].id)}}if(!e){ISQ.Debug.insertText("{");ISQ.Debug.insertObject(d[c],true,b+1);ISQ.Debug.insertText("}")}}else{if(typeof(d[c])==="function"){ISQ.Debug.insertText("function()")}else{ISQ.Debug.insertText("VALUE: "+d[c])}}}}}if(!a){ISQ.Debug.insertText("STOP depicting object:")}};ISQ.Debug.insertStackCallback=function(){var f=30;var a=new Array();
var b=arguments.callee.caller;b=b.caller;for(var d=0;d<f&&b!==null;++d){var c=false;for(var e=0;e<a.Length&&!c;++e){if(a[e]===b){c=true}}if(c){break}a.push(b);b=b.caller}this.insertText("Printing callstack");this.insertArray(a)};ISQ.Debug.insertArray=function(a){for(var b=0;b<a.length;++b){this.insertText(b+": "+a[b])}};ISQ.Debug.createPopup=function(){var d=createDiv(document.body,"border:2px solid #aaa;background:#212620;width:300px;");innerDiv=createDiv(d,"padding:5px");var e=createElement("h2",innerDiv,"color:#e5e5e5");e.innerHTML="Debug";var b=createLink({text:"X",onclick:function(){this.debugConsole.hide()},style:"color: #E5E5E5;margin-left: 5px;position: absolute;right: 8px;top: 5px;text-decoration:none",parent:innerDiv});b.debugConsole=this;b=createLink({text:"Clear All",onclick:function(){this.debugConsole.mPopup.contentNode.innerHTML=""},style:"color: #E5E5E5;float: left;margin: 5px 0 0;text-decoration: none;",parent:innerDiv});b.debugConsole=this;var c=createDiv(d,"background:#efefef;padding:5px;width:290px;height:300px;overflow-y:auto;resize:both;margin-top:20px;border-top:1px solid #666;font-size:14px;font-family:verdana");c.id="nanoRepDebugDiv";this.mPopup=new ISQ.GUI.Popup({position:{type:ISQ.GUI.Popup.PositionType.SCREEN_LEFT_TOP,adjust:false,fixed:true},element:d,drag:e,blockerOptions:{show:false}});this.mPopup.contentNode=c};ISQ.Debug.show=function(){if(!this.mPopup){this.createPopup()}this.mPopup.show()};ISQ.Debug.hide=function(){this.mPopup.hide()};ISQ.Debug.documentKeyDown=function(b){var a=window.event||b;if(a.shiftKey){return true}if(a.keyCode!==192){return true}ISQ.Debug.toggleConsole();return false};ISQ.Debug.toggleConsole=function(){if(!ISQ.Debug.mConsolePopup){ISQ.Debug.mConsolePopup=createDiv(document.body,"position:fixed;bottom:1px;padding:4px 7px;width:80%;background:#fff;z-index:20;border:1px solid #cdcdcd;right:0");ISQ.Debug.mConsoleInput=createInput({parent:ISQ.Debug.mConsolePopup,type:"text",style:"width:90%;border:0;font-size:16px;"});setTimeout(function(){ISQ.Debug.mConsoleInput.focus()
},0);ISQ.Debug.mConsoleInput.onkeyup=ISQ.Debug.parseConsoleInput}else{setTimeout(function(){ISQ.Debug.mConsoleInput.value=""},0);if(ISQ.Debug.mConsolePopup.style.display==="none"){ISQ.Debug.mConsolePopup.style.display="block";try{ISQ.Debug.mConsoleInput.focus()}catch(a){}}else{ISQ.Debug.mConsolePopup.style.display="none"}}};ISQ.Debug.parseConsoleInput=function(b){var a=window.event||b;if(a.keyCode!=13){return}var e=ISQ.Debug.mConsoleInput.value.Trim();if(!e){return}switch(e){case"open()":ISQ.Debug.show();break;case"refreshCharts()":var c=pageGC().array();for(var d=0;d<c.length;++d){if(!ISQ.Base.isDerivedOf(c[d],ISQ.Statistics.Charts.IChart)){continue}if(c[d].isDisposed()){continue}c[d].process()}break}};ISQ.Debug.mPopup=null;ISQ.Debug.mConsolePopup=null;ISQ.Debug.mConsoleInput=null;</script>
	<script type="text/javascript" mini="true">ISQ.WhiteLabels=(function(){var e={};var f={};e["nanorep.com"]={isNanoRepDomain:true,name:"nanorep",accountName:"nanorep",logo:"nrLogo",consoleLogo:"nanoRepLogo",consoleLogoClasses:"",logoLink:"/console/login.html",pageTitle:"My nanoRep Secure Login",favicon:"/favicon.png",privacyLink:"http://www.nanorep.com/Privacy",termsLink:"http://www.nanorep.com/Terms",supportLink:"http://nanorep.com/support",voicesLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",dashboardOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41926066/Dashboard-overview.htm",voicesOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",contactUsLink:"http://www.nanorep.com/Contact",pricingLink:"http://www.nanorep.com/product/pricing",chatPluginLink:"http://www.nanorep.com/Support/Liveperson-Chat-Integration/Agent-client-integration",guidanceIcon:"guidance_nanorep_icon",widgetConfigId:76830400};f["nanorep.com"]={};e[".nanorep.info"]=e["nanorep.com"];f[".nanorep.info"]=f["nanorep.com"];e[".nanorep.co"]=e["nanorep.com"];f[".nanorep.co"]=f["nanorep.com"];e["cartassist.co.uk"]={name:"CartAssist",accountName:"goresponse",logo:"caLogo",consoleLogo:"cartAssistLogo",consoleLogoClasses:"",logoLink:"http://www.cartassist.co.uk",pageTitle:"My CartAssist Secure Login",favicon:"/console/images/ca_favicon.ico",privacyLink:"http://www.cartassist.co.uk/privacy",termsLink:"http://www.cartassist.co.uk/terms",supportLink:"http://support.cartassist.co.uk",voicesLink:"http://support.cartassist.co.uk",dashboardOverviewLink:"http://support.cartassist.co.uk",voicesOverviewLink:"http://support.cartassist.co.uk",contactUsLink:"http://www.cartassist.co.uk/contact-us/",pricingLink:"http://www.cartassist.co.uk/contact-us/",chatPluginLink:"http://support.cartassist.co.uk",guidanceIcon:"guidance_cartassist_icon",widgetConfigId:76831702};f["cartassist.co.uk"]={leafNanoAnswer:"CartAssist answer:",smartSearch:"CartAssist Search",searchResult:"CartAssist search result",mergeUpdate:"By selecting this answer, CartAssist will learn to answer %title% for:<br/>%phrasings%<br/> Continue?",chatSuggestion:"User received CartAssist answer:",accountExpiredMessage:"Your trial period has expired.",chart_answeredSessions:"This chart shows how many sessions have been answered through CartAssist, including automatic-answers, emails, and chats. <a target='_blank' href='http://support.nanorep.com/Analytics/Traffic/22275098/Scenarios-that-are-counted-as-answered-sessions.htm'>Learn more</a>.",addArticleTooltipBody:"As support agents answer tickets, CartAssist learns new answers that can be published to the knowledge base. <br/>For best results, provide an answer that will be relevant to as many visitors as possible, not personal answers or details."};
var a=e[window.location.hostname];var b=f[window.location.hostname];if(!a){for(var d in e){if(window.location.hostname.endsWith(d)){a=e[d];b=f[d];break}}}ISQ.Http.isNanoRepDomain=a&&a.isNanoRepDomain;var c=function(g){var h=a[g];if(!h){h=e["nanorep.com"][g]}if(!h){return null}return h};return{isAlllowedDomain:function(g){var h=true;var k;for(var j in e){if(g.contains(j)){h=true;break}}return h},getValue:c,changeLink:function(j,i){var h=document.createElement("div");h.innerHTML=i;var g=h.querySelector("a");g.href=this.getValue(j);return h.innerHTML},changeName:function(h,g,i){return g.replace(i,this.getValue(h))},changeFavicon:function(){var g=document.createElement("link");g.type="image/x-icon";g.rel="shortcut icon";g.href=this.getValue("favicon");document.getElementsByTagName("head")[0].appendChild(g)},mergeDictionary:function(g){for(var h in b){if(b.hasOwnProperty(h)){g[h]=b[h]}}return g},compileLabels:function(k){if(typeof k=="undefined"){k=document}var q=k.querySelectorAll(".WhiteLabelPlaceHolder");if(q.length>0){for(var l=0;l<q.length;l++){var o=q[l];var n=o.getAttribute("wl-key");var p=o.getAttribute("wl-type");if(!n){continue}if(!p){p=n}switch(p){case"name":o.innerHTML=this.getValue(n);break;case"href":o.href=this.getValue(n);break;case"svg":var h=_(this.getValue(n));for(var m=0;m<h.childNodes.length;++m){var g=h.childNodes[m];if(!g.nodeName||(g.nodeName!=="SVG"&&g.nodeName!=="svg")){continue}g=g.cloneNode(true);o.innerHTML="";o.appendChild(g);break}break}}}return k},resetLoginPage:function(){}}})();ISQ.Widget=initializeNS("ISQ.Widget");ISQ.API=initializeNS("ISQ.API");ISQ.Widget.supportsPostMessage=(typeof(window.postMessage)==="function"||typeof(window.postMessage)==="object");ISQ.Widget.doctype=typeof(ISQ.Html)!=="undefined"?ISQ.Html.detectDoctype():null;ISQ.Widget.customHostName=null;ISQ.Widget.setCustomHost=function(a){ISQ.Widget.customHostName=a};ISQ.Widget.getCustomHost=function(){return ISQ.Widget.customHostName};ISQ.Widget.getDynamicHost=function(a){if(a){return ISQ.Widget.customHostName||"eu1-1.nanorep.com"
}else{return ISQ.Widget.customHostName||"//eu1-1.nanorep.com"}};ISQ.Widget.getAccountURL=function(a,c){a=a.toLowerCase();c=ISQ.Widget.customHostName||c||ISQ.Widget.getDynamicHost(true);var b="{0}.nanorep.co";if(!b||ISQ.Widget.customHostName){return"//"+c+"/~"+a}else{return"//"+b.replace("{0}",a.toLowerCase())}};ISQ.Widget.getAccountDomain=function(a,c){a=a.toLowerCase();c=ISQ.Widget.customHostName||c||ISQ.Widget.getDynamicHost(false);if(!c.startsWith("//")){c="//"+c}var b="{0}.nanorep.co";if(!b||ISQ.Widget.customHostName){return c}else{return"//"+b.replace("{0}",a.toLowerCase())}};</script>
	<script type="text/javascript" mini="true">ISQ.Widget=ISQ.Widget||{};ISQ.Widget.parseCustomParams=function(f){var e={},d,b,c;f=f.split(",");function a(g){return g.replace(/(\\\\|\\colon|\\comma)/g,function(h){switch(h){case"\\\\":return"\\";case"\\colon":return":";case"\\comma":return","}})}for(d=0,b=f.length;d<b;++d){c=f[d].split(":",2);if(c.length===2){e[a(c[0])]=a(c[1])}}return e};ISQ.Widget.getInnerFrameUrl=function(g,l,d){g=g||"CDCframe.html";var a=l.indexOf("://")+3;var f;var b;var e="";if(a!==2){f=l.indexOf("/",a);e=l.substring(0,a);b=l.substring(a,f)}else{f=l.indexOf("/");b=l.substring(0,f)}var h=g.indexOf("://")+3;var k;var i;var j="";if(h!==2){k=g.indexOf("/",h);j=g.substring(0,h);i=g.substring(h,k)}else{k=g.indexOf("/");i=g.substring(0,k)}if(e&&i===b){if(j!==e){return g.replace(j,e)}return g}else{if(d){if(i===ISQ.Http.domain()){return g}return""}}var c="";if(g.charAt(0)==="/"){c=e+b+g}else{if(h!==2){c=e+b+g.substring(k)}else{c=e+b+"/"+g}}return c};ISQ.Widget.APIKeyEndDelimiter="<";ISQ.Widget.APIValueEndDelimiter="(";ISQ.Widget.buildNRLinkUrl=function(a,d,g){var f=new Array();f.push("http://www.nanorep.com/?source=poweredBy&aid=");f.push(a);if(d){f.push("&utm_source=");var e=ISQ.Http.domain(false,d).split(".");var c=f.length;for(var b=e.length-1;b>=0;b--){f.splice(c,0,e[b]);if(e[b].length>3){break}if(b>0){f.splice(c,0,".")}}}f.push("&utm_medium=widget&utm_content=");f.push(g);return f.join("")};ISQ.Widget.addCssStyles=function(b,a){if(typeof(b)==="string"&&b){if(b.contains(" ")){ISQ.CSS.addNewStyle(b,a)}else{ISQ.CSS.addNewStyle(ISQ.Tools.Base64.decode(b),a)}}};</script>
	<script type="text/javascript" mini="true">ISQ.Widget.replacePlaceholders=function(n,l,p,d,e){var m={};m.success=false;m.text=n;if(!n){m.success=true;return m}var a=new Array();var o=0;var f=0;var g=["|",":"];while(o<n.length){o=n.indexOf(p,f);if(o===-1){a.push(n.substring(f));break}a.push(n.substring(f,o));f=n.indexOf(d,o);if(f==-1){a.push(n.substring(o));break}var j=n.substring(o+2,f);f+=2;var k=j.split("|");var c;for(var i=0;i<k.length;++i){j=k[i];if(i==k.length-1){var b=j.indexOf(":");if(b!==-1){c=j.substring(b+1);j=j.substring(0,b)}}if(!l){if(i==k.length-1){h=c}continue}else{var h=l[j];if(h){break}h=c}}if(!h){if(!e){return m}h=""}a.push(h)}m.text=a.join("");m.success=true;return m};ISQ.Widget.buildAttachmentUrls_forEvent=function(d){if(!d){return null}var a=[];var c=d.split(",");for(var b=0;b<c.length;++b){if(a.length!=0){a.push(",")}ISQ.Widget.getAttachmentUrl(c[b],a)}return a.join("")};ISQ.Widget.getAttachmentUrl=function(c,a){var b=c.indexOf("/");if(b==-1){return}a.push("http://");a.push(c.substring(0,b));a.push(".s3.amazonaws.com/");a.push(c.substring(b+1))};</script> 
	<script type="text/javascript" mini="true">ISQ.Widget.buildCNFSource=function(a,b,c,f,e,g){var d=[];d.push(ISQ.Widget.getAccountURL(a));d.push("/widget/scripts/cnf.js?account=");d.push(a);d.push("&key=");d.push(ISQ.Http.Cookies.encode64(ISQ.Http.domain(true,f?f:null)));if(g){d.push("&splittestgroup=");d.push(g)}if(f){refererStart=f.indexOf("//");if(refererStart>0&&refererStart<8){refererStart+=2}else{refererStart=0}f=f.substring(refererStart);if(f.indexOf("www.")==0){f=f.replace("www.","")}d.push("&referer=");d.push(f)}if(b){d.push("&isFloat=true")}if(c){d.push("&kb=");d.push(c)}if(e){d.push("&preview=true")}if(ISQ.Http.browser.isIPhone){d.push("&d=1")}return d.join("")};</script>
	<script type="text/javascript" mini="true">ISQ.Widget.CDC_getKeyValueArrayFromMessage=function(d,c){var b;if(c){b={}}else{b=[]}var h=d.split(ISQ.Widget.APIKeyEndDelimiter);var g,a,f;for(var e=0;e<h.length;++e){g=h[e].split(ISQ.Widget.APIValueEndDelimiter);a=ISQ.Http.Cookies.decode64(g[0]);f=ISQ.Http.Cookies.decode64(g[1]);b[a]=f}return b};ISQ.Widget.CDC_appendKeyValueToMessage=function(a,d){var b=true;for(var c in a){if(!b){d.push(ISQ.Widget.APIKeyEndDelimiter)}b=false;d.push(ISQ.Http.Cookies.encode64(c));d.push(ISQ.Widget.APIValueEndDelimiter);d.push(ISQ.Http.Cookies.encode64(a[c]))}};</script>
	<script type="text/javascript" mini="true">ISQ.Widget=initializeNS("ISQ.Widget");ISQ.Widget.enumState={questions:1,autoQuestions:2,allQuestions:3,chat:4,chatSurvey:8,chatEnded:20,allChat:28,contactForm:32,customLink:64,nonChatEscalations:96,allEscalations:124};ISQ.Widget.enumMobileHandlingMode={none:0,inactive:1,normalWidget:2};ISQ.Widget.Escalate=initializeNS("ISQ.Widget.Escalate");ISQ.Widget.Escalate.enumType={email:0,customEmail:1,customChat:2,chat:3,customEmail_fromContactForm:4,clickToCall:5};ISQ.Widget.Feedback=initializeNS("ISQ.Widget.Feedback");ISQ.Widget.Feedback.enumType={thumbs:0,helpful:1};ISQ.Widget.Escalate.maxVisibleChannels=4;ISQ.Widget.Escalate.escaeTypeEnum={normal:"0",customUrl:"1",customScript:"2"};ISQ.Widget.answerList=null;initializeNS("ISQ.Widget.Texts");ISQ.Widget.Texts.available=["en","de","ar","zh","ru","ja","ko","fr","iw","it","nl","pt","es","sv"];ISQ.Widget.account="";ISQ.Widget.dynamicHost="";ISQ.Widget.configId="";ISQ.Widget.cdcFrame="";ISQ.Widget.sendingCDCMessages=false;ISQ.Widget.cdcVersion="1";ISQ.Widget.onloadQuestion="";ISQ.Widget.onloadQuestionId="";ISQ.Widget.onloadQuestionIdFromURL=false;ISQ.Widget.lastQuestionId="";ISQ.Widget.isFloat=false;ISQ.Widget.isFullScreen=false;ISQ.Widget.isContained=false;ISQ.Widget.spriteLoaded=false;ISQ.Widget.skinName=null;ISQ.Widget.referer={normal:"",escaped:"",encoded:false};ISQ.Widget.activeAnswerIndex=null;ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.userActive=false;ISQ.Widget.lastQueryKeyTime=0;ISQ.Widget.updateQueryDiff_ms=2000;ISQ.Widget.customTitle="";ISQ.Widget.customTeaserText="";ISQ.Widget.dynamicSize=false;ISQ.Widget.dynamicMaxSize=0;ISQ.Widget.mobileHandlingMode=ISQ.Widget.enumMobileHandlingMode.none;ISQ.Widget.isPreview=ISQ.Http.hashArguments.preview==="true"||ISQ.Http.urlArguments.preview==="true";ISQ.Widget.reportEvents=ISQ.Http.hashArguments.reportevents==="true";ISQ.Widget.rtlCssLoaded=false;ISQ.Widget.defaultSearchResultsHeight=500;ISQ.Widget.TranslationHelper={};ISQ.Widget.TranslationHelper.languageEnabled=false;ISQ.Widget.TranslationHelper.detectedLanguage=null;
ISQ.Widget.iChat={};ISQ.Translation={};ISQ.Translation.Infra={};ISQ.Translation.Infra.rtlLanguages={iw:true,ar:true,ur:true,yi:true,he:true};ISQ.Translation.Infra.getLanguageDirection=function(a){return ISQ.Translation.Infra.rtlLanguages[a]==null?"ltr":"rtl"};ISQ.Widget.Log=initializeNS("ISQ.Widget.Log");ISQ.Widget.Log.statusEnum={RED:1,GREEN:2};ISQ.Widget.Log.openPopup=function(){};ISQ.Widget.Log.on=function(){};ISQ.Widget.Log.add=function(){};ISQ.Widget.Log.autoScroll=function(){};ISQ.Widget.canUseLocalStorage=(function(){try{window.localStorage&&window.localStorage.getItem("ISQ")}catch(a){return false}return true}());ISQ.Widget.init=function(){if(ISQ.Http.browser.isFF3){eval("[0,1]")}var refencoded=false;if(ISQ.Http.hashArguments.referer){ISQ.Widget.referer.normal=ISQ.Http.hashArguments.referer;ISQ.Widget.referer.encoded=ISQ.Http.hashArguments.refencoded=="true"}else{if(ISQ.Http.urlArguments.referer){ISQ.Widget.referer.normal=ISQ.Http.urlArguments.referer;ISQ.Widget.referer.encoded=ISQ.Http.urlArguments.refencoded=="true"}else{ISQ.Widget.referer.normal=""}}if(ISQ.Widget.referer.normal&&ISQ.Widget.referer.encoded){ISQ.Widget.referer.normal=ISQ.Http.Cookies.decode64(ISQ.Widget.referer.normal)}var ndx=ISQ.Widget.referer.normal.toLowerCase().indexOf("%3a");if(ndx>6||ndx===-1){ISQ.Widget.referer.escaped=escape(ISQ.Widget.referer.normal)}else{ISQ.Widget.referer.escaped=ISQ.Widget.referer.normal;ISQ.Widget.referer.normal=unescape(ISQ.Widget.referer.normal)}ISQ.Widget.account=ISQ.Http.hashArguments.account||ISQ.Http.urlArguments.account;ISQ.Widget.configId=ISQ.Http.hashArguments.configid||ISQ.Http.urlArguments.configid;if(window.parent===window){var domain=ISQ.Widget.getAccountURL(ISQ.Widget.account);var ndx=window.location.href.indexOf(domain);if(ndx===-1||ndx>8){var currentDomain=ISQ.Http.domain();window.location.href=window.location.href.replace(currentDomain,domain);return}}ISQ.Widget.cdcFrame=ISQ.Widget.getInnerFrameUrl(ISQ.Http.hashArguments.cdcframe,ISQ.Widget.referer.normal,true);if(ISQ.Widget.cdcFrame){ISQ.Widget.cdcVersion=ISQ.Http.hashArguments.cdcversion||"1"
}ISQ.Widget.splitTestGroup=ISQ.Http.hashArguments.splittestgroup;ISQ.Widget.isFloat=ISQ.Http.hashArguments.isfloat==="true";ISQ.Widget.HTML.isBigger=ISQ.Widget.isFloat?false:true;ISQ.Widget.isFullScreen=ISQ.Http.hashArguments.fullscreenmode==="true";ISQ.Widget.dynamicSize=!ISQ.Widget.isFloat&&ISQ.Http.hashArguments.dynamicsize==="true";ISQ.Widget.dynamicMaxSize=parseInt(ISQ.Http.hashArguments.dynamicmaxsize)||0;if(isNaN(ISQ.Widget.dynamicMaxSize)){ISQ.Widget.dynamicMaxSize=0}ISQ.Widget.HTML.Mobile.adjustableEmbedWidth=ISQ.Http.browser.isMobile&&!ISQ.Http.browser.oldAndroid&&!ISQ.Widget.isFloat&&window.top!==window;ISQ.Widget.sendingCDCMessages=window.top!==window&&(ISQ.Widget.supportsPostMessage||(ISQ.Widget.cdcFrame&&(ISQ.Widget.dynamicSize||ISQ.Widget.isFloat)));ISQ.Widget.CDC.init();var resetCDC=ISQ.Http.Cookies._read("resetcdc");if(resetCDC==="1"){ISQ.Http.Cookies._delete("resetcdc","/widget",ISQ.Http.domain());ISQ.Widget.CDC.sendMessage("subject=reset")}ISQ.Widget.Cnf.load();var htmlCollapseHeight=ISQ.Http.hashArguments.htmlcollapseheight;if(typeof(htmlCollapseHeight)!=="undefined"){ISQ.Widget.HTML.htmlCollapseHeight=parseInt(htmlCollapseHeight)}ISQ.Widget.initContext();var list=new nanoRep.SDK.Answering.List({customScrolling:ISQ.Widget.isFloat||ISQ.Widget.isSideWidget,showAnswerMargin:ISQ.Widget.isSupportCenterSkin||ISQ.Widget.isSideWidget,answerHasActionBar:true,answerHasFeedback:true,answerHasSharing:true,listMode:"simple"});list.on({autolink:ISQ.Widget.openAutoLink,resize:function(){ISQ.Widget.redrawChannelingPopup();if(ISQ.Widget.isSupportCenterSkin){ISQ.Widget.HTML.contentWrapper.style.height=ISQ.Widget.HTML.contentArea.style.height=""}ISQ.Widget.HTML.dynamicSize_sendMessage()},toggleAnswer:function(answerScope){if(!answerScope.$model.isOpen){document.activeElement.blur()}ISQ.Widget.redrawAnswerList();ISQ.Widget.HTML.dynamicSize_sendMessage();ISQ.Widget.ChannelingActions.closeActiveChannel();ISQ.Widget.closeActiveFeedback()},toggleAnswerCompleted:function(answerScope){if(answerScope.$model.isOpen&&ISQ.Widget.dynamicSize&&ISQ.Widget.pageScrollState){setTimeout(function(){var answerOffset=ISQ.Widget.getBlockOffset(answerScope.$domElement);
var targetScrollTop=ISQ.Widget.pageScrollState.widgetOffsetTop+answerOffset.top;ISQ.Widget.CDC.sendMessage("subject=scrollTo&offset="+targetScrollTop+"&onlyifbelow=true")},1)}}});list.bindScope("#answerList");ISQ.Widget.answerList=list;if(!ISQ.Widget.isFloat&&window.top!==window){ISQ.Widget.embedCallback=function(data){ISQ.Widget.pageScrollState={pageHeight:data.height|0,pageScrollTop:data.scrollTop|0,widgetOffsetTop:data.offsetTop|0,widgetHeight:document.body.offsetHeight};ISQ.Widget.redrawStickyBar();ISQ.Widget.redrawChannelingPopup()};ISQ.Widget.CDC.sendMessage("subject=enableScrollingEvent")}};ISQ.Widget.preventTransitions=function(){ISQ.CSS.addClass(document.documentElement,"nr-no-transitions");setTimeout(function(){ISQ.CSS.removeClass(document.documentElement,"nr-no-transitions")},1)};ISQ.Widget.redrawStickyBar=function(){if(!ISQ.Widget.pageScrollState||ISQ.Widget.isSideWidget){return}if("ontouchstart" in window){return}if(_("answerList").getAttribute("nr-no-results")!==null||!ISQ.Widget.answerList.answers.length){return}var c,h,g,a,b;for(var j=0;j<ISQ.Widget.answerList.answers.length;j++){c=ISQ.Widget.answerList.answers[j];h=c.getScope()&&c.getScope().footerNode;if(c.isOpen){a=c;b=h}else{if(h){h.style.cssText=""}}}if(!b){return}b.style.bottom="auto";var l=ISQ.Widget.pageScrollState,f,e=b.offsetHeight;f=l.pageScrollTop+l.pageHeight-e-l.widgetOffsetTop;b.style.bottom="";var d=a.getScope().$domElement,k=ISQ.Widget.getBlockOffset(d).top+d.offsetHeight-e;if(f>k){b.style.cssText="";return}b.style.transition="opacity 0.1s ease";b.style.opacity=b.style.opacity?0:1;clearTimeout(ISQ.Widget.stickyBarTimer);ISQ.Widget.stickyBarTimer=setTimeout(function(){b.style.transition="opacity 0.2s ease";b.style.opacity=1},750);b.style.zIndex="9";b.style.position="fixed";b.style.top=f+"px";b.style.left=_("answerList").offsetLeft+"px";b.style.right=_("answerList").offsetLeft+"px";ISQ.Widget.maxPopupContentHeight=Math.min(f-e,ISQ.Widget.pageScrollState.pageHeight-e*2)};ISQ.Widget.setChannelingPopupContent=function(c,d,a){if(!ISQ.Widget.isSupportCenterSkin){return
}if(!ISQ.Widget.channelingPopupNode){ISQ.Widget.channelingPopupNode=document.createElement("div");ISQ.Widget.channelingPopupNode.style.opacity=0;ISQ.Widget.channelingPopupNode.style.transition="opacity 0.2s ease";ISQ.Widget.channelingPopupNode.style.display="none";ISQ.Widget.channelingPopupNode.className="nr-channeling-support-center-popup";ISQ.Widget.channelingPopupNode.innerHTML='<div class="nr-channeling-support-center-popup-content"></div><span class="nr-channeling-support-center-popup-decoration"></span>';ISQ.Widget.channelingPopupContentNode=ISQ.Widget.channelingPopupNode.querySelector(".nr-channeling-support-center-popup-content");document.body.appendChild(ISQ.Widget.channelingPopupNode)}if(ISQ.Widget.activeChannelingPopup){ISQ.Widget.channelingPopupNode.style.opacity=0;ISQ.Widget.channelingPopupNode.style.display="none";if(ISQ.Widget.activeChannelingPopup._domPlaceholder){ISQ.Widget.activeChannelingPopup._domPlaceholder.parentNode.insertBefore(ISQ.Widget.activeChannelingPopup,ISQ.Widget.activeChannelingPopup._domPlaceholder);ISQ.Widget.activeChannelingPopup._domPlaceholder.parentNode.removeChild(ISQ.Widget.activeChannelingPopup._domPlaceholder);ISQ.Widget.activeChannelingPopup._domPlaceholder=null}ISQ.Widget.activeChannelingAnswer.removeAttribute("nr-channeling-popup-active");var b=ISQ.Widget.activeChannelingAnswer.querySelector(".nr-answering-answer-body");if(b){b.style.minHeight=""}if(!c){ISQ.Widget.redrawAnswerList(true)}ISQ.Widget.activeChannelingPopup=null;ISQ.Widget.activeChannelingOpener=null;ISQ.Widget.activeChannelingAnswer=null;ISQ.Widget.activeChannelingBody=null;removeEvents(document.documentElement,"click",ISQ.Widget.channelingPopupOutsideClickHandler)}if(c){if(!c._domPlaceholder){c._domPlaceholder=document.createElement("span");c.parentNode.insertBefore(c._domPlaceholder,c)}ISQ.Widget.activeChannelingPopup=c;ISQ.Widget.activeChannelingOpener=d;ISQ.Widget.activeChannelingAnswer=a;ISQ.Widget.activeChannelingBody=a.querySelector(".nr-answering-answer-body");ISQ.Widget.channelingPopupContentNode.appendChild(ISQ.Widget.activeChannelingPopup);
ISQ.Widget.channelingPopupNode.style.display="block";ISQ.Widget.activeChannelingAnswer.setAttribute("nr-channeling-popup-active","");ISQ.Widget.activeChannelingBody.style.minHeight=ISQ.Widget.channelingPopupNode.offsetHeight+ISQ.Widget.activeChannelingOpener.offsetHeight+"px";ISQ.Widget.redrawAnswerList(true);ISQ.Widget.redrawChannelingPopup();ISQ.Widget.channelingPopupNode.style.opacity=1;addEvents(document.documentElement,"click",ISQ.Widget.channelingPopupOutsideClickHandler)}};ISQ.Widget.channelingPopupOutsideClickHandler=function(a){a=a||window.event;var b=a.target||a.srcElement;if(ISQ.Widget.channelingPopupNode!==b&&!ISQ.Widget.channelingPopupNode.contains(b)&&ISQ.Widget.activeChannelingOpener!==b&&!ISQ.Widget.activeChannelingOpener.contains(b)){ISQ.Widget.ChannelingActions.closeActiveChannel();ISQ.Widget.closeActiveFeedback();ISQ.Widget.setChannelingPopupContent(null)}};ISQ.Widget.redrawChannelingPopup=function(){if(!ISQ.Widget.isSupportCenterSkin){return}if(!ISQ.Widget.activeChannelingPopup||!ISQ.Widget.activeChannelingOpener){return}var c=ISQ.Widget.getBlockOffset(ISQ.Widget.activeChannelingOpener);ISQ.Widget.channelingPopupNode.style.position="absolute";ISQ.Widget.channelingPopupNode.style.bottom=Math.max(0,_("widgetContainer").offsetHeight-c.top)+"px";if(ISQ.Widget.answerList.answers.length&&ISQ.Widget.answerList.answers[0].noAnswersAnswer){ISQ.Widget.channelingPopupContentNode.style.maxHeight="none";ISQ.Widget.maxPopupContentHeight=ISQ.Widget.channelingPopupContentNode.offsetHeight;ISQ.Widget.activeChannelingBody.style.minHeight=ISQ.Widget.channelingPopupNode.offsetHeight+ISQ.Widget.activeChannelingOpener.offsetHeight+"px"}if(typeof ISQ.Widget.maxPopupContentHeight==="number"){ISQ.Widget.channelingPopupContentNode.style.maxHeight=ISQ.Widget.maxPopupContentHeight+"px"}var d=ISQ.Widget.activeChannelingOpener.offsetWidth,f=parseFloat(ISQ.CSS.getElementStyle(ISQ.Widget.channelingPopupNode,"margin-left")||0)||parseFloat(ISQ.CSS.getElementStyle(ISQ.Widget.channelingPopupNode,"margin-right")||0),g=ISQ.Widget.channelingPopupNode.offsetWidth,b=_("answerList").offsetWidth,a=ISQ.Widget.getBlockOffset(_("answerList")),h=c.left+(d-g)/2;
h=Math.min(Math.max(h,a.left),Math.max(0,a.left+b-g-f*2));ISQ.Widget.channelingPopupNode.style.left=h+"px";var e=ISQ.Widget.channelingPopupNode.querySelector(".nr-channeling-support-center-popup-decoration");e.style.left=c.left-h-f+(d-e.offsetWidth)/2+"px"};ISQ.Widget.getBlockOffset=function(c){if(c.getBoundingClientRect){var f=c.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,h=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientLeft||document.body.clientLeft||0,b=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(f.top+h-b),left:Math.round(f.left+g-a)}}else{var d=0,e=0;while(c.offsetParent){d+=c.offsetLeft;e+=c.offsetTop;c=c.offsetParent}return{top:e,left:d}}};ISQ.Widget.redrawAnswerList=function(a){try{var k=parseFloat(ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentArea,"padding-top"))+parseFloat(ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentArea,"padding-bottom")),j=0,d}catch(f){return}_it(ISQ.Widget.FAQ.currentAnswers,function(e){if(e.isOpen){var l=e.parentListScope.hoverAccordion;if(l&&l.options.mode==="single"&&!l.isAnimated()){l.redraw(!a)}}});if(_("answerList").getAttribute("nr-no-results")===null){for(var h=0,b=false;h<ISQ.Widget.answerList.answers.length;h++){if(ISQ.Widget.answerList.answers[h].isOpen&&!ISQ.Widget.answerList.answers[h].isOnloadQuestion){b=true}}}ISQ.CSS[b?"addClass":"removeClass"](ISQ.Widget.HTML.widgetContainer,"nr-answer-list-expanded");var g=false,c=ISQ.Widget.HTML.contentArea.children;for(var h=0;h<c.length;h++){if(c[h].offsetHeight){g=true;break}}if(g){ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-widget-no-content")}else{ISQ.CSS.addClass(ISQ.Widget.HTML.widgetContainer,"nr-widget-no-content")}k=k||0;if(ISQ.Widget.isFloat||!ISQ.Widget.dynamicSize){d=ISQ.Widget.HTML.contentWrapper.offsetHeight-_("widgetStatusContainer").offsetHeight-_("translationSwitcher").offsetHeight-_("contextBar").offsetHeight-ISQ.Widget.HTML.chatInviteContainer.offsetHeight-k;
d=Math.max(d,0)}else{if(ISQ.Widget.dynamicMaxSize){j=ISQ.Widget.HTML.footerWrapper.offsetHeight+ISQ.Widget.HTML.titleWrapper.offsetHeight+ISQ.Widget.HTML.searchWrapper.offsetHeight+_("translationSwitcher").offsetHeight+ISQ.Widget.HTML.chatInviteContainer.offsetHeight;d=Math.min(ISQ.Widget.dynamicMaxSize,ISQ.Widget.defaultSearchResultsHeight)-j-k}else{d=ISQ.Widget.defaultSearchResultsHeight}}if(!ISQ.Widget.isSupportCenterSkin){_("answerList").style.height=d+"px"}if(ISQ.Widget.ChannelingActions.customChatActive){document.getElementById("customChatContainer").style.minHeight=document.getElementById("contentAreaWrapper").offsetHeight+"px"}if(ISQ.Widget.answerList.redraw){ISQ.Widget.answerList.redraw(a,function(){if(ISQ.Widget.answerListPrevHeight!==ISQ.Widget.HTML.contentArea.offsetHeight){ISQ.Widget.answerListPrevHeight=ISQ.Widget.HTML.contentArea.offsetHeight;ISQ.Widget.HTML.dynamicSize_sendMessage()}})}};ISQ.Widget.initContext=function(){var contextFromStorage=null;if(ISQ.Widget.canUseLocalStorage&&window.localStorage&&!ISQ.Http.browser.isIOS7){contextFromStorage=window.localStorage.getItem("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account))}if(!contextFromStorage){contextFromStorage=ISQ.Http.Cookies._readCaseSensitive("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account))}if(contextFromStorage&&!ISQ.Widget.contextSetAlready){var currentContext=eval("("+contextFromStorage+")");_session().setContext(currentContext,null,false)}};ISQ.Widget.embedCallback=null;ISQ.Widget.pageUnload=function(){};ISQ.Widget.Cnf=initializeNS("ISQ.Widget.Cnf");ISQ.Widget.Cnf.load=function(){if(ISQ.Widget.supportsPostMessage&&(window.top!==window&&self!==self.top)&&ISQ.Http.hashArguments.cnf=="true"){ISQ.Widget.isContained=true;ISQ.Cnf=null;ISQ.Widget.CDC.sendMessage("subject=cnf");setTimeout(function(){if(!ISQ.Cnf){ISQ.Widget.CDC.user.mMessageOrdinal=0;ISQ.Widget.Cnf.load()}},1000)}else{var kb=ISQ.Http.hashArguments.kb||ISQ.Http.urlArguments.kb;var cnfDownloadedSecondTime=!ISQ.Widget.supportsPostMessage&&window.top!==window;
ISQ.Tools.appendScript(ISQ.Widget.buildCNFSource(ISQ.Widget.account,ISQ.Widget.isFloat,kb,ISQ.Widget.referer.escaped,cnfDownloadedSecondTime,ISQ.Widget.splitTestGroup),function(){setTimeout(function(){if(ISQ.Widget.isFloat){ISQ.Cnf=ISQ.Cnf_Float}else{ISQ.Cnf=ISQ.Cnf_Embed}if(ISQ.Cnf.controlGroup){return}var customScript=ISQ.Cnf.customScript;delete ISQ.Cnf.customScript;if(customScript){try{eval(customScript)}catch(e){}}ISQ.Widget.Cnf.postDownload()},0)})}};ISQ.Widget.Cnf.postDownload=function(){ISQ.Widget.loadHandler()};ISQ.Widget.Css=initializeNS("ISQ.Widget.Css");ISQ.Widget.Css.RTL_CSS_identifier="html.rtl_css_file";ISQ.Widget.Css.dynamic_RTL_CSS_identifier="html.dynamic_rtl_css_file";ISQ.Widget.loadHandler=function(){if(ISQ.Cnf.controlGroup){return}if(typeof ISQ.Cnf.customServerHost==="string"){ISQ.Widget.setCustomHost(ISQ.Cnf.customServerHost)}ISQ.Widget.isSideWidget=ISQ.Cnf.skinName.toLowerCase().indexOf("side widget")>-1;if(ISQ.Widget.isSideWidget){ISQ.Widget.HTML.isBigger=true;ISQ.CSS.addClass(document.body,"nr-side-widget");if(ISQ.Cnf.headerCode){_("widgetTopCustomCode").innerHTML=ISQ.Cnf.headerCode}if(ISQ.Cnf.footerCode){_("widgetBottomCustomCode").innerHTML=ISQ.Cnf.footerCode}ISQ.Widget.isFullScreen=(window===window.top);_("floatButtonsWrapper").style.display="none";_("widgetTopSection").className+=" widgetBGcolor";if(ISQ.Cnf.widgetBackgroundColor){_("widgetContainer").style.backgroundColor=ISQ.Cnf.widgetBackgroundColor}}if(ISQ.Widget.isFloat&&ISQ.Cnf.limited){return}var size=ISQ.Html.screenSize();if(size.h===0&&(ISQ.Http.browser.isMobile||!ISQ.Widget.isFloat||!ISQ.Http.browser.isIE7)){setTimeout(function(){ISQ.Widget.loadHandler()},10);return}var ctxStr=ISQ.Http.hashArguments.context;if(ctxStr){var contextObject={};var ctxSplit=ctxStr.split(",");iteration(ctxSplit,function(item){var itemSplit=item.split(":");if(itemSplit.length!=2){return}contextObject[itemSplit[0]]=itemSplit[1]});ISQ.Widget.API.updateContext(contextObject,true)}var newContexts=ISQ.Widget.combineContext(ISQ.Cnf.contextAttributes,_session().contexts(),ISQ.Widget.API.getCustomParams());
if(newContexts){if(ISQ.Http.browser.isMobile){var tmp=[];ISQ.Widget.CDC_appendKeyValueToMessage(newContexts,tmp);ISQ.Widget.HTML.Mobile.context=tmp.join("")}if(!ISQ.Http.browser.isMobile||ISQ.Widget.HTML.Mobile.adjustableEmbedWidth){ISQ.Widget.API.updateContext(newContexts,false)}}if(ISQ.Cnf.languageDictionary){eval(ISQ.Cnf.languageDictionary)}ISQ.Widget.FAQ.scriptLoadState=ISQ.Widget.FAQ.initEnum.loaded;ISQ.Widget.FAQ.handleCnfData();if(ISQ.Widget.FAQ.pendingFAQCallback){ISQ.Widget.FAQ.pendingFAQCallback()}ISQ.Widget.skinName=(ISQ.Cnf.skinName)?ISQ.Cnf.skinName:null;ISQ.Widget.isSupportCenterSkin=!ISQ.Widget.isFloat&&ISQ.Widget.dynamicSize&&ISQ.Widget.skinName.indexOf("Support Center")>-1;if((ISQ.Widget.isSupportCenterSkin||ISQ.Widget.isSideWidget)&&ISQ.Widget.answerList){ISQ.Widget.answerList.getScope().setModelProperty({showAnswerMargin:true})}if((ISQ.Widget.isFloat||ISQ.Widget.isSideWidget)&&ISQ.Widget.answerList){ISQ.Widget.answerList.getScope().setModelProperty({customScrolling:true})}ISQ.Widget.addCssStyles(ISQ.Cnf.skinCSS);if(ISQ.Cnf.skinCSS_rtl){ISQ.Widget.rtlCssLoaded=true;ISQ.CSS.addNewStyle(ISQ.Cnf.skinCSS_rtl,"fileloaderStyleSheet",true)}if(typeof(ISQ.Cnf.customCSS)==="string"){var customCssProcessed=false;var customCssSource=ISQ.Cnf.customCSS;var ndx=customCssSource.indexOf("@import");if(ndx!==-1){var customCssErr=false;var customCSSBuilder=[];var endNdx=-1;var imports=[];do{customCSSBuilder.push('htmlCustomCSS{"visibility:visible;"}');customCSSBuilder.push(customCssSource.substring(0,ndx));ndx=customCssSource.indexOf("(",ndx);if(ndx===-1){customCssErr=true;break}endNdx=customCssSource.indexOf(")",ndx);if(endNdx===-1){customCssErr=true;break}imports.push(customCssSource.substring(ndx+2,endNdx-1));endNdx=customCssSource.indexOf(";",endNdx);if(endNdx++===-1){customCssErr=true;break}ndx=customCssSource.indexOf("@import",endNdx)}while(ndx!==-1);if(!customCssErr){if(endNdx!==customCssSource.length){customCSSBuilder.push(customCssSource.substring(endNdx))}ISQ.CSS.addNewStyle(customCSSBuilder.join(""));customCssProcessed=true;
for(i=0;i<imports.length;++i){var lnk=createElement("link");lnk.rel="stylesheet";lnk.setAttribute("rel","stylesheet");lnk.href=imports[i];lnk.setAttribute("href",imports[i]);document.getElementsByTagName("HEAD")[0].appendChild(lnk)}}}if(!customCssProcessed){ISQ.CSS.addNewStyle('htmlCustomCSS{"visibility:visible;"}'+customCssSource)}}if(ISQ.Http.browser.isIE7){setTimeout(function(){document.body.style.position="relative";document.body.style.left=0;document.body.style.top=0},0)}ISQ.Widget.Localize={};if(!ISQ.Cnf.ignoreScriptCustomValues){if(ISQ.Http.hashArguments.languagecode){ISQ.Cnf.initialUiLanguage=ISQ.Tools.getUniformLanguageCode(ISQ.Http.hashArguments.languagecode)}else{if(ISQ.Http.urlArguments.languagecode){ISQ.Cnf.initialUiLanguage=ISQ.Tools.getUniformLanguageCode(ISQ.Http.urlArguments.languagecode)}}}if(!ISQ.Cnf.initialUiLanguage){if(ISQ.Cnf.uiLanguageCode){ISQ.Cnf.initialUiLanguage=ISQ.Cnf.uiLanguageCode}else{ISQ.Cnf.initialUiLanguage=ISQ.Cnf.kbLanguageCode}}nanoRep.FAQ.init(ISQ.Cnf.initialUiLanguage,window.location.protocol+"//"+ISQ.Http.domain(true));ISQ.Widget.Localize.array=ISQ.Widget.Texts[ISQ.Cnf.initialUiLanguage];if(!ISQ.Widget.Localize.array){ISQ.Cnf.initialUiLanguage="en";ISQ.Widget.Localize.array=ISQ.Widget.Texts.en}ISQ.Cnf.currentUiLanguage=ISQ.Cnf.initialUiLanguage;var customDictValues={surveyDialogTitle:ISQ.Cnf.feedbackCustomiseText,surveyTitle:ISQ.Cnf.feedbackSubmissionText,surveyPlaceholder:ISQ.Cnf.feedbackBoxText,surveyDisclaimer:ISQ.Cnf.feedbackDisclaimerText,surveySubmit:ISQ.Cnf.feedbackBottomText};for(var prop in customDictValues){if(customDictValues.hasOwnProperty(prop)&&typeof customDictValues[prop]==="undefined"){delete customDictValues[prop]}}nanoRep.SDK.Localization.defineDictionary(ISQ.Cnf.initialUiLanguage,"Feedback",customDictValues);if(ISQ.Widget.Localize.array.dir!=="rtl"){ISQ.CSS.toggleCss(ISQ.Widget.Css.RTL_CSS_identifier,false);ISQ.CSS.toggleCss(ISQ.Widget.Css.dynamic_RTL_CSS_identifier,false);ISQ.Widget.HTML.dynamicRTLCssLoaded=false}var footerNanoRepLink=_("footerNanoRepLink");
if(!ISQ.Cnf.goResponseBranding){footerNanoRepLink.href=ISQ.Widget.buildNRLinkUrl(ISQ.Widget.account,ISQ.Widget.referer.normal,ISQ.Widget.isFloat?"float":"embed");footerNanoRepLink.className="link_nano_img padding"}else{footerNanoRepLink.className="link_nano_img padding link_go_response"}if(ISQ.Http.browser.app==="chrome"){window.onbeforeunload=ISQ.Widget.pageUnload}else{window.onunload=ISQ.Widget.pageUnload}document.body.onclick=function(evt){evt=window.event||evt;var tar=evt.target||evt.srcElement;if(tar.nodeName!="A"){return}var p=tar.parentNode;var pane=_("contentArea");while(p!=null&&p!=pane){p=p.parentNode}if(p!=pane){return}var href=tar.href;if(href.startsWith("javascript")){return}ISQ.Widget.setOngoingData(href)};ISQ.Widget.HTML.setPointers();if(window.top===window||ISQ.Widget.isFullScreen){ISQ.CSS.addClass(_("widgetContainer"),"fullScreen")}if(ISQ.Widget.isFullScreen){ISQ.CSS.addClass(document.body,"fullscreenMobile")}if(!ISQ.Cnf.ignoreScriptCustomValues){if(ISQ.Http.hashArguments.bgcolor||ISQ.Http.urlArguments.bgcolor){var color;if(ISQ.Http.hashArguments.bgcolor){color=ISQ.Http.Cookies.decode64(ISQ.Http.hashArguments.bgcolor)}else{color=ISQ.Http.Cookies.decode64(ISQ.Http.urlArguments.bgcolor)}_("widgetTitleWrapper").style.backgroundColor=color;ISQ.Widget.HTML.footerWrapper.style.backgroundColor=color;_("widgetMinimizedFooter").style.backgroundColor=color}if(ISQ.Http.hashArguments.teaser){ISQ.Widget.customTeaserText=ISQ.Http.Cookies.decode64(ISQ.Http.hashArguments.teaser)}else{if(ISQ.Http.urlArguments.teaser){ISQ.Widget.customTeaserText=ISQ.Http.Cookies.decode64(ISQ.Http.urlArguments.teaser)}}if(ISQ.Http.hashArguments.title){ISQ.Widget.customTitle=ISQ.Http.Cookies.decode64(ISQ.Http.hashArguments.title)}else{if(ISQ.Http.urlArguments.title){ISQ.Widget.customTitle=ISQ.Http.Cookies.decode64(ISQ.Http.urlArguments.title)}}if(ISQ.Http.hashArguments.color){_("widgetTitleText").style.color=ISQ.Http.Cookies.decode64(ISQ.Http.hashArguments.color)}else{if(ISQ.Http.urlArguments.color){_("widgetTitleText").style.color=ISQ.Http.Cookies.decode64(ISQ.Http.urlArguments.color)
}}}ISQ.Widget.HTML.widgetContainer.style.display="block";_("widgetLoading").style.display="none";ISQ.Widget.setInitialTexts();if(ISQ.Cnf.floatTeaser_width){ISQ.Cnf.floatTeaser_WidgetSize[0]=ISQ.Cnf.floatTeaser_width}if(!ISQ.Widget.isFloat){_("floatButtonsWrapper").style.display="none"}var footerResult=ISQ.Data.getDBAnswerAsHtml(ISQ.Cnf.answerFooter,true,null,null,null,ISQ.Widget.referer.normal);ISQ.Cnf.answerFooter=footerResult.text;ISQ.Cnf.answerFooterScript=footerResult.script;if(ISQ.Widget.isFloat&&ISQ.Cnf.customerBrandingLogo&&ISQ.CSS.getElementStyle(_("customerLogo"),"visibility")!=="hidden"){var img=new Image();img.onload=function(){this.loaded=true;ISQ.Widget.onCustomerLogoLoad()};ISQ.Cnf.customerBrandingLogo_img=img;img.src=ISQ.Cnf.customerBrandingLogo;ISQ.Cnf.customerBrandingLogo_img.loaded=false}else{ISQ.Cnf.customerBrandingLogo=null}ISQ.Widget.HTML.Mobile.setMode();ISQ.Widget.initQueryField();ISQ.Widget.Query.init();nanoRep.SDK.Localization.setLocale(ISQ.Cnf.currentUiLanguage);ISQ.Widget.setUiLanguage(ISQ.Cnf.currentUiLanguage);if(ISQ.Cnf.limited){ISQ.Widget.HTML.limitedMode()}else{if(ISQ.Cnf.chatConfiguration&&ISQ.Cnf.chatEnabled&&ISQ.Widget.mobileHandlingMode!==ISQ.Widget.enumMobileHandlingMode.inactive){ISQ.Widget.Chat.init()}if(((ISQ.Widget.state&ISQ.Widget.enumState.allChat)===0)&&!ISQ.Widget.onloadQuestion&&!ISQ.Widget.onloadQuestionId&&ISQ.Cnf.autoQuestions){ISQ.Widget.AutoQuestions.init(ISQ.Cnf.autoQuestions,ISQ.Cnf.autoQuestionsInterval,ISQ.Cnf.repeatAutoQuestions)}var initialText=ISQ.Cnf.initialText||ISQ.Widget.onloadQuestion||ISQ.Widget.onloadQuestionId;if(ISQ.Http.hashArguments.onloadquestion){ISQ.Widget.onloadQuestion=ISQ.Http.Cookies.decode64(ISQ.Http.hashArguments.onloadquestion)}else{if(ISQ.Http.urlArguments.onloadquestion){ISQ.Widget.onloadQuestion=ISQ.Http.Cookies.decode64(ISQ.Http.urlArguments.onloadquestion)}}if(ISQ.Http.hashArguments.onloadquestionid){ISQ.Widget.onloadQuestionId=ISQ.Http.hashArguments.onloadquestionid;ISQ.Widget.onloadQuestionIdFromURL=true;if(((ISQ.Widget.state&ISQ.Widget.enumState.allChat)===0)&&ISQ.Widget.onloadQuestionId){ISQ.Widget.state=ISQ.Widget.enumState.questions
}}else{if(ISQ.Http.urlArguments.onloadquestionid){ISQ.Widget.onloadQuestionId=ISQ.Http.urlArguments.onloadquestionid;if(((ISQ.Widget.state&ISQ.Widget.enumState.allChat)===0)&&ISQ.Widget.onloadQuestionId){ISQ.Widget.state=ISQ.Widget.enumState.questions}}else{if(((ISQ.Widget.state&ISQ.Widget.enumState.allChat)===0)&&ISQ.Cnf.onloadQuestionId&&ISQ.Cnf.onloadQuestionId!="-1"){ISQ.Widget.onloadQuestionId=ISQ.Cnf.onloadQuestionId;if(ISQ.Widget.isFloat){ISQ.Widget.state=ISQ.Widget.enumState.questions}else{ISQ.Widget.state=ISQ.Widget.enumState.autoQuestions}}else{if(((ISQ.Widget.state&ISQ.Widget.enumState.allChat)==0)&&(!ISQ.Widget.isFloat||ISQ.Http.browser.isMobile)&&!ISQ.Cnf.autoQuestions){ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad);if(ISQ.Http.browser.isMobile){ISQ.Widget.FAQ.pendingFAQCallbackList.push(function(){ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad)});ISQ.Widget.FAQ.initalize()}}}}}}ISQ.Widget.HTML.resizeHandler();if(ISQ.Cnf.hideBranding){_("footerNanoRepLink").style.display="none";_("logoInCollapsedMode").style.display="none"}if(ISQ.Cnf.customerBrandingText){_("customerBrandingText").style.display="block";_("customerBrandingText").innerHTML=ISQ.Cnf.customerBrandingText}if(ISQ.Cnf.faqWidgetConfig&&ISQ.Cnf.faqWidgetConfig!="[]"){_("footerNanoRepLink").style.visibility="hidden";ISQ.Widget.HTML.widgetFooter.className="widgetFooter"}if(!ISQ.Http.browser.usesViewport||ISQ.Http.browser.isIOS7){ISQ.Html.ReSize.init(ISQ.Html.ReSize.enumListenTo.both,true);var lastTime=0;var prevSize={w:0,h:0};var ignoreNext=false;var ios7SizeFix=ISQ.Http.browser.isIOS7&&!ISQ.Widget.isFloat&&window!==window.top;ISQ.Html.ReSize.Event.addHandler(function(){if(ios7SizeFix){viewportSize=ISQ.Html.screenSize();var now=new Date().getTime();if(ignoreNext&&viewportSize.h<prevSize.h){lastTime=now;if(now-lastTime<100){return}}prevSize=viewportSize;ignoreNext=false;lastTime=now}ISQ.Widget.HTML.resizeHandler(null,true);if(ios7SizeFix){ignoreNext=true}})}else{if(ISQ.Http.browser.isTablet||ISQ.Widget.HTML.Mobile.adjustableEmbedWidth){setInterval(ISQ.Widget.HTML.resizePollingHandler,20)
}if(!ISQ.Http.browser.isIE6&&ISQ.Widget.mobileHandlingMode!==ISQ.Widget.enumMobileHandlingMode.inactive){window.addEventListener("orientationchange",ISQ.Widget.HTML.Mobile.orientationChanged)}}var notifyClick=ISQ.Http.hashArguments.notifyclick||false;if(notifyClick==="true"&&!ISQ.Http.browser.isMobile){if(!ISQ.Http.browser.isTablet){document.onclick=function(e){var evt=e||window.event;if(ISQ.Widget.HTML.ignoreNextClickEvent){ISQ.Widget.HTML.ignoreNextClickEvent=false;return}if(ISQ.Http.browser.isIE6){setTimeout(function(){ISQ.Widget.CDC.sendMessage("subject=click")},0)}else{ISQ.Widget.CDC.sendMessage("subject=click");var target=evt.target||evt.srcElement;if(target.tagName!=="INPUT"){ISQ.Widget.Expand()}}}}else{_("widgetTitleWrapper").addEventListener("click",function(evt){if(ISQ.Widget.HTML.Mobile.ignoreClickEvent){ISQ.Widget.HTML.Mobile.ignoreClickEvent=false;return}ISQ.Widget.CDC.sendMessage("subject=click")});_("contentAreaWrapper").addEventListener("click",function(evt){ISQ.Widget.CDC.sendMessage("subject=click")})}}if(ISQ.Cnf.answerPeeksEnabled){if(document.addEventListener){ISQ.Widget.HTML.contentWrapper.addEventListener("scroll",ISQ.Widget.Query.contentWrapperScroll)}else{if(document.attachEvent){ISQ.Widget.HTML.contentWrapper.attachEvent("onscroll",ISQ.Widget.Query.contentWrapperScroll)}}}if(ISQ.Widget.sendingCDCMessages){var msg=null;if(ISQ.Widget.isFloat){msg="subject=load";if(typeof(ISQ.Cnf.dockRTL)!=="undefined"){msg+="&dockrtl="+ISQ.Cnf.dockRTL}if(ISQ.Cnf.floatOpenOnLoad===true||ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!=0)){msg+="&stateonload=";if((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!=0){msg+="chat"}else{if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||ISQ.Widget.onloadQuestion||ISQ.Widget.onloadQuestionId){msg+="expand"}else{if(ISQ.Cnf.floatOpenOnLoad===true){msg+="collapse"}else{msg+="teaser"}}}}if(typeof(ISQ.Cnf.floatAutoMinimizeTimeout)!=="undefined"&&ISQ.Widget.state!==ISQ.Widget.enumState.chat&&!ISQ.Widget.onloadQuestion&&!ISQ.Widget.onloadQuestionId){msg+="&autominimize="+ISQ.Cnf.floatAutoMinimizeTimeout
}if(typeof(ISQ.Cnf.floatOpenOnHover)!=="undefined"){msg+="&openonhover="+ISQ.Cnf.floatOpenOnHover}if(ISQ.Cnf.titleTeaserText){msg+="&teasertext="+ISQ.Http.Cookies.encode64(ISQ.Cnf.titleTeaserText)}if(ISQ.Cnf.generatedTeaser_textFont){msg+="&teaserfont="+ISQ.Http.Cookies.encode64(ISQ.Cnf.generatedTeaser_textFont)}if(ISQ.Cnf.titleColor){msg+="&teasercolor="+ISQ.Http.Cookies.encode64(ISQ.Cnf.titleColor)}msg+="&teaserdir="+ISQ.Widget.Localize.array.dir;if(ISQ.Cnf.generatedTeaser_textPosition){msg+="&teaserposition="+ISQ.Cnf.generatedTeaser_textPosition[0]+","+ISQ.Cnf.generatedTeaser_textPosition[1]}if(ISQ.Cnf.generatedTeaser_textSize){msg+="&teasersize="+ISQ.Cnf.generatedTeaser_textSize[0]+","+ISQ.Cnf.generatedTeaser_textSize[1]}if(ISQ.Cnf.floatMarginSide){msg+="&marginside="+ISQ.Cnf.floatMarginSide}if(ISQ.Cnf.floatMarginBottom){msg+="&marginbottom="+ISQ.Cnf.floatMarginBottom}if(ISQ.Cnf.floatTeaser_width){msg+="&teaserwidth="+ISQ.Cnf.floatTeaser_width}if(ISQ.Cnf.containerBoxShadow){msg+="&containerBoxShadow="+ISQ.Http.Cookies.encode64(ISQ.Cnf.containerBoxShadow)}if(ISQ.Cnf.ignoreScriptCustomValues){msg+="&ignorescriptcustomvalues="+ISQ.Cnf.ignoreScriptCustomValues}ISQ.Widget.CDC.sendMessage(msg)}else{if(ISQ.Widget.dynamicSize){ISQ.Widget.HTML.dynamicSize_sendMessage()}}}ISQ.Widget.reportEvents|=(ISQ.Cnf.integrateWithGA===true);if(ISQ.Widget.reportEvents){ISQ.Widget.CDC.sendMessage("subject=event&type=load&integrate_ga="+(ISQ.Cnf.integrateWithGA===true))}if(!ISQ.Cnf.limited){var ongoingdata=ISQ.Tools.Storage.get("ongoingdata");if(ongoingdata){ISQ.Tools.Storage.remove("ongoingdata");ongoingdata=eval("("+ongoingdata+")");var ongoingRef=ongoingdata.href;var thisRef=ISQ.Widget.referer.normal;ISQ.Widget.onloadQuestionId=ongoingdata.onloadQuestionId;var ongoingRelRef=ISQ.Http.relativePath(ongoingRef);var thisRelRef=ISQ.Http.relativePath(thisRef);var refsAreEqual=(ISQ.Http.domain(true,ongoingRef)===ISQ.Http.domain(true,thisRef))&&(ongoingRelRef.filename===thisRelRef.filename)&&(ongoingRelRef.path===thisRelRef.path);if(refsAreEqual&&ISQ.Widget.account==ongoingdata.account&&ISQ.Cnf.kbLanguageCode==ongoingdata.kb){if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")
}else{ISQ.Widget.HTML.dynamicSize_sendMessage()}_session().loadSessionFromId(ongoingdata.sid);setTimeout(function(){ISQ.Widget.runOnloadQuestion()},100)}}else{if(ISQ.Widget.onloadQuestion){ISQ.Widget.state=ISQ.Widget.enumState.questions;if(ISQ.Cnf.autoQuestionsTypeEffect){ISQ.Widget.Query.typeTimer=new ISQ.Timer(new ISQ.Handler(ISQ.Widget.Query.typeQuestion),false,ISQ.Widget.onloadQuestion,0);ISQ.Widget.Query.typeTimer.start(ISQ.Widget.Query.typeInterval)}ISQ.Widget.Query.analyzeQuery(ISQ.Widget.onloadQuestion,ISQ.Widget.Query.enumTextQuerySource.linkedAnswer);ISQ.Widget.Query.clearTextboxOnInteraction=true}else{if(ISQ.Widget.onloadQuestionId){if(!ISQ.Widget.isFloat){ISQ.Widget.runOnloadQuestion(null,ISQ.Widget.onloadQuestionIdFromURL?"direct":"onload")}}else{if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.AutoQuestions.go()}}}}}ISQ.Widget.widgetLoadedEvent.dispatch();var setColorsForSDK=function(primaryColor){nanoRep.SDK.Styles.addRules({".nr-faq-section > h2, .nr-answering-list[data-hover-accordion] .nr-answering-answer-open .nr-answering-answer-title":{color:"WIDGET_COLOR"}});if(ISQ.Widget.isSupportCenterSkin){nanoRep.SDK.Styles.addRules({".nr-feedback-survey-btn-yes, .nr-feedback-survey-btn-no":{color:"WIDGET_COLOR"}})}nanoRep.SDK.Styles.set({WIDGET_COLOR:primaryColor})};var extractedColor=typeof ISQ.Cnf.customCSS==="string"&&ISQ.Cnf.customCSS.match(/(?:\.widgetBGcolor(?:[^\,]?){(?:.*?)\:(.*?)(?:;|}))/m);if(extractedColor){setColorsForSDK(extractedColor[1].Trim())}else{var detectTimer=setInterval(function(){try{var widgetCaptionColor=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.titleWrapper,"background-color")}catch(e){return}if(widgetCaptionColor==="transparent"){return}else{clearInterval(detectTimer)}setColorsForSDK(widgetCaptionColor)},100)}if(ISQ.Widget.isSideWidget){ISQ.Widget.state=ISQ.Widget.enumState.autoQuestions;if(ISQ.Cnf.onloadQuestionId&&ISQ.Cnf.onloadQuestionId!="-1"){ISQ.Widget.runOnloadQuestion(function(answers){ISQ.Widget.Query.fader_callback=function(){if(ISQ.Widget.userActive){return
}ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad)};ISQ.Widget.Query.hideAnswers(answers,true)})}else{ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad)}}};ISQ.Widget.setOngoingData=function(b){var a=ISQ.Data.jsonToString({href:b,sid:_session().id(),onloadQuestionId:ISQ.Widget.lastQuestionId,kb:ISQ.Widget.Query.kbLanguageCode,account:ISQ.Widget.account});ISQ.Tools.Storage.set("ongoingdata",a)};ISQ.Widget.runOnloadQuestion=function(a,b){if(!b){b="onload"}ISQ.Widget.Query.tempQuestionTrailId=ISQ.Widget.onloadQuestionId;ISQ.Widget.Query.getAnswerById(ISQ.Widget.onloadQuestionId,ISQ.Cnf.onloadQuestionId&&ISQ.Cnf.onloadQuestionId!="-1",b,a);ISQ.Widget.Query.clearTextboxOnInteraction=true};ISQ.Widget.setGuidanceSearchOptions=function(b){var d={};var a=b.split("|");for(var c=0;c<a.length;c++){var e=a[c].split(":");d[e[0]]=e[1]=="true"?true:false}ISQ.Widget.guidanceSearchOptions=d};ISQ.Widget.openAutoLink=function(a){var b=a.autoLink;if(b.isGuidance){ISQ.Widget.Query.openAutoLinkHandler(b,a)}else{_session().request({url:"trackEvent.js",params:{text:encodeURIComponent(a.title),articleId:a.id,data:'{"type":"autoLink"}',eventType:"action"},handler:function(d,c){ISQ.Widget.Query.openAutoLinkHandler(b,a)}})}};ISQ.Widget.expandedFirstTime=false;ISQ.Widget.Expand=function(){if(!ISQ.Widget.isFloat){return}if(!ISQ.Cnf.floatOpenOnClick){return}ISQ.Widget.CDC.sendMessage("subject=openOnClick");if(ISQ.Widget.expandedFirstTime){return}ISQ.Widget.expandedFirstTime=true;ISQ.Widget.FAQ.initalize();ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad);if(ISQ.Widget.onloadQuestionId){var a=function(b){ISQ.Widget.Query.fader_callback=function(){if(ISQ.Widget.userActive){return}ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad)};ISQ.Widget.Query.hideAnswers(b,true)};ISQ.Widget.runOnloadQuestion(a)}};ISQ.Widget.loadLanguageDictionary=function(c,a){if(!ISQ.Widget.Texts[c]){for(var b=0;b<ISQ.Widget.Texts.available.length;b++){if(ISQ.Widget.Texts.available[b]==c){ISQ.Tools.FileLoader.load("/widget/languages/lang-"+c+".js",new ISQ.Handler(function(d){if(a){a()
}}));return}}}if(a){a()}};ISQ.Widget.setUiLanguage=function(b){b=b||ISQ.Cnf.currentUiLanguage;if(ISQ.Widget.queryField){ISQ.Widget.queryField.setLanguage(b);ISQ.Widget.queryField.setShowSuggestions(b===ISQ.Cnf.initialUiLanguage)}var a=ISQ.Translation.Infra.getLanguageDirection(b);var c=function(){ISQ.Widget.rtlCssLoaded=true;ISQ.CSS.toggleCss("html.rtl_css_file",true);ISQ.CSS.toggleCss("html.skinrtl_css_file",true);ISQ.CSS.bringToFront("html.widgetskin_css_file");ISQ.CSS.bringToFront("html.skinrtl_css_file");ISQ.CSS.bringToFront("htmlCustomCSS");ISQ.Widget.HTML.dynamicRTLCssLoaded=true;ISQ.CSS.addClass(document.body,"isRtl");if(ISQ.Widget.reportEvents){ISQ.Widget.CDC.sendMessage("subject=event&type=directionchanged&rtl=true")}};if(a==="rtl"&&!ISQ.Widget.HTML.dynamicRTLCssLoaded){if(ISQ.Widget.rtlCssLoaded){c()}else{if(ISQ.Cnf.skinCustomRTLCSSfile){ISQ.Tools.FileLoader.load(ISQ.Cnf.skinCustomRTLCSSfile,new ISQ.Handler(function(d){c()}),null,true)}}}else{if(a=="rtl"){c()}else{if(a==="ltr"&&ISQ.Widget.HTML.dynamicRTLCssLoaded){ISQ.CSS.toggleCss("html.rtl_css_file",false);ISQ.CSS.toggleCss("html.skinrtl_css_file",false);ISQ.CSS.removeClass(document.body,"isRtl");ISQ.Widget.HTML.dynamicRTLCssLoaded=false;if(ISQ.Widget.reportEvents){ISQ.Widget.CDC.sendMessage("subject=event&type=directionchanged&rtl=false")}}}}if(ISQ.Cnf.currentUiLanguage===b){return}ISQ.Widget.loadLanguageDictionary(b,function(){if(ISQ.Widget.Texts[b]){ISQ.Cnf.currentUiLanguage=b;ISQ.Widget.Localize.array=ISQ.Widget.Texts[b]}else{if(ISQ.Widget.Texts[ISQ.Cnf.initialUiLanguage]){ISQ.Cnf.currentUiLanguage=ISQ.Cnf.initialUiLanguage;ISQ.Widget.Localize.array=ISQ.Widget.Texts[ISQ.Cnf.initialUiLanguage]}else{ISQ.Cnf.currentUiLanguage="en";ISQ.Widget.Localize.array=ISQ.Widget.Texts.en}}ISQ.Widget.setTitle()})};ISQ.Widget.HTML=initializeNS("ISQ.Widget.HTML");ISQ.Widget.HTML.setPointers=function(){ISQ.Widget.HTML.widgetContainer=_("widgetContainer");ISQ.Widget.HTML.searchContainer=_("searchContainer");ISQ.Widget.HTML.contentWrapper=_("contentAreaWrapper");ISQ.Widget.HTML.contentArea=_("contentArea");
ISQ.Widget.HTML.titleWrapper=_("widgetTitleWrapper");ISQ.Widget.HTML.titleText=_("widgetTitleText");ISQ.Widget.HTML.searchWrapper=_("searchContainerWrapper");ISQ.Widget.HTML.footerWrapper=_("widgetFooterWrapper");ISQ.Widget.HTML.widgetFooter=_("widgetFooter");ISQ.Widget.HTML.speechButton=_("speechButton");ISQ.Widget.HTML.chatInviteContainer=_("chatInviteContainer")};ISQ.Widget.HTML.fixBrandingColor=function(){var e=ISQ.Widget.HTML.footerWrapper;var b=ISQ.CSS.getSelectorStyle("#widgetFooterWrapper");if(!b){return}var c=ISQ.Tools.stringToPairArray(b.cssText,":",";",true,true);if(c.display==="none"||c.visibility==="hidden"){return}var a=b.backgroundColor;if(!a){a=b["background-color"]}};ISQ.Widget.HTML.Mobile={};ISQ.Widget.HTML.Mobile.ignoreClickEvent=false;ISQ.Widget.HTML.Mobile.formPredefinedData=null;ISQ.Widget.HTML.Mobile.context=null;ISQ.Widget.HTML.Mobile.positionSet=false;ISQ.Widget.HTML.Mobile.incrementedBottom=0;ISQ.Widget.HTML.Mobile.incrementedBottom_withChat=0;ISQ.Widget.HTML.Mobile.adjustableEmbedWidth=null;ISQ.Widget.HTML.Mobile.setMode=function(){if(!ISQ.Http.browser.isMobile){return}document.body.style.webkitTextSizeAdjust="100%";if(ISQ.Widget.HTML.Mobile.adjustableEmbedWidth){ISQ.Widget.mobileHandlingMode=ISQ.Widget.enumMobileHandlingMode.normalWidget;ISQ.Widget.HTML.Mobile.setWidths();return}ISQ.Http.Cookies._delete("nouserstats","/",ISQ.Http.domain(false),false);if(window.top===window||ISQ.Widget.isFullScreen){ISQ.Widget.mobileHandlingMode=ISQ.Widget.enumMobileHandlingMode.normalWidget;document.body.parentNode.style.overflow="visible";document.body.parentNode.style.height="auto";document.body.style.overflow="visible";document.body.style.height="auto";if(!ISQ.Widget.isFullScreen){ISQ.Widget.HTML.contentWrapper.style.overflow="visible";ISQ.Widget.HTML.contentWrapper.style.overflowY="visible"}ISQ.Widget.HTML.Mobile.hideAddressbar();ISQ.Widget.setTitle();_("floatButtonsWrapper").style.display="none";var a=null;if(ISQ.Widget.canUseLocalStorage&&window.localStorage&&!ISQ.Http.browser.isIOS7){a=window.localStorage.getItem("nanorep.api."+ISQ.Http.Cookies.encode64(ISQ.Widget.referer.escaped))
}if(!a){a=ISQ.Http.Cookies._readCaseSensitive(ISQ.Http.Cookies.encode64(ISQ.Widget.referer.escaped));if(a){ISQ.Http.Cookies._delete(ISQ.Http.Cookies.encode64(ISQ.Widget.referer.escaped),"/widget",ISQ.Http.domain(false),false)}}if(a){var a=ISQ.Tools.stringToPairArray(unescape(a),"=","&",false,false);if(a.f){console.log("ISQ.Widget.ContactForm.preDefinedValuesFromMessage:",a.f)}if(a.c){_session().setContext(ISQ.Widget.CDC_getKeyValueArrayFromMessage(a.c))}}ISQ.Widget.HTML.Mobile.setWidths();ISQ.Widget.HTML.Mobile.setPositions()}else{ISQ.Widget.mobileHandlingMode=ISQ.Widget.enumMobileHandlingMode.inactive;_("floatButtonsWrapper").style.display="block";ISQ.Widget.HTML.showMinimizeIcon()}};ISQ.Widget.HTML.Mobile.orientationChanged=function(){var a=ISQ.Html.screenSize();if(a.h==ISQ.Widget.HTML.currentHeight||a.w===ISQ.Widget.HTML.currentWidth){setTimeout(ISQ.Widget.HTML.Mobile.orientationChanged,20);return}ISQ.Widget.HTML.Mobile.hideAddressbar();ISQ.Widget.HTML.resizeHandler(a,true);ISQ.Widget.Query.resizeAnswerElements()};ISQ.Widget.HTML.Mobile.setPositions=function(){if(ISQ.Widget.mobileHandlingMode!==ISQ.Widget.enumMobileHandlingMode.normalWidget||ISQ.Widget.HTML.Mobile.adjustableEmbedWidth){return}if(ISQ.Cnf.customerBrandingLogo&&(!ISQ.Cnf.customerBrandingLogo_img||!ISQ.Cnf.customerBrandingLogo_img.loaded)){return}if(ISQ.Widget.HTML.Mobile.positionSet){return}ISQ.Widget.HTML.Mobile.positionSet=true;var b=new Array();b.push(ISQ.Widget.HTML.footerWrapper);iteration(b,function(f){f.style.zIndex=1;f.style.bottom=ISQ.Widget.HTML.Mobile.incrementedBottom+"px";f.style.position="fixed";f.style.width="100%";if(ISQ.CSS.getElementStyle(f,"display")==="none"){f.style.display="none"}});if(window==window.top&&!ISQ.Widget.isSideWidget){ISQ.Widget.HTML.contentWrapper.style.minHeight=(window.outerHeight+ISQ.Widget.HTML.Mobile.incrementedBottom)+"px"}var c=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.footerWrapper,"background-color");var d=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.footerWrapper,"opacity");if(ISQ.Tools.getOpacityFromRGBA(c)===0||d===0){var a=ISQ.CSS.getElementStyle(document.body,"background-color");
if(ISQ.Tools.getOpacityFromRGBA(a)===0){ISQ.Widget.HTML.footerWrapper.style.backgroundColor="#fff"}else{ISQ.Widget.HTML.footerWrapper.style.backgroundColor=a}}if(ISQ.Http.browser.oldAndroid){var e=null;window.addEventListener("touchmove",function(){iteration(b,function(f){if(f.style.display!=="none"){f.style.display="none";f.toShow=true}});clearTimeout(e)});window.addEventListener("touchend",function(){clearTimeout(e);e=setTimeout(function(){iteration(b,function(f){if(f.toShow){f.style.display="block"}f.toShow=false})},200)})}ISQ.Widget.HTML.Mobile.setScrollPaddingHeight()};ISQ.Widget.HTML.Mobile.setScrollPaddingHeight=function(a){};ISQ.Widget.HTML.Mobile.beforeOpeningWidget=function(){ISQ.Http.Cookies._write("nouserstats","1","/",ISQ.Http.domain(false),false);var a=[];if(ISQ.Widget.HTML.Mobile.formPredefinedData){a.push("f=");a.push(ISQ.Widget.HTML.Mobile.formPredefinedData)}if(ISQ.Widget.HTML.Mobile.context){if(a.length!==0){a.push("&")}a.push("c=");a.push(ISQ.Widget.HTML.Mobile.context)}if(a.length===0){return}if(ISQ.Widget.canUseLocalStorage&&window.localStorage&&!ISQ.Http.browser.isIOS7){window.localStorage.setItem("nanorep.api."+ISQ.Http.Cookies.encode64(ISQ.Widget.referer.escaped),a.join(""))}else{ISQ.Http.Cookies._write(ISQ.Http.Cookies.encode64(ISQ.Widget.referer.escaped),a.join(""),"/widget",ISQ.Http.domain(false),false)}};ISQ.Widget.HTML.Mobile.hideAddressbar=function(a){if(ISQ.Widget.mobileHandlingMode!==ISQ.Widget.enumMobileHandlingMode.normalWidget){return}setTimeout(function(){window.scrollTo(0,1)},a||0)};ISQ.Widget.HTML.Mobile.setWidths=function(a){if(!ISQ.Http.browser.usesViewport){return}if(ISQ.Widget.HTML.currentlyResizing&&!a){return}if(ISQ.Http.browser.isMobile&&ISQ.Widget.mobileHandlingMode!==ISQ.Widget.enumMobileHandlingMode.normalWidget){return}var b;b=ISQ.CSS.getElementWidth(_("widgetTitleWrapper"),true);b-=ISQ.CSS.getElementWidth(_("widgetTitleLeft"),true);b-=ISQ.CSS.getElementWidth(_("widgetTitleRight"),true);b-=ISQ.CSS.getElementWidth(_("floatButtonsWrapper"),true);ISQ.CSS.setWidthIncludingPadding(ISQ.Widget.HTML.titleText,b-20);
if(_("searchContainer").offsetWidth!==0&&ISQ.Widget.HTML.searchContainer.firstChild!==null){b=ISQ.CSS.getElementWidth(_("searchContainerWrapper"),true);ISQ.CSS.setWidthIncludingPadding(_("txtSearch"),b-20);b-=ISQ.CSS.getElementWidth(_("searchContainerLeft"),true);ISQ.Widget.HTML.searchContainer.firstChild.style.display="block";b-=ISQ.CSS.getElementWidth(ISQ.Widget.HTML.searchContainer.firstChild,true);b-=ISQ.CSS.getElementWidth(_("searchContainerRight"),true);b-=ISQ.CSS.getHorizonalMargin(_("txtSearch"));ISQ.CSS.setWidthIncludingPadding(_("txtSearch"),b-20);ISQ.Widget.HTML.searchContainer.firstChild.style.display="none"}};ISQ.Widget.HTML.enablePIE=function(){if(!ISQ.Http.browser.isIE6&&!ISQ.Http.browser.isIE7&&!ISQ.Http.browser.isIE8){return}if(typeof(ISQ.Cnf.roundedCornersIEEnabled)!=="undefined"&&!ISQ.Cnf.roundedCornersIEEnabled){return}if(ISQ.Http.browser.isIE6&&!ISQ.Widget.isFloat){return}if(ISQ.Http.browser.isIE6&&window.location.href.startsWith("https://")){return}if(typeof PIE_init==="undefined"){ISQ.Tools.FileLoader.load("/common/GUI/PIE_uncompressed.js",new ISQ.Handler(function(a){ISQ.Widget.HTML.enablePIE()}),this);return}PIE_init();if(typeof(PIE)==="undefined"){return}setTimeout(function(){PIE.attach(ISQ.Widget.HTML.titleWrapper)},0);setTimeout(function(){PIE.attach(ISQ.Widget.HTML.footerWrapper)},0);setTimeout(function(){PIE.attach(_("widgetMinimizedFooter"))},0);setTimeout(function(){PIE.attach(_("searchContainer"))},0)};ISQ.Widget.HTML.disablePIE=function(){if(!ISQ.Http.browser.isIE6&&!ISQ.Http.browser.isIE7&&!ISQ.Http.browser.isIE8){return}if(typeof(ISQ.Cnf.roundedCornersIEEnabled)!=="undefined"&&!ISQ.Cnf.roundedCornersIEEnabled){return}if(typeof(PIE)==="undefined"){return}if(ISQ.Http.browser.isIE6&&!ISQ.Widget.isFloat){return}if(ISQ.Http.browser.isIE6&&window.location.href.startsWith("https://")){return}PIE.detach(ISQ.Widget.HTML.titleWrapper);PIE.detach(ISQ.Widget.HTML.footerWrapper);PIE.detach(_("widgetMinimizedFooter"));PIE.detach(_("searchContainer"))};ISQ.Widget.HTML.highlightSearchFieldError=function(c,a){var b=ISQ.Widget.HTML.searchContainer;
if(a){if(b.className.indexOf("error")==-1){b.oldClassName=b.className}b.className+=" error";c--}else{b.className=b.oldClassName}if(c){setTimeout(function(){ISQ.Widget.HTML.highlightSearchFieldError(c,!a)},150)}};if(!ISQ.Widget.stateChangedEvent){ISQ.Widget.stateChangedEvent=new ISQ.Event()}if(!ISQ.Widget.widgetLoadedEvent){ISQ.Widget.widgetLoadedEvent=new ISQ.Event()}ISQ.Widget.HTML.resizeHandler=function(h,a){if(!h){h=ISQ.Html.screenSize()}ISQ.Widget.HTML.currentHeight=h.h;ISQ.Widget.HTML.currentWidth=h.w;if(ISQ.Http.browser.isMobile&&ISQ.Widget.mobileHandlingMode==ISQ.Widget.enumMobileHandlingMode.normalWidget){ISQ.Widget.HTML.Mobile.setWidths();if(ISQ.Http.browser.oldAndroid){return}}if(a&&!ISQ.Widget.HTML.resizeTimer){ISQ.Widget.HTML.currentlyResizing=true;ISQ.Widget.HTML.resizeTimer=setInterval(ISQ.Widget.HTML.resizeTimerElapsed,ISQ.Widget.HTML.resizeTimerInterval)}if(!ISQ.Widget.dynamicSize){if(ISQ.Widget.HTML.currentHeight<=ISQ.Widget.HTML.htmlCollapseHeight){ISQ.Widget.HTML.toTeaser()}else{if(ISQ.Widget.HTML.isTeaser){ISQ.Widget.HTML.toNormal()}}}if(ISQ.Http.browser.isMobile){_("floatButtonsWrapper").style.display="none";ISQ.Widget.setTitle()}if(!ISQ.Http.browser.isMobile||window.top!==window||ISQ.Widget.isFullScreen){var e=h.h;e-=_("widgetTopCustomCode").offsetHeight;e-=_("widgetBottomCustomCode").offsetHeight;e-=_("widgetTitleWrapper").offsetHeight;e-=ISQ.Widget.HTML.searchWrapper.offsetHeight;if(ISQ.Widget.HTML.isTeaser&&!ISQ.Widget.isFullScreen){e-=_("widgetMinimizedFooter").offsetHeight}else{e-=ISQ.Widget.HTML.footerWrapper.offsetHeight;var d=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.widgetFooter,"margin-top");if(d){e-=parseInt(d)}var g=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentWrapper,"margin-top");if(g){e-=parseInt(g)}var f=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentWrapper,"margin-bottom");if(f){e-=parseInt(f)}}var b=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.widgetContainer,"border-top-width",true);var c=parseInt(b);if(!isNaN(c)){e-=c}b=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.widgetContainer,"border-bottom-width");
c=parseInt(b);if(!isNaN(c)){e-=c}if(e<10){e=0}ISQ.Widget.HTML.contentWrapper.style.height=e+"px";ISQ.Widget.redrawAnswerList()}if(ISQ.Cnf.showLogoInCollapsedMode){if(!ISQ.Cnf.hideBranding&&ISQ.Widget.HTML.currentWidth===ISQ.Cnf.floatCollapsed_WidgetSize[0]&&ISQ.Widget.HTML.currentHeight===ISQ.Cnf.floatCollapsed_WidgetSize[1]){_("logoInCollapsedMode").style.display="block"}else{_("logoInCollapsedMode").style.display="none"}}ISQ.Widget.HTML.Mobile.setWidths(true);ISQ.Widget.redrawStickyBar();ISQ.Widget.redrawChannelingPopup()};ISQ.Widget.APIProxy=(function(){var a=0;var b={};if(window===window.top){return function(e){var d=Array.prototype.slice.call(arguments,1),g=e.split("."),h=window,j=null;for(var f=0;f<g.length;f++){j=g[f];if(f===0&&g[f]==="window"){continue}if(f<g.length-1){h=h[j]}}h[j].apply(h,d)}}function c(d){var g={type:"APIProxy",func:d,args:Array.prototype.slice.call(arguments,1)};for(var e=0;e<g.args.length;e++){if(typeof g.args[e]==="function"){var f="_funcId"+a++;b[f]=g.args[e];g.args[e]=f}}ISQ.Widget.CDC.sendMessage("subject=apiproxy&data="+ISQ.Tools.Base64.encodeString(ISQ.Data.jsonToString(g)))}c.handleCallback=function(d){if(d&&d.type==="APIProxy"&&d.funcId){b[d.funcId].apply(window,d.args)}};return c}());ISQ.Widget.closeActiveFeedback=function(){if(ISQ.Widget.activeFeedbackDtor){ISQ.Widget.activeFeedbackDtor();ISQ.Widget.activeFeedbackDtor=null}};ISQ.Widget.ChannelingActions={initChannel:function(b,a){var c;if(b.type==="chat"&&b.action==="normal"){a.hideChannel(b);if(b.fallbackChannel){c=a.addChannel(b.fallbackChannel);a.showChannel(c)}b.refreshChannelButtonState=function(e){if(e){a.showChannel(b);if(c){a.hideChannel(c)}}else{a.hideChannel(b);if(c){a.showChannel(c)}}};var d=nanoRep.SDK.Channeling.Chat.getProvider(b);d.isAgentAvailable(b.refreshChannelButtonState);d.on("agentAvailabilityChanged",b.refreshChannelButtonState)}},uninitChannel:function(b,a){if(b.type==="chat"&&b.action==="normal"){var c=nanoRep.SDK.Channeling.Chat.getProvider(b);c.off("agentAvailabilityChanged",b.refreshChannelButtonState)
}},closeActiveChannel:function(){if(ISQ.Widget.ChannelingActions.activeChannelDtor){ISQ.Widget.ChannelingActions.activeChannelDtor();ISQ.Widget.ChannelingActions.activeChannelDtor=null}},customUrl:function(b,a){a.emit("channelActivated",b,null,null);switch(b.linkTarget){case"widget":a.reportEvent(b,function(){window.open(b.linkUrl,"_self")});break;case"currentPage":a.reportEvent(b,function(){window.open(b.linkUrl,"_top")});break;case"newTab":a.reportEvent(b);window.open(b.linkUrl,"_blank");break;case"popup":a.reportEvent(b);window.open(b.linkUrl,"nr_escalationWindow","width="+b.popupSize.width+",height="+b.popupSize.height);break}},customScript:function(b,a){a.emit("channelActivated",b,null,null);ISQ.Widget.API.runPageScript(b.scriptContent)},showContactForm:function(b,a,e){var g=this;var d=function(l,m,k){var n=_session().id()+","+m;_session().getUploadParams(n,new ISQ.Handler(function(o){if(o){k({acl:"private",bucketURL:"https://"+o.bucket+".s3.amazonaws.com/",AWSAccessKeyId:o.id,policy:o.policy,signature:o.signature,key:o.key+l})}else{k(null)}}))};var h=function(p){ISQ.Widget.closeActiveFeedback();var q=function(){ISQ.Widget.redrawChannelingPopup();ISQ.Widget.redrawAnswerList();ISQ.Widget.HTML.dynamicSize_sendMessage();if(ISQ.Widget.isFloat&&m.isDisposed()){ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")}};var k=(function(){var r=a.getContainer(),s=document.querySelectorAll(".nr-answering-answer"),t=null;_it(s,function(u){if(!t&&u.contains(r)){t=u}});return t}());var l=k.querySelector(".nr-answering-answer-form-container");ISQ.Widget.ContactForm.preDefinedValues.Subject={type:"text",value:ISQ.Widget.Query.originalQuery||_query(true,false)};var o=document.createElement("nr-channeling-contactform");var m=new nanoRep.SDK.Channeling.ContactForm({allowCancelForm:!e,values:ISQ.Widget.ContactForm.preDefinedValues});m.setFormConfig(p);m.setUploaderOptionsHandler(d);o.style.display="none";document.body.appendChild(o);m.bind(o);var n=function(){ISQ.Widget.ChannelingActions.activeChannelDtor=null;k.removeAttribute("channeling-embed-active");
ISQ.Widget.setChannelingPopupContent(null);a.setActiveChannel(null);var r=m.$domElement;if(r.parentNode){r.parentNode.removeChild(r);m.dispose()}q();ISQ.Widget.state=ISQ.Widget.enumState.allQuestions;if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=hidingContactForm",true)}};m._submitFormData=function(v){m.disable();var u=function(w){m.enable();m.setSuccessState(w);ISQ.Widget.HTML.dynamicSize_sendMessage()};var s=function(w){var x=nanoRep.SDK.Localization.getText(w?"Channeling.readOnlyModeAlert":"Channeling.topicPostConfirmationText");if(b.thankYouMessage&&!w){x=b.thankYouMessage}if(ISQ.Widget.Query.toTranslateContent(ISQ.Cnf.initialUiLanguage)){ISQ.Translation.Infra.translate(x,null,ISQ.Widget.TranslationHelper.detectedLanguage,new ISQ.Handler(u))}else{u(x)}};if(p.settings.customSubmitScript){var t=new Function("formData","formConfig","done","error",p.settings.customSubmitScript);try{t(v,p,function(){s()},function(w){s(w||true)})}catch(r){if(window.console&&window.console.error){window.console.error("Custom form submit hook error:",r)}}}else{ISQ.Widget.sendContactForm(v,b,s)}};m.on({cancel:function(){n()},validation:function(r){q()},submit:function(r){q()},resize:function(){q()},ready:function(){if(e){e.appendChild(m.$domElement)}else{g.closeActiveChannel();a.setActiveChannel(b);ISQ.Widget.ChannelingActions.activeChannelDtor=n;if(ISQ.Widget.isSupportCenterSkin){ISQ.Widget.setChannelingPopupContent(m.$domElement,a.getOpener(b),k)}else{k.setAttribute("channeling-embed-active","form");l.appendChild(m.$domElement)}m.$domElement.style.display="";m.focus();q();a.emit("channelActivated",b,m,m.$domElement);ISQ.Widget.state=ISQ.Widget.enumState.contactForm;if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=showingContactForm",true)}}},attachmentlinkcreated:function(t,s){var r=s.amazonOptions.bucketURL.match(/https?\:\/\/?(.*)\.s3\.amazonaws\.com/)[1];var u="/common/fileuploader/attachmentRedirection.html?b="+r+"&f="+ISQ.Data.getURLencodedString(s.amazonOptions.key)+"&sid="+_session().id();t.setAttribute("href",u);
q()}})};var j=ISQ.Widget.Escalate.enumType.email;var c=null;var f=_query(true);_session().request({url:"escalate.js",params:{type:j,text:encodeURIComponent(f),articleId:ISQ.Widget.Query.firstAnswerId,translation:ISQ.Widget.Query.lastQueryTranslation,translationLanguage:ISQ.Tools.getUniformLanguageCode(ISQ.Widget.TranslationHelper.detectedLanguage),chatType:c,apiName:b.apiName,contactFormId:b.contactFormId},handler:function(l,k){if(l===200){k.data.blockCreditCardNumbers=!!ISQ.Cnf.blockCreditCardNumbers;h(k.data)}}})},showPhoneNumber:function(d,a){this.closeActiveChannel();ISQ.Widget.closeActiveFeedback();var e=document.createElement("nr-channeling-phonedialog");var f=new nanoRep.SDK.Channeling.PhoneDialog();var b=(function(){var g=a.getContainer(),h=document.querySelectorAll(".nr-answering-answer"),j=null;_it(h,function(k){if(!j&&k.contains(g)){j=k}});return j}());var c=b.querySelector(".nr-answering-answer-form-container");c.appendChild(e);f.setChannel(d);f.bind(e);a.setActiveChannel(d);if(ISQ.Widget.isSupportCenterSkin){ISQ.Widget.setChannelingPopupContent(f.$domElement,a.getOpener(d),b)}else{b.setAttribute("channeling-embed-active","phone")}ISQ.Widget.ChannelingActions.activeChannelDtor=function(){ISQ.Widget.ChannelingActions.activeChannelDtor=null;ISQ.Widget.setChannelingPopupContent(null);a.setActiveChannel(null);b.removeAttribute("channeling-embed-active");c.removeChild(f.$domElement);f.dispose();ISQ.Widget.HTML.dynamicSize_sendMessage()};f.on("close",ISQ.Widget.ChannelingActions.activeChannelDtor);if(!("ontouchstart" in window)){f.focus()}a.emit("channelActivated",d,f,f.$domElement);ISQ.Widget.HTML.dynamicSize_sendMessage();if(d.escalationReported){return}else{d.escalationReported=true}_session().request({url:"escalate.js",params:{type:d.escalationType,text:encodeURIComponent(_query(true)),articleId:ISQ.Widget.Query.firstAnswerId,translation:ISQ.Widget.Query.lastQueryTranslation,translationLanguage:ISQ.Tools.getUniformLanguageCode(ISQ.Widget.TranslationHelper.detectedLanguage),apiName:d.apiName},handler:function(h,g){}})
},startChat:function(b,a,f){var e=nanoRep.SDK.Channeling.Chat.getProvider(b);ISQ.Widget.Chat.toggleInvite(false);if((b.showInPopup&&e.capabilities.vendorPopup)||(e.capabilities.vendorPopup&&!e.capabilities.customUI&&!e.capabilities.vendorUI)){e.showVendorPopup();if(a){a.emit("channelActivated",b,null,null)}}else{if(e.capabilities.customUI){if(ISQ.Widget.ChannelingActions.customChatActive){return}else{ISQ.Widget.ChannelingActions.customChatActive=true}this.closeActiveChannel();var c=document.createElement("nr-channeling-customchat");var d=new nanoRep.SDK.Channeling.ChatUI({session:_session(),showSuggestions:true});document.body.appendChild(c);d.bind(c);(function(){var k=ISQ.Widget.API.getCustomParams();var j=_session().contexts();var m=function(q){for(var p=1,n;p<arguments.length;p++){n=arguments[p];for(var o in n){if(n.hasOwnProperty(o)){q[o]=n[o]}}}return q};var l=m({},k,j);e.setCustomParams(l)}());d.setProvider(e);var g=document.getElementById("faqList").style.display;document.getElementById("customChatContainer").appendChild(d.$domElement);document.getElementById("customChatContainer").style.display="block";document.getElementById("searchContainerWrapper").style.display="none";document.getElementById("widgetStatusContainer").style.display="none";document.getElementById("answerList").style.display="none";document.getElementById("faqList").style.display="none";ISQ.CSS.addClass(document.body,"nr-custom-chat-active");var h=function(){ISQ.Widget.HTML.resizeHandler();ISQ.Widget.HTML.dynamicSize_sendMessage(false,ISQ.Widget.isFloat&&!d.isDisposed());document.getElementById("customChatContainer").style.minHeight=document.getElementById("contentAreaWrapper").offsetHeight+"px";if(ISQ.Widget.isFloat&&d.isDisposed()){ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")}};h();document.getElementById("contentArea").style.width="100%";setTimeout(function(){document.getElementById("contentArea").style.width=""},1);ISQ.Widget.ChannelingActions.activeChannelDtor=function(){ISQ.CSS.removeClass(document.body,"nr-custom-chat-active");
ISQ.Widget.ChannelingActions.customChatActive=false;ISQ.Widget.ChannelingActions.activeChannelDtor=null;c=d.$domElement;d.dispose();c.parentNode.removeChild(c);document.getElementById("contentAreaWrapper").style.overflowY="";document.getElementById("customChatContainer").style.display="none";document.getElementById("searchContainerWrapper").style.display="";document.getElementById("widgetStatusContainer").style.display="";document.getElementById("answerList").style.display="";document.getElementById("faqList").style.display=g;h();if(ISQ.Widget.state===ISQ.Widget.enumState.chat){ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.stateChangedEvent.dispatch("normal")}};d.on({resize:function(){h()},close:ISQ.Widget.ChannelingActions.activeChannelDtor});e.isSessionResumed(function(k){var j=_query();if(!k&&j){d.sendMessage(j)}});ISQ.Widget.state=ISQ.Widget.enumState.chat;ISQ.Widget.chatInstance=d;ISQ.Widget.stateChangedEvent.dispatch("chat");if(a){a.emit("channelActivated",b,d,d.$domElement)}}else{if(e.capabilities.vendorUI){e.showVendorUI();if(a){a.emit("channelActivated",b,null,null)}}}}if(b.escalationReported){return}else{b.escalationReported=true}_session().request({url:"escalate.js",params:{type:b.escalationType,text:encodeURIComponent(_query(true)),articleId:ISQ.Widget.Query.firstAnswerId,translation:ISQ.Widget.Query.lastQueryTranslation,translationLanguage:ISQ.Tools.getUniformLanguageCode(ISQ.Widget.TranslationHelper.detectedLanguage),apiName:b.apiName,chatType:typeof f!=="undefined"?f:ISQ.Widget.enumChatEscalationActions.normal},handler:function(k,j){}})}};ISQ.Widget.ContactForm=initializeNS("ISQ.Widget.ContactForm");ISQ.Widget.ContactForm.blockedCreditCardReplacement="*";ISQ.Widget.ContactForm.preDefinedValues={};ISQ.Widget.ContactForm.incomingPreDefinedValuesFromMessage=function(a){var d=a.split(ISQ.Widget.APIKeyEndDelimiter);var c;for(var b=0;b<d.length;++b){c=d[b].split("(");if(c.length===3){ISQ.Widget.ContactForm.reportPreDefinedValue(ISQ.Http.Cookies.decode64(c[0]),ISQ.Http.Cookies.decode64(c[1]),ISQ.Http.Cookies.decode64(c[2]))
}else{ISQ.Widget.ContactForm.reportPreDefinedValue(ISQ.Http.Cookies.decode64(c[0]),ISQ.Http.Cookies.decode64(c[1]))}}if((ISQ.Widget.state&ISQ.Widget.enumState.contactForm)!==0&&ISQ.Widget.ContactForm.preview){ISQ.Widget.ContactForm.preview.populateValues(ISQ.Widget.ContactForm.preDefinedValues,_query(true,false))}_session().setValues(ISQ.Widget.ContactForm.getPreDefinedValues())};ISQ.Widget.ContactForm.getPreDefinedValues=function(){return ISQ.Widget.ContactForm.preDefinedValues||{}};ISQ.Widget.ContactForm.reportPreDefinedValue=function(a,c,b){b=b||"text";ISQ.Widget.ContactForm.preDefinedValues[a]=new ISQ.Widget.ContactForm.preDefinedValue(a,c,b)};ISQ.Widget.ContactForm.preDefinedValue=function(a,c,b){this.name=a;this.value=c;this.type=b};ISQ.Widget.ContactForm.preDefinedValue.prototype.name="";ISQ.Widget.ContactForm.preDefinedValue.prototype.value="";ISQ.Widget.ContactForm.preDefinedValue.prototype.type="";ISQ.Widget.sendContactForm=function(e,c,b){ISQ.Widget.Query.currentAnswers=null;if(e.postUrl){nanoRep.SDK.Channeling.submitContactForm({host:window.location.host},{},e,b)}else{var h=_query(true);var g="";var d=[];if(ISQ.Cnf.blockCreditCardNumbers&&ISQ.Widget.ContactForm.blockedCreditCardReplacement){h=ISQ.Data.blockCreditCardNumbers(h,ISQ.Widget.ContactForm.blockedCreditCardReplacement)}for(var f=0;f<e.values.length;++f){var a=e.values[f].value;d.push({name:e.values[f].name,type:e.values[f].type,value:a});if(e.values[f].type==="subject"){h=a}if(e.values[f].type==="originalSubject"){g=a}}_session().request({url:"escalate.js",params:{type:ISQ.Widget.Escalate.enumType.email,text:encodeURIComponent(g||h),articleId:ISQ.Widget.Query.firstAnswerId,ticketingInterface:ISQ.Widget.Query.ticketingInterface,contactForm:ISQ.Http.Cookies.encode64(ISQ.Data.jsonToString(d)),translation:null,apiName:c?c.apiName:null,translationLanguage:null},handler:function(l,k){var j=l!==200;b(j)}})}};ISQ.Widget.HTML.scrollContentToBottom=function(){ISQ.Widget.HTML.contentWrapper.scrollTop=ISQ.Widget.HTML.contentWrapper.scrollHeight-ISQ.Widget.HTML.contentWrapper.offsetHeight
};ISQ.Widget.HTML.resizePollingHandler=function(){var a=ISQ.Html.screenSize();if(a.h==ISQ.Widget.HTML.currentHeight&&a.w===ISQ.Widget.HTML.currentWidth){return}ISQ.Widget.HTML.Mobile.hideAddressbar();ISQ.Widget.HTML.resizeHandler(a,true)};ISQ.Widget.HTML.timeoutFixContent=0;ISQ.Widget.HTML.fixContentWidths=function(){ISQ.Widget.HTML.timeoutFixContent=0;ISQ.Widget.HTML.fixContentWidths_internal()};ISQ.Widget.HTML.fixContentWidths_internal=function(){if(ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6){if(ISQ.Widget.HTML.contentWrapper.scrollHeight>ISQ.Widget.HTML.contentWrapper.offsetHeight){var a,c,b;a=(ISQ.Widget.HTML.searchWrapper.offsetWidth-ISQ.Html.scrollBarWidth())-2;b=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentArea,"padding-left");c=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.contentArea,"padding-right");if(a<=0){if(++ISQ.Widget.HTML.timeoutFixContent<40){setTimeout(ISQ.Widget.HTML.fixContentWidths_internal,50)}return}if(b){a-=parseInt(b)}if(c){a-=parseInt(c)}a+="px";_("contentArea").style.width=a}else{_("contentArea").style.width="100%"}}};ISQ.Widget.HTML.hasContent=function(){if((ISQ.Widget.state&ISQ.Widget.enumState.allEscalations)!==0){return true}if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){return _query(true,true).length!==0}if(ISQ.Widget.state&ISQ.Widget.enumState.questions){return _query(true,false).length!==0}return false};ISQ.Widget.stateChangedEvent.addHandler(function(a){if(ISQ.Widget.prevStateName!==a){ISQ.Widget.prevStateName=a;ISQ.CSS.removeClass(document.body,"nr-widget-state-minified");ISQ.CSS.removeClass(document.body,"nr-widget-state-teaser");switch(a){case"minified":ISQ.CSS.addClass(document.body,"nr-widget-state-minified");_("toggleBiggerButton").style.display="none";_("closeButton").style.display="none";_("minimizeButton").style.display="none";_("expandButton").style.display="inline-block";break;case"teaser":ISQ.CSS.addClass(document.body,"nr-widget-state-teaser");_("toggleBiggerButton").style.display="none";_("closeButton").style.display="inline-block";_("minimizeButton").style.display="none";
_("expandButton").style.display="none";break;case"chat":if(!ISQ.Widget.isPreview){_("toggleBiggerButton").style.display="inline-block"}_("closeButton").style.display="none";_("minimizeButton").style.display="none";_("expandButton").style.display="none";break;case"normal":if(!ISQ.Widget.isPreview){_("toggleBiggerButton").style.display="inline-block"}_("closeButton").style.display="inline-block";_("minimizeButton").style.display="inline-block";_("expandButton").style.display="none";break}}_("closeButton").setAttribute("aria-label",ISQ.Cnf.currentUiLanguage==="iw"?" ":"Close Widget");_("toggleBiggerButton").setAttribute("aria-label",ISQ.Cnf.currentUiLanguage==="iw"?" ":"Enlarge Widget");_("minimizeButton").setAttribute("aria-label",ISQ.Cnf.currentUiLanguage==="iw"?" ":"Minimize Widget");_("expandButton").setAttribute("aria-label",ISQ.Cnf.currentUiLanguage==="iw"?"  ":"Expand Widget");_("footerNanoRepLink").setAttribute("aria-label",ISQ.Cnf.currentUiLanguage==="iw"?"   ":"powered by nanoRep")});ISQ.Widget.HTML.minimizeBtnClicked=function(){ISQ.Widget.HTML.Mobile.ignoreClickEvent=true;var a=ISQ.Widget.HTML.hasContent();ISQ.Widget.HTML.ignoreNextClickEvent=true;ISQ.Widget.CDC.sendMessage("subject=minimize&openExpand="+a,true);if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.Query.clearTextboxOnInteraction=true;ISQ.Widget.AutoQuestions.stop_()}};ISQ.Widget.HTML.closeBtnClicked=function(){ISQ.Widget.CDC.sendMessage("subject=closeToTeaser",true)};ISQ.Widget.HTML.expandBtnClicked=function(){if(ISQ.Cnf.onloadQuestionId){ISQ.Widget.state=ISQ.Widget.enumState.autoQuestions}var a=ISQ.Cnf.floatOpenOnClick;ISQ.Cnf.floatOpenOnClick=true;ISQ.Widget.Expand();ISQ.Cnf.floatOpenOnClick=a;setTimeout(function(){if(!ISQ.Widget.queryField.getValue()){ISQ.Widget.queryField.focus()}},800)};ISQ.Widget.HTML.toggleBiggerBtnClicked=function(){ISQ.Widget.HTML.isBigger=!ISQ.Widget.HTML.isBigger;toggleBiggerButtonInactiveIcon.style.display=ISQ.Widget.HTML.isBigger?"none":"block";
toggleBiggerButtonActiveIcon.style.display=ISQ.Widget.HTML.isBigger?"block":"none";if(ISQ.Widget.isFloat){_it([].concat(ISQ.Widget.answerList.answers,ISQ.Widget.FAQ.currentAnswers),function(a){if(a.actionBar){a.actionBar.useCompactMode(!ISQ.Widget.HTML.isBigger)}})}ISQ.Widget.CDC.sendMessage("subject=enlarge&openBigger="+ISQ.Widget.HTML.isBigger,true);setTimeout(function(){ISQ.Widget.Query.resizeToWidth=0;ISQ.Widget.Query.resizeAnswerElements()},500);return false};ISQ.Widget.HTML.toTeaser=function(){ISQ.Widget.HTML.isTeaser=true;ISQ.Widget.HTML.contentWrapper.className="empty";ISQ.Widget.HTML.footerWrapper.style.display="none";_("widgetMinimizedFooter").style.display="block";if((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!==0){if(!ISQ.Widget.HTML.chatStatus.originalText){ISQ.Widget.HTML.chatStatus.originalText=ISQ.Widget.HTML.chatStatus.innerHTML;ISQ.Data.autoEllipseText(ISQ.Widget.HTML.chatStatus.innerHTML,ISQ.Widget.HTML.chatStatus.offsetWidth,ISQ.Widget.HTML.chatStatus)}_("closeChat").style.display="none";_("chatPane").style.display="none";ISQ.Widget.HTML.chatInputWrapper.style.display="none";_("chatStatusContainer").className="chatStatusContainerMinimized"}else{if(ISQ.Widget.state===ISQ.Widget.enumState.contactForm){}else{}}ISQ.Widget.setTitle();ISQ.Widget.stateChangedEvent.dispatch(ISQ.Widget.HTML.currentHeight<ISQ.Widget.HTML.htmlCollapseHeight?"minified":"teaser")};ISQ.Widget.HTML.showMinimizeIcon=function(){if(!ISQ.Widget.spriteLoaded){_("floatButtonsWrapper").className+=" widgetActive";ISQ.Widget.spriteLoaded=true}};ISQ.Widget.HTML.toNormal=function(){ISQ.Widget.HTML.isTeaser=false;ISQ.Widget.HTML.contentWrapper.className="";_("widgetMinimizedFooter").style.display="none";if(ISQ.Widget.isFloat&&!ISQ.Widget.isSideWidget){_("floatButtonsWrapper").style.display="inline";ISQ.Widget.HTML.showMinimizeIcon()}if((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!==0){if(ISQ.Widget.HTML.chatStatus.originalText){ISQ.Widget.HTML.chatStatus.innerHTML=ISQ.Widget.HTML.chatStatus.originalText;ISQ.Widget.HTML.chatStatus.originalText=null
}_("chatPane").style.display="block";_("closeChat").style.display="block";if(ISQ.Widget.state!==ISQ.Widget.enumState.chatSurvey){ISQ.Widget.HTML.chatInputWrapper.style.display="block"}_("chatStatusContainer").className=""}else{if(ISQ.Widget.state===ISQ.Widget.enumState.contactForm){}}if(ISQ.Widget.state!==ISQ.Widget.enumState.contactForm||ISQ.Cnf.showFooterWithContactForm!==false){ISQ.Widget.HTML.footerWrapper.style.display="block"}ISQ.Widget.setTitle();ISQ.Widget.stateChangedEvent.dispatch("normal")};ISQ.Widget.HTML.resizeTimerElapsed=function(){if(!ISQ.Widget.HTML.lastWindowSize){ISQ.Widget.HTML.lastWindowSize={};ISQ.Widget.HTML.resizeStarted()}if(ISQ.Widget.HTML.currentHeight==ISQ.Widget.HTML.lastWindowSize.h&&ISQ.Widget.HTML.currentWidth==ISQ.Widget.HTML.lastWindowSize.w){clearInterval(ISQ.Widget.HTML.resizeTimer);ISQ.Widget.HTML.resizeTimer=null;ISQ.Widget.HTML.lastWindowSize=null;ISQ.Widget.HTML.currentlyResizing=false;ISQ.Widget.HTML.resizeStopped();ISQ.Widget.redrawAnswerList();return}ISQ.Widget.HTML.lastWindowSize.h=ISQ.Widget.HTML.currentHeight;ISQ.Widget.HTML.lastWindowSize.w=ISQ.Widget.HTML.currentWidth};ISQ.Widget.HTML.resizeStarted=function(){};ISQ.Widget.HTML.resizeStopped=function(){if(ISQ.Widget.dynamicSize&&ISQ.Http.browser.app=="ff"&&ISQ.Http.browser.version.indexOf("3.")===0){document.body.scrollTop=0}if(ISQ.Widget.HTML.isTeaser){return}if(ISQ.Widget.state===ISQ.Widget.enumState.contactForm&&(ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6)&&_("clientFormTabDivs")){_("clientFormTabDivs",true).style.display="none";_("clientFormTabDivs").style.display="block"}if(_("customerLogo").pendingResize){ISQ.Widget.onCustomerLogoLoad()}if((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)!==0){ISQ.Widget.Query.resizeAnswerElements()}ISQ.Widget.HTML.Mobile.setWidths();ISQ.Widget.HTML.dynamicSize_sendMessage()};ISQ.Widget.HTML.dynamicSize_sendMessageTimer=null;ISQ.Widget.HTML.dynamicSize_sendMessage=function(b,c,d){if(!ISQ.Widget.dynamicSize&&!c){return}if(ISQ.Widget.HTML.dynamicSize_sendMessageTimer){clearTimeout(ISQ.Widget.HTML.dynamicSize_sendMessageTimer)
}var a=function(){d=d||ISQ.Widget.dynamicMaxSize;var k=ISQ.Widget.HTML.contentWrapper;k.style.overflowY="hidden";var h=0;if(ISQ.Widget.HTML.shownOverlay){_("widgetBlocker").style.display="none"}var e=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.widgetContainer,"border-top-width");var f=parseInt(e);if(!isNaN(f)){h+=f}e=ISQ.CSS.getElementStyle(ISQ.Widget.HTML.widgetContainer,"border-bottom-width");f=parseInt(e);if(!isNaN(f)){h+=f}h+=ISQ.Widget.HTML.widgetContainer.scrollHeight;if((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!==0){var g=500;if(ISQ.Widget.Chat.chatConfig.heightInDynamicEmbed){g=ISQ.Widget.Chat.chatConfig.heightInDynamicEmbed}h+=g-k.offsetHeight}else{h+=_("contentArea").scrollHeight-k.offsetHeight}if(d&&h>d){if(!ISQ.Widget.FAQ.shown&&ISQ.Widget.state!=ISQ.Widget.enumState.contactForm){k.style.overflowY="auto";h=d}}if((ISQ.Widget.state&ISQ.Widget.enumState.allChat)!==0){k.style.overflowY="auto"}if(ISQ.Widget.isFullScreen&&ISQ.Widget.state==ISQ.Widget.enumState.contactForm){k.style.overflowY="auto"}if(ISQ.Widget.HTML.shownOverlay){_("widgetBlocker").style.display="block";var j=ISQ.Widget.HTML.shownOverlay.offsetHeight+ISQ.Widget.HTML.titleWrapper.offsetHeight+ISQ.Widget.HTML.searchWrapper.offsetHeight;if(j>h){h=j}ISQ.Widget.HTML.updateOverlayTop(ISQ.Widget.HTML.shownOverlay)}ISQ.Widget.CDC.sendMessage("subject=setSize&height="+h)};if(b===true){a()}else{ISQ.Widget.HTML.dynamicSize_sendMessageTimer=setTimeout(function(){a()},0)}};ISQ.Widget.HTML.showOverlay=function(b){var a=_("widgetBlocker");a.style.display="block";if(_("blockerContent")!=b){_("blockerContent").style.display="none"}b.blocker=a;b.style.display="block";ISQ.Widget.HTML.shownOverlay=b;var c=(ISQ.Widget.HTML.contentWrapper.offsetWidth-b.offsetWidth)/2;b.style.left=c+"px";ISQ.Widget.HTML.updateOverlayTop(b)};ISQ.Widget.HTML.updateOverlayTop=function(a){var b=ISQ.Widget.HTML.footerWrapper.offsetTop-a.offsetHeight;a.style.top=b+"px"};ISQ.Widget.HTML.hideOverlay=function(a){a.style.display="none";a.blocker.style.display="none";ISQ.Widget.HTML.shownOverlay=null;
ISQ.Widget.HTML.dynamicSize_sendMessage()};ISQ.Widget.HTML.currentHeight=0;ISQ.Widget.HTML.currentWidth=0;ISQ.Widget.HTML.isTeaser=false;ISQ.Widget.HTML.htmlCollapseHeight=70;ISQ.Widget.HTML.searchAnim=null;ISQ.Widget.HTML.contentFader=null;ISQ.Widget.HTML.actionBarFader=null;ISQ.Widget.HTML.ignoreNextClickEvent=false;ISQ.Widget.HTML.currentlyResizing=false;ISQ.Widget.HTML.resizeTimerInterval=100;ISQ.Widget.HTML.resizeTimer=null;ISQ.Widget.HTML.lastWindowSize=null;ISQ.Widget.HTML.pendingShowActionBar=false;ISQ.Widget.HTML.chatProviderChanged=false;ISQ.Widget.HTML.dynamicRTLCssLoaded=true;ISQ.Widget.HTML.shownOverlay=null;ISQ.Widget.AutoQuestions=initializeNS("ISQ.Widget.AutoQuestions");ISQ.Widget.AutoQuestions.array=null;ISQ.Widget.AutoQuestions.interval=10000;ISQ.Widget.AutoQuestions.currentIndex=-1;ISQ.Widget.AutoQuestions.timeout=null;ISQ.Widget.AutoQuestions.repeatMode=true;ISQ.Widget.AutoQuestions.init=function(e,b,f){if(!e){return false}ISQ.Widget.AutoQuestions.array=new Array();var d=e.split(";");var c=d.length;for(var a=0;a<c;++a){if(d[a].Trim()!=""){ISQ.Widget.AutoQuestions.array.push(d[a])}}ISQ.Widget.AutoQuestions.interval=!isNaN(b)?parseInt(b):ISQ.Widget.AutoQuestions.interval;ISQ.Widget.AutoQuestions.repeatMode=f===true&&ISQ.Widget.AutoQuestions.array.length>1;ISQ.Widget.state=ISQ.Widget.enumState.autoQuestions;return true};ISQ.Widget.AutoQuestions.showNext=function(){ISQ.Widget.AutoQuestions.timeout=setTimeout(ISQ.Widget.AutoQuestions.go,ISQ.Widget.AutoQuestions.interval)};ISQ.Widget.AutoQuestions.go=function(){if(ISQ.Widget.AutoQuestions.array===null||ISQ.Widget.AutoQuestions.array.length<1){return}var a=ISQ.Widget.AutoQuestions.array.length;var b=ISQ.Widget.AutoQuestions.currentIndex+1;if(b===a){if(!ISQ.Widget.AutoQuestions.repeatMode){return}b=0}var c=ISQ.Widget.AutoQuestions.array[b];ISQ.Widget.AutoQuestions.currentIndex=b;ISQ.Widget.Query.ask(c,ISQ.Widget.Query.enumTextQuerySource.linkedAnswer)};ISQ.Widget.AutoQuestions.stop_=function(){ISQ.Widget.state=ISQ.Widget.enumState.questions;clearTimeout(ISQ.Widget.AutoQuestions.timeout);
if(ISQ.Widget.Query.typeTimer!==null){ISQ.Widget.Query.typeTimer.cancel();ISQ.Widget.Query.typeTimer.dispose();ISQ.Widget.Query.typeTimer=null}ISQ.Widget.Query.lastQuerySent=""};ISQ.Widget.AutoQuestions.getCurrentQuestion=function(){return ISQ.Widget.AutoQuestions.array[ISQ.Widget.AutoQuestions.currentIndex]};ISQ.Widget.Protocol={};ISQ.Widget.Protocol.client=null;ISQ.Widget.Protocol.onConnectionStateChange=function(b,a){switch(a){case ISQ.Com.JsonP.Client.enumState.DISCONNECTED:break;case ISQ.Com.JsonP.Client.enumState.CONNECTED:break;case ISQ.Com.JsonP.Client.enumState.CONNECTING:break;case ISQ.Com.JsonP.Client.enumState.FAILED:break}};var _session=function(){if(!ISQ.Widget.Protocol.client){ISQ.Widget.Protocol.client=new ISQ.Com.JsonP.Client({host:ISQ.Widget.getAccountURL(ISQ.Widget.account),urlPrefix:"/api/widget/v1/",defaultTimeout:8000,account:ISQ.Widget.account,loginParams:{internal:"true",url:ISQ.Widget.referer.escaped,doctype:ISQ.Http.hashArguments.doctype,configId:ISQ.Widget.configId,kb:(ISQ.Http.hashArguments.kb||ISQ.Http.urlArguments.kb),nostats:!!ISQ.Widget.isPreview,ctx:null,values:null},fStateChanged:this.onConnectionStateChange})}return ISQ.Widget.Protocol.client};ISQ.Widget.Query=initializeNS("ISQ.Widget.Query");ISQ.Widget.Query.isSameQuery=false;ISQ.Widget.Query.lastQuerySent="";ISQ.Widget.Query.lastSuggestionSent="";ISQ.Widget.Query.lastWrittenQuery=null;ISQ.Widget.Query.lastQuerySource=null;ISQ.Widget.Query.lastQuerySent_time=null;ISQ.Widget.Query.pendingRequest=false;ISQ.Widget.Query.timer=null;ISQ.Widget.Query.activeRequestId=-1;ISQ.Widget.Query.ignoreKeyCodes=new Array();ISQ.Widget.Query.kbLanguageCode="";ISQ.Widget.Query.numberOfTopics=0;ISQ.Widget.Query.contextOnlyAnswers=0;ISQ.Widget.Query.currentAnswers=null;ISQ.Widget.Query.currentAnswersForComparison=null;ISQ.Widget.Query.firstAnswerId=-1;ISQ.Widget.Query.ticketingInterface=null;ISQ.Widget.Query.chatEscalationAction=null;ISQ.Widget.Query.chatInviteContent=null;ISQ.Widget.Query.chatPushAnswers={pushed:false};ISQ.Widget.Query.fader=null;ISQ.Widget.Query.cachedAnswerTranslationDelimiter=":";
ISQ.Widget.Query.previousDetectedLanguage=null;ISQ.Widget.Query.previousResponseWasAutoQuestion=false;ISQ.Widget.Query.queryTranslator=null;ISQ.Widget.Query.answerTranslator=null;ISQ.Widget.Query.queryChangedEvent=null;ISQ.Widget.Query.typeTimer=null;ISQ.Widget.Query.typeInterval=50;ISQ.Widget.Query.questionsTrail=null;ISQ.Widget.Query.tempQuestionTrailId=null;ISQ.Widget.Query.gettingAnswerById=false;ISQ.Widget.Query.setFocusByScript=false;ISQ.Widget.Query.firstUserTyping=true;ISQ.Widget.Query.clearTextboxOnInteraction=false;ISQ.Widget.Query.searchDelay_min=250;ISQ.Widget.Query.searchDelay_max=2500;ISQ.Widget.Query.searchDelay_history=new ISQ.Infra.LinkedList();ISQ.Widget.Query.elementsToResize=null;ISQ.Widget.Query.resizeableTags=["IMG","OBJECT","EMBED","IFRAME"];ISQ.Widget.Query.lastQueryTranslation=null;ISQ.Widget.Query.resizeToWidth=0;ISQ.Widget.Query.mobile_previousValue=null;ISQ.Widget.Query.mobile_ignoreNextChange=false;ISQ.Widget.Query.userActiveReported=false;ISQ.Widget.Query.lastAutoQuestionRequestId=-1;ISQ.Widget.Query.contextCategories=null;ISQ.Widget.Query.scrollInterval=null;ISQ.Widget.Query.peekElementHeight=27;ISQ.Widget.Query.rechannelingOptions=null;ISQ.Widget.Query.minKeywordConfidence=0.5;var _query=function(b,a){var c=ISQ.Widget.queryField.getValue();if(!ISQ.Widget.userActive&&!a){return""}if(b===true){c=c.Trim()}return c};ISQ.Widget.Query.init=function(){ISQ.Widget.Query.ignoreKeyCodes[13]=true;ISQ.Widget.Query.ignoreKeyCodes[16]=true;ISQ.Widget.Query.ignoreKeyCodes[17]=true;ISQ.Widget.Query.ignoreKeyCodes[18]=true;ISQ.Widget.Query.ignoreKeyCodes[20]=true;ISQ.Widget.Query.ignoreKeyCodes[37]=true;ISQ.Widget.Query.ignoreKeyCodes[38]=true;ISQ.Widget.Query.ignoreKeyCodes[39]=true;ISQ.Widget.Query.ignoreKeyCodes[40]=true;ISQ.Widget.Query.ignoreKeyCodes[91]=true;ISQ.Widget.Query.ignoreKeyCodes[92]=true;ISQ.Widget.HTML.contentFader={show:function(){},hide:function(){}};ISQ.Widget.Query.queryChangedEvent=new ISQ.Event();var a=ISQ.Http.hashArguments.searchdelay||ISQ.Http.urlArguments.searchdelay;if(a){a=parseInt(a)
}if(!isNaN(a)){ISQ.Widget.Query.searchDelay_min=a}if((ISQ.Http.browser.isMobile&&ISQ.Widget.mobileHandlingMode===ISQ.Widget.enumMobileHandlingMode.normalWidget)||ISQ.Http.browser.isTablet||((ISQ.Cnf.kbLanguageCode=="ja"||ISQ.Cnf.kbLanguageCode=="zh")&&ISQ.Http.browser.app=="ff")){ISQ.Widget.Query.mobile_previousValue=ISQ.Cnf.initialText||null;setInterval(ISQ.Widget.Query.queryInterval_mobile,100)}};ISQ.Widget.Query.queryInterval_mobile=function(){if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){return}if(ISQ.Widget.Query.typeTimer&&!ISQ.Widget.Query.typeTimer.isDisposed()){return}var b=_query(false,true);if(b===ISQ.Widget.Query.mobile_previousValue){return}ISQ.Widget.Query.mobile_previousValue=b;if(ISQ.Widget.Query.mobile_ignoreNextChange){ISQ.Widget.Query.mobile_ignoreNextChange=false;return}ISQ.Widget.userActive=true;var a={keyCode:b.charCodeAt(b.length-1)}};ISQ.Widget.chatScriptLoaded=false;ISQ.Widget.onBlurHandler=function(){if(!ISQ.Widget.sendingCDCMessages){return}if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=blur")}};ISQ.Widget.Query.setFocus=function(){if(ISQ.Http.hashArguments.autograbfocusinembed){ISQ.Cnf.autoGrabFocusInEmbed&=ISQ.Http.hashArguments.autograbfocusinembed==="true"}if(ISQ.Widget.isPreview||ISQ.Cnf.autoGrabFocusInEmbed===false||ISQ.Cnf.autoGrabFocusInEmbed===0||ISQ.Widget.isFloat||ISQ.Http.browser.isMobile){return}};ISQ.Widget.Query.userInteractionHandler=function(b,a){if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||ISQ.Cnf.initialText||ISQ.Widget.Query.clearTextboxOnInteraction){if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.AutoQuestions.stop_()}ISQ.Widget.Query.clearTextboxOnInteraction=false}return false};ISQ.Widget.Query.keyUpHandler=function(b){var a=b||window.event;if(!ISQ.Widget.userActive){return}if(typeof(a.keyCode)!="unknown"&&ISQ.Widget.Query.ignoreKeyCodes[a.keyCode]){return false}if(ISQ.Cnf.limited&&ISQ.Widget.state!==ISQ.Widget.enumState.contactForm){return false}if(ISQ.Widget.state===ISQ.Widget.enumState.customLink){ISQ.Widget.state=ISQ.Widget.enumState.questions
}ISQ.Widget.Query.searchDelay_history.addLast(new Date());if(ISQ.Widget.Query.searchDelay_history.count()===6){ISQ.Widget.Query.searchDelay_history.remove(ISQ.Widget.Query.searchDelay_history.head())}ISQ.Widget.Query.analyzeQuery(_query(false),ISQ.Widget.Query.enumTextQuerySource.regular);return false};ISQ.Widget.Query.ask=function(b,c){var a=(!ISQ.Cnf.initialText||ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions);if(ISQ.Cnf.autoQuestionsTypeEffect&&a&&c!==ISQ.Widget.Query.enumTextQuerySource.api){ISQ.Widget.Query.analyzeQuery(b,c);ISQ.Widget.Query.typeTimer=new ISQ.Timer(new ISQ.Handler(ISQ.Widget.Query.typeQuestion),false,b,0);ISQ.Widget.Query.typeTimer.start(ISQ.Widget.Query.typeInterval)}else{ISQ.Widget.Query.analyzeQuery(b,c)}};ISQ.Widget.Query.questionLinkClicked=function(c,a){if(ISQ.Widget.Query.tempQuestionTrailId===c){return}if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.state=ISQ.Widget.enumState.questions}ISQ.Widget.userActive=true;ISQ.Widget.Query.appendQuestionToTrail();ISQ.CSS.addClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active");var b=ISQ.Widget.Query.hideAnswers;ISQ.Widget.Query.hideAnswers=function(){};setTimeout(function(){ISQ.Widget.Query.hideAnswers=b},1);ISQ.Widget.Query.tempQuestionTrailId=c;ISQ.Widget.Query.getAnswerById(c,a,ISQ.Widget.Query.enumTextQuerySource.linkedAnswer,function(e){if(e&&e.length){ISQ.Widget.queryField.setValue(e[0].title);ISQ.Widget.Query.tempQuestionTrailId=e[0].id}var f=_("widgetStatusContainer").querySelector(".backLink");if(!f){f=createDiv(_("widgetStatusContainer"),".backLink");f.innerHTML=ISQ.Widget.getStaticText("back")}ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active");ISQ.Widget.Query.processAnswers(e);var d=ISQ.Widget.answerList&&ISQ.Widget.answerList.getScope();if(d&&d.$domElement){_it(d.$domElement.querySelectorAll(".nr-answering-answer-content"),function(g){g.scrollTop=0})}ISQ.Widget.Translation.toggleAnswerTranslations(ISQ.Widget.Translation.isActive);f.onclick=function(){if(ISQ.Widget.Query.questionsTrail.count()+1>0){var g=ISQ.Widget.Query.popQuestionFromTrail();
if(g.tag){if(g.isTagAnId){ISQ.Widget.Query.getAnswerById(g.tag,a,ISQ.Widget.Query.enumTextQuerySource.linkedAnswer,function(h){if(h&&h.length){ISQ.Widget.queryField.setValue(h[0].title);ISQ.Widget.Query.tempQuestionTrailId=h[0].id}ISQ.Widget.Query.processAnswers(h)})}else{if(e&&e.length){ISQ.Widget.queryField.setValue(g.tag)}if(typeof g.activeAnswerIndex==="number"){ISQ.Widget.activeAnswerIndex=g.activeAnswerIndex}ISQ.Widget.Query.analyzeQuery(g.tag,ISQ.Widget.Query.enumTextQuerySource.linkedAnswer)}}else{ISQ.Widget.Query.originalQuery=null;ISQ.Widget.queryField.reset()}}else{ISQ.Widget.Query.originalQuery=null;ISQ.Widget.queryField.reset()}}})};ISQ.Widget.Query.clearQuestionTrail=function(){if(ISQ.Widget.Query.questionsTrail){ISQ.Widget.Query.questionsTrail.dispose();ISQ.Widget.Query.questionsTrail=null}ISQ.Widget.Query.tempQuestionTrailId=null};ISQ.Widget.Query.appendQuestionTag=function(b,a,c){b.push("<a href='javascript:void(0)' onclick='ISQ.Widget.Query.questionLinkClicked(\"");b.push(a);b.push("\")'>");b.push(c);b.push("</a>")};ISQ.Widget.Query.namedAnchorClick=function(b){var d=document.getElementsByTagName("A");b=b.substring(1);for(var c in d){try{if(d[c].getAttribute("name")===b){if(ISQ.Widget.isFloat||ISQ.Widget.HTML.contentWrapper.scrollHeight>ISQ.Widget.HTML.contentWrapper.offsetHeight){ISQ.Widget.HTML.contentWrapper.scrollTop=ISQ.Html.position(d[c]).y-ISQ.Widget.HTML.searchContainer.offsetHeight}else{d[c].scrollIntoView()}break}}catch(a){}}return false};ISQ.Widget.getActiveAnswerIndex=function(){var b=ISQ.Widget.answerList.answers.length;for(var c=0;c<b;c++){var a=ISQ.Widget.answerList.answers[c];if(a.isOpen){return c}}return -1};ISQ.Widget.Query.appendQuestionToTrail=function(){if(!ISQ.Widget.Query.questionsTrail){ISQ.Widget.Query.questionsTrail=new ISQ.Infra.Stack()}if(!ISQ.Widget.Query.tempQuestionTrailId){var a=ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions?ISQ.Widget.AutoQuestions.getCurrentQuestion():_query(true,true);ISQ.Widget.Query.questionsTrail.push({tag:a,isTagAnId:false,activeAnswerIndex:ISQ.Widget.getActiveAnswerIndex()})
}else{ISQ.Widget.Query.questionsTrail.push({tag:ISQ.Widget.Query.tempQuestionTrailId,isTagAnId:true})}ISQ.Widget.Query.tempQuestionTrailId=null};ISQ.Widget.Query.popQuestionFromTrail=function(){if(!ISQ.Widget.Query.questionsTrail){return null}return ISQ.Widget.Query.questionsTrail.pop()};ISQ.Widget.Query.getCurrentQuestionFromTrail=function(){if(!ISQ.Widget.Query.questionsTrail){return null}return ISQ.Widget.Query.questionsTrail.peek()};ISQ.Widget.Query.typeQuestion=function(b,a){if(a===b.length){ISQ.Widget.Query.typeTimer.dispose();return}ISQ.Widget.Query.typeTimer.start(ISQ.Widget.Query.typeInterval,b,a+1)};ISQ.Widget.Query.enumTextQuerySource={regular:1,api:2,linkedAnswer:3,suggestion:4};ISQ.Widget.Query.analyzeQuery=function(b,c){b=b.replace(/\n/g," ");var d=b.Trim();ISQ.Widget.Query.clearQuestionTrail();ISQ.Widget.Query.gettingAnswerById=false;ISQ.Widget.Query.lastQuerySource=c;if(ISQ.Widget.state===ISQ.Widget.enumState.questions){if(d.length===0){if(ISQ.Widget.Query.timer!==null){clearTimeout(ISQ.Widget.Query.timer)}if(ISQ.Widget.Query.acTimer){clearTimeout(ISQ.Widget.Query.acTimer)}ISQ.Widget.Query.lastQuerySent="";ISQ.Widget.Query.lastSuggestionSent="";ISQ.Widget.Query.hideAnswers(null,!ISQ.Widget.dynamicSize);ISQ.Widget.HTML.contentFader.hide();ISQ.Widget.Query.firstUserTyping=true;ISQ.Widget.Query.currentAnswers=null;ISQ.Widget.Query.currentAnswersForComparison=null;if(ISQ.Cnf.faqData){ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnClearSearchField)}if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")}return}var a=ISQ.Widget.Query.previousResponseWasAutoQuestion||c!==ISQ.Widget.Query.enumTextQuerySource.regular;if(!a&&d===ISQ.Widget.Query.lastQuerySent){if(!ISQ.Widget.Query.pendingRequest){if(ISQ.Widget.Query.timer!==null){clearTimeout(ISQ.Widget.Query.timer)}ISQ.Widget.HTML.contentFader.hide();ISQ.Widget.Query.firstUserTyping=true}ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active");return}if(ISQ.Widget.Query.timer!==null){clearTimeout(ISQ.Widget.Query.timer)}ISQ.Widget.HTML.contentFader.show()
}if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||c!==ISQ.Widget.Query.enumTextQuerySource.regular){ISQ.Widget.Query.lastSuggestionSent="";ISQ.Widget.Query.isSameQuery=c===ISQ.Widget.Query.enumTextQuerySource.suggestion;ISQ.Widget.Query.send(d,false,c);if(ISQ.Widget.Query.enumTextQuerySource.suggestion===c){ISQ.Widget.Query.lastWrittenQuery=d}}else{if(ISQ.Widget.Query.firstUserTyping&&ISQ.Widget.state===ISQ.Widget.enumState.questions){if(ISQ.Widget.reportEvents){if(!ISQ.Widget.Query.userActiveReported){ISQ.Widget.CDC.sendMessage("subject=event&type=useractive");ISQ.Widget.Query.userActiveReported=true}ISQ.Widget.CDC.sendMessage("subject=event&type=userstartedtyping")}if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=userWrites")}ISQ.Widget.Query.firstUserTyping=false}ISQ.Widget.Query.firstUserTyping=true;ISQ.Widget.Query.timerElapsedHandler(d,a)}};ISQ.Widget.Query.getLastWords=function(h,c){var f=0;var j=0;var e=false;h=h.replacer([{from:"",to:" "},{from:"\\",to:" "},{from:"-",to:" "},{from:"=",to:" "},{from:"(",to:" "},{from:")",to:" "},{from:"[",to:" "},{from:"]",to:" "},{from:"{",to:" "},{from:"}",to:" "},{from:"<",to:" "},{from:">",to:" "},{from:"#",to:" "},{from:"@",to:" "},{from:"^",to:" "},{from:"!",to:" "},{from:"?",to:" "},{from:"/",to:" "},{from:"&",to:" "},{from:"%",to:" "},{from:"$",to:" "},{from:"*",to:" "},{from:"",to:" "},{from:"\t",to:" "},{from:"\r",to:" "},{from:"\n",to:" "}]);var d=h.length-1;var b=true;while(h.charAt(d)===" "){--d}var g=d;var k=d;var a=false;for(;d>=0;--d){b=h.charAt(d)===" ";if(e){if(!b){e=false;k=d}}else{if(b){if(++j===c){break}k=-1;e=true}}}if(j<c){return h.Trim()}if(d===-1){return h.Trim()}if(!a){return h.substring(1+d).Trim()}k=d=g;j=0;e=false;words=[];for(;d>=0;--d){b=h.charAt(d)===" ";if(e){if(!b){e=false;k=d}}else{if(b){if(k-d>1){if(g==h.length){words.push(h.substring(d+1))}else{words.push(h.substring(d+1,k+1))}if(++j===c){k=-1;break}}k=-1;e=true}}}if(k!=-1){words.push(h.substring(0,k+1))}return words.reverse().join(" ")};ISQ.Widget.Query.countWords=function(c){var a=0;
while(c.charAt(a)===" "&&a<c.length){++a}if(a===c.length){return 0}var b=false;var d=1;for(;a<c.length;++a){if(c.charAt(a)!==" "){b=false;continue}else{if(b){continue}b=true;++d}}return d};ISQ.Widget.queryField=null;ISQ.Widget.initQueryField=function(){var a=true;var c=function(){ISQ.Widget.redrawAnswerList();setTimeout(function(){if(ISQ.Widget.isFloat){ISQ.Widget.HTML.resizeHandler()}else{ISQ.Widget.HTML.dynamicSize_sendMessage()}},1)};var b=new nanoRep.SDK.QueryField({element:"#queryField",showSuggestions:!!ISQ.Cnf.autocompleteEnabled,fireSearchEventWhileTyping:false,placeholder:ISQ.Cnf.initialText,language:ISQ.Cnf.initialUiLanguage,showVoiceButton:ISQ.Cnf.voiceEnabled,session:_session(),events:{type:function(d){ISQ.Widget.Query.originalQuery=d;if(ISQ.Widget.isFloat&&a){a=false;ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.Query.analyzeQuery("",ISQ.Widget.Query.enumTextQuerySource.regular)}if(ISQ.Widget.isFloat){ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")}if(d){ISQ.CSS.addClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active")}else{ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active")}},reset:function(){ISQ.Widget.clearAnswers()},search:function(d){ISQ.Widget.userActive=true;ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.Query.analyzeQuery(d,ISQ.Widget.Query.enumTextQuerySource.regular);if("ontouchstart" in window&&d.indexOf("?")<0){document.activeElement.blur()}},selectSuggestion:function(d){ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.Query.mobile_ignoreNextChange=true;ISQ.Widget.Query.analyzeQuery(d,ISQ.Widget.Query.enumTextQuerySource.suggestion)},showSuggestions:function(){if(ISQ.Widget.isSupportCenterSkin){ISQ.Widget.Query.suggestionsVisible=true;ISQ.Widget.HTML.contentWrapper.style.height=ISQ.Widget.HTML.contentArea.style.height=""}ISQ.CSS.addClass(ISQ.Widget.HTML.widgetContainer,"nr-suggestions-visible");ISQ.Widget.HTML.contentWrapper.style.minHeight=ISQ.Widget.HTML.contentArea.style.minHeight=b.getDropdownSize().height+"px";c()},hideSuggestions:function(){if(ISQ.Widget.isSupportCenterSkin&&ISQ.Widget.Query.suggestionsVisible){ISQ.Widget.Query.suggestionsVisible=false;
ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active")}ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-suggestions-visible");ISQ.Widget.HTML.contentWrapper.style.minHeight=ISQ.Widget.HTML.contentArea.style.minHeight="";c()}}});ISQ.Widget.queryField=b;ISQ.Widget.HTML.widgetStatusText=document.querySelector('[role="status"]')};ISQ.Widget.Query.timerElapsedHandler=function(b,a){ISQ.Widget.Query.queryChangedEvent.dispatch(b);if((!a&&b===ISQ.Widget.Query.lastQuerySent)||b.length===0){ISQ.Widget.HTML.contentFader.hide();if(!b.length){ISQ.Widget.Query.hideAnswers(null,true)}return}if(ISQ.Cnf.limited){return}if(ISQ.Widget.state===ISQ.Widget.enumState.questions&&(b.length>2||!ISQ.Cnf.autocompleteEnabled)){ISQ.Widget.Query.send(b)}ISQ.Widget.HTML.contentFader.hide()};ISQ.Widget.Query.send=function(b,d,c){ISQ.CSS.addClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active");ISQ.Widget.Translation.init();if(ISQ.Widget.Translation.currentState==ISQ.Widget.Translation.enumTranslationState.pending){ISQ.Widget.Translation.loadCallback=function(){ISQ.Widget.Query.send(b,d,c)};return}if(ISQ.Cnf.limited){return}if(!d){if(ISQ.Widget.reportEvents){ISQ.Widget.CDC.sendMessage("subject=event&type=query&isAutoQuestion="+(ISQ.Widget.state==ISQ.Widget.enumState.autoQuestions)+"&data="+ISQ.Tools.Base64.encodeString(b))}if(b===""){return}}ISQ.Widget.Query.lastQuerySent=b;ISQ.Widget.Query.lastQuerySent_time=new Date();++ISQ.Widget.Query.activeRequestId;if(ISQ.Widget.state==ISQ.Widget.enumState.autoQuestions){ISQ.Widget.Query.lastAutoQuestionRequestId=ISQ.Widget.Query.activeRequestId}if(c===ISQ.Widget.Query.enumTextQuerySource.suggestion){var a=ISQ.Widget.Query.kbLanguageCode!==ISQ.Widget.TranslationHelper.defaultLanguage?ISQ.Widget.Query.kbLanguageCode:null;ISQ.Widget.Query.send_internal(ISQ.Widget.Query.lastQuerySent,ISQ.Widget.Query.activeRequestId,null,a,c)}else{ISQ.Widget.Query.send_internal(ISQ.Widget.Query.lastQuerySent,ISQ.Widget.Query.activeRequestId,null,null,c)}ISQ.Widget.Query.pendingRequest=true};ISQ.Widget.Query.send_internal=function(d,b,e,a,c){if(b!=ISQ.Widget.Query.activeRequestId){return
}a=ISQ.Tools.getUniformLanguageCode(a);ISQ.Widget.setUiLanguage(a);ISQ.Widget.Query.lastQueryTranslation=e;ISQ.Widget.setTitle();if(e&&ISQ.Widget.state===ISQ.Widget.enumState.questions){ISQ.Widget.HTML.contentFader.show()}_session().request({url:"q.js",params:{auto:ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions,searchInArticleBody:ISQ.Cnf.enableSearchInBody||null,requestId:b,naive:ISQ.Http.hashArguments.naive||null,text:encodeURIComponent(d),sameQ:ISQ.Widget.Query.isSameQuery,translation:e||null,translationLanguage:a||null,suggestion:c===ISQ.Widget.Query.enumTextQuerySource.suggestion},handler:function(j,f,g){var h=(f.totalKeywords-f.unknownWords)/f.totalKeywords;if(ISQ.Cnf.translationEnabled&&ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions&&h<=ISQ.Widget.Query.minKeywordConfidence&&!ISQ.Widget.Query.translationAttemptActive){ISQ.Widget.Query.translationAttemptActive=true;ISQ.Widget.Query.queryTranslator=new ISQ.Widget.TranslationHelper.QueryTranslator({query:ISQ.Widget.Query.lastQuerySent,handler:new ISQ.Handler(ISQ.Widget.Query.send_internal),queryId:ISQ.Widget.Query.activeRequestId})}else{if(!ISQ.Widget.Query.translationAttemptActive&&f.kbLanguageCode){ISQ.Widget.setUiLanguage(f.kbLanguageCode)}ISQ.Widget.Query.translationAttemptActive=false;ISQ.Widget.Query.responseHandler(j,f,g,function(k){if(f.analysis){ISQ.Widget.Query.lastQueryAnalysis=f.analysis}ISQ.Widget.Query.hideAnswers(k,true)})}}});ISQ.Widget.Query.isSameQuery=true;ISQ.Widget.Query.elementsToResize=null};ISQ.Widget.Query.getAnswerById=function(a,c,d,b){ISQ.Widget.Query.hideAnswers(null,true);ISQ.Widget.Query.currentAnswersForComparison=ISQ.Widget.Query.currentAnswers=null;++ISQ.Widget.Query.activeRequestId;ISQ.Widget.Query.lastQuerySent="";ISQ.Widget.Query.mobile_ignoreNextChange=true;ISQ.Widget.HTML.contentFader.show();ISQ.Widget.Query.gettingAnswerById=true;ISQ.Widget.Query.pendingRequest=true;_session().request({url:"a.js",params:{requestId:ISQ.Widget.Query.activeRequestId,answerId:a,auto:(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||c),src:d,translationLangauge:ISQ.Widget.TranslationHelper.detectedLanguage,kbLC:ISQ.Widget.Query.kbLanguageCode},handler:function(g,e,f){ISQ.Widget.Query.responseHandler(g,e,f,b)
}});ISQ.Widget.Query.elementsToResize=null};ISQ.Widget.Query.responseHandler=function(n,h,j,a){if(n!=ISQ.Com.JsonP.Request.enumResponseType.OK){_session().retry(j);return}ISQ.Widget.Query.likeWasUsedAfterQuery=false;var l=null;var m=false;var g=false;var b=false;if(ISQ.Widget.Query.activeRequestId!=h.requestId){return}if(h.context){ISQ.Widget.Query.contextSuggestionEnabled=(h.contextSuggestionEnabled)?true:false;try{arr=[];for(var f=0;f<h.context.values.length;++f){arr[h.context.values[f].id]=h.context.values[f]}ISQ.Widget.Query.contextCategories=[];for(var f=0;f<h.context.order.length;++f){ISQ.Widget.Query.contextCategories.push(arr[h.context.order[f]])}}catch(c){ISQ.Widget.Query.contextCategories=null}}ISQ.Widget.Query.kbLanguageCode=h.kbLanguageCode;b=ISQ.Widget.Query.previousDetectedLanguage&&ISQ.Widget.Query.previousDetectedLanguage!==ISQ.Widget.TranslationHelper.detectedLanguage;ISQ.Widget.Query.previousDetectedLanguage=ISQ.Widget.TranslationHelper.detectedLanguage;ISQ.Widget.Query.numberOfTopics=h.answers.length;ISQ.Widget.Query.contextOnlyAnswers=0;for(var f=0;f<ISQ.Widget.Query.numberOfTopics;++f){ISQ.Widget.Query.initResultObject(h.answers[f])}if(!a&&!ISQ.Widget.Query.previousResponseWasAutoQuestion&&!b&&ISQ.Widget.Query.currentAnswersForComparison&&h.answers.length&&h.answers.length===ISQ.Widget.Query.currentAnswersForComparison.length){var f=0;for(f=0;f<ISQ.Widget.Query.currentAnswersForComparison.length;++f){if(!ISQ.Widget.Query.compareResults(ISQ.Widget.Query.currentAnswersForComparison[f],h.answers[f])){break}}m=f===ISQ.Widget.Query.currentAnswersForComparison.length}ISQ.Widget.Query.currentAnswersForComparison=h.answers;ISQ.Widget.Query.previousResponseWasAutoQuestion=ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||ISQ.Widget.Query.gettingAnswerById;g=ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions||h.requestId<=ISQ.Widget.Query.lastAutoQuestionRequestId;if(ISQ.Widget.reportEvents){var k=[];k.push("subject=event&type=incomingsearchresults&hasresults=");k.push((h.answers.length!==0));k.push("&isAutoQuestion=");
k.push(g);k.push("&query=");k.push(ISQ.Tools.Base64.encodeString(ISQ.Widget.Query.lastQuerySent));k.push("&results=");var d=[];for(var f=0;f<h.answers.length;++f){d.push({answerId:h.answers[f].id,title:(h.answers[f].translation?h.answers[f].translation.title:h.answers[f].title),body:(h.answers[f].translation?h.answers[f].translation.summary:h.answers[f].summary),attachments:ISQ.Widget.buildAttachmentUrls_forEvent(h.answers[f].attachments)})}k.push(ISQ.Tools.Base64.encodeString(ISQ.Data.jsonToString(d)));ISQ.Widget.CDC.sendMessage(k.join(""))}ISQ.Widget.Query.rechannelingOptions=h.rechanneling?nanoRep.SDK.Channeling.convertChannels(h.rechanneling):null;ISQ.Widget.Chat.checkChatSession();ISQ.Widget.Query.pendingRequest=false;if(m){ISQ.Widget.HTML.contentFader.hide();return}if(ISQ.Cnf.faqData&&!ISQ.Widget.isFloat&&!ISQ.Widget.userActive&&ISQ.Widget.Query.gettingAnswerById&&((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)!==0)&&h.answers.length){ISQ.Widget.Query.fader_callback=function(){if(ISQ.Widget.userActive){return}ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnWidgetLoad)}}if(a){a(h.answers,true)}else{ISQ.Widget.Query.hideAnswers(h.answers,true)}};ISQ.Widget.Query.replacePlaceholders_answerObject=function(c){var b=ISQ.Widget.replacePlaceholders(c.title,ISQ.Widget.API.getCustomParams(),"{{","}}");if(b.success){c.title=b.text;b=ISQ.Widget.replacePlaceholders(c.summary,ISQ.Widget.API.getCustomParams(),"{{","}}");if(b.success){c.summary=b.text}}if(!b.success){ISQ.Widget.Query.numberOfTopics--;return}if(c.translation){var b=ISQ.Widget.replacePlaceholders(c.translation.title,ISQ.Widget.API.getCustomParams(),"{{","}}");if(b.success){c.translation.title=b.text;b=ISQ.Widget.replacePlaceholders(c.translation.summary,ISQ.Widget.API.getCustomParams(),"{{","}}");if(b.success){c.translation.summary=b.text}}if(!b.success){ISQ.Widget.Query.numberOfTopics--;return}}var d={};ISQ.Tools.extend(true,d,c);if(!ISQ.Widget.Query.currentAnswers){ISQ.Widget.Query.currentAnswers=[]}ISQ.Widget.Query.currentAnswers.push(d);var a=ISQ.Data.getDBAnswerAsHtml(d.summary,false,ISQ.Widget.Query.appendQuestionTag,null,"ISQ.Widget.Query.namedAnchorClick",ISQ.Widget.referer.normal);
d.summary=a.text;d.summaryScript=a.script;if(d.translation){a=ISQ.Data.getDBAnswerAsHtml(d.translation.summary,false,ISQ.Widget.Query.appendQuestionTag,null,"ISQ.Widget.Query.namedAnchorClick",ISQ.Widget.referer.normal);d.translation.summary=a.text}};ISQ.Widget.Query.RecursiveContextReading=function(a,b,e){for(var d=0;d<a.length;d++){var c=a[d];if(typeof c=="string"&&c==""){continue}if(typeof c=="string"){if(e!=null){e[c]=c}else{b[c]=c}}else{for(key in c){b[key]={};ISQ.Widget.Query.RecursiveContextReading(c[key],b[key],b[key])}}}};ISQ.Widget.Query.ContextResponse=function(c,d,a){var b=_("contextSwitcher");var e=[];b.innerHTML="";_("contextSwitcher").style.display="block";d=d.split("|");for(var g=0;g<d.length;g++){e.push(d[g].split(","))}var h=function(l,k){var j={};ISQ.Widget.Query.RecursiveContextReading(l,j,null);function n(r){var u={},q,p=[];for(q in r){if(r.hasOwnProperty(q)){p.push(q)}}var t=function(o,s){var v=o.toLowerCase(),w=s.toLowerCase();if(v<w){return -1}if(v>w){return 1}return 0};p.sort(t);for(q=0;q<p.length;q++){u[p[q]]=r[p[q]]}for(q in u){if(typeof u[q]=="object"){u[q]=n(u[q])}}return u}var m=n(j);return ISQ.Widget.Query.buildContextSelection({context:m,body:b,contextCats:k})};ISQ.Widget.Query.contextSelectors=[];if(c.groups){for(var g=0;g<c.groups.length;g++){h(c.groups[g].values,e[g])}}else{if(c.values){h(c.values,e[0])}}if(!ISQ.Widget.Query.buildContextSelectionOverride){var f=document.createElement("div");f.className="contextSelectionTitle";f.innerHTML="More than one answer is available";b.insertBefore(f,b.childNodes[0])}if(a){a()}};ISQ.Widget.Query.contextSuggestionEnabled=false;ISQ.Widget.Query.processAnswers=function(results){if(!results||((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)===0)){ISQ.Widget.HTML.contentFader.hide();return}ISQ.Widget.FAQ.hide();try{var noActionBar=false;ISQ.Widget.Query.firstAnswerId=-1;ISQ.Widget.Query.chatEscalationAction=ISQ.Widget.Query.numberOfTopics==0?ISQ.Widget.enumChatEscalationActions.normal:ISQ.Widget.enumChatEscalationActions.hide;ISQ.Widget.Query.chatPushAnswers.pushed=false;
ISQ.Widget.Query.currentAnswers=null;ISQ.Widget.answerList.answers=[];ISQ.Widget.ChannelingActions.closeActiveChannel();if(ISQ.Widget.Query.numberOfTopics>0){for(var i=0;i<results.length;++i){ISQ.Widget.Query.replacePlaceholders_answerObject(results[i])}}if(ISQ.Widget.Query.numberOfTopics>0){var resultObject;var resizeWidget=false;if(ISQ.Export){ISQ.Export.currentMaxHeight=0;ISQ.Export.currentMaxWidth=0}var buildAnswers=function(){if(ISQ.Widget.Query.contextSuggestionEnabled){ISQ.Widget.Query.contextSelectionClearContext()}var answerContactForm=[];var currentFormId=null;for(var i=0;i<ISQ.Widget.Query.numberOfTopics;i++){resultObject=ISQ.Widget.Query.currentAnswers[i];if(i==0){ISQ.Widget.lastQuestionId=resultObject.id}resultObject.answerNum=i;var answerLanguage=resultObject.languageCode||ISQ.Widget.Query.kbLanguageCode;currentFormId=null;if(resultObject&&resultObject.rechanneling&&resultObject.rechanneling.length){_it(resultObject.rechanneling,function(channel){if(channel.contactForms&&channel.showInArticle){var found=false;currentFormId=channel.contactForms;for(var k=0;k<answerContactForm.length;k++){if(answerContactForm[k].contactForms===channel.contactForms){found=true;break}}if(!found){answerContactForm.push(channel)}return false}})}if(i===0){ISQ.Widget.Query.firstAnswerId=resultObject.id;ISQ.Widget.Query.rechannelingOptions=resultObject.rechanneling?nanoRep.SDK.Channeling.convertChannels(resultObject.rechanneling):null;ISQ.Widget.Chat.checkChatSession();if(ISQ.Widget.Query.gettingAnswerById){ISQ.Widget.Query.clearTextboxOnInteraction=true;ISQ.Widget.Query.mobile_ignoreNextChange=true;ISQ.Widget.Query.lastQuerySent=resultObject.title;if(ISQ.Cnf.autoQuestionsTypeEffect){ISQ.Widget.Query.typeTimer=new ISQ.Timer(new ISQ.Handler(ISQ.Widget.Query.typeQuestion),false,(resultObject.translation?resultObject.translation.title:resultObject.title),0);ISQ.Widget.Query.typeTimer.start(ISQ.Widget.Query.typeInterval)}if(!ISQ.Widget.Query.lastWrittenQuery){ISQ.Widget.Query.lastWrittenQuery=(resultObject.translation?resultObject.translation.title:resultObject.title)
}if(ISQ.Http.browser.isMobile&&window.top===window){document.body.scrollTop=0}}if(typeof(ISQ.Widget.iChat.instance)!=="undefined"&&ISQ.Widget.iChat.instance!=null&&ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions){var skill="";if(resultObject.chatRequiredSkill){skill=resultObject.chatRequiredSkill}else{if(ISQ.Widget.Chat.chatConfig.skill){skill=ISQ.Widget.Chat.chatConfig.skill}}noActionBar=ISQ.Widget.iChat.instance.getAvailabilityPerAnswer(skill)}}ISQ.Widget.Query.chatEscalationAction=Math.max(ISQ.Widget.Query.chatEscalationAction,resultObject.chatEscalationAction);if(!ISQ.Widget.Query.chatInviteContent){ISQ.Widget.Query.chatInviteContent=resultObject.chatInviteContent}if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions&&ISQ.Widget.Query.chatEscalationAction==ISQ.Widget.enumChatEscalationActions.pushChat){ISQ.Widget.Query.chatEscalationAction=ISQ.Widget.enumChatEscalationActions.normal}if(ISQ.Widget.Query.chatEscalationAction==ISQ.Widget.enumChatEscalationActions.pushChat){if(ISQ.Widget.Query.chatPushAnswers[resultObject.id]){ISQ.Widget.Query.chatEscalationAction=ISQ.Widget.enumChatEscalationActions.normal}ISQ.Widget.Query.chatPushAnswers[resultObject.id]=true}if(resultObject.contextSelectionOnly){++ISQ.Widget.Query.contextOnlyAnswers}var answerTable=ISQ.Widget.Query.appendSingleAnswer({answerObject:resultObject,footer:ISQ.Cnf.answerFooter,direction:ISQ.Translation.Infra.getLanguageDirection(resultObject.translation&&resultObject.translation.title?ISQ.Widget.TranslationHelper.detectedLanguage:ISQ.Widget.Query.kbLanguageCode),showTranslateIcon:false,visible:true,contactFormId:currentFormId},null,i===ISQ.Widget.Query.numberOfTopics-1);resultObject.answerTable=answerTable;if(resultObject.externalSourceType){switch(resultObject.externalSourceType){case ISQ.enumContentProviders.worldManuals:resizeWidget=true;break}}}if(answerContactForm.length){ISQ.Widget.Forms.getForms(answerContactForm)}if(resizeWidget&&ISQ.Widget.isFloat){var elements=ISQ.Html.getElementsByClassName(ISQ.Widget.HTML.widgetContainer,"nr-answering-list");
if(elements.length>0){ISQ.Widget.CDC.sendMessage("subject=setSize&height="+ISQ.Export.currentHeight+"&width="+ISQ.Export.currentWidth)}else{ISQ.Widget.CDC.sendMessage("subject=widgetToExpand")}}};if(ISQ.Widget.Query.contextCategories){ISQ.Widget.Query.processContext(buildAnswers)}else{buildAnswers()}if(!ISQ.Widget.Query.questionsTrail||ISQ.Widget.Query.questionsTrail.count()<0){_("widgetStatusContainer").innerHTML=""}_("answerList").removeAttribute("nr-no-results");ISQ.Widget.HTML.widgetStatusText.innerHTML=(ISQ.Widget.Query.numberOfTopics===1?"1 result":ISQ.Widget.Query.fader_tempXml.length+" results")+" available. Use TAB key to navigate."}else{_("widgetStatusContainer").innerHTML="";var direction=ISQ.Widget.Query.toTranslateContent(ISQ.Cnf.kbLanguageCode)?ISQ.Translation.Infra.getLanguageDirection(ISQ.Widget.TranslationHelper.detectedLanguage):ISQ.Widget.Localize.array.dir;var d=createDiv(_("widgetStatusContainer"),".noResults &direction:"+direction);var noResultsMessage="";var context=ISQ.Widget.Query.getContextString();if(ISQ.Widget.Query.contextSuggestionEnabled&&context){noResultsMessage=ISQ.Widget.getStaticText("searchMsgNOResultsContext")}else{noResultsMessage=ISQ.Widget.getStaticText("searchMsgNOResults")}noResultsMessage=ISQ.Widget.replacePlaceholders(noResultsMessage,ISQ.Widget.API.getCustomParams(),"{{","}}",true).text;if(ISQ.Widget.Query.contextSuggestionEnabled&&context){noResultsMessage=noResultsMessage.replace("{CONTEXT}",context);noResultsMessage=noResultsMessage.replace("{LINK}",'<span class="clearSelectionLink" onclick="ISQ.Widget.Query.clearContext()">');noResultsMessage=noResultsMessage.replace("{/LINK}","</span>")}else{noResultsMessage=noResultsMessage.replace("{QUERY}",ISQ.Data.unHTML(_query(true)))}d.innerHTML=noResultsMessage;d.style.display="none";var noAnswersAnswer=new nanoRep.SDK.Answering.Answer({session:{account:ISQ.Widget.account,kb:ISQ.Cnf.kbId,host:ISQ.Cnf.serverUrl,referer:ISQ.Widget.referer.normal},direction:ISQ.Translation.Infra.getLanguageDirection(ISQ.Cnf.currentUiLanguage),title:noResultsMessage,content:"",noAnswersAnswer:true,collapsible:false,hasSharing:false,hasFeedback:false,hasActionBar:true,focusable:false});
if(noAnswersAnswer.actionBar){noAnswersAnswer.actionBar.setDirection(noAnswersAnswer.direction)}if(noAnswersAnswer.actionBar.setMaxVisibleChannels){noAnswersAnswer.actionBar.setMaxVisibleChannels(ISQ.Widget.Escalate.maxVisibleChannels)}if(noAnswersAnswer.actionBar.setActionsHandler){var escalationChannels=ISQ.Widget.getUserEscalationChannels()||[];if(ISQ.Widget.Query.rechannelingOptions&&ISQ.Widget.Query.rechannelingOptions.length){escalationChannels.push.apply(escalationChannels,ISQ.Widget.Query.rechannelingOptions)}noAnswersAnswer.actionBar.setActionsHandler(ISQ.Widget.ChannelingActions);noAnswersAnswer.actionBar.setChannels(escalationChannels)}ISQ.Widget.answerList.answers=[noAnswersAnswer];_("answerList").setAttribute("nr-no-results","");ISQ.Widget.HTML.widgetStatusText.innerHTML=noResultsMessage;try{if(ISQ.Widget.Query.contextSuggestionEnabled){var noResultsScript=ISQ.Widget.getStaticText("searchMsgNOResultsContextScript")}else{var noResultsScript=ISQ.Widget.getStaticText("searchMsgNOResultsScript")}if(noResultsScript){noResultsScript=ISQ.Widget.replacePlaceholders(noResultsScript,ISQ.Widget.API.getCustomParams(),"{{","}}",true).text;eval(noResultsScript)}if(ISQ.Cnf.faqData){ISQ.Widget.FAQ.show(ISQ.Widget.FAQ.behavior.OnNoResuls)}}catch(e){}ISQ.Widget.Query.displayAnswers(noActionBar);ISQ.Widget.redrawAnswerList();if(ISQ.Widget.Query.contextSuggestionEnabled){ISQ.Widget.Query.contextByUser=true;ISQ.Widget.Query.contextSelectionClearContext()}}}catch(e){setTimeout(function(){throw e},1);ISQ.Widget.HTML.contentFader.hide()}var answers=ISQ.Widget.answerList.answers;var firstAnswer=ISQ.Widget.answerList.answers[0];if(answers.length===1){firstAnswer.isOpen=true;firstAnswer.collapsible=false}ISQ.Widget.ChannelingActions.closeActiveChannel();if(answers.length){ISQ.Widget.answerList.setListMode(firstAnswer.isOnloadQuestion||firstAnswer.noAnswersAnswer?"simple":(ISQ.Widget.isSupportCenterSkin?"cards":"cardsfit"))}if(firstAnswer&&firstAnswer.isOnloadQuestion){ISQ.Widget.isOnloadQuestionDisplayed=true}ISQ.Widget.preventTransitions();
ISQ.Widget.answerList.updateScope();if(firstAnswer&&firstAnswer.hasOwnProperty("translatedTitle")){ISQ.Widget.Translation.switcher.setLanguage(ISQ.Widget.TranslationHelper.detectedLanguage);_("translationSwitcher").style.display="block"}else{_("translationSwitcher").style.display="none"}if(ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions&&ISQ.Widget.Query.chatInviteContent&&ISQ.Widget.Query.chatEscalationAction==ISQ.Widget.enumChatEscalationActions.inviteChat){ISQ.Widget.HTML.chatInviteContainer.innerHTML=ISQ.Widget.Query.chatInviteContent;ISQ.Widget.HTML.chatInviteContainer.onclick=function(){if(ISQ.Widget.Chat.onlineChatChannel){ISQ.Widget.ChannelingActions.startChat(ISQ.Widget.Chat.onlineChatChannel,null,ISQ.Widget.enumChatEscalationActions.inviteChat)}};if(ISQ.Widget.Chat.onlineChatChannel){ISQ.Widget.Chat.toggleInvite(true)}}else{ISQ.Widget.Chat.toggleInvite(false)}if(ISQ.Widget.Query.chatEscalationAction==ISQ.Widget.enumChatEscalationActions.pushChat&&ISQ.Widget.Chat.onlineChatChannel&&ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions){ISQ.Widget.ChannelingActions.startChat(ISQ.Widget.Chat.onlineChatChannel,null,ISQ.Widget.enumChatEscalationActions.pushChat)}_it(ISQ.Widget.answerList.answers,function(answer){var answerBodyWidth=0;_it(answer.getAnswerContentBlocks(),function(answerBody){answerBodyWidth=answerBodyWidth||answerBody.offsetWidth;ISQ.Widget.Query.resizeSingleAnswerElements(answerBody,true,answerBodyWidth)})});ISQ.Widget.HTML.dynamicSize_sendMessage();ISQ.Widget.redrawAnswerList();if(typeof ISQ.Widget.activeAnswerIndex==="number"){ISQ.Widget.answerList.getScope().openAnswerByIndex(ISQ.Widget.activeAnswerIndex,true);ISQ.Widget.activeAnswerIndex=null}};ISQ.Widget.Query.processContext=function(b){var a={};ISQ.Widget.Query.ContextObject={};for(var k=0;k<ISQ.Widget.Query.contextCategories.length;k++){ISQ.Widget.Query.ContextObject[ISQ.Widget.Query.contextCategories[k].id]=ISQ.Widget.Query.contextCategories[k];if(!ISQ.Widget.Query.ContextObject[ISQ.Widget.Query.contextCategories[k].id].parentId){ISQ.Widget.Query.ContextObject[ISQ.Widget.Query.contextCategories[k].id].parentId=null
}}var f={};var g=[];var d=[];for(var k=0;k<ISQ.Widget.Query.numberOfTopics;k++){resultObject=ISQ.Widget.Query.currentAnswers[k];if(resultObject.contextSelection&&resultObject.contextSelectionOnly){for(var l=0;l<resultObject.contextSelection.length;l++){var h=ISQ.Widget.Query.ContextObject[resultObject.contextSelection[l]];if(!f[h.id]){f[h.id]={name:ISQ.Widget.Query.ContextObject[h.id].name};if(!h.parentId){h.parentId=null}d.push({id:h.id,parentId:h.parentId})}}}}for(var k=0;k<d.length;k++){var c=d[k];if(c.parentId){if(!f[c.parentId]){f[c.parentId]={name:ISQ.Widget.Query.ContextObject[c.parentId].name};d.push({id:ISQ.Widget.Query.ContextObject[c.parentId].id,parentId:ISQ.Widget.Query.ContextObject[c.parentId].parentId})}f[c.parentId].child=f[c.id];f[c.id].parent=f[c.parentId]}else{g.push(f[c.id])}}var j=function(m,n){n.push(m.name);if(m.child){n.push(",");j(m.child,n)}};var e=[];for(var k=0;k<g.length;k++){j(g[k],e);if(k<g.length-1){e.push("|")}}if(e.length>0){ISQ.Widget.requestContext(e,b)}else{b()}};ISQ.Widget.Query.initResultObject=function(a){a.languageCode=a.languageCode||null;a.chatEscalationAction=(typeof a.chatEscalationAction=="undefined")?ISQ.Widget.enumChatEscalationActions.normal:a.chatEscalationAction;a.chatRequiredSkill=a.chatRequiredSkill||null;a.chatInviteContent=a.chatInviteContent||null;a.attachments=a.attachments||null;a.context=!a.context?null:(function(){var d=a.context.split(",");var b=[];for(var c=0;c<d.length;++c){b[d[c]]=d[++c]}return b})();a.title=ISQ.Data.htmlEncode(a.title);a.externalSourceId=a.externalSourceId;a.externalSourceType=a.externalSourceType;a.translation=a.translation||null};ISQ.Widget.Query.compareResults=function(a,b){var c=function(e,f){for(var d in e){if(e[d]!=f[d]){return false}}return true};if(!c(a,b)){return false}if(!c(b,a)){return false}return ISQ.Tools.compareArrays(a.context,b.context)};ISQ.Widget.Query.buildContextSelectionOverride=null;ISQ.Widget.Query.contextByUser=false;ISQ.Widget.Query.changeContext=function(a){_session().setContext(a,function(){_("contextSwitcher").style.display="none";
ISQ.Widget.CDC.sendMessage("subject=updateContext&context="+ISQ.Data.jsonToString(a));ISQ.Widget.Query.contextByUser=true;if(ISQ.Widget.canUseLocalStorage&&window.localStorage&&!ISQ.Http.browser.isIOS7){window.localStorage.setItem("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account),ISQ.Data.jsonToString(a))}else{ISQ.Http.Cookies._write("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account),ISQ.Data.jsonToString(a),"/widget",ISQ.Http.domain(false),false)}ISQ.Widget.API.reAsk()},true)};ISQ.Widget.Query.clearContext=function(){_session().setContext({nocontext:"true"},function(){ISQ.Widget.API.reAsk()},true);if(ISQ.Widget.canUseLocalStorage){window.localStorage.removeItem("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account))}ISQ.Http.Cookies._delete("nanorep.wContext"+ISQ.Http.Cookies.encode64(ISQ.Widget.account),"/widget",ISQ.Http.domain(false),false)};ISQ.Widget.Query.compileContextDisplayName=function(b,a){var c=b;if(window.setContextDisplayName){c=window.setContextDisplayName(b)}a.push(c)};ISQ.Widget.Query.getContextString=function(e){var a=0;var c=_session().contexts();if(c&&!c.nocontext&&ISQ.Widget.Query.contextCategories){var b=[];for(var d=0;d<ISQ.Widget.Query.contextCategories.length;d++){if(!c[ISQ.Widget.Query.contextCategories[d].name.toLowerCase()]){continue}if(e){b.push(ISQ.Widget.Query.contextCategories[d].name.firstLetterUpperCase());b.push(" ")}ISQ.Widget.Query.compileContextDisplayName(c[ISQ.Widget.Query.contextCategories[d].name.toLowerCase()],b);b.push(", ")}b.splice(b.length-1,1);return b.join("")}return null};ISQ.Widget.requestContext=function(b,a){b=b.join("");_session().request({url:"contextvalues.js",params:{account:ISQ.Widget.account,kb:ISQ.Cnf.kbId,contexts:b},handler:function(d,c){if(d==ISQ.Com.JsonP.Request.enumResponseType.OK){ISQ.Widget.Query.ContextResponse(c,b,a)}}})};ISQ.Widget.hideContextSwitcher=function(){if(_("contextSwitcher")){_("contextSwitcher").style.display="none"}};ISQ.Widget.clearAnswers=function(){if(_("contextBar")){_("contextBar").style.display="none"
}if(_("selectedContextElement")){_("selectedContextElement").parentNode.removeChild(_("selectedContextElement"))}ISQ.Widget.hideContextSwitcher();ISQ.Widget.preventTransitions();ISQ.Widget.Query.originalQuery=null;_("widgetStatusContainer").innerHTML="";_("translationSwitcher").style.display="none";ISQ.Widget.HTML.contentWrapper.style.height=ISQ.Widget.HTML.contentArea.style.height="";ISQ.Widget.Chat.toggleInvite(false);ISQ.Widget.setUiLanguage(ISQ.Cnf.initialUiLanguage);ISQ.Widget.state=ISQ.Widget.enumState.questions;ISQ.Widget.Query.analyzeQuery("",ISQ.Widget.Query.enumTextQuerySource.regular);ISQ.Widget.redrawAnswerList();setTimeout(function(){if(ISQ.Widget.isFloat){ISQ.Widget.HTML.resizeHandler()}else{ISQ.Widget.HTML.dynamicSize_sendMessage()}},1)};ISQ.Widget.getContextCategories=function(){var b=[];for(var a=0;a<ISQ.Widget.Query.contextCategories.length;a++){if(a>0){b.push(",")}b.push(ISQ.Widget.Query.contextCategories[a].name)}return b};ISQ.Widget.Query.contextSelectionClearContext=function(){var a=0;var c=_session().contexts();if(c&&!c.nocontext&&ISQ.Widget.Query.contextCategories){for(var d=0;d<ISQ.Widget.Query.contextCategories.length;d++){if(!c[ISQ.Widget.Query.contextCategories[d].name.toLowerCase()]){continue}a++}if(a==ISQ.Widget.Query.contextCategories.length){}else{if(!ISQ.Widget.Query.contextByUser){return}}var b=[];var e=document.createElement("div");e.id="selectedContextElement";for(var d=0;d<ISQ.Widget.Query.contextCategories.length;d++){if(!c[ISQ.Widget.Query.contextCategories[d].name.toLowerCase()]){continue}ISQ.Widget.Query.compileContextDisplayName(c[ISQ.Widget.Query.contextCategories[d].name.toLowerCase()],b)}_("contextBar").innerHTML="";_("contextBar").appendChild(e);_("contextBar").style.display="";new nanoRep.SDK.Context.Bar({element:e,entries:b,events:{change:function(){ISQ.Widget.clearAnswers();if(ISQ.Widget.lastContextObj){_("contextSwitcher").style.display="block";ISQ.Widget.Query.buildContextSelection(ISQ.Widget.lastContextObj)}else{ISQ.Widget.requestContext(ISQ.Widget.getContextCategories())
}}}});ISQ.Widget.hideContextSwitcher();ISQ.Widget.lastQuery=_query()}};ISQ.Widget.Query.contextSelectors=[];ISQ.Widget.Query.buildContextSelection=function(h){ISQ.Widget.lastContextObj=h;if(ISQ.Widget.Query.buildContextSelectionOverride){ISQ.Widget.Query.buildContextSelectionOverride(h);return}var o=h.body;var b=h.contextCats;var d=createDiv(null);d.className="contextSelectors";o.innerHTML="";var e=h.context;var a=ISQ.Widget.Query.contextCategories;var n={items:[]};var k=function(q){q.element.innerHTML="";q.uniqueValues={};q.container.style.display="none";if(q.childElement){k(q.childElement)}};for(var f=0;f<b.length;f++){var m=b[f];for(var p=0;p<ISQ.Widget.Query.contextCategories.length;p++){if(!ISQ.Widget.Query.contextCategories[p].selectionText||ISQ.Widget.Query.contextCategories[p].selectionText.length==0){continue}if(ISQ.Widget.Query.contextCategories[p].name==m){m=ISQ.Widget.Query.contextCategories[p].selectionText;break}}var j=null;var l={};l.labelName=m;l.name=b[f];l.idx=f;l.ldx=b.length-1;l.container=document.createElement("div");l.fieldName=document.createElement("div");l.fieldName.className="contextLabel";l.fieldName.innerHTML=m;l.uniqueValues={};l.element=document.createElement("select");l.element.className="borderBoxSizing cWuSelector contextSelect";l.element.selector=l;l.populateNext=false;l.element.onchange=function(){var u=this.selector;if(u.childElement){k(u.childElement);if(this.selectedIndex!=-1){ISQ.Widget.Query.populateContextSelect({selectors:n,contextIdx:u.idx+1,selector:u.childElement,contextValues:u.uniqueValues[u.element.options[u.element.selectedIndex].value],populate:true})}if(!ISQ.Widget.isFloat){ISQ.Widget.HTML.resizeHandler();ISQ.Widget.HTML.dynamicSize_sendMessage()}}else{var s=ISQ.Html.getElementsByClassName(document,"cWuSelector");for(var r=0;r<s.length;r++){if(s[r].selectedIndex==0){return false}}var q=_session().contexts()||{};if(q.nocontext){delete q.nocontext}for(var v=0;v<ISQ.Widget.Query.contextSelectors.length;v++){var t=ISQ.Widget.Query.contextSelectors[v];for(var r=0;r<t.items.length;
r++){q[t.items[r].name]=t.items[r].element.options[t.items[r].element.selectedIndex].value.Trim(" ")}}ISQ.Widget.Query.changeContext(q);return false}};if(f==0){ISQ.Widget.Query.populateContextSelect({selectors:n,contextIdx:f,selector:l,contextValues:e,categories:a})}else{l.container.style.display="none"}l.container.appendChild(l.fieldName);l.container.appendChild(l.element);d.appendChild(l.container);n.items.push(l)}ISQ.Widget.Query.contextSelectors.push(n);for(var p=n.items.length-2;p>=0;p--){n.items[p].childElement=n.items[p+1]}for(var f=0;f<n.items.length;f++){if(n.items[f].element.options.length==1){n.items[f].element.onchange()}}var g=ISQ.Html.getElementsByClassName(document,"cWuSelector");if(o.childNodes.length>0&&g.length==0){o.insertBefore(d,o.childNodes[0])}else{o.appendChild(d)}var c=document.getElementById("selectedContextElement");if(c){_("contextBar").style.display="none";c.parentNode.removeChild(c)}if(!ISQ.Widget.isFloat){ISQ.Widget.HTML.resizeHandler()}};ISQ.Widget.Query.populateContextSelect=function(d){var j=d.selectors;var c=d.contextIdx;var h=d.selector;var b=d.contextValues;var g=d.populate;if(j.items.length==0||j.populateNext||g){j.populateNext=false;var a=function(k,m){var l=createElement("option");l.value=m;l.innerHTML=k;h.element.appendChild(l)};a("Please select",-1);h.container.style.display="block";for(key in b){if(h.uniqueValues[key]){continue}h.uniqueValues[key]=b[key];var f=key;var e=createElement("option");e.value=f;e.innerHTML=f;h.element.appendChild(e)}}};ISQ.Widget.Query.processQuotes=function(b,a){if(ISQ.Cnf.supportBlockQuotes){(function c(e){if(e.nodeName=="BLOCKQUOTE"){if(e.innerText.Trim()==""&&!e.innerHTML.contains("IMG")){return}e.className+=" enabled";e.onclick=function(){var f=ISQ.Tools.Base64.encodeString(ISQ.Widget.Query.lastQuerySent);var g=ISQ.Tools.Base64.encodeString(e.innerHTML);if(ISQ.Widget.reportEvents){ISQ.Widget.CDC.sendMessage("subject=event&type=quote&query="+f+"&answerid="+a+"&text="+g)}}}for(var d=0;d<e.childNodes.length;++d){arguments.callee(e.childNodes[d])
}})(b)}};ISQ.Widget.getUserEscalationChannels=function(){return[];var d=[];if(ISQ.Widget.Query.numberOfTopics&&ISQ.Widget.Query.contextOnlyAnswers===ISQ.Widget.Query.numberOfTopics){return d}var c=function(){d.push({actionEsc:ISQ.Widget.Escalate.escaeTypeEnum.normal,channel:ISQ.Widget.Escalate.enumType.customEmail,buttonText:ISQ.Widget.getStaticText("email"),description:ISQ.Widget.getStaticText("email"),contactForms:"0"})};var a=function(){d.push({actionEsc:ISQ.Widget.Escalate.escaeTypeEnum.normal,channel:ISQ.Widget.Escalate.enumType.chat,accountNum:ISQ.Widget.Chat.chatConfig[ISQ.Widget.Chat.chatConfig.active].id,agentSkill:ISQ.Widget.Chat.chatConfig.skill,chatProvider:ISQ.Widget.Chat.chatConfig.active,name:ISQ.Widget.getStaticText("chat"),buttonText:ISQ.Widget.getStaticText("chat"),description:ISQ.Widget.getStaticText("chat"),hideSendToEmail:ISQ.Widget.Chat.chatConfig.hideSendToEmail,initStatus:ISQ.Widget.Chat.chatConfig.initialStatus,isPopup:ISQ.Widget.Chat.chatConfig.popup.enabled,popupSize:(ISQ.Widget.Chat.chatConfig.popup.size||[800,600]).join(","),postChat:ISQ.Widget.Chat.chatConfig.postChat,preChat:ISQ.Widget.Chat.chatConfig.preChat,waitTime:ISQ.Widget.Chat.chatConfig.maxAvailabilityTime,fallbackChannel:ISQ.Widget.Chat.chatConfig.showEmailButton?null:{actionEsc:ISQ.Widget.Escalate.escaeTypeEnum.normal,channel:ISQ.Widget.Escalate.enumType.customEmail,buttonText:ISQ.Widget.getStaticText("email"),description:ISQ.Widget.getStaticText("email"),contactForms:"0"}})};var b=function(){var h,g=false;switch(ISQ.Cnf.customEscalationLink_Action){case ISQ.Widget.enumCustomLinkStats.countChatEscalation:h=ISQ.Widget.Escalate.enumType.customChat;break;case ISQ.Widget.enumCustomLinkStats.countTicketEscalation:h=ISQ.Widget.Escalate.enumType.customEmail;break;default:h=ISQ.Widget.Escalate.enumType.customEmail;g=true;break}var f=ISQ.Widget.getStaticText(h===ISQ.Widget.Escalate.enumType.customEmail?"email":"chat");d.push({channel:h,disableReporting:g,actionEsc:ISQ.Widget.Escalate.escaeTypeEnum.customUrl,linkUrl:ISQ.Widget.Query.buildCustomLink(ISQ.Cnf.customEscalationLink),linkTarget:ISQ.Cnf.customEscalationLink_target,buttonText:f,description:f,popupSize:ISQ.Cnf.customLinkPopupSize instanceof Array?ISQ.Cnf.customLinkPopupSize.join(","):null})
};var e=false;switch(ISQ.Cnf.showChatConfiguration){case ISQ.Widget.enumShowChatConfiguration.always:e=ISQ.Widget.Query.chatEscalationAction>ISQ.Widget.enumChatEscalationActions.hide;break;case ISQ.Widget.enumShowChatConfiguration.selectedAnswers:e=ISQ.Widget.Query.chatEscalationAction>ISQ.Widget.enumChatEscalationActions.normal;break;case ISQ.Widget.enumShowChatConfiguration.selectedAnswers_and_noAnswers:e=ISQ.Widget.Query.chatEscalationAction>ISQ.Widget.enumChatEscalationActions.normal||ISQ.Widget.Query.firstAnswerId===-1;break}if(e){if(ISQ.Widget.Chat.chatConfig.active){a();if(ISQ.Widget.Chat.chatConfig.showEmailButton){c()}}else{if(ISQ.Cnf.customEscalationLink){b()}else{c()}}}else{c()}return d};ISQ.Widget.getAnswerUrl=function(a){var d;var b;switch(ISQ.Cnf.sharingSupportCenterLinkProtocol){case"1":b="http";break;case"2":b="https";break;default:b=location.href.indexOf("https")===0?"https":"http"}function c(){if(ISQ.Cnf.mainSiteURL){var f=ISQ.Cnf.mainSiteURL.Trim();var e="//"+ISQ.Cnf.supportCenterDomain.Trim();return f.lastIndexOf(e)!==f.length-e.length}}if(c()){d=ISQ.Cnf.mainSiteURL+"#/path/"+a.id}else{d=b+"://"+ISQ.Cnf.supportCenterDomain+"/"+a.id}return d};ISQ.Widget.Query.parseStringAnalysis=function(f){var e={groups:[],text:[]};var a=f.split("|");for(var b=0,g,d,c;f&&b<a.length;b++){g=a[b];c=(g.charAt(g.length-1)==="*");if(c){g=g.substr(0,g.length-1)}e.groups.push({isStrong:c,words:g.split(",")})}for(b=0;b<e.groups.length;b++){e.text.push(e.groups[b].words[0])}e.text=e.text.join(" ");return e};ISQ.Widget.Query.getHighlightedAnalysisHTML=function(g,e){var h=ISQ.Widget.Query.parseStringAnalysis(g),a=ISQ.Widget.Query.parseStringAnalysis(e),d=false,f=[];for(var c=0,b;c<h.groups.length;c++){b=h.groups[c];if(b.isStrong){f.push("<b>"+b.words[0]+"</b>")}else{f.push(b.words[0])}}f=f.join(" ").replace(/<\/b> <b>/g," ");return f};ISQ.Widget.Query.queryContainsWordOrSynonym=function(f,b){var e=false;var a=function(g,h){for(var k=0;k<g.length;k++){for(var l=0;l<h.length;l++){if(g[k]===h[l]){return true}}}};for(var d=0,c;
d<b.groups.length;d++){c=b.groups[d].words;if(a(c,f)){e=true;break}}return e};ISQ.Widget.Query.getHighlightedAnalysisHTML("what|is,be|split*|smth|testing,test,testing*|ab*|last|word","what|ab,as,at,kb,tab|test,check|is,i s,be");ISQ.Widget.Query.getAnswerMeta=function(b,c){var a=ISQ.Widget.Query.getHighlightedAnalysisHTML(c||"","");return b.source==="content"?a:""};ISQ.Widget.Query.appendSingleAnswer=function(obj,answerList,isLastAnswer){var list=answerList||ISQ.Widget.answerList,actions,autoLink;var isOnloadQuestion=ISQ.Cnf.onloadQuestionId&&obj.answerObject.id===ISQ.Cnf.onloadQuestionId&&(ISQ.Widget.state&ISQ.Widget.enumState.autoQuestions);var escalationChannels=ISQ.Widget.getUserEscalationChannels()||[];if(obj.answerObject.rechanneling&&obj.answerObject.rechanneling.length){escalationChannels.push.apply(escalationChannels,obj.answerObject.rechanneling)}if(ISQ.Widget.state!==ISQ.Widget.enumState.autoQuestions&&obj.answerObject.chatEscalationAction==ISQ.Widget.enumChatEscalationActions.hide){for(var i=escalationChannels.length-1;i>=0;i--){if(escalationChannels[i].channel==ISQ.Widget.Escalate.enumType.chat){escalationChannels.splice(i,1)}}}var hasAnswerFooter=!!(ISQ.Cnf.answerFooter||ISQ.Cnf.answerFooterScript)&&(ISQ.Cnf.showFooterOnlyOnLastAnswer?isLastAnswer:true);var oneAnswer=new nanoRep.SDK.Answering.Answer({id:obj.answerObject.id,session:{articleId:obj.answerObject.id,account:ISQ.Widget.account,kb:ISQ.Cnf.kbId,host:ISQ.Cnf.serverUrl,referer:ISQ.Widget.referer.normal},hasSharing:!!ISQ.Cnf.supportCenterDomain,keywordsetId:obj.answerObject.keywordsetId,title:ISQ.Data.breakWords(obj.answerObject.title),highlightWords:ISQ.Widget.isSupportCenterSkin&&obj.answerObject.source==="content"?ISQ.Widget.Query.parseStringAnalysis(ISQ.Widget.Query.lastQueryAnalysis):null,meta:ISQ.Widget.isSupportCenterSkin?ISQ.Widget.Query.getAnswerMeta(obj.answerObject,ISQ.Widget.Query.lastQueryAnalysis):null,url:ISQ.Widget.getAnswerUrl(obj.answerObject),isOnloadQuestion:isOnloadQuestion,noChanneling:isOnloadQuestion,collapsible:!isOnloadQuestion,attachments:nanoRep.SDK.Answering.Answer.prototype.attachmentsStrToList(obj.answerObject.attachments),direction:obj.direction||"ltr",content:(typeof obj.answerObject.summary==="function"?obj.answerObject.summary:obj.answerObject.summary+(hasAnswerFooter?ISQ.Cnf.answerFooter||"":"")),visibility:obj.answerObject.visibility||null,feedbackType:nanoRep.SDK.Answering.Answer.prototype.FeedbackTypeEnum[ISQ.Cnf.feedbackType===ISQ.Widget.Feedback.enumType.helpful?"SURVEY":"THUMBS"],showFullArticleOpener:ISQ.Widget.isSupportCenterSkin&&ISQ.Cnf.showSupportCenterArticleOpenerLink,fullArticleTarget:"_top"},list);
for(var i=escalationChannels.length-1;i>=0;i--){if(escalationChannels[i].channel==ISQ.Widget.Escalate.enumType.customEmail&&escalationChannels[i].showInArticle&&!oneAnswer.isOnloadQuestion){(function(ticketChannel){oneAnswer.on("scopeAttached",function(){var newContainer=document.createElement("div");newContainer.className="nr-inline-form-container";oneAnswer.getAnswerContentBlock().appendChild(newContainer);ticketChannel=ticketChannel instanceof nanoRep.SDK.Channeling.Channel?ticketChannel:new nanoRep.SDK.Channeling.Channel(ticketChannel);ISQ.Widget.ChannelingActions.showContactForm(ticketChannel,oneAnswer.actionBar,newContainer)})}(escalationChannels[i]));escalationChannels.splice(i,1)}}if(obj.answerObject.context!=null&&ISQ.Widget.Query.contextCategories){try{for(var ndx=0;ndx<ISQ.Widget.Query.contextCategories.length;++ndx){var data=obj.answerObject.context[ISQ.Widget.Query.contextCategories[ndx].id];if(!data){continue}if((ISQ.Widget.Query.contextCategories[ndx]&&ISQ.Widget.Query.contextCategories[ndx].flags&ISQ.Widget.enumKBCategoriesFlags.visibleInWidget)!=ISQ.Widget.enumKBCategoriesFlags.visibleInWidget){continue}oneAnswer.contextLabel=oneAnswer.contextLabel||"";oneAnswer.contextLabel+=(oneAnswer.contextLabel?" ":"")+data}}catch(e){}}if(obj.answerObject.summaryScript){try{eval(obj.answerObject.summaryScript)}catch(e){if(window.console&&window.console.error){console.error("Failed to execute answer script: ",e)}}}var runFooterScript=function(){if(hasAnswerFooter&&ISQ.Cnf.answerFooterScript){try{eval(ISQ.Cnf.answerFooterScript)}catch(e){if(window.console&&window.console.error){console.error("Failed to execute answer footer script: ",e)}}}};if(typeof obj.answerObject.summary==="string"){runFooterScript();if(ISQ.Cnf.supportBlockQuotes){oneAnswer.on("scopeAttached",function(){ISQ.Widget.Query.processQuotes(oneAnswer.getAnswerContentBlock(),oneAnswer.id)})}}if(typeof obj.answerObject.summary==="function"){oneAnswer.on("contentLoaded",function(){if(hasAnswerFooter&&ISQ.Cnf.answerFooter){oneAnswer.content+=ISQ.Cnf.answerFooter;
oneAnswer.getScope().toggleTranslation(oneAnswer.showTranslation);oneAnswer.updateScope()}var answerBody=oneAnswer.getAnswerContentBlock();ISQ.Widget.Query.resizeSingleAnswerElements(answerBody,true,answerBody.offsetWidth);if(ISQ.Cnf.supportBlockQuotes){ISQ.Widget.Query.processQuotes(oneAnswer.getAnswerContentBlock(),oneAnswer.id)}runFooterScript()})}if(oneAnswer.displayContent&&oneAnswer.displayContent.length>1){oneAnswer.on("answerPartChange",function(){ISQ.Widget.Query.resizeAnswerElements()});oneAnswer.on("answerPartChanged",function(){ISQ.Widget.HTML.resizeHandler();ISQ.Widget.redrawStickyBar()})}if(obj.answerObject.translation){oneAnswer.translatedTitle=ISQ.Data.breakWords(obj.answerObject.translation.title);oneAnswer.translatedContent=obj.answerObject.translation.summary}if(obj.answerObject.actions){actions=ISQ.Data.parseJson(obj.answerObject.actions);autoLink=actions.autoLink;if(actions.guidance){var guide=actions.guidance;autoLink={title:guide.title,url:guide.url,keepArticleOpen:!!guide.keepArticleOpen,allowToAbort:!!guide.allowToAbort,isGuidance:true};var reg=/^(.*)\|\|\|(\d+)\,(\d+)(\,\d+)?/;var match=reg.exec(guide.url);if(match){autoLink.url=match[1];autoLink.guideId=match[2];autoLink.stepId=match[3];if(!ISQ.Widget.guidanceSearchOptions||!ISQ.Widget.guidanceSearchOptions[autoLink.guideId]){autoLink=null}}}if(autoLink){oneAnswer.autoLink=autoLink}}if(oneAnswer.actionBar){oneAnswer.actionBar.setDirection(oneAnswer.direction);oneAnswer.actionBar.useCompactMode(!ISQ.Widget.HTML.isBigger);oneAnswer.actionBar.on("channelActivated",function(channel){var answerIndex=-1;_it(ISQ.Widget.answerList.answers,function(answer,index){if(answer.isOpen){answerIndex=index}});ISQ.Widget.CDC.sendMessage("subject=event&type=escalation&query="+ISQ.Tools.Base64.encodeString(ISQ.Widget.Query.lastQuerySent)+"&esctype="+channel.escalationType+"&answerindex="+answerIndex);if(ISQ.Cnf.customEscalationScript){try{var args=Array.prototype.slice.call(arguments);var wrapperFunc=new Function("channel","channelInstance","channelDomNode","channelAnswerIndex",ISQ.Cnf.customEscalationScript);
args.push(answerIndex);wrapperFunc.apply(this,args)}catch(e){if(window.console&&window.console.error){console.error("Failed to execute escalation script: ",e)}}}})}if(oneAnswer.actionBar.setMaxVisibleChannels){oneAnswer.actionBar.setMaxVisibleChannels(ISQ.Widget.Escalate.maxVisibleChannels)}if(oneAnswer.actionBar.setActionsHandler){oneAnswer.actionBar.setActionsHandler(ISQ.Widget.ChannelingActions);oneAnswer.actionBar.setChannels(isOnloadQuestion?null:escalationChannels)}(function(answer){function send(action,feedbackText){if(ISQ.Widget.Query.likeWasUsedAfterQuery){Alloy.jsonp({url:"//"+ISQ.Widget.getAccountURL(ISQ.Widget.account)+"/api/analytics/v1/addFeedback",params:{kb:ISQ.Cnf.kbId,id:answer.id,action:action,feedbackText:feedbackText||null},handler:function(){}})}else{ISQ.Widget.Query.likeWasUsedAfterQuery=true;_session().request({url:"thumb.js",params:{text:encodeURIComponent(answer.title),kbLC:ISQ.Widget.Query.kbLanguageCode,type:action,ksId:answer.keywordsetId,articleId:answer.id,feedbackText:feedbackText?encodeURIComponent(feedbackText):null},handler:function(){}})}}if(oneAnswer.thumbs.__className__==="ThumbsModel"){ISQ.Widget.Query.ThumbsState=ISQ.Widget.Query.ThumbsState||{};if(typeof ISQ.Widget.Query.ThumbsState[oneAnswer.id]!=="undefined"){oneAnswer.thumbs.disable().setState(ISQ.Widget.Query.ThumbsState[oneAnswer.id])}answer.thumbs.on({like:function(){answer.thumbs.disable();ISQ.Widget.Query.ThumbsState[answer.id]=answer.thumbs.StateEnum.LIKE;send(nanoRep.FAQ.Likes.enumFeedback.positive)},dislike:function(enumFeedbackValue){setTimeout(function(){answer.thumbs.disable()},1);ISQ.Widget.Query.ThumbsState[answer.id]=answer.thumbs.StateEnum.DISLIKE;send(enumFeedbackValue)},dialogHidden:function(){ISQ.Widget.setChannelingPopupContent(null);ISQ.Widget.activeFeedbackDtor=null},dialogDisplayed:function(dialogScope){ISQ.Widget.closeActiveFeedback();ISQ.Widget.activeFeedbackDtor=function(){dialogScope.cancel()};ISQ.Widget.ChannelingActions.closeActiveChannel();var answerContainer=answer.getScope().$domElement;ISQ.Widget.setChannelingPopupContent(answerContainer.querySelector(".nr-answering-feedback-popup"),answerContainer.querySelector(".nr-feedback-thumbs-dislike"),answerContainer);
if(oneAnswer.autoLink){oneAnswer.getScope().cancelAutoLinkClicked()}}})}if(oneAnswer.survey.__className__==="SurveyModel"){ISQ.Widget.Query.FeedbackState=ISQ.Widget.Query.FeedbackState||{};if(ISQ.Widget.Query.FeedbackState[oneAnswer.id]){oneAnswer.survey.disable().setState(ISQ.Widget.Query.FeedbackState[oneAnswer.id])}answer.survey.on({survey:function(isHelpful,feedbackText){send(isHelpful?nanoRep.FAQ.Likes.enumFeedback.positive:nanoRep.FAQ.Likes.enumFeedback.wrongContent,feedbackText);ISQ.Widget.Query.FeedbackState[answer.id]=nanoRep.SDK.Feedback.Survey.StateEnum[isHelpful?"HELPFUL":"UNHELPFUL"];this.disable().setState(ISQ.Widget.Query.FeedbackState[answer.id]);ISQ.Widget.setChannelingPopupContent(null);ISQ.Widget.closeActiveFeedback()},dialogHidden:function(){ISQ.Widget.setChannelingPopupContent(null);ISQ.Widget.activeFeedbackDtor=null},dialogDisplayed:function(dialogScope){ISQ.Widget.closeActiveFeedback();ISQ.Widget.activeFeedbackDtor=function(){dialogScope.cancel()};ISQ.Widget.ChannelingActions.closeActiveChannel();var answerContainer=answer.getScope().$domElement;ISQ.Widget.setChannelingPopupContent(answerContainer.querySelector(".nr-answering-feedback-popup"),this.getContainer(),answerContainer);if(oneAnswer.autoLink){oneAnswer.getScope().cancelAutoLinkClicked()}setTimeout(function(){if(!dialogScope.isDisposed()){dialogScope.focus()}},1)}})}}(oneAnswer));if(oneAnswer.autoLink){oneAnswer.actionBar.on("channelActivated",function(){oneAnswer.getScope().cancelAutoLinkClicked()})}list.answers.push(oneAnswer);return list.getScope().$domElement};ISQ.Widget.Query.updateWidgetHeightWidth=function(a){ISQ.Widget.HTML.contentWrapper.style.height="600px";ISQ.Widget.HTML.contentWrapper.style.width="800px";ISQ.Widget.HTML.dynamicSize_sendMessage(false,ISQ.Widget.isFloat)};ISQ.Widget.Query.contentWrapperScroll=function(){var a=0;if(!ISQ.Widget.Query.currentAnswers){return}iteration(ISQ.Widget.Query.currentAnswers,function(b){var g;var e=b.peekElement;var f=ISQ.Html.position(b.answerTable).y;var c=f<ISQ.Widget.HTML.contentWrapper.scrollTop+ISQ.Widget.HTML.contentWrapper.offsetTop;
var d=f>ISQ.Widget.HTML.contentWrapper.scrollTop+ISQ.Widget.HTML.contentWrapper.offsetHeight;if(c||d){if(!e){e=createDiv(ISQ.Widget.HTML.contentArea,".answerPeek");e.onclick=function(){ISQ.Widget.Query.scrollToElement(b.answerTable)};b.peekElement=e;ISQ.CSS.setWidthIncludingPadding(e,ISQ.Widget.HTML.contentArea.offsetWidth-ISQ.CSS.getPaddingWidth(ISQ.Widget.HTML.contentArea))}if(c){g=ISQ.Widget.HTML.contentWrapper.offsetTop+(a*ISQ.Widget.Query.peekElementHeight)+2;e.innerHTML="&#9650; "+b.title}else{g=ISQ.Widget.HTML.contentWrapper.offsetTop+ISQ.Widget.HTML.contentWrapper.offsetHeight-((3-a)*ISQ.Widget.Query.peekElementHeight)+2;e.innerHTML="&#9660; "+b.title}e.style.top=g+"px";e.style.display="block"}else{if(e){e.style.display="none"}}a++})};ISQ.Widget.Query.scrollToElement=function(a){var b=ISQ.Html.position(a).y-ISQ.Widget.HTML.contentWrapper.offsetTop;var c=b<ISQ.Widget.HTML.contentWrapper.scrollTop;var d=b>ISQ.Widget.HTML.contentWrapper.scrollTop+30;if(!c&&!d){if(ISQ.Widget.Query.scrollInterval){clearInterval(ISQ.Widget.Query.scrollInterval);ISQ.Widget.Query.scrollInterval=null}return}if(!ISQ.Widget.Query.scrollInterval){ISQ.Widget.Query.scrollInterval=setInterval(function(){ISQ.Widget.Query.scrollToElement(a)},1);return}if(d){ISQ.Widget.HTML.contentWrapper.scrollTop+=10}else{ISQ.Widget.HTML.contentWrapper.scrollTop-=10}};ISQ.Widget.Query.appendAttachments=function(b,c){if(!b){return}var f=createElement("ul",null,".attachments");var a=b.split(",");for(var d=0;d<a.length;d++){var e=createElement("li");ISQ.Widget.Query.buildAttachmentLink(a[d],e);f.appendChild(e)}c.appendChild(f)};ISQ.Widget.Query.buildAttachmentLink=function(d,a){var b=d.indexOf("/");if(b==-1){return}var c=[];c.push('<a href="');c.push("http://");c.push(d.substring(0,b));c.push(".s3.amazonaws.com/");c.push(d.substring(b+1));c.push('" target="_blank">');ISQ.Data.breakWords(d.substring(d.lastIndexOf("/")+1),c);c.push("</a>");a.innerHTML=c.join("")};ISQ.Widget.Query.toTranslateContent=function(b,c){if(!ISQ.Cnf.translationEnabled||ISQ.Cnf.translationDetectionOnly){return false
}if(!ISQ.Widget.TranslationHelper.languageEnabled){return false}if(!c){c=ISQ.Tools.getUniformLanguageCode(ISQ.Widget.TranslationHelper.detectedLanguage)}if(!c){return false}var a=ISQ.Tools.getUniformLanguageCode(b);return c!=a};ISQ.Widget.Query.getFader=function(){if(ISQ.Widget.Query.fader===null){ISQ.Widget.Query.fader=new VisualEffects.Fade(ISQ.Widget.HTML.contentArea);ISQ.Widget.Query.fader.fadeOutEvent.addHandler(ISQ.Widget.Query.fader_fadeOutHandler);ISQ.Widget.Query.fader.fadeInEvent.addHandler(ISQ.Widget.Query.fader_fadeInHandler)}return ISQ.Widget.Query.fader};ISQ.Widget.Query.displayAnswers=function(a){if(ISQ.Http.browser.full!=="safari3"){ISQ.Widget.HTML.contentWrapper.scrollTop=0}ISQ.Widget.HTML.dynamicSize_sendMessage();ISQ.Widget.Query.fader_fadeInHandler();ISQ.Widget.Query.resizeAnswerElements()};ISQ.Widget.Query.switchLinkTarget=function(a,b){switch(b){case ISQ.Widget.enumCustomLinkTarget.CurrentPage:a.target="_top";break;case ISQ.Widget.enumCustomLinkTarget.NewTab:a.target="_blank";break;case ISQ.Widget.enumCustomLinkTarget.Popup:a.target="_blank";break;case ISQ.Widget.enumCustomLinkTarget.Widget:a.target="_self";break;default:a.target="_blank";break}};ISQ.Widget.Query.buildCustomLink=function(e){var d=e.replace("{QUERY}",encodeURIComponent(_query(true)));var b=nanoRep.Widget.API.getCustomParams();for(var c in b){d=d.replace("{"+c+"}",encodeURIComponent(b[c]));d=d.replace("{!"+c+"}",b[c])}var a=_session().contexts();if(a){for(var c in a){var f=new RegExp("{"+c+"}","gi");d=d.replace(f,encodeURIComponent(a[c]));d=d.replace(f,a[c])}}d=d.replace(/\{.*?\}/g,"");return d};ISQ.Widget.Query.hideAnswers=function(b,a){if(ISQ.Widget.isOnloadQuestionDisplayed&&!ISQ.Widget.isOnloadQuestionNotified){ISQ.Widget.isOnloadQuestionNotified=true;ISQ.Widget.CDC.sendMessage("subject=onloadQuestionClosed")}ISQ.Widget.answerList.answers=[];ISQ.Widget.answerList.updateScope();ISQ.Widget.Query.fader_clearAnswers=a;ISQ.Widget.Query.fader_tempXml=b;ISQ.Widget.FAQ.shown=false;ISQ.Widget.Query.fader_fadeOutHandler();if(ISQ.Cnf.translationEnabled){ISQ.Widget.Translation.toggleTranslationTooltip(null,false)
}};ISQ.Widget.Query.resizeSingleAnswerElements=function(b,a,f){if(f){ISQ.Widget.Query.resizeToWidth=f}else{ISQ.Widget.Query.resizeToWidth=0}for(var d=0;d<ISQ.Widget.Query.resizeableTags.length;++d){var c=b.getElementsByTagName(ISQ.Widget.Query.resizeableTags[d]);for(var e=0;e<c.length;++e){if(!ISQ.Widget.HTML.isTeaser){ISQ.Widget.Query.resizeAnswerElement(c[e])}if(a){if(!ISQ.Widget.Query.elementsToResize){ISQ.Widget.Query.elementsToResize=new Array()}ISQ.Widget.Query.elementsToResize.push(c[e])}if(ISQ.Widget.Query.resizeableTags[d]==="IMG"){c[e].style.visibility="hidden";c[e].onload=function(){this.loaded=true;this.setAttribute("loaded","true");this.style.visibility="visible";if(ISQ.Widget.HTML.isTeaser){return}if(ISQ.Widget.HTML.currentlyResizing){return}ISQ.Widget.Query.resizeAnswerElement(this)}}}}};ISQ.Widget.Query.resizeAnswerElements=function(){if(ISQ.Widget.HTML.isTeaser){return}if(ISQ.Widget.HTML.currentlyResizing){return}if(!ISQ.Widget.Query.elementsToResize){return}if(!ISQ.Widget.Query.resizeToWidth){var a=ISQ.Widget.HTML.contentArea;var c=ISQ.CSS.getElementWidth(a)-ISQ.CSS.getPaddingWidth(a);ISQ.Widget.Query.resizeToWidth=c}for(var b=0;b<ISQ.Widget.Query.elementsToResize.length;++b){ISQ.Widget.Query.resizeAnswerElement(ISQ.Widget.Query.elementsToResize[b])}};ISQ.Widget.Query.resizeAnswerElement=function(d){if(ISQ.Widget.Query.resizeToWidth<=0){return}if(d.nodeName==="IMG"){var g=d.getAttribute("loaded")==="true";if(!g&&!d.loaded){return}}ISQ.Widget.HTML.dynamicSize_sendMessage();var f=parseInt(d.getAttribute("lastResizeWidth"));if(!isNaN(f)){if(f===ISQ.Widget.Query.resizeToWidth){return}}else{if(d.lastResizeWidth===ISQ.Widget.Query.resizeToWidth){return}}if(d.offsetWidth===ISQ.Widget.Query.resizeToWidth){d.setAttribute("lastResizeWidth",ISQ.Widget.Query.resizeToWidth)}var c=d.getAttribute("widthChanged")==="true";var l=d.offsetWidth;var e=d.offsetHeight;if(!l){var b=d.parentNode;while(b&&b.style){if(b.style.display==="none"){b.style.display="";l=d.offsetWidth;e=d.offsetHeight;b.style.display="none";break
}b=b.parentNode}}if(l===0){return}if(l>ISQ.Widget.Query.resizeToWidth||c){var a=d.getAttribute("_ratio");if(!a){a=e/l;d.setAttribute("_ratio",a)}else{a=parseFloat(a)}var k=d.getAttribute("originalWidth");if(!k){k=l;d.setAttribute("originalWidth",k)}else{k=parseFloat(k)}var j=ISQ.Widget.Query.resizeToWidth;if(j>k){j=k}var h=parseInt(a*j);d.style.width=j+"px";d.style.height=h+"px";d.setAttribute("widthChanged","true");d.setAttribute("width",j+"px");d.setAttribute("height",h+"px")}};ISQ.Widget.Query.fader_clearAnswers=false;ISQ.Widget.Query.fader_tempXml=null;ISQ.Widget.Query.fader_callback=null;ISQ.Widget.Query.fader_fadeOutHandler=function(){ISQ.Widget.Query.fader_clearAnswers=false;ISQ.Widget.Query.firstAnswerId=-1;if(ISQ.Widget.Query.fader_tempXml){ISQ.Widget.Query.processAnswers(ISQ.Widget.Query.fader_tempXml);ISQ.Widget.Query.fader_tempXml=null}if(typeof(ISQ.Widget.Query.fader_callback)==="function"){ISQ.Widget.Query.fader_callback();ISQ.Widget.Query.fader_callback=null}ISQ.CSS.removeClass(ISQ.Widget.HTML.widgetContainer,"nr-search-active")};ISQ.Widget.Query.fader_fadeInHandler=function(){ISQ.Widget.HTML.contentFader.hide();ISQ.Widget.HTML.fixContentWidths();if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.AutoQuestions.showNext()}if(ISQ.Cnf.answerPeeksEnabled){ISQ.Widget.Query.contentWrapperScroll()}};ISQ.Widget.Query.openAutoLinkHandler=function(b,a){var g=["http://","https://","//"];var h=null;for(var c=0,d=g.length;c<d;++c){var f=g[c];if(b.url.substring(0,f.length)===f){h=b.url;break}}if(!h){h="http://"+b.url}if(b.keepArticleOpen){ISQ.Widget.setOngoingData(h)}if(b.isGuidance){ISQ.Widget.HTML.minimizeBtnClicked();var e=[];e.push("subject=runGuidance");e.push("&guideId="+b.guideId);e.push("&stepId="+b.stepId);e.push("&articleId="+a.id);e.push("&viewId="+ISQ.Cnf.kbId);e.push("&domainId="+ISQ.Cnf.id);ISQ.Widget.CDC.sendMessage(e.join(""))}else{window.open(h,"_top")}};ISQ.Widget.getText=function(b){var d=ISQ.Widget.Localize.array[b];if(!d&&ISQ.Widget.TranslationHelper.detectedLanguage){var c=ISQ.Translation.Infra.rtlLanguages[ISQ.Widget.TranslationHelper.detectedLanguage];
var a=ISQ.Translation.Infra.rtlLanguages[ISQ.Cnf.initialUiLanguage];if(c&&a){d=ISQ.Widget.Texts.iw[b]}}if(!d){d=ISQ.Widget.Texts[ISQ.Cnf.initialUiLanguage][b]}if(!d){d=ISQ.Widget.Texts.en[b]}return d};ISQ.Widget.getStaticText=function(b){var a;if(ISQ.Cnf.translationEnabled&&ISQ.Widget.TranslationHelper.detectedLanguage&&ISQ.Widget.TranslationHelper.staticTranslationsEnum[b]){a=ISQ.Widget.TranslationHelper.getStaticTranslation(ISQ.Widget.TranslationHelper.staticTranslationsEnum[b])}else{if(!a){a=ISQ.Cnf[b]}}if(!a||(ISQ.Cnf.translationEnabled&&((ISQ.Cnf.uiLanguageCode&&ISQ.Widget.TranslationHelper.detectedLanguage!==ISQ.Cnf.uiLanguageCode)||(ISQ.Widget.TranslationHelper.detectedLanguage&&ISQ.Widget.TranslationHelper.detectedLanguage!==ISQ.Cnf.kbLanguageCode)))){a=ISQ.Widget.Localize.array[b]}return a};ISQ.Widget.setInitialTexts=function(){if(ISQ.Cnf.customEmailButtonText){ISQ.Widget.Localize.array.email=ISQ.Cnf.customEmailButtonText.Trim()}if(ISQ.Cnf.customAskRepByText){ISQ.Widget.Localize.array.askBy=ISQ.Cnf.customAskRepByText.Trim()}if(ISQ.Cnf.customChatButtonText){ISQ.Widget.Localize.array.chat=ISQ.Cnf.customChatButtonText.Trim()}if(ISQ.Cnf.customNoAnswersTextContext){ISQ.Widget.Localize.array.searchMsgNOResultsContext=ISQ.Cnf.customNoAnswersTextContext.Trim();var a=ISQ.Data.getDBAnswerAsHtml(ISQ.Cnf.customNoAnswersTextContext.Trim(),true,null,null,null,ISQ.Widget.referer.normal);ISQ.Widget.Localize.array.searchMsgNOResultsContext=a.text;ISQ.Widget.Localize.array.searchMsgNOResultsContextScript=a.script}if(ISQ.Cnf.customNoAnswersText){ISQ.Widget.Localize.array.searchMsgNOResults=ISQ.Cnf.customNoAnswersText.Trim();var a=ISQ.Data.getDBAnswerAsHtml(ISQ.Cnf.customNoAnswersText.Trim(),true,null,null,null,ISQ.Widget.referer.normal);ISQ.Widget.Localize.array.searchMsgNOResults=a.text;ISQ.Widget.Localize.array.searchMsgNOResultsScript=a.script}if(ISQ.Cnf.titleTeaserText){ISQ.Widget.Localize.array.titleTeaserText=ISQ.Cnf.titleTeaserText.Trim()}if(ISQ.Cnf.titleNormalText){ISQ.Widget.Localize.array.titleNormalText=ISQ.Cnf.titleNormalText.Trim()
}ISQ.Widget.setTitle()};ISQ.Widget.setTitle=function(){var a;if(ISQ.Widget.customTitle){a=ISQ.Widget.customTitle}if(ISQ.Widget.HTML.isTeaser&&(!ISQ.Widget.isFloat||ISQ.Widget.HTML.currentWidth!==ISQ.Cnf.floatCollapsed_WidgetSize[0])){if(ISQ.Widget.customTeaserText){a=ISQ.Widget.customTeaserText}else{if(!ISQ.Widget.customTitle){a=ISQ.Widget.getStaticText("titleTeaserText")}}ISQ.Widget.HTML.titleWrapper.style.cursor="pointer"}else{if(ISQ.Widget.customTitle){a=ISQ.Widget.customTitle}else{a=ISQ.Widget.getStaticText("titleNormalText")}ISQ.Widget.HTML.titleWrapper.style.cursor="default"}if(ISQ.Widget.customTitle||ISQ.Widget.customTeaserText){if(ISQ.Widget.HTML.titleText.innerText){ISQ.Widget.HTML.titleText.innerText=a}else{ISQ.Widget.HTML.titleText.textContent=a}}else{ISQ.Widget.HTML.titleText.innerHTML=a}ISQ.Widget.HTML.titleText.setAttribute("aria-label",a)};ISQ.Widget.onCustomerLogoLoad=function(){var c=ISQ.Cnf.customerBrandingLogo_img;var a=_("customerLogo");a.src=c.src;var b=_("widgetFooter");if(ISQ.Widget.HTML.currentlyResizing||ISQ.Widget.HTML.isTeaser){a.pendingResize=true;return}a.pendingResize=false;a.style.display="block";if(b.offsetHeight<c.height){b.style.height=c.height+"px";ISQ.Widget.HTML.resizeHandler();ISQ.Widget.HTML.dynamicSize_sendMessage()}else{var d=Math.floor(b.offsetHeight/2)-Math.floor(c.height/2)+"px";a.style.marginTop=d;if(ISQ.Cnf.customerBrandingText){_("customerBrandingText").style.lineHeight=b.offsetHeight+"px"}}ISQ.Widget.HTML.Mobile.setPositions()};ISQ.Widget.Translation=initializeNS("ISQ.Widget.Translation");ISQ.Widget.Translation.enumTranslationState={none:0,pending:1,loaded:2,failed:3};ISQ.Widget.Translation.currentState=ISQ.Widget.Translation.enumTranslationState.none;ISQ.Widget.Translation.init=function(){if(!ISQ.Cnf.translationEnabled||ISQ.Widget.Translation.currentState!=ISQ.Widget.Translation.enumTranslationState.none){return}ISQ.Widget.Translation.currentState=ISQ.Widget.Translation.enumTranslationState.pending;ISQ.Tools.FileLoader.load("/widget/scripts/translations.js",new ISQ.Handler(function(a){ISQ.Widget.Translation.afterInit()
}));ISQ.Widget.Translation.switcher=new nanoRep.SDK.Translation.Switcher({element:"#translationSwitcher",active:true,events:{toggle:function(a){ISQ.Widget.Translation.isActive=a;ISQ.Widget.Translation.toggleAnswerTranslations(a)}}})};ISQ.Widget.Translation.toggleAnswerTranslations=function(a){_it(ISQ.Widget.answerList.answers,function(b){b.isRTL=ISQ.Translation.Infra.getLanguageDirection(a&&b.translatedTitle?ISQ.Widget.TranslationHelper.detectedLanguage:ISQ.Widget.Query.kbLanguageCode)==="rtl";if(b.actionBar){b.actionBar.setDirection(b.isRTL?"rtl":"ltr")}b.getScope().toggleTranslation(a)})};ISQ.Widget.Translation.afterInit=function(){var staticTexts=[ISQ.Cnf.answerFooter,ISQ.Widget.Localize.array.searchMsgNOResults,ISQ.Widget.Localize.array.searchMsgResults,ISQ.Widget.Localize.array.newSearch,ISQ.Widget.Localize.array.askBy,ISQ.Widget.Localize.array.email,ISQ.Widget.Localize.array.chat,"Translating","Translated from "+ISQ.Tools.getLanguageName(ISQ.Cnf.kbLanguageCode)+", click to turn on or off"];try{var apiKeys=eval("({"+ISQ.Cnf.translationApiKey+"})");ISQ.Widget.TranslationHelper.init(staticTexts,ISQ.Cnf.kbLanguageCode,apiKeys,ISQ.Cnf.translationLanguages);ISQ.Translation.Infra.failureEvent.addHandler(ISQ.Widget.Translation.translationFailedHandler);ISQ.Widget.Translation.currentState=ISQ.Widget.Translation.enumTranslationState.loaded;if(ISQ.Widget.Translation.loadCallback){ISQ.Widget.Translation.loadCallback()}}catch(ex){ISQ.Cnf.translationEnabled=false;ISQ.Widget.Translation.currentState=ISQ.Widget.Translation.enumTranslationState.failed}};ISQ.Widget.Translation.createTranslationIcon=function(e,a,b,f){var d=createLink({style:f?".translationIcon":".translationIconOff",onclick:function(){ISQ.Widget.Translation.toggleTranslationTooltip(this,false);ISQ.Widget.Translation.toggleAnswerTranlsationVisibility(e)}});d.onmouseover=function(){ISQ.Widget.Translation.toggleTranslationTooltip(this,true)};d.onmouseout=function(){ISQ.Widget.Translation.toggleTranslationTooltip(this,false)};if(ISQ.Widget.Translation.translationTooltipDiv===null){ISQ.Widget.Translation.translationTooltipDiv=createDiv(document.body,".translationTooltip")
}if(b){ISQ.Widget.Translation.translationTooltipDiv.style.direction=b}var c=new Array();c.push(ISQ.Widget.TranslationHelper.getStaticTranslation(ISQ.Widget.TranslationHelper.staticTranslationsEnum.translatedFrom));c.push("<p dir=ltr>");switch(a){case ISQ.Translation.Infra.providerEnum.Microsoft:c.push("Translation powered by Microsoft&reg; Translator");break;case ISQ.Translation.Infra.providerEnum.GoogleV1:case ISQ.Translation.Infra.providerEnum.GoogleV2:c.push("Translation powered by <img src='/widget/skins/googleLogo.png?cv=1' align='absmiddle' alt=''/>");break}c.push("</p>");ISQ.Widget.Translation.translationTooltipDiv.innerHTML=c.join("");return d};ISQ.Widget.Translation.toggleTranslationTooltip=function(a,d){if(!ISQ.Widget.Translation.translationTooltipDiv){return}var e=ISQ.Widget.Translation.translationTooltipDiv;if(d){if(!a){return}var c=ISQ.Html.position(a);var g=ISQ.Html.screenSize().w;var f=e.offsetWidth;var b=(c.x-f/2+8);b=b<0?0:b+f>g?g-f:b;e.style.left=b+"px";e.style.top=(c.y+20-ISQ.Widget.HTML.contentWrapper.scrollTop)+"px";e.style.visibility="visible"}else{e.style.visibility="hidden"}};ISQ.Widget.Translation.toggleAnswerTranlsationVisibility=function(e){var a=e+"true";var b=e+"false";var c=_(a,true);var d=_(b,true);if(c&&d){var f=c.style.display;c.style.display=d.style.display;d.style.display=f;ISQ.Widget.Query.resizeSingleAnswerElements(d,false);ISQ.Widget.HTML.dynamicSize_sendMessage()}};ISQ.Widget.Translation.translationFailedHandler=function(b,a){var c=null;var d=a==null?"":ISQ.Translation.Infra.getProviderName(a);switch(b){case ISQ.Translation.Infra.failureEnum.DetectionTimeout:c="Language detection has timed out using provider: "+d;break;case ISQ.Translation.Infra.failureEnum.DetectionApiFallback:c="Language detection: falling back from provider: "+d;break;case ISQ.Translation.Infra.failureEnum.TranslationTimeout:c="Translation has timed out using provider: "+d;break;case ISQ.Translation.Infra.failureEnum.TranslationApiFallback:c="Translation: falling back to provider: "+d;break;case ISQ.Translation.Infra.failureEnum.TranslationDead:c="Both API Providers have failed. Translations are now turned off.";
ISQ.Cnf.translationEnabled=false;if(ISQ.Widget.Query.answerTranslator){ISQ.Widget.Query.answerTranslator.translationFailed();ISQ.Widget.Query.answerTranslator=null}else{if(ISQ.Widget.Query.queryTranslator){ISQ.Widget.Query.queryTranslator.translationFailed();ISQ.Widget.Query.queryTranslator=null}}break}_session().request({url:"translationfailed.js",params:{errorCode:b,provider:a,message:c},handler:function(){}})};ISQ.Widget.Translation.translationTooltipDiv=null;ISQ.Widget.Escalate.parseResponse=function(f,e,d,c,b,a){};ISQ.Widget.Escalate.showThankYouMessage=function(b,a){ISQ.Widget.state=ISQ.Widget.enumState.questions;if(!a){ISQ.Widget.Query.displayAnswers(true)}else{a.style.padding="10px";a.style.borderRadius="3px";a.style.backgroundColor="#f2f2f2";a.style.fontFamily="Open Sans";a.style.fontSize="14px";a.style.color="#516166";a.innerHTML=b}};ISQ.Widget.CDC=initializeNS("ISQ.Widget.CDC");ISQ.Widget.CDC.lastMessage="load";ISQ.Widget.CDC.waitingForFrameToLoad=false;ISQ.Widget.CDC.nextMessage="";ISQ.Widget.CDC.user=null;ISQ.Widget.CDC.messageOrdinal_cdc2=0;ISQ.Widget.CDC.init=function(){var a;if(ISQ.Widget.isPreview){a=window.location.protocol+"//"+ISQ.Http.domain(true)}else{a=ISQ.Widget.referer.normal.substring(0,ISQ.Widget.referer.normal.indexOf("/",8))}if(ISQ.Widget.sendingCDCMessages){if(ISQ.Widget.supportsPostMessage){ISQ.Widget.cdcVersion="3"}switch(ISQ.Widget.cdcVersion){case"1":case"2":break;case"3":ISQ.Widget.CDC.user=new ISQ.CDC.User({targetWindowName:"parent",proxyIFrameUrl:ISQ.Widget.cdcFrame,allowMessagesFrom:a,server:window.location.protocol+"//"+window.location.host});break}}if(!ISQ.Widget.CDC.user){ISQ.Widget.CDC.user=new ISQ.CDC.User({allowMessagesFrom:a})}ISQ.Widget.CDC.user.incomingMessageEvent.addHandler(ISQ.Widget.CDC.incomingMessage)};ISQ.Widget.contextSetAlready=false;ISQ.Widget.CDC.incomingMessage=function(message){switch(message.subject){case"scrolledOrReiszed":if(ISQ.Widget.embedCallback){ISQ.Widget.embedCallback({scrollLeft:message.scrollleft,scrollTop:message.scrolltop,width:message.width,height:message.height,offsetTop:message.offsettop})
}break;case"api":var formData=message.form;if(formData){if(ISQ.Http.browser.isMobile&&!ISQ.Widget.HTML.Mobile.adjustableEmbedWidth){ISQ.Widget.HTML.Mobile.formPredefinedData=formData}else{ISQ.Widget.ContactForm.incomingPreDefinedValuesFromMessage(formData)}}var custParams=message.customparams;if(custParams){ISQ.Widget.API.customParams=ISQ.Widget.CDC_getKeyValueArrayFromMessage(custParams,true)}var context=message.context;if(context){_session().setContext(ISQ.Widget.CDC_getKeyValueArrayFromMessage(context));ISQ.Widget.contextSetAlready=true}break;case"cnf":if(!ISQ.Cnf){ISQ.Cnf=[]}ISQ.Cnf.push(message.data);var finished=message.finished;if(finished){var completeCnf=ISQ.Cnf.join("");if(!completeCnf){return}ISQ.Cnf=eval("("+ISQ.Http.Cookies.decode64(completeCnf)+")");setTimeout(function(){var customScript=ISQ.Cnf.customScript;delete ISQ.Cnf.customScript;if(customScript){try{eval(customScript)}catch(e){}}ISQ.Widget.Cnf.postDownload()},0)}break;case"refreshSize":ISQ.Widget.HTML.resizeHandler(null,true);break;case"setHeight":ISQ.Widget.HTML.resizeHandler({w:ISQ.Html.screenSize().w,h:parseInt(message.size)},true);break;case"setExpandedAnswersHeight":ISQ.Widget.defaultSearchResultsHeight=message.height;ISQ.Widget.redrawAnswerList();break;case"dynamicSizeRequest":ISQ.Widget.HTML.dynamicSize_sendMessage();break;case"openContactForm":var contactFormData=message.data?ISQ.Http.Cookies.decode64(message.data):null;if((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)===0){if((ISQ.Widget.state&ISQ.Widget.enumState.contactForm)===0){break}if(!contactFormData){break}console.log("ISQ.Widget.ContactForm.close(false, true)")}if(contactFormData){console.log("ISQ.Widget.ContactForm.show(contactFormData)")}break;case"customize":if(message.bgcolor){_("widgetTitleWrapper").style.backgroundColor=message.bgcolor;_("widgetContainer").style.borderColor=message.bgcolor}if(message.title){ISQ.Widget.customTitle=message.title;ISQ.Widget.HTML.titleText.innerHTML=message.title}break;case"startChat":if((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)===0){break
}if(ISQ.Widget.state===ISQ.Widget.enumState.autoQuestions){ISQ.Widget.Query.clearTextboxOnInteraction=true;ISQ.Widget.AutoQuestions.stop_()}var countStatsOnly=message.countstatsonly;break;case"ask":if((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)===0){break}var q=message.question||"";ISQ.Widget.userActive=true;ISQ.Widget.Query.ask(q,ISQ.Widget.Query.enumTextQuerySource.api);ISQ.Widget.queryField.setValue(q);if(ISQ.Widget.isFloat){setTimeout(function(){ISQ.Widget.CDC.sendMessage("subject=userWrites")},0)}break;case"askById":if((ISQ.Widget.state&ISQ.Widget.enumState.allQuestions)===0){break}var id=message.questionid||"";var sender=message.sender||"";if(id.length===0){break}ISQ.Widget.userActive=true;ISQ.Widget.queryField.setValue("");ISQ.Widget.Query.clearQuestionTrail();ISQ.Widget.Query.getAnswerById(id);ISQ.Widget.Query.clearTextboxOnInteraction=true;if(ISQ.Widget.isFloat){setTimeout(function(){ISQ.Widget.CDC.sendMessage("subject=userWrites")},0)}break;case"mobileOpenNewWindow":ISQ.Widget.HTML.Mobile.beforeOpeningWidget();break;case"closesession":_session().die();setTimeout(function(){ISQ.Widget.CDC.sendMessage("subject=sessionclosed")},0);break;case"faqData":switch(ISQ.Widget.FAQ.scriptLoadState){case ISQ.Widget.FAQ.initEnum.loaded:ISQ.Widget.FAQ.dataReady(ISQ.Http.Cookies.decode64(message.data));break;case ISQ.Widget.FAQ.initEnum.loading:case ISQ.Widget.FAQ.initEnum.none:ISQ.Widget.FAQ.pendingFAQCallbackList.push(function(){ISQ.Widget.FAQ.dataReady(ISQ.Http.Cookies.decode64(message.data))});break}break;case"chatResumeApproved":ISQ.Widget.Chat.resumeChat(true);break;case"preventChatResuming":ISQ.Widget.Chat.preventChatResuming();break;case"chat":if(!ISQ.Widget.iChat.instance){return}ISQ.Widget.iChat.instance.handleCDCMessage(message);break;case"visitorId":if(!ISQ.Widget.iChat.instance){return}ISQ.Widget.iChat.instance.setVisitorId(message.data);break;case"backImageClicked":ISQ.Widget.Expand();break;case"startSpeechRecognition":ISQ.Widget.queryField.startSpeechRecognition();break;case"voiceEnabled":ISQ.Widget.queryField.toggleSpeechButton(message.value==="true");
break;case"setUiLanguage":ISQ.Widget.setUiLanguage(message.lang);break;case"blurQueryField":document.activeElement.blur();break;case"apiproxy":var apiProxyData=ISQ.Data.parseJson(ISQ.Tools.Base64.decodeString(message.data));ISQ.Widget.APIProxy.handleCallback(apiProxyData);break;case"guidesOptions":ISQ.Widget.setGuidanceSearchOptions(message.data);break}};ISQ.Widget.CDC.sendMessage=function(d,c){if(!ISQ.Widget.sendingCDCMessages){return}if(!d){return}c=c===true;d+="&widget="+(ISQ.Widget.isFloat?"float":"embed");if(ISQ.Widget.CDC.lastMessage===d&&!c){return}var b,a;switch(ISQ.Widget.cdcVersion){case"1":if(ISQ.Widget.CDC.waitingForFrameToLoad){ISQ.Widget.CDC.nextMessage=d;return}ISQ.Widget.CDC.waitingForFrameToLoad=true;ISQ.Widget.CDC.nextMessage="";b=_("iframeContainer");a=ISQ.Widget.CDC.createIFrame(b);if(ISQ.Http.browser.app==="opera"){a.onload=ISQ.Widget.CDC.frameOnload}else{if(document.addEventListener){a.addEventListener("load",ISQ.Widget.CDC.cdc1_frameLoad,true)}else{if(document.attachEvent){a.attachEvent("onload",ISQ.Widget.CDC.cdc1_frameLoad)}}}a.src=ISQ.Widget.cdcFrame+"?"+d;b.appendChild(a);var e;while(b.childNodes.length!==1){e=b.firstChild;if(ISQ.Http.browser.app==="opera"){e.onload=null}else{if(document.addEventListener){e.removeEventListener("load",ISQ.Widget.CDC.cdc1_frameLoad,true)}else{if(document.attachEvent){e.detachEvent("onload",ISQ.Widget.CDC.cdc1_frameLoad)}}}b.removeChild(e)}b=null;ISQ.Widget.CDC.lastMessage=d;break;case"2":b=_("iframeContainer");a=ISQ.Widget.CDC.createIFrame(b);if(ISQ.Http.browser.app==="opera"){a.onload=ISQ.Widget.CDC.cdc2_frameLoad}else{if(document.addEventListener){a.addEventListener("load",ISQ.Widget.CDC.cdc2_frameLoad,true)}else{if(document.attachEvent){a.attachEvent("onload",ISQ.Widget.CDC.cdc2_frameLoad)}}}a.src=ISQ.Widget.cdcFrame+"#"+d+"&ord="+(++ISQ.Widget.CDC.messageOrdinal_cdc2);b.appendChild(a);break;case"3":ISQ.Widget.CDC.user.sendMessage(d);break}};ISQ.Widget.CDC.cdc2_frameLoad=function(){var a=this;setTimeout(function(){if(a.parentNode){a.parentNode.removeChild(a)
}},1000)};ISQ.Widget.CDC.cdc1_frameLoad=function(a){ISQ.Widget.CDC.waitingForFrameToLoad=false;if(ISQ.Widget.CDC.nextMessage!==""){ISQ.Widget.CDC.sendMessage(ISQ.Widget.CDC.nextMessage)}};ISQ.Widget.CDC.createIFrame=function(b){var a=createElement("iframe",null,"visibility:hidden;z-index:-1;border:0px;height:1px;width:1px;background:transparent;");a.id="cdcFrame"+new Date().getTime();a.setAttribute("allowTransparency",true);a.setAttribute("frameBorder",false);return a};ISQ.Widget.Chat=initializeNS("ISQ.Widget.Chat");ISQ.Widget.Chat.checkedProviders={};ISQ.Widget.Chat.onlineChatChannel=null;ISQ.Widget.Chat.checkChatSession=function(){if(ISQ.Widget.Query.rechannelingOptions){ISQ.Widget.Chat.loadHostPageAPI(function(){_it(ISQ.Widget.Query.rechannelingOptions,function(a){if(a.type==="chat"&&a.action==="normal"&&!ISQ.Widget.Chat.checkedProviders[a.chatProvider]){ISQ.Widget.Chat.checkedProviders[a.chatProvider]=true;var b=nanoRep.SDK.Channeling.Chat.getProvider(a);if(nanoRep.SDK.Channeling.Chat.Providers[a.chatProvider].prototype.capabilities.customUI){b.isSessionActive(function(c){if(c){ISQ.Widget.ChannelingActions.startChat(a,null)}})}}})})}};ISQ.Widget.Chat.chatConfig={};ISQ.Widget.Chat.toggleInvite=function(a){ISQ.Widget.HTML.chatInviteContainer.style.display=a?"block":"none";ISQ.Widget.Query.chatInviteContent=a?ISQ.Widget.Query.chatInviteContent:null;ISQ.Widget.HTML.dynamicSize_sendMessage()};ISQ.Widget.Chat.getProvider=(function(){var a={};return function(b){var g=nanoRep.SDK.Channeling.Chat.Providers[b.chatProvider].prototype.getChannelId(b);if(a[g]){return a[g]}var f="_hosted_"+g+"_chat_adapter";ISQ.Widget.APIProxy("eval","window."+f+" = nanoRep.SDK.Channeling.Chat.getProvider("+JSON.stringify(b)+")");var h={};a[g]=h;var c=function(j){return function(){var k=Array.prototype.slice.call(arguments);k.unshift(f+"."+j);ISQ.Widget.APIProxy.apply(ISQ.Widget,k)}};var e=nanoRep.SDK.Channeling.Chat.Providers[b.chatProvider].prototype;for(var d in e){if(e.hasOwnProperty(d)){if(typeof e[d]==="function"){h[d]=c(d)}else{h[d]=e[d]
}}}h.on=function(j,l){if(typeof j==="object"){for(var k in j){if(j.hasOwnProperty(k)){this.on(k,j[k])}}return}if(typeof j==="string"&&typeof l==="function"){ISQ.Widget.APIProxy(f+".on",j,l)}this._events=this._events||{};this._events[j]=this._events[j]||[];this._events[j].push(l)};h.off=function(j,l){if(typeof j==="object"){for(var k in j){if(j.hasOwnProperty(k)){this.on(k,j[k])}}return}if(typeof j==="string"&&typeof l==="function"){ISQ.Widget.APIProxy(f+".off",j,l)}this._events=this._events||{};if(j in this._events===false){return}this._events[j].splice(this._events[j].indexOf(l),1)};return h}}());ISQ.Widget.Chat.init=function(chatConfigRechanneling,dontCreateInstance,channelObj){var chatConfig=chatConfigRechanneling||eval("("+ISQ.Cnf.chatConfiguration+")");ISQ.Widget.Chat.chatConfig=chatConfig;var chatApiLoaded=function(){};ISQ.Widget.Chat.loadHostPageAPI(chatApiLoaded)};ISQ.Widget.Chat.loadHostPageAPI=function(a){if(window.parent!==window){nanoRep.SDK.Channeling.Chat.getProvider=ISQ.Widget.Chat.getProvider}if(a){a()}};ISQ.Widget.enumCustomLinkTarget={CurrentPage:0,NewTab:1,Popup:2,Widget:3};ISQ.Widget.enumShowChatConfiguration={always:0,selectedAnswers:1,selectedAnswers_and_noAnswers:2};ISQ.Widget.enumChatEscalationActions={hide:0,normal:1,showChatOption:2,inviteChat:3,pushChat:4};ISQ.Widget.enumCustomLinkStats={none:0,countTicketEscalation:1,countChatEscalation:2};ISQ.Widget.enumKBCategoriesFlags={none:0,visibleInWidget:1,autoLearn:2,all:3};ISQ.Widget.API=initializeNS("ISQ.Widget.API");ISQ.Widget.API.customParams=null;ISQ.Widget.API.getCurrentURL=function(){return ISQ.Widget.referer.normal};ISQ.Widget.API.getCustomParams=function(){return ISQ.Widget.API.customParams||{}};ISQ.Widget.API.openContactForm=function(){ISQ.Widget.Escalate.send(ISQ.Widget.Escalate.enumType.email)};ISQ.Widget.API.updateContext=function(d,b){var c=null;if(!b){c=_session().contexts()}if(!c||b===true){c=d}else{for(var a in d){c[a.toLowerCase()]=d[a]}}_session().setContext(c||[])};ISQ.Widget.API.reAsk=function(){ISQ.Widget.Query.timerElapsedHandler(_query(true),true)
};ISQ.Widget.API.runPageScript=function(a){if(!a){return}ISQ.Widget.CDC.sendMessage("subject=pagescript&data="+ISQ.Tools.Base64.encodeString(a))};ISQ.Widget.FAQ=initializeNS("ISQ.Widget.FAQ");ISQ.Widget.FAQ.shown=false;ISQ.Widget.FAQ.initEnum={none:0,loading:1,loaded:2};ISQ.Widget.FAQ.scriptLoadState=ISQ.Widget.FAQ.initEnum.none;ISQ.Widget.FAQ.pendingFAQCallbackList=[];ISQ.Widget.FAQ.pendingFAQCallback=function(){var a=ISQ.Widget.FAQ.pendingFAQCallbackList.length;if(a){for(var b=0;b<a;b++){ISQ.Widget.FAQ.pendingFAQCallbackList[b]()}}};nanoRep.FAQ=initializeNS("nanoRep.FAQ");nanoRep.FAQ.Texts={en:{like:"Good answer!",likeActive:"You like this",dislike:"Needs improvement",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:{0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}},pl:{like:"Like",likeActive:"Chcesz tego",dislike:"Nie lubi",dislikeActive:"Nie lubi",ok:"OK",cancel:"Anuluj",dislikeOptionsTitle:"Jaki jest problem z odpowiedzi?",likeTexts:{0:"Like",2:"Odpowied jest niepoprawna bd nieprecyzyjna",3:"Brakuje wanych informacji",4:"Odpowied jest niezwizana z tematem",5:"Nie mog znale to, czego szukasz",6:"Brak lub nieprawidowe informacje"}},da:{like:"Like",likeActive:"Du kan lide denne",dislike:"Dislike",dislikeActive:"Du kan ikke lide denne",ok:"OK",cancel:"Annuller",dislikeOptionsTitle:"Hvad er der galt med dette svar?",likeTexts:{0:"Like",2:"Svaret er forkert eller uprcist",3:"Mangler vigtig information",4:"Svaret er irrelevant",5:"Jeg kunne ikke finde, hvad jeg ledte efter",6:"Manglende eller forkerte oplysninger"}},hu:{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"Rendben",cancel:"Mgse",dislikeOptionsTitle:"Mi a baj a vlasszal?",likeTexts:{0:"Like",2:"A vlasz helytelen vagy pontatlan",3:"Fontos informci hinyzik belle",4:"A vlasz nem relevns",5:"n nem talltam, amit kerestem",6:"Hinyz vagy helytelen informci"}},tr:{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:{0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}},sv:{like:"Liksom",likeActive:"Du gillar det hr inlgget",dislike:"Motvilja",dislikeActive:"Du gillar inte det hr",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Vad r det fr fel p detta svar?",likeTexts:{0:"Liksom",2:"Svaret r felaktigt eller oriktigt",3:"Saknar viktig information",4:"Svaret r irrelevant",5:"Jag hittade inte det jag letade efter",6:"Saknas eller felaktig information"}},de:{like:"Gefllt mir",likeActive:"Sie mgen dieses",dislike:"Dislike",dislikeActive:"Sie mgen diese",ok:"OK",cancel:"Abbrechen",dislikeOptionsTitle:"Was ist falsch mit dieser Antwort?",likeTexts:{0:"Gefllt mir",2:"Antwort ist nicht richtig oder ungenau",3:"Es fehlen wichtige Informationen",4:"Die Antwort ist irrelevant",5:"Ich fand nicht, was ich gesucht habe",6:"Fehlende oder falsche Informationen"}},ar:{like:"",likeActive:"  ",dislike:"",dislikeActive:"  ",ok:"",cancel:"",dislikeOptionsTitle:"    ",likeTexts:{0:"",2:"     ",3:"  ",4:"   ",5:"     ",6:"    "}},zh:{like:"Like",likeActive:"",dislike:"",dislikeActive:"",ok:"",cancel:"",dislikeOptionsTitle:"",likeTexts:{0:"Like",2:"",3:"",4:"",5:"",6:""}},ru:{like:"Like",likeActive:"  ",dislike:" ",dislikeActive:"  ",ok:"OK",cancel:"",dislikeOptionsTitle:"     ?",likeTexts:{0:"Like",2:"   ",3:"    ",4:"    ",5:"    ,   ",6:"   "}},ja:{like:"Like",likeActive:"",dislike:"",dislikeActive:"",ok:"OK",cancel:"",dislikeOptionsTitle:"?",likeTexts:{0:"Like",2:"",3:"",4:"",5:"",6:""}},ko:{like:"Like",likeActive:" ",dislike:"",dislikeActive:" ",ok:"",cancel:"",dislikeOptionsTitle:"   ?",likeTexts:{0:"Like",2:"   .",3:"  .",4:"  .",5:"      ",6:"   "}},fr:{like:"J'aime",likeActive:"Vous aimez ce",dislike:"Antipathie",dislikeActive:"Yous n'aime pas ce",ok:"OK",cancel:"annuler",dislikeOptionsTitle:"Pourquoi cette rponse est-elle errone ?",likeTexts:{0:"J'aime",2:"La rponse est inexacte ou imprcise",3:"Des informations importantes sont manquantes",4:"La rponse est hors sujet",5:"Je n'ai pas trouv ce que je cherchais",6:"Information manquante ou incorrecte"}},it:{like:"Mi piace",likeActive:"Ti piace questo",dislike:"Antipatia",dislikeActive:"Non ti piace questo",ok:"OK",cancel:"Annulla",dislikeOptionsTitle:"Cosa c' di sbagliato in questa risposta?",likeTexts:{0:"Mi piace",2:"La risposta  errata o inaccurata",3:"Mancano informazioni importanti",4:"La risposta  irrilevante",5:"Non ho trovato quello che cercavo",6:"Informazioni mancanti o errate"}},nl:{like:"Vind ik leuk",likeActive:"U houdt van dit",dislike:"Afkeer",dislikeActive:"Je vind dit niet leuk",ok:"OK",cancel:"Annuleren",dislikeOptionsTitle:"Wat klopt er niet aan dit antwoord?",likeTexts:{0:"Vind ik leuk",2:"Antwoord is onjuist of onnauwkeurig",3:"Belangrijke informatie ontbreekt",4:"Het antwoord doet niet ter zake",5:"Heeft u niet gevonden wat ik zocht",6:"Ontbrekende of onjuiste informatie"}},pt:{like:"Gosto",likeActive:"Voc gosta disso",dislike:"Antipatia",dislikeActive:"Voc no gosta deste",ok:"OK",cancel:"Cancelar",dislikeOptionsTitle:"O que h de errado com esta resposta?",likeTexts:{0:"Gosto",2:"A resposta  incorreta ou inexata",3:"Faltam informaes importantes",4:"A resposta  irrelevante",5:"No encontrou o que estava procurando",6:"Informaes ausentes ou incorretas"}},es:{like:"Me gusta",likeActive:"Si le gusta este",dislike:"No me gusta",dislikeActive:"No le gusta este",ok:"Aceptar",cancel:"Cancelar",dislikeOptionsTitle:"Cul es el problema con esta respuesta?",likeTexts:{0:"Me gusta",2:"La respuesta es incorrecta o inexacta",3:"Falta informacin importante",4:"La respuesta es irrelevante",5:"No encontr lo que buscaba",6:"Informacin faltante o incorrecta"}},iw:{like:"",likeActive:"  ",dislike:" ",dislikeActive:"   ",ok:"",cancel:"",dislikeOptionsTitle:"    ?",likeTexts:{0:"",2:"   /  ",3:"  ",4:"   ",5:"    ",6:"    "}},no:{like:"Like",likeActive:"Du liker dette",dislike:"Dislike",dislikeActive:"Du liker ikke dette",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Hva er galt med dette svaret?",likeTexts:{0:"Like",2:"Svaret er feil eller unyaktig",3:"Mangler viktig informasjon",4:"Svaret er ikke relevant",5:"Fant ikke det jeg var ute etter",6:"Mangelfull eller feilaktig informasjon"}},fi:{like:"Tykk",likeActive:"Pidt tst",dislike:"En tykk",dislikeActive:"Et pid tm",ok:"Ok",cancel:"Peruuta",dislikeOptionsTitle:"Miksi tm vastaus ei ole riittv?",likeTexts:{0:"Tykk",2:"Vastaus on virheellisi tai eptarkkoja",3:"Puuttuu trkeit tietoja",4:"Vastaus on epolennainen",5:"Etk lytnyt mit olin etsimss",6:"Puuttuva tai vr tieto"}}};
nanoRep.FAQ.Texts.nb=nanoRep.FAQ.Texts.no;nanoRep.FAQ.Texts.nn=nanoRep.FAQ.Texts.no;ISQ.Widget=initializeNS("ISQ.Widget");ISQ.Widget.combineContext=function(c,d,e){if(!c){return d}if(d){for(var f in d){var g=f.toLowerCase();d[g]=d[f];if(g!==f){delete d[f]}}}var j=null;if(d||e){for(var b in c){if(d&&d[b.toLowerCase()]){continue}for(var a=0;a<c[b].length;++a){var h=null;if(e){h=e[c[b][a]]}if(!h){continue}if(!j){j=[];for(var k in d){j[k]=d[k]}}j[b.toLowerCase()]=h;break}}}return j||d};if(typeof nanoRep.FAQ.Localization=="undefined"){nanoRep.FAQ.Localization={}}nanoRep.FAQ.init=function(a,b){nanoRep.FAQ.Localization=nanoRep.FAQ.Texts[a]||nanoRep.FAQ.Texts.en;nanoRep.FAQ.dynamicHost=b};nanoRep.FAQ.dynamicHost=null;nanoRep.FAQ.Likes={};nanoRep.FAQ.Likes.enumFeedback={positive:1,wrongAnswer:2,wrongContent:4,wrongContext:8};nanoRep.FAQ.Likes.mData={div:null,options:[],pastActions:null,hasContext:false};nanoRep.FAQ.Likes.buildThumbUpIcon=function(b,n,h,q,c,a,f,o,l,p,m){l=l||nanoRep.FAQ.Localization;var r=createDiv(null,".nanoRepMP_likeIcon");r.onclick=function(){nanoRep.FAQ.Likes.saveData(r,b,q,c,a,f,o,p);nanoRep.FAQ.Likes.sendThumbAction(nanoRep.FAQ.Likes.enumFeedback.positive,l)};var g=nanoRep.FAQ.Likes.getLastAction(b);nanoRep.FAQ.Likes.setThumbStyles(g.action,r,null,false,l);if(g.action==0&&g.cacheVar==c){h++}if(m){n.appendChild(r);r.className+=" nanoRepMP_likeIconStandAlone";r.innerHTML=h?ISQ.Tools.getPrettyNumber(h,0,false,true):"0";r.likes=h;return r}var j=createDiv(n,"white-space:nowrap;");var k=createDiv(null,"white-space:nowrap;display:inline;");if(h&&h>999){k.title=ISQ.Tools.getPrettyNumber(h)}var e=(ISQ.Widget.HTML.dynamicRTLCssLoaded)?"rtl":"ltr";if(e=="ltr"){j.appendChild(r);j.appendChild(k);createDiv(k,".newLikesLeftEdge&display:inline-block;float:none;vertical-align:top;")}var d=createDiv(k,".newlikes&display:inline-block;float:none;vertical-align:top;cursor:default");if(e=="rtl"){d.className+=" newlikesRTL";createDiv(k,".newLikesRightEdge&display:inline-block;float:none;vertical-align:top;");k.appendChild(d);
j.appendChild(r);j.appendChild(k)}d.innerHTML=h?ISQ.Tools.getPrettyNumber(h,0,false,true):"0";r.likes=h;r.countElement=d;r.countContainer=k;return r};nanoRep.FAQ.Likes.buildThumbDownIcon=function(b,h,e,l,c,a,d,j,f,k,g,n){f=f||nanoRep.FAQ.Localization;var m=createDiv(h,".nanoRepMP_likeIcon &.nanoRepMP_dislikeIcon");m.widgetAnswer=n||false;e.thumbDown=m;m.onclick=function(){nanoRep.FAQ.Likes.saveData(e,b,l,c,a,d,j,k);var o=nanoRep.FAQ.Likes.getLastAction(b);if(o.action>nanoRep.FAQ.Likes.enumFeedback.positive){nanoRep.FAQ.Likes.sendThumbAction(o.action,f)}else{nanoRep.FAQ.Likes.toggleDislikeOptions(false,f)}};nanoRep.FAQ.Likes.setThumbStyles(nanoRep.FAQ.Likes.getLastAction(b).action,e,m,false,f);return m};nanoRep.FAQ.Likes.getLastAction=function(articleId){var pastActions=nanoRep.FAQ.Likes.mData.pastActions;var lastAction={action:null,cacheVar:null};if(!pastActions){var currentVal=ISQ.Tools.Storage.get("faqActions");if(currentVal){pastActions=eval("("+currentVal+")")}}if(!pastActions){pastActions={}}nanoRep.FAQ.Likes.mData.pastActions=pastActions;if(pastActions[articleId]&&typeof(pastActions[articleId].action)!=="undefined"){lastAction=pastActions[articleId]}return lastAction};nanoRep.FAQ.Likes.saveData=function(k,b,j,c,a,e,g,h,d,f){nanoRep.FAQ.Likes.mData.thumbUp=k;nanoRep.FAQ.Likes.mData.thumbDown=k.thumbDown||null;nanoRep.FAQ.Likes.mData.articleId=b;nanoRep.FAQ.Likes.mData.account=a;nanoRep.FAQ.Likes.mData.rtl=j||false;nanoRep.FAQ.Likes.mData.cacheVar=c;nanoRep.FAQ.Likes.mData.account=a;nanoRep.FAQ.Likes.mData.kb=e;nanoRep.FAQ.Likes.mData.preview=g;nanoRep.FAQ.Likes.mData.referrer=h;nanoRep.FAQ.Likes.mData.keywordsetId=f||null;nanoRep.FAQ.Likes.mData.callback=d||null};nanoRep.FAQ.Likes.setThumbStyles=function(a,d,c,e,b){b=b||nanoRep.FAQ.Localization;d=d||nanoRep.FAQ.Likes.mData.thumbUp;c=c||nanoRep.FAQ.Likes.mData.thumbDown;if(d){if(a==nanoRep.FAQ.Likes.enumFeedback.positive){ISQ.CSS.addClass(d,"nanoRepMP_likeIconCurrent");d.title=b.likeActive}else{ISQ.CSS.removeClass(d,"nanoRepMP_likeIconCurrent");d.title=b.like}}if(c){if(a>nanoRep.FAQ.Likes.enumFeedback.positive){ISQ.CSS.addClass(c,"nanoRepMP_dislikeIconCurrent");
c.title=b.dislikeActive}else{ISQ.CSS.removeClass(c,"nanoRepMP_dislikeIconCurrent");c.title=b.dislike}}if(e){nanoRep.FAQ.Likes.updateLikeCount(d,a==nanoRep.FAQ.Likes.enumFeedback.positive)}};nanoRep.FAQ.Likes.updateLikeCount=function(b,a){b.likes=a?b.likes+1:b.likes-1;if(b.countElement){b.countElement.innerHTML=b.likes>0?ISQ.Tools.getPrettyNumber(b.likes,0,false,true):"0";if(b.likes&&b.likes>999){b.countElement.parentNode.title=ISQ.Tools.getPrettyNumber(b.likes)}}else{b.innerHTML=b.likes>0?ISQ.Tools.getPrettyNumber(b.likes,0,false,true):"0"}};nanoRep.FAQ.Likes.toggleDislikeOptions=function(c,e){e=e||nanoRep.FAQ.Localization;if(typeof(nanoRep.FAQ.Likes.mData)=="undefined"){return}var a=nanoRep.FAQ.Likes.mData.thumbDown;if(!a){return}if(!nanoRep.FAQ.Likes.mData.div){nanoRep.FAQ.Likes.buildDislikeOptions(a)}var b=nanoRep.FAQ.Likes.mData.div;if(b.style.display=="block"||c){b.style.display="none";a.title=a.oldTitle;ISQ.CSS.removeClass(a,"nanoRepMP_dislikeIconOpen");if(b.faqFader){b.faqFader.parentNode.removeChild(b.faqFader);b.faqFader=null}a.removeChild(b);for(var d in nanoRep.FAQ.Likes.mData.options){nanoRep.FAQ.Likes.mData.options[d].checked=false}ISQ.Tools.addRemoveClickOutsideElementsListener("dislikeOptions",false);clearNode(nanoRep.FAQ.Likes.mData.div);nanoRep.FAQ.Likes.mData.div=null}else{a.appendChild(b);a.oldTitle=a.title;a.title="";b.style.display="block";ISQ.CSS.addClass(a,"nanoRepMP_dislikeIconOpen");nanoRep.FAQ.Likes.setDislikeOptionsPosition();ISQ.Tools.addRemoveClickOutsideElementsListener("dislikeOptions",true,[b],new ISQ.Handler(function(f){if(ISQ.Html.getEventTarget(f)==nanoRep.FAQ.Likes.mData.thumbDown){return}nanoRep.FAQ.Likes.toggleDislikeOptions(true,e);if(nanoRep.FAQ.Likes.dislikeTimer){clearInterval(nanoRep.FAQ.Likes.dislikeTimer)}}))}ISQ.Tools.blinkElement(b,0,false,"validationErr")};nanoRep.FAQ.Likes.dislikeTimer=null;nanoRep.FAQ.Likes.setDislikeOptionsPosition=function(){var b=nanoRep.FAQ.Likes.mData.div;if(!b.parentNode){return}b.style.height="auto";if(ISQ.Widget.HTML&&ISQ.Widget.HTML.contentWrapper&&ISQ.Widget.HTML.contentWrapper.offsetWidth<420){b.className+=" narrowWidget_dislikeOptions"
}else{}var d="0";var e=ISQ.Html.pageSize(true);if(e.h>400){if(b.parentNode.offsetTop+150>e.h-30){d="-130"}else{d="0"}}b.style.bottom="auto";if(ISQ.Widget.HTML&&ISQ.Widget.HTML.contentWrapper){var c=createDiv(ISQ.Widget.HTML.widgetContainer,".widgetFAQBlocker");b.faqFader=c;b.faqFader.style.position="fixed";b.faqFader.onclick=function(){};var f=(ISQ.Widget.HTML.contentWrapper.offsetWidth-b.offsetWidth)/2;b.style.left=f+"px";var g=ISQ.Widget.HTML.widgetContainer.offsetHeight;if(ISQ.Widget.isFloat){var d=(ISQ.Widget.HTML.contentWrapper.offsetHeight-b.offsetHeight)/2;d+=ISQ.Widget.HTML.searchWrapper.offsetHeight+ISQ.Widget.HTML.titleWrapper.offsetHeight;b.style.top=d+"px";if(ISQ.Http.browser.isMobile){b.style.top=(screen.height-b.offsetHeight)/2+"px"}}else{var a=b.parentNode.getBoundingClientRect();b.style.top=a.top-(b.offsetHeight)/2+"px";if(a.top+b.offsetHeight>g){b.style.top=g-b.offsetHeight-ISQ.Widget.HTML.footerWrapper.offsetHeight+"px"}}if(ISQ.Http.browser.isMobile){nanoRep.FAQ.Likes.dislikeTimer=setInterval(function(){var h=(ISQ.Widget.HTML.contentWrapper.offsetWidth-b.offsetWidth)/2;b.style.left=h+"px"},250)}}else{if(nanoRep.FAQ.Likes.mData.rtl){b.style.left="20px"}else{b.style.right="20px"}}};nanoRep.FAQ.Likes.buildDislikeOptions=function(a,h){h=h||nanoRep.FAQ.Localization;var j=ISQ.Http.browser.isMobile?" &.mobile":"";var c=nanoRep.FAQ.Likes.mData.div=createDiv(document.body,".nanoRepMP_dislikeOptions"+j);c.onclick=function(o){ISQ.Html.getDomEvent(o).cancel()};createLink({parent:c,text:"x",style:".closeIcon",onclick:function(){nanoRep.FAQ.Likes.toggleDislikeOptions(false,h)}});createDiv(c,".nanoRepMP_dislikeOptionsTitle").innerHTML=h.dislikeOptionsTitle;var k=[];var d=nanoRep.FAQ.Likes.mData.hasContext||(typeof(_session)==="function"&&_session().hasContext&&_session().hasContext());if(a.widgetAnswer){k=[6,5];if(d){k.push(4)}}else{if(d){k=[6,4]}else{k=[2,3]}}var n={0:nanoRep.FAQ.Likes.enumFeedback.positive,2:nanoRep.FAQ.Likes.enumFeedback.wrongContent,3:nanoRep.FAQ.Likes.enumFeedback.wrongContent,4:nanoRep.FAQ.Likes.enumFeedback.wrongContext,5:nanoRep.FAQ.Likes.enumFeedback.wrongAnswer,6:nanoRep.FAQ.Likes.enumFeedback.wrongContent};
var m=h.likeTexts;for(var e=0;e<k.length;e++){var f=k[e];var l=createRadio({type:"radio",name:"dislike",parent:c,text:m[f],value:n[f],holderStyle:"padding-top:4px;",onclick:function(){ISQ.Tools.blinkElement(c,0,false,"validationErr");if(ISQ.Http.isChrome()){var o=c.style.position;c.style.position="static";c.offsetHeight;c.style.position=o}}});nanoRep.FAQ.Likes.mData.options.push(l)}var b=createDiv(c,".nanoRepMP_dislikeOptionsBtns");var g=createLink({parent:b,text:h.ok,style:".button",onclick:function(){var o=-1;for(var p in nanoRep.FAQ.Likes.mData.options){if(nanoRep.FAQ.Likes.mData.options[p].checked){o=parseInt(nanoRep.FAQ.Likes.mData.options[p].value)}}if(o==-1){ISQ.Tools.blinkElement(c,3,true,"validationErr");return}if(nanoRep.FAQ.Likes.mData.callback){nanoRep.FAQ.Likes.mData.callback(nanoRep.FAQ.Likes.mData.articleId,nanoRep.FAQ.Likes.mData.keywordsetId,o)}else{nanoRep.FAQ.Likes.sendThumbAction(o,h)}nanoRep.FAQ.Likes.toggleDislikeOptions(false,h)}});g=createLink({parent:b,text:h.cancel,style:".button &.buttonLink",onclick:function(){nanoRep.FAQ.Likes.toggleDislikeOptions(false,h)}})};nanoRep.FAQ.Likes.sendThumbAction=function(b,g){g=g||nanoRep.FAQ.Localization;var c=nanoRep.FAQ.Likes.mData.articleId;var h=nanoRep.FAQ.Likes.mData.pastActions;var d=nanoRep.FAQ.Likes.mData.cacheVar;var a=nanoRep.FAQ.Likes.mData.account;var f=nanoRep.FAQ.Likes.mData.kb;var j=nanoRep.FAQ.Likes.mData.preview;var k=nanoRep.FAQ.Likes.mData.referrer;if(!c){throw ("articleId must be specified")}var l=null;if(typeof(h[c])!=="undefined"&&typeof(h[c].action)!=="undefined"){l=h[c].action;if(l==b){b=null}}if(b==null){delete h[c]}else{h[c]={};h[c].action=b;if(d){h[c].cacheVar=d}}if(!j){ISQ.Tools.Storage.set("faqActions",ISQ.Data.jsonToString(h));nanoRep.FAQ.Likes.mData.pastActions=h;var m=new Array();m.push(ISQ.Widget.getAccountURL(a));m.push("/widget/faqAction.gif?rnd=");m.push(Math.floor(Math.random()*1000000));m.push("&account=");m.push(a);if(f){m.push("&kb="+f)}m.push("&id=");m.push(c);if(b!=null){m.push("&action="+b)}if(l!=null){m.push("&undo="+l)
}if(k){m.push("&referer="+escape(k))}var e=new Image();e.src=m.join("");e.style.width="1px";e.style.height="1px";e.style.display="none"}nanoRep.FAQ.Likes.setThumbStyles(b,null,null,b==nanoRep.FAQ.Likes.enumFeedback.positive||l==nanoRep.FAQ.Likes.enumFeedback.positive,g)};nanoRep.FAQ.combineAndFormatContext=function(b,e){if(!b){b={}}var c;if(typeof(_nRepData)=="undefined"||!_nRepData.customParams){c=b}if(!e){if(ISQ.Cnf_Float){c=ISQ.Widget.combineContext(ISQ.Cnf_Float.contextAttributes,b,_nRepData.customParams)}else{if(ISQ.Cnf_Embed){c=ISQ.Widget.combineContext(ISQ.Cnf_Embed.contextAttributes,b,_nRepData.customParams)}}}var f=false;if(c){for(var a in c){f=true;break}}if(f){nanoRep.FAQ.Likes.mData.hasContext=true;var g=[{from:",",to:" "},{from:":",to:" "}];var d=[];for(var a in c){if(!c[a]||typeof(c[a])!=="string"){continue}if(d.length!=0){d.push(",")}d.push(a.replacer(g));d.push(":");d.push(c[a].replacer(g))}return"&context="+ISQ.Http.Cookies.encode64(d.join(""))}return""};nanoRep.FAQ.requestFaqLists=function(b){var c=new Array();var a=b.account||_nRepData.account;c.push(ISQ.Widget.getAccountURL(a,b.host));c.push("/api/faq/v1/list.js");c.push("?account=");c.push(a);if(b.isFloat){c.push("&isFloat=true")}if(b.kb){c.push("&kb="+b.kb)}c.push("&referer=");if(b.configId){c.push("!"+b.configId)}else{if(window.location.href.contains("nanorep.com")&&b.referer){c.push(escape(b.referer))}else{c.push(escape(window.location.href))}}if(b.encoding){c.push("&encoding="+b.encoding)}c.push(nanoRep.FAQ.combineAndFormatContext(b.context,b.disableContextCombine));ISQ.Tools.appendScript(c.join(""),function(){if(!nanoRep.FAQ.faqData){throw ("Invalid FAQ Data received")}if(b.callback){b.callback(nanoRep.FAQ.faqData)}else{nanoRep.FAQ.faqData=ISQ.Data.jsonToString(nanoRep.FAQ.faqData);var d=ISQ.Http.Cookies.encode64(nanoRep.FAQ.faqData);b.cdcUser.sendMessage("subject=faqData&data="+d)}delete nanoRep.FAQ.faqData})};ISQ.Widget.FAQ.currentAnswers=[];ISQ.Widget.FAQ.shown=false;ISQ.Widget.FAQ.handleCnfData=function(){var a=ISQ.Cnf.faqData;if(!a||typeof(a)!=="string"){return
}if(ISQ.Widget.isContained){return}nanoRep.FAQ.requestFaqLists({host:window.location.protocol+"//"+ISQ.Http.domain(true),account:ISQ.Widget.account,kb:ISQ.Http.hashArguments.kb||ISQ.Http.urlArguments.kb,referer:ISQ.Widget.referer.normal,context:_session().contexts(),isFloat:ISQ.Widget.isFloat,faqData:a,callback:ISQ.Widget.FAQ.dataReady,disableContextCombine:true,configId:ISQ.Widget.configId})};ISQ.Widget.FAQ.dataReady=function(data){if(!data){return}var callback=ISQ.Cnf.faqData.callback;if(typeof(data)==="string"){ISQ.Cnf.faqData=eval("("+data+")")}else{ISQ.Cnf.faqData=data}if(callback){callback()}};ISQ.Widget.FAQ.hide=function(){_("faqList").style.display="none"};ISQ.Widget.FAQ.show=function(when){_("faqList").style.display="block";ISQ.Widget.HTML.dynamicSize_sendMessage();if(ISQ.Widget.FAQ.lastTrigger===when){return}else{ISQ.Widget.FAQ.lastTrigger=when}var data=ISQ.Cnf.faqData;if(!data){return}if(typeof(data)==="string"){ISQ.Widget.FAQ.lastTrigger=null;ISQ.Cnf.faqData={callback:function(){ISQ.Widget.FAQ.show(when)}};return}var answerSections=[];for(var i in data){if(data[i].behavior!=null&&((data[i].behavior&when)==0)){continue}if(!data[i].data.length||!data[i].data[0].data.length){continue}var newSection={title:data[i].title,viewport:ISQ.Widget.HTML.contentWrapper,answerObjects:[],answers:[],answerHasActionBar:true,answerHasFeedback:true,answerHasSharing:true,listMode:ISQ.Widget.isFloat||ISQ.Widget.isSideWidget?"single":"simple"};for(var j in data[i].data[0].data){var faqObj=data[i].data[0].data[j];(function(faqObj){newSection.answerObjects.push({direction:ISQ.Translation.Infra.getLanguageDirection(ISQ.Cnf.initialUiLanguage),answerObject:{id:faqObj.objectId,title:faqObj.label,summary:function(cb){_session().request({url:"a.js",params:{requestId:ISQ.Widget.Query.activeRequestId,answerId:faqObj.objectId,auto:false,src:"FAQ"},handler:function(status,response,request){var a=response.answers[0],translatedTitle=a.translation&&a.translation.title,translatedContent=a.translation&&a.translation.summary,escalationChannels=ISQ.Widget.getUserEscalationChannels()||[];
if(a.rechanneling&&a.rechanneling.length){escalationChannels.push.apply(escalationChannels,a.rechanneling)}ISQ.Widget.Query.likeWasUsedAfterQuery=false;var answerData=ISQ.Data.getDBAnswerAsHtml(a.summary,false,ISQ.Widget.Query.appendQuestionTag,null,"ISQ.Widget.Query.namedAnchorClick",ISQ.Widget.referer.normal);a.summary=answerData.text;if(answerData.script){try{eval(answerData.script)}catch(e){if(window.console&&window.console.error){console.error("Failed to execute answer script: ",e)}}}if(a.translation){translatedContent=ISQ.Data.getDBAnswerAsHtml(translatedContent,false,ISQ.Widget.Query.appendQuestionTag,null,"ISQ.Widget.Query.namedAnchorClick",ISQ.Widget.referer.normal).text}translatedTitle=translatedContent=null;cb(a.summary,translatedTitle,translatedContent,escalationChannels,a.keywordsetId,a.visibility,a.attachments)}})}}})}(faqObj))}if(newSection.answerObjects.length){answerSections.push(newSection)}}if(!ISQ.Widget.FAQ.scopeInstance){ISQ.Widget.FAQ.scopeInstance=new Alloy.Scope();var faqScope=ISQ.Widget.FAQ.scopeInstance;var faqContainer=_("faqList");var faqTemplate='<div class="nr-faq-area"><div class="nr-faq-section" alloy-loop="section in sections"><h2 tabindex="0" alloy-if="section.title">{{section.title}}</h2><nr-answering-list alloy-this="section"></nr-answering-list></div></div>';Alloy.injectTemplate("faqArea",faqTemplate);faqContainer.innerHTML="<faqArea></faqArea>";faqScope.childScopeCreated=function(childScope){if(childScope instanceof nanoRep.SDK.Answering.ListScope){childScope.on({beforeToggleAnswer:function(answerScope){answerScope.$model.parentListScope=childScope;ISQ.CSS[answerScope.$model.isOpen?"addClass":"removeClass"](childScope.$domElement,"nr-answer-list-expanded")},toggleAnswer:function(answerScope){if(!answerScope.$model.isOpen){document.activeElement.blur()}ISQ.Widget.HTML.dynamicSize_sendMessage()},toggleAnswerCompleted:function(answerScope){if(answerScope.$model.isOpen){ISQ.Widget.Query.resizeAnswerElements();setTimeout(ISQ.Widget.redrawAnswerList,25)}}})}};faqScope.setScopeClass("nr-answering-list",nanoRep.SDK.Answering.ListScope);
faqScope.bind(faqContainer,faqTemplate);ISQ.Widget.FAQ.scopeInstance=faqScope}ISQ.Widget.FAQ.scopeInstance.setModelProperty({sections:answerSections});ISQ.Widget.preventTransitions();_it(ISQ.Widget.FAQ.scopeInstance.$childScopes,function(scope){if(scope instanceof nanoRep.SDK.Answering.ListScope){_it(scope.$model.answerObjects,function(answerData,answerIndex){ISQ.Widget.Query.appendSingleAnswer(answerData,scope.$model,answerIndex===scope.$model.answerObjects.length-1)});delete scope.$model.answerObjects}});ISQ.Widget.FAQ.scopeInstance.update();ISQ.Widget.HTML.dynamicSize_sendMessage();ISQ.Widget.FAQ.currentAnswers=[];_it(answerSections,function(section){_it(section.answers,function(answer){ISQ.Widget.FAQ.currentAnswers.push(answer)})})};ISQ.Widget.FAQ.initalize=function(){if(ISQ.Widget.FAQ.scriptLoadState!=ISQ.Widget.FAQ.initEnum.none){return}ISQ.Widget.FAQ.scriptLoadState=ISQ.Widget.FAQ.initEnum.loaded;ISQ.Widget.FAQ.handleCnfData();if(ISQ.Widget.FAQ.pendingFAQCallback){ISQ.Widget.FAQ.pendingFAQCallback()}nanoRep.FAQ.init(ISQ.Cnf.initialUiLanguage,window.location.protocol+"//"+ISQ.Http.domain(true))};ISQ.Widget.FAQ.behavior={OnWidgetLoad:1,OnNoResuls:2,OnClearSearchField:4};ISQ.Widget.Forms=initializeNS("ISQ.Widget.Forms");ISQ.Widget.Forms.getForms=function(a){var b=[];for(var c=0;c<a.length;c++){b.push(a[c].contactForms)}var d=ISQ.Widget.Query.activeRequestId;_session().request({url:"getForms.js",params:{contactFormId:b.join(",")},handler:function(f,e){if(d!=ISQ.Widget.Query.activeRequestId){return}ISQ.Widget.Forms.parseResponse(f,e,b,a)}})};ISQ.Widget.Forms.parseResponse=function(m,c,l,a){if(c.forms.length){for(var e=0;e<l.length;e++){var h=document.querySelectorAll(".formId_"+l[e]);var b=null;for(var f=0;f<a.length;f++){if(a[f].contactForms===l[e]){b=a[f]}}if(b!==null){for(var d=0;d<h.length;d++){var g=h[d];g.className="contactForm";console.log("ISQ.Widget.ContactForm.show(data.forms[j], null, placeholder, channel);")}}}}};</script>
	<script type="text/javascript" mini="true">ISQ.Widget=initializeNS("ISQ.Widget");ISQ.Widget.combineContext=function(c,d,e){if(!c){return d}if(d){for(var f in d){var g=f.toLowerCase();d[g]=d[f];if(g!==f){delete d[f]}}}var i=null;if(d||e){for(var b in c){if(d&&d[b.toLowerCase()]){continue}for(var a=0;a<c[b].length;++a){var h=null;if(e){h=e[c[b][a]]}if(!h){continue}if(!i){i=[];for(var j in d){i[j]=d[j]}}i[b.toLowerCase()]=h;break}}}return i||d};</script>
	<style type="text/css">html,body{height:100%;margin:0;padding:0;direction:ltr;overflow:hidden}body,table,td,input,textarea{font-size:12px;font-family:Arial}
input,textarea{outline:0;resize:none}img{border:0}h1,h2,h3,h4,h5,h6,tbody,div{margin:0;padding:0}
a,a:hover,a:focus,a:active{outline:0}pre{white-space:pre-wrap}*{outline:0}
select.contactform{margin:0;position:absolute;left:3px;left:3px\9}@media screen and (min-width:0\0){select.contactform{left:6px\9\0}
}@media \0screen{select.contactform{left:1px}}#iframeContainer{position:absolute;top:0;left:0;z-index:-10;width:1px;height:1px}
#txtSearch::-ms-clear{display:none}.contextSelectionTitle{font-weight:bold;color:black;padding:7px 0}
.contextSelectors:last-child{padding-bottom:15px;overflow:hidden}.contextSelectors>div{height:30px}
.contextSelectors .contextLabel{font-size:14px;color:#4a4949;margin-top:4px;float:left;clear:both;padding-right:10px}
.contextSelectors .contextSelect{font-size:13px;float:left;margin-top:4px;min-width:150px;max-width:200px}
.selectedContextElement{height:33px;display:block;background-color:#D9D9D9;color:#516166;border:solid 1px #e1e1e1;padding:6px 8px;line-height:18px;margin-bottom:5px;margin:5px 0 10px 0;width:100%}
.selectedContextElement span{font-size:12px;color:#516166;text-align:left;display:block;text-overflow:ellipsis;float:left;white-space:nowrap;width:78%;box-sizing:border-box;overflow:hidden;height:16px}
.clearSelectionLink{font-size:13px;cursor:pointer;font-weight:600;text-decoration:underline}
@media screen and (max-width:340px){.selectedContextElement{width:270px}.selectedContextElement span{width:75%}
}.selectedContextElementChangeButton{padding-left:5px;font-size:12px;display:block;float:right;line-height:17px;padding:0 5px;color:#516166;cursor:pointer;border-left:1px solid #ACBBBF;width:47px;text-align:right;text-decoration:underline}
#clearQuery{z-index:1;position:absolute;right:8px;left:auto;top:1px;color:#4a4949;padding:2px 4px;font-size:20px;display:none;cursor:pointer;opacity:0;-webkit-transition:opacity 150ms ease-in-out;-moz-transition:opacity 150ms ease-in-out;-ms-transition:opacity 150ms ease-in-out;-o-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;text-decoration:none}
.hoverImagesClass{-webkit-transition:top 1000ms ease,opacity 600ms ease-in-out;-moz-transition:top 1000ms ease,opacity 600ms ease-in-out;-ms-transition:top 1000ms ease,opacity 600ms ease-in-out;-o-transition:top 1000ms ease,opacity 600ms ease-in-out;transition:top 1000ms ease,opacity 600ms ease-in-out;opacity:0;position:absolute;z-index:1;top:150px;right:-600px;border:1px solid #dfdfdf;border-radius:11px;box-shadow:2px 2px 10px gray;display:block;left:auto}
.opacity30{opacity:.3;-ms-filter:"alpha(opacity=30)";filter:alpha(opacity=30);-khtml-opacity:.30;-moz-opacity:.30;cursor:default}
.opacity20{opacity:.2;-ms-filter:"alpha(opacity=20)";filter:alpha(opacity=20);-khtml-opacity:.20;-moz-opacity:.20;cursor:default}
.normal{font-size:12px}.large{font-size:13px}.bold{font-weight:bold}.borderBoxSizing{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
.busy{opacity:.50;filter:alpha(opacity=50);-ms-filter:"alpha(opacity=50)"}
#widgetContainer{display:none;width:100%}.fullscreenMobile #widgetContainer{border:0;height:100%;box-sizing:border-box}
.fullscreenMobile{background:rgba(230,230,230,0.9)}.fullscreenMobile>iframe{border:0}
.fullscreenMobile #contentAreaWrapper{background:0}.fullscreenMobile #widgetContainer{background:0}
.fullscreenMobile #widgetTitleWrapper{display:none}.fullscreenMobile #searchContainerWrapper{height:50px}
.fullscreenMobile #txtSearch,.fullscreenMobile #txtSearch.apple{height:36px;font-size:16px;width:88%}
.fullscreenMobile #txtSearch.initialText{font-size:15px}.fullscreenMobile #clearQuery{top:5px;right:13px;font-size:26px;padding-left:10px;padding-right:10px}
.fullscreenMobile.isRtl #clearQuery{right:auto;left:15px;font-family:'Open Sans',Arial!important}
.fullscreenMobile .contactForm{width:100%;margin:0;border-radius:0}#widgetLoading{margin:15px 0 0 15px;direction:ltr}
#widgetTitleWrapper{position:relative;width:100%;height:25px;line-height:25px}
#widgetTitleDecoration{position:absolute;width:100%;height:2px;top:0;left:0;background:#fff;opacity:.15;filter:alpha(opacity=15);-ms-filter:"alpha(opacity=15)";line-height:1px;font-size:0}
#widgetTitleLeft{display:none;float:left;width:0;height:100%}#widgetTitleRight{display:none;float:right;width:0;height:100%}
#widgetTitleText{float:left;width:85%;padding:0 5px;font-size:17px;font-weight:bold;overflow:hidden;white-space:nowrap}
#minimizeButton{float:right;width:13px;height:14px;line-height:0;cursor:pointer;margin:0;border-bottom:4px solid #FFF;font-size:0}
#minimizeButtonWrapper{float:right;margin:0;padding:0 5px 0 8px;width:15px}
#searchContainerWrapper{position:relative;text-align:center;height:28px}#searchContainerLeft{display:none;position:absolute;left:0;width:0;height:100%}
#searchContainerRight{display:none;position:absolute;right:0;width:0;height:100%}
#searchContainer{position:absolute;top:2px;bottom:2px;left:2px;right:2px;text-align:left;background-color:#FFF}
#searchContainer.error{border:solid 1px #8B0000}*html #searchContainer{width:expression(document.getElementById('searchContainerWrapper').clientWidth-5);height:expression(document.getElementById('searchContainerWrapper').clientHeight-5)}
#searchTextboxContainer{position:absolute;top:2px;bottom:2px;left:2px;right:25px}
*html #searchTextboxContainer{width:expression(document.getElementById('searchContainerWrapper').clientWidth-28);height:expression(document.getElementById('searchContainerWrapper').clientHeight-4)}
#txtSearch{margin-top:2px;padding-left:5px;width:98%;height:17px;border:0;font-size:14px;vertical-align:middle}
input,input:focus,textarea,textarea:focus{outline:0 none;outline-width:0;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-user-modify:read-write}
#txtSearch.apple{margin-top:1px;height:15px;border:0}#txtSearch.initialText{font-size:13px;font-style:italic;color:#888}
#searchSuggestions{text-align:left;background-color:#fff;border-left:solid 1px #cdcdcd;border-right:solid 1px #cdcdcd;border-bottom:solid 1px #cdcdcd;display:none;margin:auto;overflow:hidden}
.autoCompleteDiv{background-color:#fff;cursor:pointer;white-space:nowrap;padding:3px 7px;font-size:16px!important}
.autoCompleteDiv B{color:#000}.autoCompleteDiv_hover{background:#eee}DIV.searchAnim{float:right;margin:2px 0 0 5px;width:20px;height:18px;display:block;border:0;background:transparent}
DIV.searchAnim DIV{float:left;height:4px;width:4px;margin:7px 2px 0 0;background:#000;line-height:1px;font-size:1px}
DIV.searchAnimTranslating{padding:0 0 0 1px;height:19px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -68px}
#contentAreaWrapper{overflow:auto;overflow-x:hidden;overflow-y:auto;background-color:#FFF;width:100%}
#contentAreaWrapper.empty{padding:0}#contentArea{width:100%}#resultsHint{padding:2px 5px 0 5px;font-style:italic;display:none;overflow:hidden}
#answerPane{padding-top:10px;padding-bottom:10px;padding-left:7px;padding-right:7px;display:none}
.answerTable{width:100%;margin:0 0 20px 0;table-layout:fixed;position:relative}
.answerTable TR{vertical-align:top}.pointer[data-image-url],.answerTable TD A,.answerBackLinkContainer A{color:#e9682d}
.answerIcon{text-align:right;width:50px}.answerTitle,.answerTitle h3{font-size:13px;font-weight:bold;line-height:19px}
.answerTitle h3{padding-bottom:2px}.summaryRow.expanded{display:table-row}
.summaryRow.collapsed{display:none}.answerContextContainer{margin-top:2px}
.answerContext{font-size:11px;font-weight:normal;color:#aaa;margin-right:5px}
.answerBody{padding:0}TD.autoLink{padding:0 0 15px 0}TD.autoLink .progressBar,TD.autoLink .cancel{display:block;float:left;clear:none;height:40px;border-radius:2px}
TD.autoLink .progressBar{min-width:100px;padding:0;overflow:hidden;cursor:pointer;text-decoration:none;max-width:75%}
TD.autoLink .progressBar .progressBarHover{z-index:10;position:relative;top:-40px;width:100%;height:40px;background-color:black;opacity:0;filter:alpha(opacity=0)}
TD.autoLink .progressBar:hover .progressBarHover{opacity:.4;filter:alpha(opacity=40)}
TD.autoLink .progressBar .progressBarBG{z-index:11;position:relative;top:-43px;margin:0;padding:0;width:0;height:3px;background-color:black;opacity:.5;filter:alpha(opacity=50)}
TD.autoLink .progressBar .progressBarText{z-index:12;position:relative;margin:0 20px;line-height:40px;overflow:hidden;text-overflow:clip;white-space:nowrap;text-overflow:ellipsis}
TD.autoLink .cancel{padding:0 10px;margin:0 5px;line-height:40px;text-decoration:none;font-size:12px;color:#333;background-color:#f8f8f8}
TD.autoLink .cancel:hover{background-color:#eee}A.thumbUp{float:left;display:block;width:22px;height:21px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -244px;margin-top:-1px;text-decoration:none}
A.thumbUpApplied{float:left;display:block;width:22px;height:21px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -265px;margin-top:-1px;text-decoration:none}
A.thumbDown{float:left;display:block;width:22px;height:21px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -286px;margin-top:-1px;text-decoration:none}
A.thumbDownApplied{float:left;display:block;width:22px;height:21px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -310px;margin-top:-1px;text-decoration:none}
A.translationIcon{float:left;display:block;width:19px;height:19px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -45px;text-decoration:none}
A.translationIconOff{float:left;display:block;width:19px;height:19px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -68px;text-decoration:none}
.nanoRepMP_likeIcon{width:21px;height:21px;line-height:19px;font-size:11px;text-align:left;cursor:pointer;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 2px -244px;display:inline-block}
.answerIcon .nanoRepMP_likeIcon{width:21px;height:21px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 2px -597px}
.answerIcon .nanoRepMP_likeIconCurrent,.nanoRepMP_likeIconCurrent{color:#479503;font-weight:bold;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 2px -265px}
.nanoRepCSStransition{-webkit-transition:background-color 300ms ease-in-out,width 300ms ease-in-out,height 300ms ease-in-out,top 300ms ease-in-out,left 300ms ease-in-out,bottom 300ms ease-in-out,right 300ms ease-in-out;-moz-transition:background-color 300ms ease-in-out,width 300ms ease-in-out,height 300ms ease-in-out,top 300ms ease-in-out,left 300ms ease-in-out,bottom 300ms ease-in-out,right 300ms ease-in-out;-ms-transition:background-color 300ms ease-in-out,width 300ms ease-in-out,height 300ms ease-in-out,top 300ms ease-in-out,left 300ms ease-in-out,bottom 300ms ease-in-out,right 300ms ease-in-out;-o-transition:background-color 300ms ease-in-out,width 300ms ease-in-out,height 300ms ease-in-out,top 300ms ease-in-out,left 300ms ease-in-out,bottom 300ms ease-in-out,right 300ms ease-in-out;transition:background-color 300ms ease-in-out,width 300ms ease-in-out,height 300ms ease-in-out,top 300ms ease-in-out,left 300ms ease-in-out,bottom 300ms ease-in-out,right 300ms ease-in-out}
.nanoRepMP_dislikeIcon{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 1px -287px}
.nanoRepMP_dislikeIconCurrent{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 1px -310px}
.nanoRepMP_dislikeIconOpen{background-position:1px -287px}.nanoRepMP_dislikeOptions{box-shadow:0 4px 8px #8B8B8B;-moz-box-shadow:0 4px 8px #8B8B8B;cursor:default;z-index:2;display:none;position:fixed;top:0;-moz-border-radius:6px;-webkit-border-radius:6px;border-radius:6px;font-family:'Open Sans',Arial;padding:15px;width:359px;height:214px;border:6px solid #c3c3c3;background-color:white;color:#333}
.nanoRepMP_dislikeOptions table td:first-child{width:24px}.nanoRepMP_dislikeOptionsTitle{font-weight:400;padding:18px 0 15px;font-size:20px;text-align:center}
.nanoRepMP_dislikeOptions table{margin:12px auto;width:83%}.nanoRepMP_dislikeOptions table label{font-size:15px}
.nanoRepMP_dislikeOptions table tr{height:20px}.nanoRepMP_dislikeOptions input{font-size:13px}
.nanoRepMP_dislikeOptions input[type="radio"]{cursor:pointer;position:static}
.nanoRepMP_dislikeOptionsBtns{width:166px;height:44px;margin:0 auto}.nanoRepMP_dislikeOptions.validationErr table td:first-child{background-color:#a00;color:#fff}
.nanoRepMP_dislikeOptions table tr td:last-child{font-size:13px;color:#333;padding:0 10px}
.nanoRepMP_dislikeOptions .button{display:block;width:75px;float:left;padding:0;margin-top:10px;height:32px;line-height:32px;color:#FFF;text-decoration:none;background-color:#1b0476;font-size:16px;text-align:center;text-indent:0!important}
.nanoRepMP_dislikeOptionsBtns a.buttonLink{margin-left:15px;background-color:#e7e5e6;color:#333!important}
.nanoRepMP_dislikeOptions .closeIcon{width:10px;height:10px;position:absolute;top:7px;right:7px;text-decoration:none;color:#cbcbcb;font-family:arial;font-weight:bold;font-size:14px;display:block;display:none}
.narrowWidget_dislikeOptions{width:282px;height:174px;padding:6px}.narrowWidget_dislikeOptions .nanoRepMP_dislikeOptionsTitle{font-size:16px;padding:13px 0 6px}
.narrowWidget_dislikeOptions table{margin:7px auto;width:87%}.narrowWidget_dislikeOptions table label{font-size:13px;line-height:18px;color:#333;font-weight:normal}
.narrowWidget_dislikeOptions .nanoRepMP_dislikeOptionsBtns{width:100%;text-align:center}
.narrowWidget_dislikeOptions .button{min-width:63px;height:30px;line-height:29px;font-size:14px;display:inline-block;float:none}
.answerIcon .likes{float:left;text-align:left;font-size:11px;margin-top:1px}
.newlikes{float:left;text-align:center;font-size:11px;margin-top:5px;border:1px solid #aaa;border-left:0;height:16px;line-height:16px;color:#666;padding:0 4px 0 3px;min-width:24px}
.articlelikeContainer{box-sizing:border-box;float:left;width:100%;height:37px;border-top:solid 1px #F2F2F2;padding-top:8px;margin-top:5px}
.articlelikeContainer>.iLike{text-align:center;float:left;height:25px;border-radius:0 0 4px 0;padding-right:5px}
.articlelikeContainer>.iDontLike{float:left;width:20px;height:25px;border-radius:0 0 0 4px;padding-left:2px;padding-top:3px;margin-top:3px}
.newLikesLeftEdge{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -558px;width:5px;height:18px;float:left;margin-left:3px;margin-top:5px}
.answerIcon .newLikesLeftEdge{background:url(/widget/skins/sprites.png?cv=8d19a47a95f9b9c) no-repeat 0 -558px;width:5px;height:16px;float:left;margin-left:3px;margin-top:4px}
.answerIcon .newlikes{height:14px;min-width:20px;margin-top:4px;line-height:14px;color:#A6A6A6}
.newlikesRTL{float:right;border-left:1px solid #aaa;border-right:0;padding:0 4px 0 3px}
.newLikesRightEdge{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -577px;width:5px;height:16px;float:right;margin-left:0;margin-right:3px;margin-top:6px}
.answerFooter{padding:15px 0 0 0}.answerBackLinkContainer{padding:0 0 4px 0}
.chatInviteDiv{width:100%;text-align:center;cursor:pointer}.answerPeek{position:fixed;background-color:#777;color:#FFF;padding:5px;font-weight:bold;font-size:13px;cursor:pointer;opacity:.9;-ms-filter:"alpha(opacity=90)"}
.pagedContainer{overflow:hidden}.answerTable .pager .pagerLink,.answerTable .pager .pagerCurrent{font-size:15px;margin-right:6px}
.answerTable .pager .pagerCurrent{font-weight:bold;padding:2px 6px 2px 0}
.answerTable .pager .pagerMiddle{font-size:15px;padding-right:6px}.answerTable .pagerLink.next,.answerTable .pagerLink.prev{background-color:#e9682d;padding:1px 5px;font-size:14px;text-decoration:none}
.answerTable .pagerLink.next{margin:0 10px}.noResults{padding:0 0 10px 0;clear:both}
.faqTitle,.faqTitle h2{font-size:15px;font-weight:bold;margin:10px 0 10px 0}
.faqTitle h2{margin:0}.answerTable.faq{padding:6px 0;margin:0;line-height:100%;border-bottom:solid 1px #E5E5E5}
.answerTable.faq .answerTitle{line-height:normal;cursor:pointer}.answerTable.faq:hover{background-color:#E5E5E5}
.answerTable.faq .titleText,.answerTable.faq .titleText h3{color:#00005A;font-weight:normal;padding:0 0 0 34px}
.answerTable.faq .titleText h3{font-size:12px;padding:0;display:table-cell;line-height:14px}
.answerTable.faq .titleText:before{content:'?';float:left;background-color:#A9A9A9;width:17px;height:17px;line-height:17px;margin:0 12px 0 -27px;padding:0;color:#FFF;font-size:12px;font-weight:bold;text-align:center}
.answerTable.faq .answerTitle.expanded>DIV.titleText:before{background-color:#333}
.answerTable.faq .faqText,.answerTable.faq[dir=ltr] .faqText{clear:both;width:80%;margin:10px 0 5px 37px;line-height:140%}
@media screen and (max-width:480px){.answerTable.faq .faqText,.answerTable.faq[dir=ltr] .faqText{width:79%}
}.contactForm .contactFormField{background-color:White}#actionBarWrapper{width:100%;display:none;height:27px;font-weight:bold;font-size:13px;background-color:#FFF}
#actionBarContainer{height:100%;background-color:inherit}.actionBar{padding-top:5px;padding-right:5px;padding-left:5px}
.actionBar A,.actionBar A:visited{text-decoration:none}.actionBarText{float:left;margin-right:15px}
.actionBarSep{padding:0 10px;text-align:center;float:left;display:none}#actionBarContainer{direction:ltr}
#actionBarQuery A,#actionBarChat A{display:none;float:left}A#ancEmailChatSend,A#ancEmailChatCancel{display:inherit}
.repByEmail,.customLink{text-align:right;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -111px;padding:0 0 0 24px}
.noActionBarIcon{background:0}.repByChat,.customChat{text-align:right;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -128px;padding:0 0 0 24px}
.repByVoice{text-align:right;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -627px;padding:0 0 0 22px}
#chatPane .clientIcon,#chatPane .agentIcon{display:none}#widgetFooterWrapper{position:relative;width:100%}
.widgetFooterDecoration{background:#fff;height:2px;opacity:.25;filter:alpha(opacity=25);-ms-filter:"alpha(opacity=25)";width:100%;position:absolute;bottom:0;left:0;font-size:0;line-height:1px}
#widgetFooter{height:20px;padding:0 5px;line-height:19px;font-size:11px;vertical-align:middle}
#widgetMinimizedFooter{display:none;height:4px;font-size:0;position:relative}
#widgetFooter A,#widgetFooter A:visited{text-decoration:none}#customerLogo,#customerBrandingText{display:none;float:left}
#footerChatLink{display:none;float:left;cursor:default}#footerNanoRepLink{float:right;margin-right:-5px}
#chatStatusWrapper{display:none;width:100%}#chatStatusSystem{display:none;line-height:20px;clear:both;width:70%;margin:0 25px}
#chatStatusContainer{min-height:37px;font-size:12px;padding:0 0 0 10px;line-height:37px}
#chatStatus{float:left;width:70%;white-space:nowrap;overflow:hidden}#chatStatusIcon{float:left;height:18px;width:22px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -128px;margin:11px 3px 0 0}
#chatStatusContainer.chatStatusContainerMinimized{height:28px;line-height:28px}
#chatStatusContainer.chatStatusContainerMinimized #chatStatusIcon{margin-top:6px}
#chatStatusContainer.chatStatusContainerMinimized #chatStatus{width:80%}.chatStatusAgentName{font-weight:bold}
#closeChat{float:right;width:69px;white-space:nowrap;overflow:hidden;font-size:12px}
#chatPane{display:none;line-height:150%;font-size:13px;padding:5px 10px 10px}
#actionBarChat,#actionBarChatSurvey{display:none}#chatInputWrapper{position:relative;display:none;height:52px;padding-top:3px}
#chatInputContainer{height:46px;padding:3px 0 0 0;margin:0 3px 0;background-color:#FFF}
#txtChatInput{width:70%;height:40px;float:left;border:0;resize:none;overflow:auto;font-size:13px;margin:0 0 0 5px;border:0}
#btnSendChat{height:30px;float:right;margin:6px 3px 0 0;-webkit-appearance:none}
#chatPane .padded{padding:0 0 5px 0;word-wrap:break-word}#chatPane .chatSysMsg{font-style:italic;color:#aaa}
#chatPane .chatAgentName{font-weight:bold;color:#13469F}#emailChatContainer{width:100%;margin-top:-2px;display:none}
#txtEmailChat{float:left;width:130px;height:15px}#ancEmailChatSend,#ancEmailChatCancel{display:block;float:left;margin:2px 0 0 7px}
#chatSuggestions{display:none;position:absolute;width:98%;top:54px;left:3px;overflow:hidden;z-index:10;opacity:.95;filter:alpha(opacity=95);-ms-filter:"alpha(opacity=95)"}
.chatSuggestion{overflow:hidden;padding:3px 5px 2px;cursor:pointer}.quickAnswerHeading{font-style:italic;padding:2px 0 4px 0}
.quickAnswerTitle{font-weight:bold;padding:0 0 2px 5px;font-size:13px}.quickAnswerExpand{width:12px;height:12px;margin:4px 0 0 0;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -183px}
.quickAnswerCollapsed{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -149px}
.quickAnswerBody{padding:0 0 0 15px;margin:0 0 0 6px;border-left:solid 1px}
.translationTooltip{position:absolute;top:0;left:0;padding:3px;font-size:11px;visibility:hidden}
.translationTooltip P{margin:0}.answerSourceIcon{display:block;width:21px;height:15px;background-repeat:no-repeat}
.twitterSourceIcon{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -92px}
#customLink{display:none}ul.attachments{margin:0;padding:10px 0 0 10px}ul.attachments li{list-style:none;min-height:18px;margin:4px 0 0 0}
ul.attachments li:before{float:left;width:23px;height:18px;content:'';background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -222px}
#logoInCollapsedMode{display:none}.link_nano{color:#346a7a}.link_nano_img{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAKCAYAAAAdIbZyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDM0MiwgMjAxMC8wMS8xMC0xODowNjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRkFENDRDRkY3N0QxMUUzQjAwQThCOEJEMjZCNjZFNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRkFENDREMEY3N0QxMUUzQjAwQThCOEJEMjZCNjZFNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBGQUQ0NENERjc3RDExRTNCMDBBOEI4QkQyNkI2NkU3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBGQUQ0NENFRjc3RDExRTNCMDBBOEI4QkQyNkI2NkU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+WLmBvAAAAvxJREFUeNrUldtvy2EYx3+HdoatmIh1dHMYLS6IkIgYF4Q4lAvRxCGIQ+J0gTl1CTckJMIFhguHmyHBZMFMZBLEFnHBhZhlGTaqkQXdWtp1v7Y/3ye+Td41+wc8yafv7/Q873N8q2uatgr8AAvAeNAE7oNf2j9xgZVgPvgOboEPYBiffQFzgAe8BC9AnLrDwVK+7wS3Qcjr9Wp+vz8vEomsxf0+8A7sBeUgCKaDMLgEboIMMMASfj8NfARnwEMTP6/BZjACpMEmMBs0UvEa2Aa6+XwneEXDz8BGMBkUg11gDHgOhlB3O79dDNYYhtHk8/m63G53ZTKZrMaz36COe0mCimi/iH5ZoFl0QQ3IB2/ABPry3kHHa8EWZm8WuA42gCSYAlbTkMgNcAxU0TlxYCtIgeXgMhNQwowt46bi1B1d16ssyzqJAPbgusG27XVMkFR/NB2TbigDF+lXM1fpBD9oBWO5d1CCiNKxrEhpH4BFvK+XaJX35xikly1ylQGIPAKPGXQhuKvoSntegOMHTNOch+sC7tPN7JaCPrACrAcJ8Jnvpc0msfKttBfKBpethKU4aTDDUmYbjKNDPXwvzg8Fedworug6ea8rug5W1OTMpZH9OIJJch+RXuol2OdtbG+ZqXbayWcgxazIIDAVdBn8eLDWX9x0qIbtdJYDugOcpkFxdNQAuiVcpb8rwAkwF+wGh5xOZ63L5QrRmQJFr5p2g5yzSg6xJCvCSlawCw6De2Ch6DnYi2HFWJo9LME9BUdoWNooxpYZCb6CJ5IJRVcy+5aZb+Ts7OfpZnPQz6MKM0BdJpNpwaopQUuFDzJhP8EVrhOZ1G88BU/xRD0qM6jToajSUjqNmXQ6w+yWsqU6GGCEVYgqM6HzSNYU3XIOoXzf4vF4rEAgkBeLxQpTqdQfBNGbU8kyVjjGvSQhM+UoBQ3gONtMWu+T+O1gpKrYnAdVwjnVSuSsqm5PzrN2okrfAPtmpZOooist3JGrYGj/h0T5R9rGQPrJXwEGAA8b5+lRZh6uAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:0 6px;width:57px;height:17px;display:block;padding-top:1px;line-height:17px}
.link_go_response{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAASCAYAAAGMSKZoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmY2FhYzMzZC04MGFhLTY0NDQtOGVjZC1hNzFmZDA3OTA4MTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkY5M0E0NDAwRDI4MTFFNUE0NUFGMjc2NTZEMzAwOUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkY5M0E0M0YwRDI4MTFFNUE0NUFGMjc2NTZEMzAwOUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZmNhYWMzM2QtODBhYS02NDQ0LThlY2QtYTcxZmQwNzkwODEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmZjYWFjMzNkLTgwYWEtNjQ0NC04ZWNkLWE3MWZkMDc5MDgxMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmb6KhAAAARdSURBVHjaYvz//z8DLsDi7+8Pou2YmZlDgHTe379/FYD0cyAuYcSnEyCA8EqyBAQENAIV6AONrQXyTYDGzgfSUkBsjVcnQAAx+vn5MQB1cQDZzEBdOkC6C8i3hykAiqFo2LhxI8RKqOR2IHUPiOcCNV0B0plAvBaIfwOxKchQIH4GxBJAn4PYfwECCK9zCDmTG6iZ8d+/fx5A9hpkBdicyQJUxAqUWA7k+4IMgcptBeKvQHwQiNmAmBuIQU5qBTrRjwmoAeR2kL8EoBpmA/FhIK4CYiMg7gfivUAM8q8MEJ8gy08AAQT2EwHQB/RCES5JdD+jA1hUgQATiAAa5gnE/2GYkZExAOp3kFw3kIok4CAxLGJqGMkRKW14A3EoEH8D4nYgFoeqSYDy5YA4CYgXQsUFgfgqEDcAMTsQg3xfBkqUUD1vgPgWMKIygPQWIP4OC0YrIPYE4lQgXgDVmAfEG4D4BQMFADkYAQKIrIgmB+BLHKDgbQbGVyU+A4hNHEwwAaCBvKAcxsTEJAjKOEChz0DMCzSIiRo+gqXAeUDqExB/Aaa+u0DDn0HjKgcoFw2kRfGYIYVDXBFb0FkC8SogLgdiWyAGpRhGoCWzgHQaVO1cYHwuBDqEE5SSoEWCKNBRbVA1oGLjJzRV3gbip0DsCM35M2DBchyID0At/ABN6iDAi+SoI0BLEqFJ+BAQr4Qm5cvQFAsqf48CsTAQnwNibSDmAcYRyKJJyOEP0mwAxBagcgcqlg3NP6CaxBiI3wMxJ1ROHVhaFgDpydD8dBIaEruAOBZq1nFgfgL5VhMUdCCXhAPxTCCeDy3gQAXiMiBeQ2kigKU6uuUjgADdljsoxWEYxqOjDEI6iRTlUlIni5QyGBRlo9gZlAyGw8CkDEixKIYzmSwoO5EMLpEJJbcMEg6TW/I89VN/OuUyIP96+t+/9/u+932f5/mxQD95fEY5Eh3W5UbhSsgSatQNS98Z6CNy+QqlvhENOMLVXyuMmCdozTu6JFUZ7VZRV9Kiiyh7WHjQv7d/KVOhwHVcE9/Wuc88Izrwu2Zc0qgWFGFB9yiiN8K8My5cCk/CmLD5Qcw8c5RiTSvGI89sgRx7KPCd3dgz8p8EfF9Kwx/4IzFDsrL1rHOObgvMfaFAGZzhnwaElHcTqQpcdwpHXPcLC8Jg4H0YK1AvFGEjXZprWAGT7pgWZL82C6HH4NgSqsP2LIq3a2Fjo4xvutw1pwrtWlAHzwuFOnN26N3k91ltLzuaxo4dM5kDZScW6IO7BPIUg68XMEmm0lO4+BrfvCVMaZxinSNku0xowvN4IyqwNsMIRyOt4DEy0IEOZaiBOSwz/9NEwt3GbmfihF1ydv0rLjFNJD2Q3VYEY47AzkwX6tSDCT4RduhRH6vcT8lIFNDDcZ5PkuVyMjeBKFUL58K8uUG4IIbN9o0wo4ztMW6+2S+P9GZTv3aM69RtsK5fHaUHyqW3NoTD3ySFROz3L3XqBdvBaDBJrnH7AAAAAElFTkSuQmCC)!important;margin-top:-8px!important;padding-top:8px!important;padding-left:4px}
.link_nano_img.padding{padding-right:53px;background-position:60px 6px}*+html .link_nano_img.padding{padding-right:0;width:107px}
.link_rep{color:#315552}#widgetBlocker{display:none;position:absolute;left:0;top:0;width:100%;height:100%}
.widgetFAQBlocker,#blockerOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;opacity:.4;z-index:1;filter:alpha(opacity=40);-ms-filter:"alpha(opacity=40)"}
.overlay{position:fixed;z-index:2;display:none}.widgetFAQBlocker{background-color:#555}
#blockerContent{position:absolute;left:50%;top:50%;width:121px;height:20px;padding:10px;margin:-59px 0 0 -60px;color:#000;background-color:#c0c0c0;text-align:center;direction:ltr;z-index:1;border-radius:5px 5px 5px 5px;-moz-border-radius:5px 5px 5px 5px}
#phoneNumberOverlay{padding:10px 20px;background:#fff;width:290px;min-height:205px;border:3px solid #bbb;text-align:center}
#phoneNumberOverlay A.phoneNumber{margin-top:20px;font-size:27px;color:#0099c8;max-width:250px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;direction:ltr;display:inline-block}
#phoneNumberOverlay A.phoneNumber:before{content:'';float:left;width:24px;height:32px;background:url(/widget/skins/phone_big.png?cv=8D3A592913BB16C) no-repeat 0 0;margin-right:12px;margin-top:5px;background-clip:content-box;display:inline-block}
#phoneNumberOverlay div.phoneDetails{float:left;width:90%;font-size:14px;text-align:center;padding:15px 5%;color:#252525;max-height:100px;overflow:auto;display:inline-block}
#phoneNumberOverlay div.buttonWrapper{display:block;position:absolute;bottom:4px;text-align:center;width:290px;background:#fff;padding:9px 0}
#phoneNumberOverlay A.button{height:26px;line-height:26px;background-color:#0099c8;color:#FFF;font-size:14px;font-family:Arial;text-align:center;padding:2px 24px;text-decoration:none;display:inline-block}
.surveyLoading{position:absolute;left:50%;top:50%;width:142px;height:20px;margin:10px 0 0 -58px;font-size:16px}
#blockerContent .surveyLoading{margin-top:-11px}.surveyLoading .searchAnim{float:left;margin:-1px 0 0 5px}
.surveyLoading .searchAnim DIV{float:left;height:13px;width:4px;margin:5px 2px 0 0;background:#000;line-height:1px;font-size:1px}
#actionBarChatSurvey{width:100%;padding-top:7px}INPUT.inputTxt,TEXTAREA.inputTxt{border:solid 1px #c0c0c0;width:155px}
SELECT.surveySelect{width:155px}.mandatory{color:#A00;font-size:15px}.surveryHeading{font-size:13px;font-weight:bold;margin:0 0 10px 0}
TD.question{width:155px;font-weight:bold;vertical-align:top}#chatSurveySubmitButton{border-radius:5px;-moz-border-radius:5px;padding:3px 22px 3px 20px;margin:0;background:#1A85D5;color:white}
#chatSurveyCloseButton{border-radius:5px;-moz-border-radius:5px;padding:3px 15px;margin:0;background:#777;color:white;margin-right:15px}
.validationError TR TD{background-color:#a00;color:#fff}.validationError .mandatory{color:#fff}
A#mobileBackBtn{background:none repeat scroll 0 0 #FFF;border:1px solid #BBB;border-radius:4px;color:#000;font-size:12px;opacity:.6;padding:3px 3px 1px 3px;text-decoration:none}
A#mobileLink{display:none;text-decoration:none;position:absolute;top:0;left:0;z-index:1}
#mobileScrollPadding{width:100%;display:none}#debugPopup{position:absolute;top:0;left:0;width:130px;border:1px solid #aaa;background:#f8f8f8;display:none;padding:2px;direction:ltr;text-align:left;z-index:5}
#debugPopup A{color:#07c;padding:1px;text-decoration:none;font-size:10px;display:block}
.olrk-state-expanded{display:none!important}#SnapABug_Button,#SnapABug_W,#SnapABug_WP{display:none}
.likesDefaultPadding{padding:0 15px}.answerTable.faq .faqLikesPadding{padding:0 34px}
blockquote.enabled{padding:20px 25px 20px 35px;margin:0;color:#eb7600!important;cursor:pointer;background-color:#fff9e6;position:relative}
blockquote.enabled *{color:#eb7600!important}blockquote.enabled *:first-child{margin-top:15px!important}
blockquote.enabled p:last-child{margin-bottom:0!important;padding-bottom:0!important}
blockquote.enabled *:last-child{margin-bottom:15px!important;padding-bottom:0!important}
blockquote.enabled::before{content:"";background-image:url(/widget/skins/sprites.png?cv=8D3A592913BB16C);background-position:0 -677px;background-color:#fff9e6;background-repeat:no-repeat;width:16px;height:16px;position:absolute;right:auto;left:10px;top:10px}
blockquote.enabled::after{content:"";background-repeat:no-repeat;background-image:url(/widget/skins/sprites.png?cv=8D3A592913BB16C);background-position:0 -699px;background-color:#fff9e6;width:16px;height:16px;position:absolute;left:auto;right:10px;bottom:10px}
blockquote.enabled:hover::before{background-position:0 -721px;background-color:#ffe2b3}
blockquote.enabled:hover::after{background-position:0 -743px;background-color:#ffe2b3}
blockquote.enabled:hover{background-color:#ffe2b3}blockquote.enabled:hover *{color:#ad3700!important}
blockquote.enabled:hover{color:#ad3700!important}@-moz-document url-prefix(){body>img{position:fixed;top:-500px}
}#speechButton{width:28px;height:28px;position:absolute;right:16px;top:9px;cursor:pointer;display:none}
.fullscreenMobile.isRtl #speechButton{left:18px;right:auto}#speechButton .speech_microphone{width:28px;height:28px;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -870px;position:absolute;z-index:2}
#speechButton.active .speech_microphone{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -906px}
#speechButton.active .speech_ring{display:block}#speechButton .speech_ring{display:none;position:absolute;top:0;left:0;width:20px;height:20px;border:4px solid #aaa;-webkit-border-radius:30px;-webkit-animation:pulsate 1s ease-out;-webkit-animation-iteration-count:infinite;opacity:.0}
#speechButton.command-mode .speech_ring{border:4px solid orange}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(0.1,0.1);opacity:.0}
30%{opacity:1.0}50%{opacity:1.0}100%{-webkit-transform:scale(1.1,1.1);opacity:.0}
}</style>

<style type="text/css">@import url(//fonts.googleapis.com/css?family=Roboto:300,400,500,700);#fontPreloader{position:absolute;font-size:10px;top:-9999px}
#fontPreloader #fw100{font-weight:100}#fontPreloader #fw300{font-weight:300}
#fontPreloader #fw400{font-weight:400}#fontPreloader #fw500{font-weight:500}
#fontPreloader #fw700{font-weight:700}html.widgetskin_css_file{direction:rtl}
*{font-family:'Roboto',Arial,sans-serif}body,table,td,input,textarea,div,span,p{font-family:inherit;font-size:14px}
.contactForm .CF_listDivItem input[type="checkbox"],.contactForm .CF_listRadioDiv .CF_listDivItem input{margin-top:4px}
.contactForm{background-color:#f9f9f9}#widgetContainer{position:absolute;background-color:#e6e6e6;border:solid 1px #009fd4;border-top-width:1px;border-bottom-width:1px;-moz-border-radius:5px 5px 5px 5px;-webkit-border-radius:5px 5px 5px 5px;border-radius:5px 5px 5px 5px;overflow:hidden;*border:0}
#widgetContainer.fullScreen{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}
#widgetContainer.fullScreen #floatButtonsWrapper{display:none}.fullscreenMobile{background:#e6e6e6}
.fullscreenMobile .nr-feedback-dialog{padding:15px 0 15px 15px}.fullscreenMobile #faqList{padding-bottom:20px;z-index:2}
.fullscreenMobile #widgetFooterWrapper{height:0!important;z-index:0!important;bottom:20px!important;overflow:visible!important;position:absolute!important}
.fullscreenMobile #widgetFooter{background:none!important}.fullscreenMobile #footerNanoRepLink{margin:0 7px}
.fullscreenMobile .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons{width:43px}
.widgetBGcolor{background-color:#009fd4}.widgetBGColorAsText{color:#009fd4}
.widgetTextColor{color:#fff}#widgetTitleWrapper{background-color:#009fd4;line-height:normal;height:50px}
#widgetTitleText{float:none;color:#fff;width:auto;padding:0;margin:0 18px;text-align:center;font-weight:300;font-size:18px;line-height:50px}
.nr-widget-state-minified #widgetTitleWrapper,.nr-widget-state-teaser #widgetTitleWrapper{height:35px}
.nr-widget-state-teaser #widgetTitleText{font-size:18px;font-weight:300;line-height:35px}
.nr-widget-state-minified #widgetTitleText{display:none}.nr-widget-state-minified #floatButtonsWrapper,.nr-widget-state-teaser #floatButtonsWrapper{padding:0}
.nr-widget-state-minified #floatButtonsWrapper a,.nr-widget-state-teaser #floatButtonsWrapper a{padding:8px;margin-top:0}
.nr-widget-state-minified .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons,.nr-widget-state-teaser .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons{line-height:35px}
.nr-widget-state-minified .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-area,.nr-widget-state-teaser .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-area{height:35px}
.nr-widget-state-minified .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-input,.nr-widget-state-teaser .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-input{padding:8px 35px 7px 10px;font-size:16px}
.nr-widget-state-minified .nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-input,.nr-widget-state-teaser .nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-input{padding:8px 10px 8px 35px}
.nr-widget-state-minified .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-placeholder,.nr-widget-state-teaser .nr-autocomplete.nr-autocomplete-default .nr-autocomplete-placeholder{margin:8px 35px 8px 10px;font-size:16px}
.nr-widget-state-minified .nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-placeholder,.nr-widget-state-teaser .nr-autocomplete-rtl.nr-autocomplete-default .nr-autocomplete-placeholder{margin:8px 10px 8px 35px}
#floatButtonsWrapper{position:absolute;width:auto;padding:0 6px;top:0;left:0}
#floatButtonsWrapper i.nr-svg-icon{width:20px;height:20px}#floatButtonsWrapper a{display:inline-block;overflow:hidden;border-bottom:0;padding:8px;margin:7px -10px 0 0;width:20px;height:20px;float:left}
#searchContainerWrapper{background-color:#fff;height:34px;border-bottom:solid 1px #ccc;text-align:left}
#searchContainer{left:0;right:0;height:31px;line-height:31px}#searchTextboxContainer{left:0;bottom:3px;right:0}
#txtSearch{color:#4a4949;width:90%;padding:4px 0;font-size:15px;margin-top:1px;margin-left:12px;height:20px}
DIV.searchAnim{margin:5px 5px 0}@media screen and (-webkit-min-device-pixel-ratio:0){::i-block-chrome,#txtSearch.initialText{font-style:normal}
}.nanoRepMP_likeIcon{margin-top:0;background-position:0 -243px}.nanoRepMP_likeIconCurrent{background-position:0 -265px}
.nanoRepMP_likeIcon.noCount{padding-top:0;margin-top:5px;margin-bottom:5px;height:20px}
.nanoRepMP_likeIcon SPAN{background-color:#fff;width:18px;height:13px;line-height:12px;display:block;text-align:center;font-size:10px}
.nanoRepMP_likeIcon.noCount SPAN{display:none}.answerTable.faq .titleText h3{color:#444;font-size:15px;padding:0}
#contentArea{width:100%}#contentAreaWrapper{color:#5F6061;width:auto;background-color:#eee}
@-moz-document url-prefix(http://),url-prefix(https://){scrollbar{-moz-appearance:none!important;background:#ccc!important}
thumb,scrollbarbutton{-moz-appearance:none!important;background-color:#fff!important}
scrollbar[orient="vertical"]{min-width:8px!important}
}#contentAreaWrapper::-webkit-scrollbar-track,#phoneNumberOverlay div.phoneDetails::-webkit-scrollbar-track{background-color:#eaeaea}
#contentAreaWrapper::-webkit-scrollbar-thumb,#phoneNumberOverlay div.phoneDetails::-webkit-scrollbar-thumb{background-color:#cbcbcb;border:0}
#contentAreaWrapper::-webkit-scrollbar-thumb:hover,#phoneNumberOverlay div.phoneDetails::-webkit-scrollbar-thumb:hover{background-color:#cbcbcb}
#contentAreaWrapper::-webkit-scrollbar,#phoneNumberOverlay div.phoneDetails::-webkit-scrollbar{width:5px}
#contentAreaWrapper::-webkit-scrollbar-button:vertical,#phoneNumberOverlay div.phoneDetails::-webkit-scrollbar-button:vertical{height:0;width:0;background:#eaeaea}
#answerPane{margin:0;padding:5px}.answerTable{padding:8px;background-color:#fff;-moz-border-radius:4px 4px 4px 4px;-webkit-border-radius:4px 4px 4px 4px;border-radius:4px 4px 4px 4px;border:solid 1px #e1e1e1;margin-bottom:7px;line-height:22px}
.answerTable .answerBody{*padding:0 8px 8px}.answerTable .TRanswerOnMouseout,.answerTable .TRanswerOnMouseover{*padding:8px 8px 0}
A.thumbUp{background-position:3px -243px}A.thumbUpApplied{background-position:3px -265px}
.noActionBarIcon{line-height:30px;padding-left:5px}#resultsHint{color:#b5b5b5}
.answerIcon{width:23px}.answerIcon .likes{float:left;width:100%;text-align:center}
A.translationIcon{float:right}.answerTitle,.answerTitle h3{color:#000;font-size:16px;font-weight:400}
.answerTitle h3{padding-bottom:14px}.answerBody{font-size:14px;color:#666}
.answerBody p{margin-top:0}.noResults{font-size:13px;padding-left:7px;padding-right:7px}
.faqTitle,.faqTitle h2{color:#666;margin-left:8px;font-weight:normal}.faqTitle h2{margin:0}
.answerTable.faq{margin-bottom:4px;padding:9px 0}.answerTable.faq:hover{background-color:#fff}
.nanoRepMP_dislikeIcon{background-position:1px -286px;margin-right:10px;margin-left:0}
.nanoRepMP_dislikeIconCurrent{background-position:1px -310px}.nanoRepMP_dislikeIconOpen{background-color:#fff;border:0;box-shadow:none;-moz-box-shadow:none}
.answerTable.faq .titleText{font-size:15px;color:#444;position:relative;*position:inherit}
.answerTable.faq .titleText h3{line-height:19px}.answerTable.faq .answerTitle>DIV.titleText:before{position:absolute;top:10%;bottom:6%}
.answerTable.faq .titleText:before{width:9px;height:9px;content:'';background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 0;margin-top:auto;margin-bottom:auto;margin-left:-22px;border:solid 1px #FFF;background-clip:content-box}
.answerTable.faq .answerTitle.expanded>DIV.titleText:before{background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -10px;height:8px;border:solid 1px #FFF;background-clip:content-box}
.answerTable.faq .faqText,.answerTable.faq[dir=ltr] .faqText{clear:none;float:left;margin:0 0 5px 34px}
.answerTable.faq .answerIcon{padding-right:10px;vertical-align:middle}#actionBarWrapper{position:absolute;width:70%;color:#5F6061;background-color:#f0f0f0;border-top:solid 1px #ccc;z-index:1;font-weight:normal}
#emailChatContainer{margin-top:1px;padding-top:4px}.actionBar A,.actionBar A:visited{color:#727070}
.actionBar{padding-top:0;min-width:160px}#actionBarChatSurvey{padding-top:4px}
#chatSurveyCloseButton{border-radius:3px;-moz-border-radius:3px;padding:1px 15px 3px;margin:0;background:#999;color:white;margin-right:15px}
#chatSurveySubmitButton{border-radius:3px;-moz-border-radius:3px;padding:1px 22px 3px 20px;margin:0;background:#1899F9;color:white}
#widgetFooterWrapper{color:#959595}#widgetFooter A,#widgetFooter A:visited,#widgetFooter A .link_nano,#widgetFooter A .link_rep{color:#959595}
#footerNanoRepLink i{font-style:normal;font-size:10px}#footerNanoRepLink .bold{font-weight:normal;font-size:10px}
#widgetMinimizedFooter{background-color:#009fd4;-moz-border-radius:0 0 2px 2px;-webkit-border-radius:0 0 2px 2px;border-radius:0 0 2px 2px;height:0;display:none}
.widgetFooterDecoration{height:0}#actionBarText,#actionBarSep,#widgetTitleDecoration,#widgetFooterDecoration,.actionBarSep{display:none!important}
.repByEmail,.repByChat,.customChat,.customLink,.repByVoice{background:0;height:30px;line-height:29px;border-right:solid 1px #ccc;padding:0 12px 0 7px;text-align:left}
.repByEmail:before,.repByChat:before,.customChat:before,.repByVoice:before{content:'';float:left;width:20px;height:15px;background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -340px;margin-right:4px;margin-top:6px;border:solid 1px #F0F0F0;background-clip:content-box}
.repByChat,.customChat:before{margin-left:5px}.repByChat:before,.customChat:before{background-position:0 -359px;height:17px;margin-top:5px}
.repByVoice:before{background-position:0 -650px;height:17px;margin-top:5px}
#chatStatusContainer.chatStatusContainerMinimized{min-height:34px;line-height:29px}
#closeChat{color:#5F6061;text-decoration:none}#chatInputWrapper{background-color:#F0F0F0;padding:0;height:46px}
#chatInputContainer{border:solid 1px #D8D6D6;margin:0;padding:0}#txtEmailChat{color:#666;border:1px solid #D8D6D6}
#btnSendChat{background-color:#009fd4;border:0;color:#fff;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;border-radius:3px 3px 3px 3px;margin:7px 8px 0 0;padding:0 14px;font-size:15px;line-height:32px;height:32px;-webkit-appearance:none}
#chatSuggestions{border:1px solid #D8D6D6;background:#fff;top:24px;left:0;width:83%}
.chatSuggestionHover{background:#DCE6F4}#chatStatusContainer{background-color:#f6f6f6;border-bottom:solid 1px #e8e8e8;color:#5F6061}
#chatStatusSystem{padding:0 5px}#chatStatusIcon{background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat -1px -516px;width:25px;border:solid 1px #F6F6F6;background-clip:content-box;margin-top:9px}
#txtChatInput{margin-top:2px;padding-left:8px}.chatMe{display:none}.chatAgentName{display:none}
#chatPane{width:100%;min-height:42px}#chatPane:after{content:" ";display:block;height:0;clear:both}
.surveyLoading{top:36%}.quickAnswer{float:left;width:100%}#chatPane .padded,.quickAnswer .quickAnswerContainer{background-color:#fff;margin-top:10px;padding:15px;-moz-border-radius:4px 4px 4px 4px;-webkit-border-radius:4px 4px 4px 4px;border-radius:4px 4px 4px 4px;width:75%;border:solid 1px #e8e8e8}
.quickAnswer .quickAnswerContainer{width:auto;margin-top:0}.quickAnswer .quickAnswerContainer TD.quickAnswerExpandIcon{width:16px}
.quickAnswer TABLE{width:100%}#chatPane .padded.agent{float:left}#chatPane .padded.client{float:right}
.quickAnswerHeading{font-style:normal;font-size:12px;color:#9f9f9f;clear:both}
.quickAnswer .quickAnswerTitle,.quickAnswer .quickAnswerBody{color:#222;font-weight:normal;border:0;margin:0}
.quickAnswer .quickAnswerBody{padding:0 0 0 22px}.quickAnswerExpand{background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -10px;height:8px;width:9px;margin-top:4px;border:solid 1px #FFF;background-clip:content-box}
.quickAnswerExpand.quickAnswerCollapsed{background-position:0 0;height:9px}
#chatPane .chatLine{width:100%;clear:both}#chatPane .chatLine:after{clear:both;content:'';height:0;display:block}
#chatPane .clientIcon,#chatPane .agentIcon{margin-top:12px;width:34px;float:right;height:34px;margin-top:9px;background:#009fd4 url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat -3px -473px;margin-left:9px;display:block;overflow:hidden;border:solid 1px #EEE;background-clip:content-box}
#chatPane .agentIcon{float:left;margin-right:10px;margin-left:0;background-position:-3px -431px;margin-top:10px}
.quickAnswer{color:#2D3F87}.translationTooltip{border:solid 1px #c0c0c0;background-color:#f3f4f8}
#logoInCollapsedMode{position:absolute;top:46px;right:3px;left:auto}#logoInCollapsedMode A{cursor:default;font-weight:normal;font-size:16px;text-decoration:none;font-family:Times New Roman}
#logoInCollapsedMode a.link_nano{color:#5d8292;font-family:Times New Roman}
#logoInCollapsedMode .link_rep{color:#476462;font-family:Times New Roman}
#searchSuggestions{background-color:transparent;border-left:none;border-right:0;position:relative}
.autoCompleteDiv{padding:3px 9px 3px 13px;font-size:13px}#chatPane .padded.mobile{width:70%}
.nanoRepMP_dislikeOptions.mobile{width:250px}#mobileScrollPadding{float:left}
.nanoRepMP_dislikeOptions.mobile table label{font-size:11px}#contentArea{box-sizing:border-box;width:auto;height:auto;margin:0;padding:7px 7px 5px}
#contentArea:after{content:'';display:block;clear:both;height:0}
#answerList{margin:0}#contentAreaWrapper{background:#e8e8e8;color:#3b3b3b}
#customChatContainer{position:relative;margin:-7px;min-height:400px;display:none}
#widgetContainer{border-radius:0;border:0}#clearQuery{display:none!important}
#searchContainerWrapper{box-shadow:0 3px 4.75px .25px #bababa;position:relative;height:50px;z-index:9999;border:0}
#widgetFooter{border-top:0;background:#e8e8e8!important;padding:0;height:20px!important}
#footerNanoRepLink{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAKCAQAAAC3KH75AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAHySURBVCjPrdFdaM1xHMfx1zkOZsm2i6WVzlzY5GGyNi1DyY20mykXlAukIVwquyALay5MmGV5LIk2T+V4ykNKzcPSLjQpsTmkGbOs+c/MdlzsZFvmzvvq9/78fr/v51e/UGyXe9aZqlmNTmTYbr5Par0wUbn7Nkjz1DE9SLPZPHG13mOCCmU+yrPSfrN0qFFpAFvsFBVXWVIXiiVw02slUizwwzP9bsmz1ApvtRp0VbtSXYpFPBb2QL4cS7Q4YaNGZ8TdEXddoSJVym1y3Bv3LTFLWSiWsMs+TNbsqm5rLBCgxnxrtVrvLDK1qJKhVJFASL1U67VrsFrCA4uU+CLsvOkyvNKrQGCSJqkRxECPK2YacEMAGpSB6+Czu6LmaBAg4ZxTcoVck8AM410yRJ+obEcF6PXQ1ohhetEhN2k5xoOBpPejUzRpUZ0iyTt8EJYrQNigdCw2zoBxin0aWQGnNapw2WxV/uakW56LKVChckR+xAVP1Cu0TBbI98hty+Urj3jpS/LgB5M1WeWQ3brV2abbKz+Su22+uafMQbX6VKuW7Z1WcFGmPfbqVyeQhjZzLRTY60AoNsZjTdFjUMqf8SOJmKYj+V+j8yxffUe6LoftkKXdzxKRsRp0w5gF/NL2j/z9KO8XH1qE/X++6/B2WH8Dc/+oXwdFP/4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMDYtMDFUMTI6NDA6MzIrMDA6MDBvpq64AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTA2LTAxVDEyOjQwOjMyKzAwOjAwHvsWBAAAAABJRU5ErkJggg==') 4px 4px no-repeat;text-indent:-9999px;overflow:hidden;width:58px;height:15px;margin:0 3px;padding:0}
#contentAreaWrapper .nr-customchat,#contentAreaWrapper .nr-customchat-area-overlay{position:absolute;top:0;left:0;right:0;bottom:0}
#contentAreaWrapper .nr-customchat-area-overlay{overflow:auto}#contentAreaWrapper .nr-customchat .nr-customchat-header{height:80px;overflow:hidden}
#contentAreaWrapper .nr-customchat .nr-customchat-log{min-height:0;max-height:none;padding-top:5px;padding-bottom:10px;position:absolute;top:80px;left:0;right:0;bottom:51px}
#contentAreaWrapper .nr-customchat.nr-customchat-system-message-visible .nr-customchat-log{top:100px}
#contentAreaWrapper .nr-customchat .nr-customchat-input{position:absolute;bottom:0;left:0;right:0}
#contentAreaTitle{background:#faa;height:60px}.nr-faq-area .nr-answering-list{margin:0}
.nr-faq-section{padding:30px 0 0}.nr-faq-section>h2{color:#0099c8;font-size:18px;font-weight:400;margin:0 11px 12px}
.nr-answering-list-empty+#faqList .nr-faq-section:first-child{padding-top:23px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-area{border:0;height:50px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-buttons{line-height:50px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-placeholder{font-weight:400;font-size:16px;line-height:20px;margin:16px 18px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-input{font-weight:300;font-size:16px;line-height:19px;padding-top:16px;padding-bottom:15px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-drop{box-shadow:0 3px 4.75px .25px #dfdfdf;border-color:#eaeaea;border-width:1px 0 0;margin:-1px 0 0}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-drop li{padding:10px 18px}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-drop span{font-size:16px;font-weight:300}
.nr-autocomplete.nr-autocomplete-default .nr-autocomplete-drop span b{font-weight:500}
.nr-customchat-entry-answer{margin:15px 0}.nr-customchat-entry-answer .nr-sharing,.nr-customchat-entry-answer .nr-answering-answer-footer{display:none!important}
.nr-customchat-entry-answer .nr-answering-answer-toggle-icon{margin-top:18px}
.nr-customchat-input .nr-autocomplete{display:block;margin:0 32px 0 0}.noResults{font-size:14px;padding:14px 16px 7px}
.backLink{font-size:14px;padding:0 3px 6px;cursor:pointer;text-decoration:none}
.nr-answering-list[nr-no-results] .nr-answering-answer,.nr-answering-list[nr-no-results][data-hover-accordion] .nr-answering-answer:first-child,.nr-answering-list[nr-no-results] .nr-answering-answer-header,.nr-answering-list[nr-no-results] .nr-answering-answer-body{box-shadow:none!important;background:none!important}
.nr-answering-list[nr-no-results] .nr-answering-answer-footer,.nr-answering-list[nr-no-results] .nr-answering-answer-bottom-menu{box-shadow:none!important;height:auto}
.nr-answering-list[nr-no-results] .nr-answering-answer-footer{box-shadow:0 -4px 5px 0 rgba(0,0,0,0.03)!important}
.nr-answering-list[nr-no-results] .nr-answering-answer-title,.nr-answering-list[nr-no-results][data-hover-accordion] .nr-answering-answer-open .nr-answering-answer-title{max-width:none;cursor:default;padding:0;margin:0;height:auto;line-height:normal}
.nr-answering-list[nr-no-results] .nr-answering-answer-title-text{color:#3b3b3b!important}
.nr-answering-list[nr-no-results] .nr-answering-answer-header{padding:19px 0 15px}
.nr-answering-list[nr-no-results] .nr-answering-answer-buttons-wrapper,.nr-answering-list[nr-no-results] .nr-answering-answer-body *{display:none}
.nr-answering-list[nr-no-results] .nr-channeling-actionbar{padding:0;width:100%}
.nr-answering-list[nr-no-results] .nr-channeling-actionbar{background:#fff!important}
.nr-answering-list[nr-no-results] .nr-channeling-actionbar:before{content:'';position:absolute;background:#fff;top:0;left:0;right:0;bottom:0}
.nr-answering-list[nr-no-results] .nr-channeling-actionbar-buttons{margin:0 auto}
#searchContainer{display:none}#searchContainerWrapper,#searchTextboxContainer,#searchTextboxContainer{position:relative;height:auto;top:auto;bottom:auto}
#contentAreaWrapper{transition:opacity .25s ease;opacity:1}.nr-search-active #contentAreaWrapper,.nr-suggestions-visible #contentAreaWrapper{opacity:0}
.nr-suggestions-visible #contentArea *{display:none}.nr-search-active:after,.nr-suggestions-visible:after{background:transparent;position:absolute;content:'';top:0;left:0;right:0;bottom:0;z-index:1}
#translationSwitcher{border-top:1px solid #e8e8e8;margin:-7px -7px 7px;position:relative;display:none;z-index:9999}
#chatInviteContainer{display:none;overflow:hidden;cursor:pointer;padding:0 0 7px;margin:0}
#customerLogo,#customerBrandingText{display:none!important}.nr-feedback-survey{border:1px solid #eaeaea;color:#575656;text-align:center;border-width:0 1px;margin:0 -1px 0;padding-top:2px;height:53px}
.nr-feedback-survey-btn{line-height:20px;width:70px;padding:0}.nr-feedback-survey-title{margin:0}
#contextBar{overflow:hidden;margin:-6px -7px 0;padding:0 0 7px;position:relative;z-index:9999}
#contextBar .nr-context-bar{padding:6px 11px}</style><style type="text/css" id="fileloaderStyleSheet1">html.rtl_css_file{direction:rtl}html,body{direction:rtl}
body *{font-family:arial!important}#widgetTitleText{float:right}#minimizeButtonWrapper,#minimizeButton{float:left}
#searchContainer{text-align:right}#searchTextboxContainer{right:2px;left:25px}
#txtSearch{padding-left:0;padding-right:5px}#clearQuery{position:absolute;left:8px;right:auto}
DIV.searchAnim{float:left;margin:2px 5px 0 0}DIV.searchAnim DIV{margin:7px 0 0 2px}
DIV.searchAnimTranslating{padding:0 4px 0 0}#contentAreaWrapper{direction:rtl}
#contentAreaWrapper::-webkit-scrollbar-thumb{border-left:0;border-right:solid 1px #ccc}
#answerPane{padding-left:7px;padding-right:7px}.answerIcon{text-align:left}
.nanoRepMP_likeIcon{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -244px}
.answerBody div.nanoRepMP_likeIconCurrent,.nanoRepMP_likeIconCurrent{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -266px}
.nanoRepMP_dislikeIcon{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -287px}
.nanoRepMP_dislikeIconCurrent{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -310px}
.nanoRepMP_dislikeIconOpen{background-position:0 -286px}.nanoRepMP_dislikeOptions{direction:rtl;text-align:right}
A.thumbUp{float:left}.answerTable.faq{font-family:'Open Sans',Arial}
.answerTable.faq:hover{background-color:#E5E5E5}.answerTable.faq .titleText{padding:0 36px 0 0;font-family:'Open Sans',Arial}
.answerTable.faq .titleText:before{float:right;margin:0 -27px 0 12px}.answerTable.faq .faqText{margin:10px 37px 5px 0;font-family:'Open Sans',Arial}
.answerTable.faq[dir=ltr] .nanoRepMP_dislikeIcon{float:right;padding:0 0 0 26px;margin-right:6px}
.answerTable.faq[dir=ltr] .answerTitle>DIV.titleText{padding:0 0 0 36px}.answerTable.faq[dir=ltr] .answerTitle>DIV.titleText:before{float:left;margin:0 12px 0 -27px}
.answerTitle,.answerTitle .titleText h3{font-family:'Open Sans',Arial}
TD.autoLink .progressBar,TD.autoLink .cancel{float:right}#chatStatusContainer{padding:0 10px 0 0}
#chatStatus{float:right}#chatStatusIcon{float:right;margin:11px 0 0 3px}#closeChat{float:left}
#actionBarChat{text-align:left}#txtChatInput{margin:0 5px 0 0;float:right}
#btnSendChat{float:left;margin:6px 0 0 3px}.quickAnswerTitle{padding:0 5px 0 0}
.quickAnswerCollapsed{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 0 -164px}
.quickAnswerBody{border-left:none;border-right:solid 1px;padding:0 15px 0 0;margin:0 7px 0 0}
ul.attachments li:before{float:right;background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat 4px -219px}
.articlelikeContainer>.iDontLike{float:right;margin-right:5px}.articlelikeContainer>.iLike{float:right}
.answerIcon .newlikes{margin-top:4px}.answerIcon .newlikesRTL{margin-top:6px}
blockquote.enabled{padding:20px 35px 20px 25px}blockquote.enabled::before{background-position:0 -765px;right:10px;left:auto}
blockquote.enabled:hover::before{background-position:0 -811px}blockquote.enabled::after{background-position:0 -789px;right:auto;left:10px}
blockquote.enabled:hover::after{background-position:0 -833px}</style><style type="text/css" id="fileloaderStyleSheet2">html.rtl_css_file{direction:rtl}.actionBarText{float:right;margin-right:0;margin-left:15px}
.actionBarSep{float:right}#actionBarQuery{direction:rtl}#actionBarQuery A,#actionBarChat A{float:right}
.actionBar A,.actionBar A:visited{text-align:left}.repByEmail{background:0;padding:0;white-space:nowrap}
.repByEmail:before{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat scroll 0 -111px;content:"";float:right;height:15px;margin:0 2px 0 8px;width:19px}
.repByChat,.customChat{background:0;padding:0;margin-right:-6px;white-space:nowrap}
.repByChat:before{background:url(/widget/skins/sprites.png?cv=8D3A592913BB16C) no-repeat scroll 0 -128px;content:"";float:right;height:15px;margin:0 2px 0 8px;width:19px}
#txtEmailChat{float:right}#ancEmailChatSend,#ancEmailChatCancel{float:right;margin:2px 7px 0 0}</style><style type="text/css" id="fileloaderStyleSheet3">
</style><style type="text/css" id="fileloaderStyleSheet3">html.skinrtl_css_file{direction:rtl}
*{font-family:'Open Sans',Arial}.contactForm .CF_listDivItem input[type="checkbox"],.contactForm .CF_listRadioDiv .CF_listDivItem input{margin-top:2px}
body,table,td,input,textarea{font-family:'Open Sans',Arial}
#widgetTitleText{padding:0 10px 0 0}#logoInCollapsedMode{left:10px;right:auto}
.nanoRepMP_dislikeIcon{margin-right:0;margin-left:9px}.answerTable.faq .faqText{clear:none;float:right;margin:0 35px 5px 0}
#searchContainerWrapper{text-align:right}#widgetTitleText{font-size:16px}
#txtSearch{font-size:16px;margin-right:12px;font-family:'Open Sans',Arial}
.autoCompleteDiv{font-family:'Open Sans',Arial}.noResults{font-family:'Open Sans',Arial}
.repByEmail,.repByChat,.customChat,.customLink{border-right:0;border-left:solid 1px #ccc;padding:0 7px 0 12px}
.repByEmail:before,.repByChat:before,.customChat:before{float:right;margin-right:0;margin-left:5px}
#footerNanoRepLink{float:left}.nanoRepMP_likeIcon{background-position:0 -244px}
.nanoRepMP_likeIconCurrent{background-position:0 -265px}.nanoRepMP_dislikeIcon{background-position:1px -286px}
.nanoRepMP_dislikeIconCurrent{background-position:1px -310px}#chatPane{float:right}
.chatSysMsg{direction:ltr;text-align:right}#chatStatus{text-align:right}#chatPane .agentIcon{float:right;margin-left:10px;margin-right:0}
#chatPane .clientIcon{float:left;margin-right:10px;margin-left:0}#chatPane .padded.agent{float:right;clear:left}
#chatPane .padded.client{float:left;clear:right}#btnSendChat{margin:8px 0 0 8px}
#chatSuggestions{left:auto;right:0}.quickAnswer{float:right}.quickAnswer .quickAnswerTitle,.quickAnswer .quickAnswerBody{font-family:'Open Sans',Arial}
.noActionBarIcon{padding-right:6px}.nanoRepMP_dislikeOptionsBtns a.buttonLink{margin-right:10px}
#actionBarWrapper{left:auto;right:2px}.faqTitle h2{font-family:'Open Sans',Arial;font-weight:400}
.answerTable.faq,.answerTable.faq .titleText h3{font-family:'Open Sans',Arial;font-weight:400}
.answerTable.faq .titleText:before{right:39px}.answerTable TABLE[dir=ltr] .answerTitle>DIV.titleText:before{right:auto;margin:auto;margin-right:12px;margin-left:-27px}
.answerTable.faq .answerIcon{padding-left:10px</style><style type="text/css">htmlCustomCSS{"visibility:visible;"}	 .widgetTextColor, h1#widgetTitleText, .widgetBGcolor, #widgetTitleText {	 font-family: Gisha;	 font-size: 18px;	 font-weight:normal;	 text-decoration:none;	 font-style:normal;	 color: White;}	 div#widgetTitleWrapper, .widgetBGcolor{	 background-color: #54B53E;}	.widgetBGColorAsText{	 color: #54B53E;}	 div#widgetFooterWrapper {	 background-color: #54B53E;}	 div#widgetMinimizedFooter {	 background-color: #54B53E;} #repByEmail{display:none!important} #widgetTitleText{ font-size: 17px!important;} #widgetTitleWrapper{display: flex;}</style><style type="text/css">.nr-no-svg svg{display:none !important;}.nr-svg-icon svg{display:block;width:100%;height:100%;}.nr-feedback-thumbs-like:focus .nr-feedback-fill, .nr-feedback-thumbs-dislike:focus .nr-feedback-fill, .nr-feedback-thumbs-like:hover .nr-feedback-fill, .nr-feedback-thumbs-dislike:hover .nr-feedback-fill{stroke:#54B53E;}.nr-feedback-thumbs .nr-feedback-fill{stroke:#3b3b3b;fill:transparent;}.nr-no-svg .nr-feedback-thumbs-like .nr-svg-icon, .nr-no-svg .nr-feedback-thumbs-dislike .nr-svg-icon{background-color:#3b3b3b;}.nr-channeling-title{color:#54B53E;}.nr-lp-transcript .nr-lp-transcript-action-highlight{background-color:#54B53E;}.nr-channeling-actionbar{color:#3b3b3b;}.nr-channeling-actionbar .nr-actionbar-icon{fill:#3b3b3b;}.nr-no-svg .nr-channeling-actionbar .nr-svg-icon{background-color:#3b3b3b;}.nr-channeling-actionbar-buttontext:focus, .nr-channeling-actionbar-buttontext:hover{color:#54B53E;}.nr-channeling-actionbar-buttontext:focus .nr-actionbar-icon, .nr-channeling-actionbar-buttontext:hover .nr-actionbar-icon{fill:#54B53E;}.nr-channeling-actionbar li.nr-channeling-active:before{background:#54B53E;}.nr-channeling-active .nr-channeling-actionbar-buttontext{color:#3b3b3b;}.nr-channeling-active .nr-channeling-actionbar-buttontext .nr-actionbar-icon{fill:#3b3b3b;}.nr-answering-answer-title-text:focus{color:#54B53E;}.nr-answering-answer-toggle-icon svg .nr-expand-button-fill{fill:#54B53E;}.nr-answering-answer .nr-answering-answer-autolink-progress-bar{background-color:rgb(115,218,92);}.nr-answering-answer .nr-answering-answer-autolink-progress-bar:hover{background-color:rgb(156,226,139);}.nr-answering-answer .nr-answering-answer-autolink-progress-bar-bg{background-color:#54B53E;}.nr-answering-answer .nr-answering-answer-autolink-progress-bar-text{color:white;}.nr-answering-answer .nr-answering-answer-autolink-progress-bar-completed{color:white;}.nr-answering-answer-autolink .nr-answering-answer-autolink-cancel{color:rgb(237,247,235);}.nr-answering-answer-autolink .nr-answering-answer-autolink-cancel:hover{background-color:rgb(156,226,139);}.nr-answering-answer-new-tab-icon svg .nr-new-tab-fill{fill:#54B53E;}.nr-sharing .nr-sharing-fill{fill:#3b3b3b;}.nr-no-svg .nr-sharing .nr-svg-fallback{background-color:#3b3b3b;}.nr-sharing .nr-sharing-toggle{fill:#54B53E;}.nr-sharing a:hover .nr-sharing-fill, .nr-sharing a:focus .nr-sharing-fill{fill:#54B53E;}.nr-no-svg .nr-sharing a:hover .nr-svg-fallback{background-color:#54B53E;}.nr-faq-section > h2, .nr-answering-list[data-hover-accordion] .nr-answering-answer-open .nr-answering-answer-title{color:#54B53E;}</style></head>
<body onload="ISQ.Widget.init()" onunload="" onblur="ISQ.Widget.onBlurHandler()" class="isRtl nr-widget-state-teaser">
	<!-- widget container -->
	<div id="widgetContainer" class="borderBoxSizing nr-widget-no-content" style="display: block;">
		<!-- custom code (supported in side widget) -->
		<div id="widgetTopCustomCode"></div>

		<div id="widgetTopSection">
			<!-- widget title -->
			<div id="widgetTitleWrapper" style="cursor: pointer;">
				<div id="widgetTitleDecoration"></div>
				<div id="widgetTitleLeft"></div>
				<div id="widgetTitleText" tabindex="0" aria-label="  ?">  ?</div>
				<div id="widgetTitleRight"></div>
				<div id="floatButtonsWrapper">
					<a id="closeButton" href="javascript:void(0)" onclick="ISQ.Widget.HTML.closeBtnClicked();" aria-label=" " style="display: inline-block;">
						<i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#fff" d="M14.73,4.58a0.7,0.7,0,0,1,.48.22,0.75,0.75,0,0,1,0,1L5.8,15.22a0.71,0.71,0,0,1-1-1L14.2,4.8a0.7,0.7,0,0,1,.53-0.22"></path><path fill="#fff" d="M15.42,14.73a0.7,0.7,0,0,1-.22.48,0.75,0.75,0,0,1-1,0L4.78,5.8a0.71,0.71,0,0,1,1-1L15.2,14.2a0.7,0.7,0,0,1,.22.53"></path><path fill="#fff" d="M16.49,1.24h-13a2.3,2.3,0,0,0-2.28,2.1s0,0.09,0,.14v13a2.31,2.31,0,0,0,2.3,2.3h13a2.3,2.3,0,0,0,2.28-2.1s0-.09,0-0.14v-13A2.31,2.31,0,0,0,16.49,1.24ZM3.56,17.9a1.42,1.42,0,0,1-1.44-1.44V3.53A1.42,1.42,0,0,1,3.56,2.1H16.44a1.42,1.42,0,0,1,1.44,1.44V16.47a1.42,1.42,0,0,1-1.44,1.44H3.56Z"></path></svg></i>
					</a>
					<a id="toggleBiggerButton" href="javascript:void(0)" onclick="ISQ.Widget.HTML.toggleBiggerBtnClicked()" aria-label=" " style="display: none;">
						<i id="toggleBiggerButtonInactiveIcon" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#fff" d="M8.59,10.69a0.7,0.7,0,0,1,.48.22,0.75,0.75,0,0,1,0,1L2.5,18.5a0.75,0.75,0,0,1-1,0,0.75,0.75,0,0,1,0-1l6.58-6.58a0.7,0.7,0,0,1,.53-0.22"></path><path fill="#fff" d="M2,18.63a0.7,0.7,0,0,1-.48-0.22,0.81,0.81,0,0,1-.22-0.53L1.4,14.34a0.72,0.72,0,0,1,1.45,0l-0.13,2.8,2.81-.09a0.72,0.72,0,1,1,0,1.44L2,18.63H2"></path><path fill="#fff" d="M18.07,1.2a0.7,0.7,0,0,1,.48.22,0.75,0.75,0,0,1,0,1L12,9a0.71,0.71,0,1,1-1-1l6.58-6.58a0.7,0.7,0,0,1,.53-0.22"></path><path fill="#fff" d="M18.06,1.27a0.7,0.7,0,0,1,.48.22,0.81,0.81,0,0,1,.22.53L18.63,5.56a0.72,0.72,0,0,1-1.45,0l0.13-2.8-2.81.09a0.76,0.76,0,0,1-.74-0.7,0.76,0.76,0,0,1,.7-0.74l3.59-.09h0"></path><path fill="#fff" d="M12.23,1.24H3.5a2.31,2.31,0,0,0-2.3,2.3v8.75H2V3.55A1.43,1.43,0,0,1,3.44,2.11h8.8V1.24Z"></path><path fill="#fff" d="M17.89,7.8v8.7a1.42,1.42,0,0,1-1.44,1.44H7.7V18.8h8.75a2.35,2.35,0,0,0,2.36-2.24V7.8H17.89Z"></path></svg></i>
						<i id="toggleBiggerButtonActiveIcon" style="display:none" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#fff" d="M1.95,18.7a0.7,0.7,0,0,1-.48-0.22,0.75,0.75,0,0,1,0-1L8,10.89a0.71,0.71,0,0,1,1,1L2.48,18.48a0.7,0.7,0,0,1-.53.22"></path><path fill="#fff" d="M8.57,10.76a0.7,0.7,0,0,1,.48.22,0.81,0.81,0,0,1,.22.53L9.14,15.06A0.72,0.72,0,0,1,7.7,15l0.13-2.8L5,12.3a0.72,0.72,0,1,1,0-1.44l3.59-.09h0"></path><path fill="#fff" d="M11.46,9.21A0.7,0.7,0,0,1,11,9a0.75,0.75,0,0,1,0-1L17.56,1.4a0.75,0.75,0,0,1,1,0,0.75,0.75,0,0,1,0,1L12,9a0.7,0.7,0,0,1-.53.22"></path><path fill="#fff" d="M11.46,9.14A0.7,0.7,0,0,1,11,8.92a0.81,0.81,0,0,1-.22-0.53l0.13-3.55a0.72,0.72,0,0,1,1.45,0l-0.13,2.8L15,7.6a0.72,0.72,0,1,1,0,1.44l-3.59.09h0"></path><path fill="#fff" d="M12.23,1.24H3.5a2.31,2.31,0,0,0-2.3,2.3v8.75H2V3.55A1.43,1.43,0,0,1,3.44,2.11h8.8V1.24Z"></path><path fill="#fff" d="M17.89,7.8v8.7a1.42,1.42,0,0,1-1.44,1.44H7.7V18.8h8.75a2.35,2.35,0,0,0,2.36-2.24V7.8H17.89Z"></path></svg></i>
					</a>
					<a id="minimizeButton" href="javascript:void(0)" onclick="ISQ.Widget.HTML.minimizeBtnClicked();" aria-label=" " style="display: none;">
						<i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#fff" d="M18,1.34a0.7,0.7,0,0,1,.48.22,0.74,0.74,0,0,1,0,1L11.95,9.13a0.71,0.71,0,1,1-1-1l6.57-6.57A0.7,0.7,0,0,1,18,1.34"></path><path fill="#fff" d="M11.43,9.26A0.7,0.7,0,0,1,10.94,9a0.81,0.81,0,0,1-.22-0.52L10.86,5A0.72,0.72,0,0,1,12.3,5l-0.13,2.8L15,7.73a0.72,0.72,0,1,1,0,1.44l-3.59.09h0"></path><path fill="#fff" d="M3.56,1.24H12.3V2.1H3.56A1.42,1.42,0,0,0,2.13,3.53V16.47A1.42,1.42,0,0,0,3.56,17.9h13A1.42,1.42,0,0,0,18,16.47V7.73h0.8v8.74a2.31,2.31,0,0,1-2.3,2.3h-13a2.31,2.31,0,0,1-2.3-2.3v-13A2.34,2.34,0,0,1,3.56,1.24"></path></svg></i>
					</a>
					<a id="expandButton" href="javascript:void(0)" onclick="ISQ.Widget.HTML.expandBtnClicked();" aria-label="  " style="display: none;">
						<i class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#fff" d="M8.59,10.69a0.7,0.7,0,0,1,.48.22,0.75,0.75,0,0,1,0,1L2.5,18.5a0.75,0.75,0,0,1-1,0,0.75,0.75,0,0,1,0-1l6.58-6.58a0.7,0.7,0,0,1,.53-0.22"></path><path fill="#fff" d="M2,18.63a0.7,0.7,0,0,1-.48-0.22,0.81,0.81,0,0,1-.22-0.53L1.4,14.34a0.72,0.72,0,0,1,1.45,0l-0.13,2.8,2.81-.09a0.72,0.72,0,1,1,0,1.44L2,18.63H2"></path><path fill="#fff" d="M18.07,1.2a0.7,0.7,0,0,1,.48.22,0.75,0.75,0,0,1,0,1L12,9a0.71,0.71,0,1,1-1-1l6.58-6.58a0.7,0.7,0,0,1,.53-0.22"></path><path fill="#fff" d="M18.06,1.27a0.7,0.7,0,0,1,.48.22,0.81,0.81,0,0,1,.22.53L18.63,5.56a0.72,0.72,0,0,1-1.45,0l0.13-2.8-2.81.09a0.76,0.76,0,0,1-.74-0.7,0.76,0.76,0,0,1,.7-0.74l3.59-.09h0"></path><path fill="#fff" d="M12.23,1.24H3.5a2.31,2.31,0,0,0-2.3,2.3v8.75H2V3.55A1.43,1.43,0,0,1,3.44,2.11h8.8V1.24Z"></path><path fill="#fff" d="M17.89,7.8v8.7a1.42,1.42,0,0,1-1.44,1.44H7.7V18.8h8.75a2.35,2.35,0,0,0,2.36-2.24V7.8H17.89Z"></path></svg></i>
					</a>
				</div>
			</div>
			<!-- /widget title -->

			<!-- search -->
			<div id="searchContainerWrapper">
				<div id="searchContainerLeft"></div>
				<div id="searchContainer"></div>
				<div id="searchTextboxContainer">
					<div class="nr-autocomplete nr-autocomplete-rtl nr-autocomplete-default nr-autocomplete-position-bottom" alloy-template="nr-autocomplete" id="queryField">
	<div class="nr-autocomplete-area ">	
		<div class="nr-autocomplete-placeholders" alloy-if="!value">
			<span class="nr-autocomplete-placeholder nr-autocomplete-placeholder-active">   </span><!--placeholder in placeholders | ITERATOR idx-->
		</div>
		<div class="nr-autocomplete-inputwrapper">
			<input type="text" aria-describedby="nr-query-field-description" class="nr-autocomplete-input" alloy-this="value" alloy-bind-event-focus="onFocus()" alloy-bind-event-blur="onBlur()" alloy-bind-event-input="onChangeDebouncer()" alloy-bind-event-keydown="onKeyPress(e)" alloy-bind-event-keyup="onChangeDebouncer()" alloy-bind-event-change="onChangeDebouncer()" alloy-bind-event-paste="onChangeDebouncer()" autocomplete="off" aria-label="   " maxlength="250">
			<span id="nr-query-field-description" class="nr-autocomplete-ariahelper">   </span>
			<span role="status" aria-live="polite" class="nr-autocomplete-ariahelper"></span>
		</div>
		<div class="nr-autocomplete-buttons">
			<div class="nr-autocomplete-reset" alloy-if="showResetButton &amp;&amp; value &amp;&amp; !speechRecognitionActive" style="display: none;"><a href="javascript:void(0)" data-role="button" aria-label="  " alloy-bind-event-click="reset()" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M10.57,11a0.43,0.43,0,0,1-.3-0.13L0.13,0.74A0.43,0.43,0,0,1,.74.13L10.87,10.26A0.43,0.43,0,0,1,10.57,11Z"></path><path d="M0.43,11a0.43,0.43,0,0,1-.3-0.74L10.26,0.13a0.43,0.43,0,0,1,.61.61L0.74,10.87A0.43,0.43,0,0,1,.43,11Z"></path></svg></a></div>
			<div class="nr-autocomplete-speech" alloy-if="!(showResetButton &amp;&amp; value &amp;&amp; !speechRecognitionActive) &amp;&amp; showVoiceButton &amp;&amp; speechRecognitionSupported" style="display: none;"><a href="javascript:void(0)" data-role="button" aria-label="  " alloy-bind-event-click="toggleSpeechRecognition()" class="nr-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path fill="#bebebe" d="M12.5,20.36A7.87,7.87,0,0,1,4.64,12.5a1,1,0,1,1,2,0,5.89,5.89,0,1,0,11.78,0,1,1,0,1,1,2,0A7.87,7.87,0,0,1,12.5,20.36Z"></path><path fill="#bebebe" d="M12.5,2.19A2.46,2.46,0,0,0,10,4.64V12.5a2.45,2.45,0,0,0,4.91,0V4.64A2.46,2.46,0,0,0,12.5,2.19Zm0,14.73A4.42,4.42,0,0,1,8.08,12.5V4.64a4.42,4.42,0,1,1,8.84,0V12.5A4.42,4.42,0,0,1,12.5,16.92Z"></path><path fill="#bebebe" d="M12.5,24.28a1,1,0,0,1-1-1V19.37a1,1,0,0,1,2,0V23.3A1,1,0,0,1,12.5,24.28Z"></path><path fill="#bebebe" d="M15,24.77H10a1,1,0,1,1,0-2H15A1,1,0,1,1,15,24.77Z"></path></svg></a></div>
		</div>
	</div>
	<div class="nr-autocomplete-drop" alloy-if="showSuggestions &amp;&amp; dropVisible &amp;&amp; !speechRecognitionActive" style="display: none;">
		<ul alloy-bind-event-mouseover="onHover($domElement, e)" alloy-bind-event-click="onSelect($domElement, e)" alloy-bind-event-mousedown="onMouseDown($domElement, e)">
			<!--choice in choices | ITERATOR idx-->
		</ul>
	</div>
</div>
				</div>
				<div id="searchContainerRight"></div>
				<div id="speechButton">
					<div class="speech_microphone"></div> 
					<div class="speech_ring"></div>
				</div>
			</div>
			<!-- /search -->

		</div>

		<div id="widgetBottomSection">

			<!-- content area -->
			<div id="contentAreaWrapper" class="empty" style="height: 0px;">
				<div id="contentArea">
					<div id="contextBar" style="display: none"></div>
					<div id="contextSwitcher"></div>
					<div id="translationSwitcher"></div>
					<div id="widgetStatusContainer"></div>
					<div id="chatInviteContainer"></div>
					<div class="nr-answering-list nr-answering-list-empty" alloy-template="nr-answering-list" id="answerList" data-hover-accordion="" data-hover-accordion-mode="simple" style="height: 0px;">
	<!--answer in answers-->
</div>
					<div id="faqList"></div>
					<div id="customChatContainer"></div>
				</div>
			</div>
			<!-- /content area -->

			<!-- widget footer -->
			<div id="widgetFooterWrapper" style="display: none;">
				<div class="widgetFooterDecoration"></div>
				<div id="widgetFooter">
					<img id="customerLogo" alt="">
					<div id="customerBrandingText"></div>
					<a id="footerNanoRepLink" target="_blank" aria-label="   " href="http://www.nanorep.com/?source=poweredBy&amp;aid=yad2&amp;utm_source=yad2.co.il&amp;utm_medium=widget&amp;utm_content=float" class="link_nano_img padding"><i>powered by</i><!--[if IE 7]> nanoRep<![endif]--></a>
					<a id="footerChatLink" target="_blank" href="javascript:void(0);">Chat by <span class="normal bold">LivePerson</span></a>
				</div>
			</div>
			<div id="widgetMinimizedFooter" style="display: block;">
				<div class="widgetFooterDecoration"></div>
			</div>
			<!-- /widget footer -->

			<!-- custom code (supported in side widget) -->
			<div id="widgetBottomCustomCode"></div>

		</div>
	</div>
	<!-- widget container -->

	<!-- logo in collapsed mode -->
	<div id="logoInCollapsedMode" style="display: none;"></div>

	<!-- loading div -->
	<div id="widgetLoading" style="display: none;">
	</div>

	<!-- preload all font-weights for default @font-face -->
	<div id="fontPreloader">
		<div id="fw100">.</div>
		<div id="fw300">.</div>
		<div id="fw400">.</div>
		<div id="fw500">.</div>
		<div id="fw700">.</div>
	</div>

	<!-- cdc iframe container -->
	<div id="iframeContainer"></div>

	<!-- add custom shadow for the widget -->
	<script>
		// set external styles
		ISQ.Widget.widgetLoadedEvent.addHandler(function() {
			if (ISQ.Widget.API.runPageScript && window.addEventListener) {
				ISQ.Widget.API.runPageScript(
					"(function(text) {" +
						"var style = document.createElement('style');" +
						"if (style.styleSheet) {" +
							"style.styleSheet.cssText = text;" +
						"} else {" +
							"style.appendChild(document.createTextNode(text))" +
						"}" +
						"document.querySelector('head').appendChild(style);" +
					"}('" +
						"iframe[id^=\"nanoRep\"] {" +
							"box-shadow: 0px 7px 24px 6px rgba(0, 0, 0, 0.2);" +
						"}" +
						"#widgetMiniWr {" +
							"display: none !important;" +
						"}" +
					"'));" 
				);
			}
		});
	</script>



</body></html>