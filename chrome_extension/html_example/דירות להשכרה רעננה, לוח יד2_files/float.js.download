function initializeNS(a){var b=a.split(".");var d,f=window;for(var c=0;c<b.length;++c){d=f[b[c]];if(typeof(d)==="undefined"||!d){f[b[c]]=d={}}f=d}return d}function isNSexists(a){var b=a.split(".");var d=window;for(var c=0;c<b.length;++c){d=d[b[c]];if(typeof(d)==="undefined"||!d){return false}}return true}ISQ=initializeNS("ISQ");nanoRep=ISQ;ISQ.version="3.54.3.14";if(!ISQ.Base){(function(a){a.Base=function b(){};a.Base.polymorphismCtor=function(d,c){if(this.mBase!==null&&typeof(this.mBase.prototype.polymorphismCtor)==="function"){this.initBase.apply(this,c);this.mBase.prototype.polymorphismCtor(d,c)}if(this.ctor!==this.mBase.prototype.ctor){this.ctor.apply(d,c)}};a.Base.extend=function(g){var d=function(){if(typeof(g)==="object"&&g.abstractClass&&this instanceof d){throw ("Trying to create an instance of an abstract class")}if(this.mBase!==null&&typeof(this.mBase.abstractClass)==="object"){for(var i in this.mBase.abstractClass){if(typeof(this[i])!=="function"){throw ("un-implemented abstract method: "+i)}}}this.polymorphismCtor(this,arguments);if(a.runningMode>2){profiler.registerObjectCreation(this)}};for(var f in g){switch(f){case"name":case"prototype":case"abstractClass":continue}d[f]=g[f]}for(var f in this.prototype){d.prototype[f]=this.prototype[f]}if(g._prototype){for(var f in g._prototype){d.prototype[f]=g._prototype[f]}}if(typeof(g)==="object"&&g.abstractClass){d.abstractClass={}}d.prototype.polymorphismCtor=a.Base.polymorphismCtor;d.extend=this.extend;d.prototype.mBase=this;if(typeof(g)!=="object"||typeof(g.name)!=="string"){throw ("Class name is missing (ctorObject.name)")}var c=g.name.replace(/^\s+|\s+$/g,"");if(!c){throw ("Invalid class name")}d.prototype.__className__=d.__className__=c;return d};a.Base.__className__="Base Class";a.Base.prototype.__className__="Base Class";a.Base.prototype.mBase=null;a.Base.prototype.mIsDisposed=false;a.Base.prototype.ctor=function(){};a.Base.prototype.dtor=function(){delete this.mBase};a.Base.prototype.initBase=function(){};a.Base.prototype.isDisposed=function(){return this.mIsDisposed
};a.Base.prototype.executeBaseMethod=function(d,c){if(!this.mBase){throw ("Alloy.Base.prototype.executeBaseMethod: no base!")}this.mBase.prototype[d].apply(this,c||[])};a.Base.prototype.dispose=function(){if(this.mIsDisposed){return false}this.mIsDisposed=true;var d=this.dtor.apply(this,arguments);if(d===false){this.mIsDisposed=false;return false}if(a.runningMode>2){profiler.registerObjectDisposal(this)}var c=this.mBase;while(c!==null){c.prototype.dtor.apply(this,arguments);c=c.prototype.mBase}this.__dispose__();return true};a.Base.prototype.__dispose__=function(){for(var d in this){try{switch(d){case"mBase":case"__dispose__":case"polymorphismCtor":case"extend":case"__className__":continue;break}if(typeof(this[d])==="undefined"||this[d]===null){continue}if(typeof(this[d])!=="function"&&typeof(this[d])!=="object"){continue}if(typeof(this[d].dispose)==="function"){this[d].dispose()}if(this[d] instanceof Array){for(var f in this[d]){if(this[d][f]&&typeof(this[d][f].dispose)==="function"){this[d][f].dispose()}}}delete this[d]}catch(c){if(a.runningMode>1){alert("base::__dispose__: error disposing:"+d)}}}};a.Base.prototype.isDerivedOf=function(c,f){f=f===true;if(f&&this.__className__===c.__className__){return false}if(this.__className__===c.__className__){return true}var g=false;var d=this.mBase;while(d!==null&&!g){if(c.__className__===d.__className__){g=true}d=d.prototype.mBase}return g};a.Base.isDerivedOf=function(c,d){if(c===null){return false}if(typeof(c)!=="object"||typeof(c.isDerivedOf)!=="function"){return false}return c.isDerivedOf(d)};a.Event=a.Base.extend({name:"Event"});a.Event.prototype.ctor=function(){this.mCount=0};a.Event.prototype.dtor=function(){if(this.handlers!==null){var d=this.handlers.length;for(var c=0;c<d;++c){if(this.handlers[c]!==null){this.handlers[c].dispose()}}delete this.handlers}this.handlers=null};a.Event.prototype.handlers=null;a.Event.prototype.mCount=0;a.Event.prototype.mRemovedHandler=false;a.Event.prototype.dispatch=function(){if(this.isDisposed()){return}if(this.handlers===null){return
}var g=this.handlers.length;for(var f=0;f<g;++f){if(this.isDisposed()){return}var d=this.handlers[f];try{if(!d){continue}if(d.isDisposed()){this.mRemovedHandler=true;this.handlers[f]=null}else{d.handle.apply(d,arguments)}}catch(c){if(a.runningMode){throw (c)}}}if(this.isDisposed()){return}if(this.mRemovedHandler){this.cleanDisposedHandlers()}};a.Event.prototype.cleanDisposedHandlers=function(){if(!this.mRemovedHandler){return}var d=this.handlers.length;for(var c=0;c<d;++c){if(this.handlers[c]===null){this.handlers.splice(c,1);--c;--d}}this.mRemovedHandler=false};a.Event.prototype.clear=function(){if(!this.handlers){return}var d=this.handlers.length;for(var c=0;c<d;++c){this.handlers[c].dispose()}this.handlers=null};a.Event.prototype.addHandlerObject=function(d){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()}var g=this.handlers.length;for(var f=0;f<g;++f){var c=this.handlers[f];if(c!==null&&c.func===d.func&&c.context===d.context){return}}this.handlers.push(d);++this.mCount;this.cleanDisposedHandlers();return d};a.Event.prototype.addHandler=function(d,c){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()}var k=this.handlers.length;for(var j=0;j<k;++j){var f=this.handlers[j];if(f!==null&&f.func===d&&f.context===c){return}}var g=new a.Handler(d,c);this.handlers.push(g);++this.mCount;d=null;c=null;this.cleanDisposedHandlers();return g};a.Event.prototype.removeHandlerObject=function(d){if(this.handlers===null){return}var g=this.handlers.length;var c=null;var f;for(f=0;f<g;++f){if(this.handlers[f]===d){--this.mCount;this.handlers[f]=null;break}}this.mRemovedHandler=true;d.dispose()};a.Event.prototype.removeHandler=function(d,c){if(this.handlers===null){return}c=c||null;var j=this.handlers.length;var f=null;var g;for(g=0;(g<j&&f===null);++g){if(this.handlers[g]!==null&&this.handlers[g].func===d&&this.handlers[g].context===c){f=this.handlers[g];this.handlers[g]=null;--this.mCount;break}}this.mRemovedHandler=true;if(f!==null){f.dispose()}d=null;c=null};a.Event.prototype.removeAllHandlers=function(){if(this.handlers===null){return
}this.handlers=null};a.Event.prototype.count=function(){return this.mCount};a.Handler=a.Base.extend({name:"Alloy.Handler"});a.Handler.toHandler=function(c){if(a.Base.isDerivedOf(c,a.Handler)){return c}return new a.Handler(c)};a.Handler.prototype.ctor=function(d,c){d=d||null;c=c||null;if(typeof(d)!=="function"){throw ("Error creating event handler: no function is passed")}this.func=d;this.context=c;return this};a.Handler.prototype.dtor=function(){delete this.func;delete this.context;this.func=null;this.context=null};a.Handler.prototype.handle=function(){return this.func.apply(this.context,arguments)};a.Handler.prototype.handleArgumentArray=function(){if(arguments.length===0){throw ("invalid use of Alloy.Handler.handleArgumentArray")}if(typeof(arguments[0].length)!=="number"){throw ("invalid array in Alloy.Handler.handleArgumentArray")}return this.func.apply(this.context,arguments[0] instanceof Array?arguments[0]:[arguments[0]])};a.Handler.prototype.func=null;a.Handler.prototype.context=null;a.Timer=a.Base.extend({name:"Alloy.Timer"});a.Timer.prototype.ctor=function(d,c){if(!a.Base.isDerivedOf(d,a.Handler)){throw ("Alloy.Timer.ctor: invalid handler")}this.mHandler=d;this.mDisposeAfterTimerElapsed=c!==false;this.mParams=new Array();if(arguments.length<=2){return}for(var f=2;f<arguments.length;++f){this.mParams.push(arguments[f])}};a.Timer.prototype.dtor=function(){this.start=null;if(this.mTimer){clearTimeout(this.mTimer);this.mTimer=null}};a.Timer.prototype.start=function(d){if(typeof(d)!=="number"){throw ("Timer interval illegal")}if(arguments.length>1){this.mParams=new Array();for(var c=1;c<arguments.length;++c){this.mParams.push(arguments[c])}}var f=this;this.mTimer=setTimeout(function(){if(f.mTimer===null){return}f.timerElapsed.apply(f,new Array())},d)};a.Timer.prototype.timerElapsed=function(){this.mHandler.handleArgumentArray(this.mParams);if(this.mDisposeAfterTimerElapsed){this.dispose()}};a.Timer.prototype.cancel=function(){if(this.mTimer===null){return}clearTimeout(this.mTimer);this.mTimer=null};a.Timer.prototype.isRunning=function(){return this.mTimer!==null
};a.Timer.prototype.mDisposeAfterTimerElapsed=true;a.Timer.prototype.mTimer=null;a.Timer.prototype.mHandler=null;a.Timer.prototype.mParams=null}(ISQ))}Date.prototype.ToString=function(d,o,p){d=d+"";p=p||false;var l=new Array();var m;for(var g=0;g<d.length;++g){var a=d.charAt(g);if(a==="%"&&g!==d.length-1){m=d.charAt(++g);switch(m){case"d":var b=p?this.getUTCDate():this.getDate();if(b<10){b="0"+b}l.push(b);break;case"m":var k="";if(d.charAt(g+1)==="m"){++g;k=p?this.getUTCMonth():this.getMonth()+1;switch(k){case 1:if(o){k=o.jan}else{k="Jan"}break;case 2:if(o){k=o.feb}else{k="Feb"}break;case 3:if(o){k=o.mar}else{k="Mar"}break;case 4:if(o){k=o.apr}else{k="Apr"}break;case 5:if(o){k=o.may}else{k="May"}break;case 6:if(o){k=o.jun}else{k="Jun"}break;case 7:if(o){k=o.jul}else{k="Jul"}break;case 8:if(o){k=o.aug}else{k="Aug"}break;case 9:if(o){k=o.sep}else{k="Sep"}break;case 10:if(o){k=o.oct}else{k="Oct"}break;case 11:if(o){k=o.nov}else{k="Nov"}break;case 12:if(o){k=o.dec}else{k="Dec"}break}}else{k=p?this.getUTCMonth():this.getMonth()+1;if(k<10){k="0"+k}}l.push(k);break;case"y":var q=this.getYear();if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11)&&(!ISQ.Http.browser.isOpera||ISQ.Http.browser.full>="opera10.52")){q+=1900}l.push(q);break;case"Y":var q=this.getYear();if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11)&&(!ISQ.Http.browser.isOpera||ISQ.Http.browser.full>="opera10.52")){q+=1900}if(q){l.push(q.toString().substr(2,2))}break;case"H":var f=p?this.getUTCHours():this.getHours();if(f<10){f="0"+f}l.push(f);break;case"M":var j=p?this.getUTCMinutes():this.getMinutes();if(j<10){j="0"+j}l.push(j);break;case"S":var n=p?this.getUTCSeconds():this.getSeconds();if(n<10){n="0"+n}l.push(n);break;case"t":var n=p?this.getUTCMilliseconds():this.getMilliseconds();if(n<10){n="0"+n}l.push(n);break;default:l.push(d.charAt(g-1));l.push(d.charAt(g));break}}else{l.push(a)}}return l.join("")};String.prototype.equals=function(k,j,d){if(!j){j=0
}if(j+k.length>this.length){return false}var g=0;var f=j+k.length;for(var c=j;c<f;++c,++g){var a=this.charCodeAt(c);var b=k.charCodeAt(g);if(a===b){continue}if(!d){return false}if(a>90){a-=32}if(b>90){b-=32}if(a!==b){return false}}return true};String.prototype.startsWith=function(b){if(this.length<b.length){return false}for(var a=0;a<b.length;++a){if(this.charAt(a)!==b.charAt(a)){return false}}return true};String.prototype.endsWith=function(b){if(this.length<b.length){return false}var c=b.length-1;for(var a=this.length-1;a>this.length-1-b.length;--a){if(b.charAt(c--)!==this.charAt(a)){return false}}return true};String.prototype.contains=function(a){return this.indexOf(a)!==-1};String.prototype.Trim=function(f){if(f){var d=this.startsWith_repeat(f);if(d<this.length){var a=this.endsWith_repeat(f);if(d!=0||a!=this.length-1){return this.substring(d,a+1)}else{return this.toString()}}else{return""}}else{var c=0;var b=this.length;for(;/\s/.test(this.charAt(c))&&c<b;++c){}if(c==b){return""}for(;/\s/.test(this.charAt(b-1));--b){}if(c==0&&b==this.length){return this+""}return this.substring(c,b)}};String.prototype.startsWith_repeat=function(b){if(this.length<b.length){return 0}var c=0;var a=0;for(;a<this.length;a++){if(this.charAt(a)!=b.charAt(c)){a-=c;break}if(c==b.length-1){c=0}else{c++}}return a};String.prototype.endsWith_repeat=function(b){if(this.length<b.length){return this.length}var c=b.length-1;var a=this.length-1;for(;a>0;a--){if(this.charAt(a)!=b.charAt(c)){a+=c;break}if(c==0){c=b.length-1}else{c--}}return a};String.prototype.LastIndexOf=function(d,c){if(this.length===0||d===null){return -1}if(d.length>this.length){return -1}if(isNaN(c)){c=this.length-d.length}var a=false;for(var b=c;b>=0;--b){a=true;for(var f=0;f<d.length;++f){if(this.charAt(b+f)!==d.charAt(f)){a=false;break}}if(a){return b}}return -1};String.prototype.LastIndexOf_char=function(a,c){c=c||this.length-1;for(var b=c;b>=0;--b){if(this.charAt(b)===a){return b}}return -1};String.prototype.setCharAt=function(b,a){if(b>this.length-1){return str}return this.substr(0,b)+a+this.substr(b+1)
};String.prototype.countCharAppearances=function(a){var b=0;for(var c=0;c<this.length;++c){if(this.charAt(c)==a){++b}}return b};String.prototype.indexOfAny=function(f,d){var a=this.length;for(var b=0;b<f.length;++b){var c=this.indexOf(f[b],d);if(c!=-1&&c<a){a=c}}if(a==this.length){return -1}return a};String.prototype.replaceMultipleOccurancesWithOne=function(a,f){var d=this.indexOf(a);if(d===-1){return this.toString()}var g=[];var c=d;var j;for(var b=0;b<this.length;++b){j=this.charAt(b);if(j!==a){g.push(j)}else{if(c!=b-1){g.push(f)}c=b}}return g.join("")};String.prototype.replacer=function(a){var d=null;for(var b=0;b<this.length;++b){var c;for(c=0;c<a.length;++c){if(this.charAt(b)===a[c].from){if(!d){d=[];d.push(this.substring(0,b))}if(a[c].to){d.push(a[c].to)}break}}if(c===a.length&&d){d.push(this.charAt(b))}}if(d){return d.join("")}else{return this}};String.prototype.escaper=function(){return this.replacer(String.escapeData)};String.escapeData=[{from:"\r",to:"\\r"},{from:"\n",to:"\\n"},{from:"\t",to:"\\t"},{from:"'",to:"'"},{from:'"',to:'\\"'},{from:"\\",to:"\\\\"}];String.prototype.replaceAll=function(b,c,a){if(typeof(a)==="undefined"){a=true}return this.replace(new RegExp(b.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(a?"gi":"g")),(typeof(c)=="string")?c.replace(/\$/g,"$$$$"):c)};String.prototype.firstLetterUpperCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)};if(!document.querySelectorAll){document.querySelectorAll=function(c){var d=document.createElement("style"),b=[],a;document.documentElement.firstChild.appendChild(d);document._qsa=[];d.styleSheet.cssText=c+"{x-qsa:expression(document._qsa && document._qsa.push(this))}";window.scrollBy(0,0);d.parentNode.removeChild(d);while(document._qsa.length){a=document._qsa.shift();a.style.removeAttribute("x-qsa");b.push(a)}document._qsa=null;return b}}if(!document.querySelector){document.querySelector=function(b){var a=document.querySelectorAll(b);return(a.length)?a[0]:null}}ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.stateEnum={KEY:5,VALUE:6};
ISQ.Tools.stringToPairArray=function(j,b,n,k,m){var c=j.length;if(c===0){return null}var g=new Array();k=k!==false;m=m!==false;var i=ISQ.Tools.stateEnum.KEY;var d="";var a=new Array();var f=0;while(f<c){switch(i){case ISQ.Tools.stateEnum.KEY:if(j.charAt(f)!==b){a.push(j.charAt(f))}else{i=ISQ.Tools.stateEnum.VALUE;d=ISQ.Tools.getStringValue(a,k);a=new Array()}break;case ISQ.Tools.stateEnum.VALUE:if(j.charAt(f)!==n){a.push(j.charAt(f))}else{i=ISQ.Tools.stateEnum.KEY;g[d]=ISQ.Tools.getStringValue(a,m);a=new Array()}break}++f}if(i===ISQ.Tools.stateEnum.VALUE){g[d]=ISQ.Tools.getStringValue(a)}return g};ISQ.Tools.getStringValue=function(a,b){b=b===true;var c=unescape(a.join("").toString()).Trim();if(b){c=c.toLowerCase()}return c};ISQ.Tools.getNumber=function(c,a){var d=typeof(c);if(typeof(c)==="number"){return c}if(typeof(c)!=="string"){c=c.toString()}var b;if(c.contains(".")){b=parseFloat(c)}else{b=parseInt(c)}if(isNaN(b)){return typeof(a)==="number"?a:NaN}return b};ISQ.Tools.verifyNumber=function(b){var a=ISQ.Tools.getNumber(b);if(isNaN(a)){throw ("ISQ.Tools.verifyNumber: given value is not a number")}};ISQ.Tools.getEnumValue=function(a,c){if(typeof(a)!=="object"||c===null){return null}for(var b in a){if(a[b]==c){return b}}return null};ISQ.Tools.getOpacityFromRGBA=function(b){if(b==="transparent"){return 0}var a=b.LastIndexOf(",");if(a===-1){throw ("ISQ.Tools.getOpacityFromRGBA(): Invalid string")}if(b.countCharAppearances(",")===2){return 100}b=b.substring(a+1);return parseInt(b)};ISQ.Tools.RGBtoHex=function(c,b,a){return ISQ.Tools.toHex(c)+ISQ.Tools.toHex(b)+ISQ.Tools.toHex(a)};ISQ.Tools.RGBtoHex2=function(a){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+ISQ.Tools.toHex(a[1])+ISQ.Tools.toHex(a[2])+ISQ.Tools.toHex(a[3])};ISQ.Tools.toHex=function(a){if(typeof(a)==="string"){a=parseInt(a)}if(typeof(a)!=="number"||a===0){return"00"}a=Math.max(0,a);a=Math.min(a,255);a=Math.round(a);return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)};ISQ.Tools.hexToRGB=function(a){var b={r:-1,g:-1,b:-1};
a=(a.charAt(0)=="#")?a.substring(1):a;b.r=parseInt(a.substring(0,2),16);b.g=parseInt(a.substring(2,4),16);b.b=parseInt(a.substring(4,6),16);return b};ISQ.Tools.getPrettyNumber=function(m,c,f,j){m=parseFloat(m);if(isNaN(m)){return m}var o="";if(f){if(m>=1073741824){m=m/1073741824;o="GB"}else{if(m>=1048576){m=m/1048576;o="MB"}else{if(m>=1024){m=m/1024;o="KB"}else{o="B"}}}}else{if(j&&m>=1000){m=m/1000;o="K"}}if(isNaN(c)&&c!==true&&c!==false){c=true}switch(c){case false:break;case 0:m=parseInt(m);break;case true:if(Math.abs(m)<10){c=2}else{if(Math.abs(m)<100){c=1}else{c=0}}m=m.toFixed(c);break;default:m=m.toFixed(c);break}if(m%1===0){m=parseInt(m)}var n=m+"";var d=null;var k=n.indexOf(".");if(k!==-1){d=n.substr(k);var p=-1;for(var g=0;g<d.length;++g){if(d.charAt(g)==="0"){if(p==-1){p=g}}else{p=-1}}if(p!=-1){d=d.substr(0,p)}if(d.length===1){d=null}n=n.substr(0,k)}m=parseInt(n);if((m/1000)>=1){var a=new Array(n.length+Math.floor((n.length-1)/3));var l=a.length;var b=0;for(var g=n.length-1;g>-1;--g){if(g<n.length-1&&b%3===0){a[l--]=","}a[l--]=n.charAt(g);++b}}else{a=[];a.push(m)}if(d!==""){a.push(d)}if(o){a.push(o)}return a.join("")};ISQ.Tools.formatPercentage=function(c){var b;var a=Math.abs(c);if(a>1000){b=(c/1000).toFixed(0)+"K "}else{if(a<1){b=c.toFixed(2)}else{if(a<10){b=c.toFixed(1)}else{b=c.toFixed(0)}}}return b+"%"};ISQ.Tools.toArray=function(d){if(d instanceof Array){return d}var b=new Array();if(typeof(d.length)!=="number"){b.push(d)}else{var c;if(d.length===0){for(c in d){b[c]=d[c]}}else{if(d.length>10000){_debug().insertText("Error converting object to an array. Object length: "+d.length);return new Array()}for(c=0;c<d.length;++c){b[c]=d[c]}}}return b};ISQ.Tools.getDateTicks=function(b,d,f,g,l){b=b.Trim();if(b===""){return -1}var c,i,m;var j=d.indexOf("dd");c=b.substr(j,2);if(isNaN(c)){return -1}j=d.indexOf("mm");i=b.substr(j,2);if(isNaN(i)){return -1}j=d.indexOf("yyyy");if(j===-1){j=d.indexOf("yy")}m=b.substr(j,4);if(isNaN(m)){return -1}var k=new Date();f=typeof(f)=="undefined"?k.getHours():f;g=typeof(g)=="undefined"?k.getMinutes():g;
l=typeof(l)=="undefined"?k.getSeconds():l;var a=new Date(m,i-1,c,f,g,l);return Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())};ISQ.Tools.getIPString=function(c){var b=false;if(c<0){c=-c;b=true}var d=new Array();if(b){d.push(256-(c%256))}else{d.push(c%256)}for(var a=2;a>=0;a--){c=Math.floor(c/256);d.push(".");if(b){d.push(255-(c%256))}else{d.push(c%256)}}return d.join("")};ISQ.Tools.getIPNum=function(c){var d=c.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(d){var b=0,f;for(var a=1;a<=4;a++){f=parseInt(d[a]);if(f<0||f>255){return null}b=b*256+f}return b}return null};ISQ.Tools.isIPsValid=function(d){if(typeof d==="string"){if(d.length==0){return true}d=d.split(",")}else{if(typeof d!=="array"){return false}}for(var a=0;a<d.length;a++){var f=d[a].split("-");if(f.length==1){if(ISQ.Tools.getIPNum(f[0])==null){return false}}else{if(f.length==2){var b=ISQ.Tools.getIPNum(f[0]);if(b==null){return false}var c=ISQ.Tools.getIPNum(f[1]);if(c==null||b>c){return false}}else{return false}}}return true};ISQ.Tools.extend=function(b,k){k=k||{};b=b===true;var d=arguments.length;var g=null;for(var c=2;c<d;c++){g=arguments[c];if(typeof(g)==="undefined"||g===null){continue}for(var f in g){var j=k[f],a=g[f];if(k===a){continue}if(typeof(a)==="undefined"){continue}if(b&&a!==null&&typeof(a)==="object"&&!a.nodeType){if(typeof(a.isDerivedOf)!=="function"||!a.isDerivedOf(ISQ.Base)){k[f]=ISQ.Tools.extend(true,j||(a.length!=null?[]:{}),a)}else{k[f]=a}}else{if(a!==undefined){k[f]=a}}}}return k};ISQ.Tools.addArrayToGC=function(b,a){b.add({dispose:function(){for(var c in a){a[c].dispose();a[c]=null}a=null}})};ISQ.Tools.blinkElement=function(a,d,c,b){if(c){ISQ.CSS.addClass(a,b);d--}else{ISQ.CSS.removeClass(a,b)}if(d){setTimeout(function(){ISQ.Tools.blinkElement(a,d,!c,b)},150)}};ISQ.Tools.toggleBlinkElement=function(a,b,c){if(a.blinkInterval){clearInterval(a.blinkInterval);ISQ.CSS.removeClass(a,b);delete a.blinkInterval;return}a.blinkInterval=setInterval(function(){if(a.blinkOn){a.blinkOn=false;
ISQ.CSS.removeClass(a,b)}else{a.blinkOn=true;ISQ.CSS.addClass(a,b)}},c||800)};ISQ.Data=initializeNS("ISQ.Data");ISQ.Data.indexOfArray=function(a,c){var b=a.length;while(b--){if(a[b]==c){return b}}return -1};ISQ.Data.inArray=function(a,b){return ISQ.Data.indexOfArray(a,b)!==-1};ISQ.Data.isObjectEmpty=function(b){for(var a in b){return false}return true};ISQ.Data.isObjectEmptyIE8=function(b){for(var a in b){if(b[a]===undefined){continue}return false}return true};ISQ.Data.parseJson=function(json){try{if(window.JSON&&JSON.parse){return JSON.parse(json)}var t=json.replace(/"(\\.|[^"\\])*"/g,"");if(!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(t)){return eval("("+json+")")}}catch(e){}};ISQ.Data.jsonToString=function(f,g,d){if(!d&&!window.Prototype){try{return JSON.stringify(f)}catch(a){}}if(!g){g=new Array()}if(f instanceof Array){g.push("[");for(var c=0;c<f.length;++c){if(c!==0){g.push(",")}ISQ.Data.jsonToString(f[c],g,true)}g.push("]")}else{if(f===null){g.push("null")}else{if(typeof(f)==="object"){g.push("{");var b=true;for(var c in f){if(!b){g.push(",")}b=false;g.push('"');g.push(c);g.push('"');g.push(":");ISQ.Data.jsonToString(f[c],g,true)}g.push("}")}else{if(typeof(f)==="string"){g.push('"');g.push(f.escaper());g.push('"')}else{g.push(f)}}}}if(!d){return g.join("")}};ISQ.Tools.appendScript=function(d,a){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.defer=true;if(d instanceof Array){d=d.join("")}if(a){var b=function(){if(ISQ.Base.isDerivedOf(a,ISQ.Handler)){a.handle()}else{a()}};if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){c.onload=b}else{c.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}b()}}}c.src=d;document.getElementsByTagName("head")[0].appendChild(c);return c};ISQ.Tools.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(l){var m="";var a,b,c,d,f,g,j;var k=0;while(k<l.length){a=l.charCodeAt(k++);b=l.charCodeAt(k++);c=l.charCodeAt(k++);d=a>>2;f=((a&3)<<4)|(b>>4);g=((b&15)<<2)|(c>>6);
j=c&63;if(isNaN(b)){g=j=64}else{if(isNaN(c)){j=64}}m=m+this._keyStr.charAt(d)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(j)}return m},decode:function(l){var m="";var a,b,c;var d,f,g,j;var k=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(k<l.length){d=this._keyStr.indexOf(l.charAt(k++));f=this._keyStr.indexOf(l.charAt(k++));g=this._keyStr.indexOf(l.charAt(k++));j=this._keyStr.indexOf(l.charAt(k++));a=(d<<2)|(f>>4);b=((f&15)<<4)|(g>>2);c=((g&3)<<6)|j;m=m+String.fromCharCode(a);if(g!=64){m=m+String.fromCharCode(b)}if(j!=64){m=m+String.fromCharCode(c)}}return m},_utf8_encode:function(d){d=d.replace(/\r\n/g,"\n");var f="";for(var b=0;b<d.length;b++){var a=d.charCodeAt(b);if(a<128){f+=String.fromCharCode(a)}else{if((a>127)&&(a<2048)){f+=String.fromCharCode((a>>6)|192);f+=String.fromCharCode((a&63)|128)}else{f+=String.fromCharCode((a>>12)|224);f+=String.fromCharCode(((a>>6)&63)|128);f+=String.fromCharCode((a&63)|128)}}}return f},_utf8_decode:function(f){var d="";var b=0;var a=c1=c2=0;while(b<f.length){a=f.charCodeAt(b);if(a<128){d+=String.fromCharCode(a);b++}else{if((a>191)&&(a<224)){c2=f.charCodeAt(b+1);d+=String.fromCharCode(((a&31)<<6)|(c2&63));b+=2}else{c2=f.charCodeAt(b+1);c3=f.charCodeAt(b+2);d+=String.fromCharCode(((a&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return d},encodeString:function(d){if(!d){return""}var a=false;for(var b=0;b<d.length&&!a;++b){if(d.charCodeAt(b)>127){a=true}}var c;if(a){d=ISQ.Tools.Base64._utf8_encode(d)}return ISQ.Tools.Base64.encode(d)},decodeString:function(a){var d=ISQ.Tools.Base64.decode(a);var b=false;for(var c=0;c<d.length&&!b;++c){if(d.charCodeAt(c)>127){b=true}}if(b){d=ISQ.Tools.Base64._utf8_decode(d)}return d}};ISQ.Data.getURLencodedString=function(a){if(!a){return""}return escape(ISQ.Tools.Base64._utf8_encode(a))};ISQ.Data.getURLdecodedString=function(a){if(!a){return""}return ISQ.Tools.Base64._utf8_decode(unescape(a))};ISQ.Tools.getUniformLanguageCode=function(a){if(!a){return null}var b=ISQ.Tools.UniformLanguageCode[a];if(b){return b}return a};ISQ.Tools.UniformLanguageCode={he:"iw","zh-CHS":"zh","zh-CHT":"zh","zh-CN":"zh"};
ISQ.Tools.isLanguageRTL=function(a){a=ISQ.Tools.getUniformLanguageCode(a);switch(a){case"iw":case"ar":case"yi":case"ur":return true}return false};ISQ.Tools.Languages={ar:"Arabic",bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek, Modern",en:"English",es:"Spanish",et:"Estonian",fi:"Finnish",fr:"French",hi:"Hindi",hu:"Hungarian",id:"Indonesian",it:"Italian",iw:"Hebrew",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian, Moldavian, Moldovan",ru:"Russian",sk:"Slovak",sl:"Slovene",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",yi:"Yiddish",zh:"Chinese"};ISQ.Tools.LanguageSynonym={"zh-CHS":"Chinese","zh-CHT":"Chinese","zh-CN":"Chinese",he:"Hebrew"};ISQ.Tools.getLanguageName=function(b){var a=ISQ.Tools.Languages[b];if(!a){a=ISQ.Tools.LanguageSynonym[b]}if(!a){return null}return a};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.Storage=initializeNS("ISQ.Tools.Storage");ISQ.Tools.Storage.HTML5=false;try{ISQ.Tools.Storage.HTML5=window.localStorage!==null&&typeof(window.localStorage)!=="undefined"}catch(ex){}ISQ.Tools.Storage.get=function(a,b){if(!ISQ.Tools.Storage.HTML5){return null}if(b){return window.sessionStorage.getItem(a)}else{return window.localStorage.getItem(a)}};ISQ.Tools.Storage.set=function(a,c,b){if(!ISQ.Tools.Storage.HTML5){return false}if(b){window.sessionStorage.setItem(a,c)}else{window.localStorage.setItem(a,c)}return true};ISQ.Tools.Storage.remove=function(a,b){if(!ISQ.Tools.Storage.HTML5){return}if(b){window.sessionStorage.removeItem(a)}else{window.localStorage.removeItem(a)}};ISQ.Tools.Storage.clear=function(a){if(!ISQ.Tools.Storage.HTML5){return}if(a){window.sessionStorage.clear()}else{window.localStorage.clear()}};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.foreach=function(a,b){for(var c in a){var d=null;if(ISQ.Base.isDerivedOf(b,ISQ.Handler)){d=b.handle(a[c],c)}else{d=b(a[c],c)}if(d===false){break}}};window.foreach=ISQ.Tools.foreach;ISQ.Tools.iteration=function(a,c,b){if(!b){for(var d=0;d<a.length;++d){var f=null;
if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){f=c.handle(a[d],d)}else{f=c(a[d],d)}if(f===false){break}}}else{for(var d=a.length-1;d>=0;--d){var f=null;if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){f=c.handle(a[d],d)}else{f=c(a[d],d)}if(f===false){break}}}};window.iteration=window._it=ISQ.Tools.iteration;ISQ.Http=initializeNS("ISQ.Http");ISQ.Http.MAX_URL_SIZE=2047;ISQ.Http.getNoHashUrl=function(){var b=window.location.hash;var a=window.location.href;if(b!==""){var c;do{c=a.indexOf(b);if(c!==-1){a=a.substring(0,c)}}while(c!==-1)}return a};ISQ.Http.detectBroswer=function(){var b=navigator.appVersion;var g=navigator.userAgent;var a=0;ISQ.Http.browser={};if(b.indexOf("Android")!==-1||g.indexOf("Android")!==-1){ISQ.Http.browser.app="android";var c=b.indexOf("Android ")+8;var i=b.substring(c,b.indexOf(";",c));ISQ.Http.browser.version=i;ISQ.Http.browser.isMobile=b.indexOf("Mobile")>-1||g.indexOf("Mobile")!==-1;ISQ.Http.browser.isTablet=!ISQ.Http.browser.isMobile;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isAndroid=true;if(parseInt(ISQ.Http.browser.version)<4){ISQ.Http.browser.oldAndroid=true}}else{if(navigator.appVersion.indexOf("iPhone")!==-1){var i=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="iphone "+parseInt(i);ISQ.Http.browser.isMobile=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPhone=true;if(b.indexOf("OS 6_")!==-1){ISQ.Http.browser.isIOS6=true}else{if(b.indexOf("OS 7_")!==-1){ISQ.Http.browser.isIOS7=true}}ISQ.Http.browser.isIOS=true}else{if(navigator.appVersion.indexOf("iPad")!==-1){var i=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="ipad "+parseInt(i);ISQ.Http.browser.isTablet=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPad=true;if(b.indexOf("OS 6_")!==-1){ISQ.Http.browser.isIOS6=true}else{if(b.indexOf("OS 7_")!==-1){ISQ.Http.browser.isIOS7=true}}ISQ.Http.browser.isIOS=ISQ.Http.browser.isIOS6||ISQ.Http.browser.isIOS7}}}if((a=b.indexOf("MSIE "))!==-1){ISQ.Http.browser.app="ie";
a+=5;var f=b.indexOf(" ",a);if(f===-1){ISQ.Http.browser.version=b.substring(a)}else{ISQ.Http.browser.version=b.substring(a,f)}if(ISQ.Http.browser.version.startsWith("10")){ISQ.Http.browser.isIE10=true}if(ISQ.Http.browser.version.startsWith("9")){ISQ.Http.browser.isIE9=true}if(ISQ.Http.browser.version.startsWith("8")){ISQ.Http.browser.isIE8=true}if(ISQ.Http.browser.version.startsWith("7")){ISQ.Http.browser.isIE7=true}if(ISQ.Http.browser.version.startsWith("6")){ISQ.Http.browser.isIE6=true}ISQ.Http.browser.isIE=true}else{if(b.indexOf("Chrome")!==-1){ISQ.Http.browser.app="chrome";ISQ.Http.browser.version="0"}else{if((a=b.indexOf("Safari"))!==-1&&ISQ.Http.browser.app!="android"){var i=b.substring(a+7);ISQ.Http.browser.app="safari";if(i<="530.17"){ISQ.Http.browser.version="3"}else{ISQ.Http.browser.version="4"}}else{if((a=g.indexOf("Firefox/"))!==-1){ISQ.Http.browser.app="ff";var f=g.indexOf(" ",a);if(f===-1){ISQ.Http.browser.version=g.substring(a+8)}else{ISQ.Http.browser.version=g.substring(a+8,f)}if(ISQ.Http.browser.version.startsWith("3")){ISQ.Http.browser.isFF3=true}if(ISQ.Http.browser.version.startsWith("3.0")){ISQ.Http.browser.isFF3_0=true}if(ISQ.Http.browser.version.startsWith("3.6")){ISQ.Http.browser.isFF3_6=true}}else{if(g.indexOf("Opera/")!==-1){ISQ.Http.browser.app="opera";var c=g.indexOf("Version/");if(c===-1){var d=g.indexOf(" ",6);ISQ.Http.browser.version=g.substring(6,d)}else{var d=g.indexOf(" ",c);if(d===-1){ISQ.Http.browser.version=g.substring(c+8)}else{ISQ.Http.browser.version=g.substring(c+8,d)}}ISQ.Http.browser.isOpera=true}else{if(g.indexOf("Symbian")!=-1){ISQ.Http.browser.app="symbian";ISQ.Http.browser.version=1;ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version}}}}}}if(!ISQ.Http.browser.app){if(g.indexOf("AppleWebKit")!==-1){ISQ.Http.browser.app="safari";ISQ.Http.browser.version="5"}else{if(b.indexOf("Trident/7")!==-1){ISQ.Http.browser.app="ie";ISQ.Http.browser.isIE=true;var c=b.indexOf("rv:");if(c!==-1){c+=3;if(b.equals("11",c)){ISQ.Http.browser.version="11";ISQ.Http.browser.isIE11=true
}}}else{ISQ.Http.browser.app="default";ISQ.Http.browser.version="--"}}}ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version;g=null;b=null};if(typeof(ISQ.Http.browser)==="undefined"||!ISQ.Http.browser){ISQ.Http.detectBroswer()}ISQ.Http.isIEQuirksMode=function(){return(ISQ.Http.browser.isIE&&document.compatMode!=="CSS1Compat")};ISQ.Http.isChrome=function(){var a=navigator.appVersion;if(a.indexOf("Chrome")!==-1){return true}return false};ISQ.Http.Cookies=initializeNS("ISQ.Http.Cookies");ISQ.Http.Cookies._read=function(d){if(!d){return null}var k=document.cookie;var g=0;var a;var f;var i=0;var c={KEY:1,VALUE:2};var j=c.KEY;while(i<k.length){a=k.charAt(i++);if(a===" "){continue}if(j===c.KEY){if(a==="="){j=c.VALUE;g=0;continue}f=d.charAt(g);if(a===f||a.toLowerCase()===f.toLowerCase()){if(++g===d.length){if(k.charAt(i)==="="){var b=k.indexOf(";",++i);if(b===-1){b=k.length}return k.substring(i,b)}else{g=0}}}else{g=0}}else{if(a===";"){j=c.KEY}}}return null};ISQ.Http.Cookies._readCaseSensitive=function(b){if(!b){return null}var d=document.cookie;var c=d.indexOf(b);while(c!==-1){c+=b.length;if(d.charAt(c)==="="){var a=d.indexOf(";",++c);if(a===-1){a=d.length}return d.substring(c,a)}else{c=d.indexOf(b)}}return null};ISQ.Http.Cookies._write=function(f,k,i,b,j,d,g){f=f||null;k=!isNaN(k)?k:k||null;i=i||"/";b=b||null;j=j===true;d=d||null;if(f===null||k===null){return}var c=new Date();if(d!==null){c.setSeconds(c.getSeconds()+d);c=c.toGMTString()}var a=[];if(f.indexOf("%20")!==-1||f.toLowerCase().indexOf("%3a")!==-1){a.push(f)}else{a.push(escape(f))}a.push("=");if(k.toString().indexOf("%20")!==-1||k.toString().toLowerCase().indexOf("%3a")!==-1||g){a.push(k)}else{a.push(escape(k))}a.push("; path=");a.push(i);if(b!==null){a.push("; domain=");a.push(b)}if(j){a.push("; secure=");a.push(j)}if(d!==null){a.push("; expires=");a.push(c)}document.cookie=a.join("")};ISQ.Http.Cookies._delete=function(d,f,b,g){d=d||null;f=f||null;b=b||null;g=g||null;if(d===null){return}var i=ISQ.Http.Cookies._read(d);if(i===null){return}var c=new Date();
c.setMonth(c.getMonth()-1);c=c.toGMTString();var a=[];a.push(escape(d));a.push("=1");a.push("; expires=");a.push(c);f=f||"/";a.push("; path=");a.push(f);b=b||ISQ.Http.domain(false);a.push("; domain=");a.push(b);if(g!==null){a.push("; secure=");a.push(g)}document.cookie=a.join("")};ISQ.Http.Cookies.encode64=function(b){b+="";if(b.length===0){return b}var a=ISQ.Tools.Base64.encodeString(b);return a.replace(/\=/g,"_").replace(/\+/g,"|")};ISQ.Http.Cookies.decode64=function(b){b+="";if(b.length===0){return b}var a=b.replace(/\_/g,"=").replace(/\|/g,"+");return ISQ.Tools.Base64.decodeString(a)};ISQ.Http.domain=function(d,i){d=d===true;var b;var c;if(typeof(ISQ.Http.mDomain)==="undefined"||!ISQ.Http.mDomain||i){i=i||window.location.href;var f=i.indexOf("//")+2;b=i.substring(f);var g=b.indexOf("/");if(g>-1){c=b.substring(0,g)}else{c=b}var a=b.indexOf(":");if(a>-1){b=c.substring(0,a)}else{b=c}}if(!i){ISQ.Http.mIncludePort=c;ISQ.Http.mDomain=b}if(d){return c}else{return b}};ISQ.Http.topDomain=function(c){c=c||window.location.href;var a=ISQ.Http.domain(false,c);var b=a.indexOf(".");return a.substring(b)};ISQ.Http.relativePath=function(f){f=f||window.location.href;var d={path:"",filename:""};var a=f.indexOf("//")+2;a=f.indexOf("/",a);if(a==f.length-1){return d}var c=f.indexOf("?");var b=f.LastIndexOf_char("/",c===-1?0:c);d.path=f.substring(a,b++);d.filename=f.substring(b);a=d.filename.indexOf("#");if(a!==-1){d.filename=d.filename.substring(0,a)}return d};if(typeof(ISQ.Http.urlArguments)==="undefined"||!ISQ.Http.urlArguments){if(window.location.search.length!==0){ISQ.Http.urlArguments=ISQ.Tools.stringToPairArray(window.location.search.substring(1),"=","&",true,false)}else{ISQ.Http.urlArguments=[]}}if(typeof(ISQ.Http.hashArguments)==="undefined"||!ISQ.Http.hashArguments){if(window.location.hash.length!==0){ISQ.Http.hashArguments=ISQ.Tools.stringToPairArray(window.location.hash.substring(1),"=","&",true,false)}else{ISQ.Http.hashArguments=[]}}ISQ.Http.getUrlParam=function(a,f){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)";
var b=new RegExp(c);f=f||window;var d=b.exec(f.location.href);if(d==null){return""}else{return d[1]}};ISQ.Http.getUrlFakePart=function(){var b=window.location.href.indexOf("/~");if(b===-1){return""}b+=2;if(window.location.search&&b>window.location.href.indexOf("?")){return""}if(window.location.hash&&b>window.location.href.indexOf("#")){return""}var a=window.location.href.indexOf("/",b);if(a===-1){return""}return window.location.href.substring(b,a)};ISQ.Http.isValidUrl=function(a){return(/^((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)$/gi).test(a)};ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.getElementStyle=function(c,f){c=ISQ.Html._(c);var g=null;if(window.getComputedStyle){g=document.defaultView.getComputedStyle(c,null).getPropertyValue(f)}if(!g&&c.runtimeStyle){if(f.indexOf("-")!==-1){var a=[];for(var d=0;d<f.length;d++){if(f.charAt(d)==="-"){a.push(f.charAt(++d).toUpperCase())}else{a.push(f.charAt(d))}}f=a.join("")}if(typeof(document.defaultView)!=="undefined"){try{g=document.defaultView.getComputedStyle(c,null)[f]}catch(b){g=null}}if(!g){try{g=c.runtimeStyle[f]}catch(b){g=null}}if(!g){if((ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6)&&f.contains("border")){g=null}else{if(c.currentStyle){g=c.currentStyle[f]}}}}return g};ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.setNodeStyleText=function(a,b){a.setAttribute("style",b);a.style.cssText=b};ISQ.CSS.removeStyle=function(d){if(!d){return}var a=document.getElementsByTagName("head")[0];for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];if(b.id==d){a.removeChild(b);--c}}};ISQ.CSS.generateCSSstring=function(d,c){if(d===null||c===null){return""}var a=[];a.push(c);a.push("{"+d+"}");var b=a.join("");return b};ISQ.CSS.getAttributeValueFromStyleString=function(d,a){var f=0;var c=d.indexOf(a);if(c>-1){c=d.indexOf(":",c);var b=d.indexOf(";",c);if(b>-1){f=d.substring(c+1,b)}else{f=d.substring(c+1)}}return f};ISQ.CSS.getBackgroundImage=function(d){var f="";var a=ISQ.CSS.getAttributeValueFromStyleString(d,"background-image");if(a===0){a=ISQ.CSS.getAttributeValueFromStyleString(d,"background")
}var c=a.indexOf("url(");if(c>-1){c+=4;var b=a.indexOf(")",c);b-=1;f=a.substring(c,b);f=f.replace('"',"")}return f};ISQ.CSS.getSelectorStyle=function(q,r){if(typeof(q)!=="string"){return}q=q.toLowerCase();if(typeof(r)!=="string"){r=null}else{r=r.toLowerCase()}var p="cssRules";if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){p="rules"}try{var g=document.styleSheets.length;var u=new Array();for(var d=g-1;d>=0;--d){var v=document.styleSheets[d];try{if(v.disabled){continue}var o=v[p].length;for(var f=o-1;f>=0;--f){var t=v[p][f].selectorText;if(!t){continue}var s=t.toLowerCase().split(",");var k=s.length;for(h=k-1;h>=0;--h){var b=s[h].Trim();if(q===b||(r!==null&&r===b)){var w;for(var a in v[p][f].style){if(u[a]){continue}w=v[p][f].style[a];if(!w){continue}u[a]=w}}}}}catch(c){}}return u}catch(c){}return null};ISQ.CSS.getValueBySelectors=function(a,c,d){if(typeof(a)!=="string"){return}if(typeof(c)!=="string"){return}if(typeof(d)!=="string"){d=null}var b=ISQ.CSS.getSelectorStyle(c,d);if(b===null){return null}value=b[a];if(typeof(value)!=="string"){return null}var f=value.Trim();if(f===""){return null}return f};ISQ.CSS.changeValueBySelector=function(d,a,c){if(typeof(a)!=="string"){return}if(typeof(d)!=="string"){return}if(typeof(c)!=="string"){return}var b=ISQ.CSS.getSelectorStyle(d);if(!b){return null}b[a]=c};ISQ.CSS.getValue=function(f,d){var b=ISQ.Html._(f);if(b===null){return null}var c="#"+b.id;var a="."+b.className;var g=b.nodeName.toLowerCase();d=d.toLowerCase();var j=null;j=b.style[d];if(j){return j.Trim()}var i=ISQ.CSS.getValueBySelectors(d,a,c);if(i===null){return ISQ.CSS.getValueBySelectors(d,g+a,g+c)}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html._=function(d,a){if(!d){return null}var b=null;if(typeof(d)==="string"){if(ISQ.Http.browser.app==="ie"){if(!ISQ.Html.IE_idMap){ISQ.Html.IE_idMap=new Array();if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)==="function"){sessionGC().add(ISQ.Html.IE_idMap);ISQ.Html.IE_idMap.dispose=function(){ISQ.Html.IE_idMap=new Array()}}}if(!a){b=ISQ.Html.IE_idMap[d];if(ISQ.Http.browser.isIE&&b){var c=b;
do{c=c.parentNode}while(c!==null&&c!==document);if(c===null){b=null}}}if(!b||a===true){b=document.getElementById(d);if(b){ISQ.Html.IE_idMap[d]=b}}}else{b=document.getElementById(d)}}else{if(typeof(d)==="object"&&typeof(d.parentNode)!=="undefined"&&typeof(d.nodeName)!=="undefined"){b=d}}return b};if(typeof(window._)!=="function"){window._=ISQ.Html._}ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.position_new=function(a,c){if(c){return ISQ.Html.position(a,c)}if(typeof(a.getBoundingClientRect)=="undefined"||!a.getBoundingClientRect){return ISQ.Html.position(a,c)}var b=a.getBoundingClientRect();b.x=b.left;b.y=b.top;return b};ISQ.Html.position=function(b,i,d){var g={x:-1,y:-1};b=ISQ.Html._(b);if(b===null){return g}var f=ISQ.Html._(i)||document.body;g.x=0;g.y=0;var a=b;while(a!==null&&a!==f&&a!==document.body&&a.nodeName!=="HTML"){g.x+=a.offsetLeft;g.x-=a.scrollLeft;var c=parseInt(ISQ.CSS.getElementStyle(a,"margin-left"));g.x-=isNaN(c)?0:c;g.y+=a.offsetTop;g.y-=a.scrollTop;a=a.offsetParent}if(f!==document.body&&(a===document.body||a===null)){g.x=-1;g.y=-1}b=null;i=null;return g};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.screenSize=function(){return ISQ.Html.pageSize(true)};ISQ.Html.scrollBarWidth=function(){return 17};ISQ.Html.scrollBarWidth_afterCheck=function(){var a=ISQ.Html.screenSize();if(document.body.scrollHeight===a.h){return 0}return ISQ.Html.scrollBarWidth()};ISQ.Html.pageSize=function(b,a){var c={w:0,h:0};var d={};if(self&&self.innerHeight){d.w=self.innerWidth;d.h=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){d.w=document.documentElement.clientWidth;d.h=document.documentElement.clientHeight}else{if(document.body){d.w=document.body.clientWidth;d.h=document.body.clientHeight}}}var g=ISQ.Html.getScroll("width");var f=ISQ.Html.getScroll("height");if(b||d.w>g){c.w=d.w}else{c.w=g}if((b&&(!ISQ.Http.browser.isIPad||window.top!==window))||d.h>f){c.h=d.h}else{c.h=f}if(f>d.h){if(ISQ.CSS.getElementStyle(document.body,"overflow")==="hidden"){return c}if(ISQ.CSS.getElementStyle(document.body,"overflow-y")==="hidden"){return c
}if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE11){if(!a){c.w-=ISQ.Html.scrollBarWidth()}}else{if(a){c.w+=ISQ.Html.scrollBarWidth()}}}return c};ISQ.Html.getScroll=function(c){c=c||"top";var a=0;var b=0;if(c==="top"){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11){b=window.pageYOffset}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollY)}b=ISQ.Html.returnMaxScroll(b,document.body.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollTop)}else{if(c==="left"){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11){b=window.pageXOffset}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollX)}b=ISQ.Html.returnMaxScroll(b,document.body.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollLeft)}else{if(c==="height"){switch(ISQ.Http.browser.app){case"chrome":case"ff":case"opera":case"safari":if(window.top===window){b=document.documentElement.scrollHeight}else{b=document.body.scrollHeight}break;default:b=ISQ.Html.returnMaxScroll(b,document.body.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollHeight);break}}else{if(c==="width"){b=ISQ.Html.returnMaxScroll(b,document.body.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollWidth)}}}}return b};ISQ.Html.returnMaxScroll=function(a,b){if(a>b){return a}return b};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.getEventTarget=function(a){return window.event?window.event.srcElement:a?a.target:null};ISQ.Html.getDomEvent=function(a){if(ISQ.Base.isDerivedOf(a,ISQ.Html.DomEvent)){return a}return new ISQ.Html.DomEvent(a)};ISQ.Html.DomEvent=ISQ.Base.extend({name:"ISQ.Html.DomEvent"});ISQ.Html.DomEvent.prototype.ctor=function(a){this.domEvent=window.event||a;
this.target=ISQ.Html.getEventTarget(a)};ISQ.Html.DomEvent.prototype.dtor=function(){delete target;delete domEvent};ISQ.Html.DomEvent.prototype.cancel=function(){if(!this.domEvent){return}if(this.domEvent.stopPropagation){this.domEvent.stopPropagation()}if(this.domEvent.cancelBubble!=null){this.domEvent.cancelBubble=true}};ISQ.Html.DomEvent.prototype.target=null;ISQ.Html.DomEvent.prototype.domEvent=null;window.addEvents=function(a,b,c){if(a.addEventListener){if(b.indexOf("on")==0){b=b.charAt(2).toLowerCase()+b.slice(3)}a.addEventListener(b,c)}else{if(a.attachEvent){if(b.indexOf("on")!=0){b="on"+b}a.attachEvent(b,c)}}};window.removeEvents=function(a,b,c){if(a.removeEventListener){if(b.indexOf("on")==0){b=b.charAt(2).toLowerCase()+b.slice(3)}a.removeEventListener(b,c)}else{if(a.detachEvent){if(b.indexOf("on")!=0){b="on"+b}a.detachEvent(b,c)}}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html._doc=document;ISQ.Html.createElement=function(f,c,d){var b=ISQ.Html._doc.createElement(f);var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createElement=ISQ.Html.createElement;ISQ.Html.createDiv=function(c,d){var b=ISQ.Html._doc.createElement("div");var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createDiv=ISQ.Html.createDiv;ISQ.Html.createTable=function(c,g,b,d,a){var f=createElement("table",c);f.setAttribute("cellPadding",0);f.setAttribute("cellSpacing",0);f.setAttribute("border",0);if(typeof(a)==="string"){f.setAttribute("align",a)}if(typeof(g)==="number"||typeof(g)==="string"){f.setAttribute("width",g)}if(typeof(b)==="string"){f.setAttribute("dir",b);f.style.direction=b}if(typeof(d)==="string"){ISQ.CSS.setStyle(f,d)}return createElement("tbody",f)};var createTable=ISQ.Html.createTable;ISQ.Html.createRow=function(b,a,d){var c=createElement("tr",b);if(typeof(a)==="string"){ISQ.CSS.setStyle(c,a)}if(typeof(d)==="string"){c.setAttribute("valign",d)}return c};var createRow=ISQ.Html.createRow;ISQ.Html.addSpaceRow=function(d,b,a,c){var g=createRow(d);
var f=createElement("td",g);f.style.height=b;if(typeof(c)==="string"){ISQ.CSS.setStyle(g,c)}if(a){f.setAttribute("colSpan",a)}return g};var addSpaceRow=ISQ.Html.addSpaceRow;ISQ.Html.addSpaceTd=function(d,f,b){var c=createElement("td",d);if(typeof(b)==="number"){c.setAttribute("rowSpan",b)}if(!f){return}c.style.width=f;var a=createDiv(c,"width:"+f);a.innerHTML="&nbsp;";return c};var addSpaceTd=ISQ.Html.addSpaceTd;ISQ.Html.createTd=function(f,a,g,c,b){var d=createElement("td",f);if(g){d.setAttribute("vAlign",g)}if(a){d.setAttribute("align",a)}if(typeof(c)==="string"){ISQ.CSS.setStyle(d,c)}if(b){d.setAttribute("colSpan",b)}return d};var createTd=ISQ.Html.createTd;ISQ.Html.clearNode=function(a,c){if(typeof(a)==="undefined"||a===null){return null}if(a.nodeType!==1){return a}c=c!==false;if(c){var b=a.nodeName;switch(b){case"TR":case"TBODY":case"TABLE":break;default:a.innerHTML="";return a}}while(a.firstChild!==null){if(c){ISQ.Html.clearNode(a.firstChild,true)}a.removeChild(a.firstChild)}return a};var clearNode=ISQ.Html.clearNode;ISQ.Html.createInput=function(m,f,j,n,b,i,k){if(typeof(arguments[0])=="object"){var g=arguments[0];return createInput(g.type,g.name,g.parent,g.value||null,g.errorStyle||null,g.style||null,g.placeholder||null)}var c;f=f||"";var d=false;if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){try{var l=new Array();l.push("<input type='");l.push(m);l.push("' name='");l.push(f);l.push("' id='");l.push(f);l.push("' />");c=ISQ.Html._doc.createElement(l.join(""));if(j){j.appendChild(c)}d=true}catch(a){d=false}}if(!d){c=createElement("input",j);c.type=m;c.name=c.id=f}if(typeof(n)!=="undefined"&&n!==null){c.value=n}if(typeof(k)!=="undefined"&&k!==null){c.placeholder=k}if(typeof(b)==="string"){c.errorStyle=b;c.error=function(){ISQ.CSS.setStyle(this,this.errorStyle);c.hasError=true}}c.okStyle=typeof(i)==="string"?i:"";ISQ.CSS.setStyle(c,c.okStyle);c.ok=function(){ISQ.CSS.setStyle(this,this.okStyle);c.hasError=false};return c};var createInput=ISQ.Html.createInput;ISQ.Html.createCheckbox=function(g,d,k,n,a,c,j){if(typeof(arguments[0])=="object"&&arguments[0]!=null){var i=arguments[0];
return createCheckbox(i.name,i.id,i.parent,i.text,i.style,i.checked,i.onclick)}var l=createTable(k);var d=d||g||"cb_"+Math.floor(Math.random()*1000000);if(a){ISQ.CSS.setStyle(l.parentNode,a)}var o=createRow(l);var m=createTd(o);var b=createInput("checkbox",d,m);b.style.margin="2px 3px 0";b.id=d;b.checked=b.defaultChecked=c===true;if(typeof(j)!="undefined"){b.onclick=j}if(n){m=createTd(o);var f=createElement("label",m);f.setAttribute("for",b.id);f.innerHTML=n;b.label=f}return b};var createCheckbox=ISQ.Html.createCheckbox;ISQ.Html.createRadio=function(j,g,m,q,s,b,c,a,l,f){if(typeof(arguments[0])=="object"){var k=arguments[0];return ISQ.Html.createRadio(k.name,k.id,k.parent,k.text,k.value,k.style,k.checked,k.floatStyle,k.onclick,k.holderStyle)}var o=createTable(m);if(a){o.parentNode.setAttribute("align",a);var d=(a.toLowerCase()==="left"?"right":"left");ISQ.CSS.setStyle(o.parentNode,"margin-"+d+": 5px")}var r=createRow(o);var p=createTd(r,"","",f);var n=createInput("radio",j,p,s,b,b);n.style.margin="0 3px 0";n.id=g||"radio_"+Math.floor(Math.random()*1000000);if(typeof(c)!="undefined"){n.checked=c}if(typeof(l)!="undefined"){n.onclick=l}p=createTd(r);var i=createElement("label",p);i.setAttribute("for",n.id);i.innerHTML=q;return n};var createRadio=ISQ.Html.createRadio;ISQ.Html.createSelect=function(b){var d=createElement("select",b.parent,b.style||"");if(b.defaultValue){var c=createElement("option",d);c.selected=true;if(typeof(b.defaultValue)==="object"){c.value=b.defaultValue.value;c.innerHTML=ISQ.Data.unHTML(b.defaultValue.html.toString())}else{c.value=c.innerHTML=b.defaultValue}if(b.defaultValue.title){c.title=b.defaultValue.title}}for(var a=0;a<b.values.length;++a){var c=createElement("option",d);if(typeof(b.values[a])==="object"){c.innerHTML=ISQ.Data.unHTML(b.values[a].html.toString());c.value=b.values[a].value}else{c.value=b.values[a];c.innerHTML=ISQ.Data.unHTML(b.values[a].toString())}if(b.selected&&c.value==b.selected){c.selected=true}if(b.values[a].title){c.title=b.values[a].title}}return d};var createSelect=ISQ.Html.createSelect;
ISQ.Html.updateSelectOptions=function(b){clearNode(b.select);for(var a=0;a<b.values.length;++a){var c=createElement("option",b.select);if(typeof(b.values[a])==="object"){c.innerHTML=b.values[a].html;c.value=b.values[a].value}else{c.value=c.innerHTML=b.values[a]}if(b.selected&&c.value==b.selected){c.selected=true}}return b.select};var updateSelectOptions=ISQ.Html.updateSelectOptions;ISQ.Html.select_selectedOption=function(a){return a[a.selectedIndex]};ISQ.Html.createForm=function(d){var a=createElement("form",d.parent);if(typeof(d.action)==="string"){a.action=d.action}if(typeof(d.method)==="string"){a.method=d.method}if(typeof(d.id)==="string"){a.id=from.name=d.id}if(typeof(d.name)==="string"){from.name=d.name;if(typeof(d.id)!=="string"){a.id=from.name}}var b=typeof(d.onsubmit)!=="undefined"&&d.onsubmit!==null?d.onsubmit:null;if(b!==null){b.executed=false}a.onsubmit=function(f){if(b!==null){if(!b.executed){b.handle(ISQ.Html.getDomEvent(f));b.executed=true}else{b.executed=false}}return false};function c(g){var f=ISQ.Html.getDomEvent(g);if(f.domEvent.keyCode!==13){return false}if(b!==null){if(!b.executed){b.handle(f);b.executed=true}else{b.executed=false}}f.cancel();return false}if(ISQ.Html._doc.addEventListener){if(ISQ.Http.browser.app!=="chrome"&&ISQ.Http.browser.app!=="opera"){a.addEventListener("keypress",c,true)}else{a.addEventListener("keyup",c,true)}}else{if(ISQ.Html._doc.attachEvent){a.attachEvent("onkeyup",c)}}return a};var createForm=ISQ.Html.createForm;ISQ.Html.createIframe=function(b,d,a,f){f=f||"about:blank";var c=createElement("iframe");c.setAttribute("name",d);c.setAttribute("id",b);c.setAttribute("src",f);if(a){ISQ.CSS.setStyle(c,a)}return c};ISQ.Html.createImage=function(b){if(!b.src){throw ("createImage: invalid src")}var a=new Image();a.src=b.src;if(b.onload){a.onload=b.onload}if(b.id){a.id=b.id}if(b.align){a.setAttribute("align",b.align)}if(b.style){ISQ.CSS.setStyle(a,b.style)}if(b.parent){b.parent.appendChild(a)}if(b.altText){a.setAttribute("title",b.altText)}if(b.overSrc){ISQ.Html.setImageMouseOverAndOut(a,b.overSrc)
}return a};var createImage=ISQ.Html.createImage;ISQ.Html.createLink=function(c){var b=createElement("a",c.parent,c.style);if(c.text){b.innerHTML=c.text}if(typeof(c.href)==="string"){b.href=c.href}else{b.href="javascript:void(0)"}if(typeof(c.title)==="string"){b.title=c.title}if(typeof(c.target)==="string"){b.target=c.target}if(typeof(c.id)==="string"){b.id=c.id}ISQ.Html.setOnclick(b,c.onclick);return b};var createLink=ISQ.Html.createLink;window.setOnclick=ISQ.Html.setOnclick=function(a,b){if(a.nodeName!=="A"){if(b){a.onclick=b}return}a.onclick=function(c){if(typeof(ISQ.Console)!=="undefined"&&typeof(ISQ.Console.SessionManager)!=="undefined"){ISQ.Console.SessionManager.lastClickedLinkHref=this.href?this.href:null;setTimeout(function(){delete ISQ.Console.SessionManager.lastClickedLinkHref},10)}if(typeof(b)!=="undefined"){b.apply(this,new Array(c))}}};ISQ.Html.createHR=function(d,c,a,b){var g=createRow(d);var f=createElement("td",g);f.style.height=c;f.style.background=a;if(typeof(b)==="number"){f.setAttribute("colSpan",b)}return g};var createHR=ISQ.Html.createHR;ISQ.Html.createTextNode=function(d,c){var b=ISQ.Html._doc.createTextNode(d);var a=ISQ.Html._(c);if(a!==null){a.appendChild(b)}return b};var createTextNode=ISQ.Html.createTextNode;ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.moveChildNodesToElement=function(c,b){clearNode(b);var a=c.childNodes;while(a.length>0){b.appendChild(a[0])}};var moveChildNodesToElement=ISQ.Html.moveChildNodesToElement;ISQ.Html.domRecursion=function(a,b){if(!a){return}b(a);for(var c=0;c<a.childNodes.length;++c){domRecursion(a.childNodes[c],b)}};window.domRecursion=ISQ.Html.domRecursion;ISQ.Html.setImageMouseOverAndOut=function(a,c){var b=a.src;a.onmouseover=function(){this.src=c};a.onmouseout=function(){this.src=b}};var setImageMouseOverAndOut=ISQ.Html.setImageMouseOverAndOut;ISQ.Html.elementToString=function(c,f){var j=new Array();j.push("<");j.push(c.nodeName);j.push(" ");for(var d=0;d<c.attributes.length;++d){var a=c.attributes[d];var b=a.value||a.nodeValue;if(!b){continue}var g=null;if(typeof(b)==="string"){g=b.indexOf("'")>-1?'"':"'"
}j.push(a.nodeName);j.push("=");if(g){j.push(g)}j.push(b);if(g){j.push(g)}j.push(" ")}j.push(">");if(f){j.push(f)}else{j.push(c.innerHTML)}j.push("</");j.push(c.nodeName);j.push(">");return j.join("")};var elementToString=ISQ.Html.elementToString;ISQ.Html.getElementsByClassName=function(b,a){if(typeof(document.getElementsByClassName)==="function"){return b.getElementsByClassName(a)}else{return b.querySelectorAll("."+a)}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html.detectDoctype=function(){var a="loose";try{var b=null;if(window.document.doctype){b=window.document.doctype.systemId;if(!b){b=window.document.doctype.publicId}if(!b&&window.document.doctype.name.toLowerCase()==="html"){b="doctype html"}}else{b=window.document.firstChild;if(b.innerHTML.length!==0){b=null}else{b=b.nodeValue}}if(b===null){a="nodoctype"}else{b=b.toLowerCase();if(b==="doctype html"||b==="ctype ht"){a="html5"}else{if(b.indexOf("xhtml")!==-1||b.indexOf("rdfa 1.1")!==-1){a="xhtml"}else{if(b.indexOf("strict")!==-1){a="strict"}else{if(b.indexOf("loose")!==-1){a="loose"}else{if(b.indexOf("transitional")!==-1){if(b.indexOf("4.01")!==-1){a="transitional401"}else{if(b.indexOf("4.0")!==-1){a="transitional4"}else{a="transitional"}}}else{if(b.indexOf("frameset")!==-1){a="frameset"}else{a="nodoctype"}}}}}}}}catch(c){a="nodoctype"}return a};ISQ.WhiteLabels=(function(){var f={};var g={};f["nanorep.com"]={isNanoRepDomain:true,name:"nanorep",accountName:"nanorep",logo:"nrLogo",consoleLogo:"nanoRepLogo",consoleLogoClasses:"",logoLink:"/console/login.html",pageTitle:"My nanoRep Secure Login",favicon:"/favicon.png",privacyLink:"http://www.nanorep.com/Privacy",termsLink:"http://www.nanorep.com/Terms",supportLink:"http://nanorep.com/support",voicesLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",dashboardOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41926066/Dashboard-overview.htm",voicesOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",contactUsLink:"http://www.nanorep.com/Contact",pricingLink:"http://www.nanorep.com/product/pricing",chatPluginLink:"http://www.nanorep.com/Support/Liveperson-Chat-Integration/Agent-client-integration",guidanceIcon:"guidance_nanorep_icon",widgetConfigId:76830400};
g["nanorep.com"]={};f[".nanorep.info"]=f["nanorep.com"];g[".nanorep.info"]=g["nanorep.com"];f[".nanorep.co"]=f["nanorep.com"];g[".nanorep.co"]=g["nanorep.com"];f["cartassist.co.uk"]={name:"CartAssist",accountName:"goresponse",logo:"caLogo",consoleLogo:"cartAssistLogo",consoleLogoClasses:"",logoLink:"http://www.cartassist.co.uk",pageTitle:"My CartAssist Secure Login",favicon:"/console/images/ca_favicon.ico",privacyLink:"http://www.cartassist.co.uk/privacy",termsLink:"http://www.cartassist.co.uk/terms",supportLink:"http://support.cartassist.co.uk",voicesLink:"http://support.cartassist.co.uk",dashboardOverviewLink:"http://support.cartassist.co.uk",voicesOverviewLink:"http://support.cartassist.co.uk",contactUsLink:"http://www.cartassist.co.uk/contact-us/",pricingLink:"http://www.cartassist.co.uk/contact-us/",chatPluginLink:"http://support.cartassist.co.uk",guidanceIcon:"guidance_cartassist_icon",widgetConfigId:76831702};g["cartassist.co.uk"]={leafNanoAnswer:"CartAssist answer:",smartSearch:"CartAssist Search",searchResult:"CartAssist search result",mergeUpdate:"By selecting this answer, CartAssist will learn to answer %title% for:<br/>%phrasings%<br/> Continue?",chatSuggestion:"User received CartAssist answer:",accountExpiredMessage:"Your trial period has expired.",chart_answeredSessions:"This chart shows how many sessions have been answered through CartAssist, including automatic-answers, emails, and chats. <a target='_blank' href='http://support.nanorep.com/Analytics/Traffic/22275098/Scenarios-that-are-counted-as-answered-sessions.htm'>Learn more</a>.",addArticleTooltipBody:"As support agents answer tickets, CartAssist learns new answers that can be published to the knowledge base. <br/>For best results, provide an answer that will be relevant to as many visitors as possible, not personal answers or details."};var a=f[window.location.hostname];var b=g[window.location.hostname];if(!a){for(var d in f){if(window.location.hostname.endsWith(d)){a=f[d];b=g[d];break}}}ISQ.Http.isNanoRepDomain=a&&a.isNanoRepDomain;var c=function(i){var j=a[i];
if(!j){j=f["nanorep.com"][i]}if(!j){return null}return j};return{isAlllowedDomain:function(j){var k=true;var m;for(var l in f){if(j.contains(l)){k=true;break}}return k},getValue:c,changeLink:function(l,k){var j=document.createElement("div");j.innerHTML=k;var i=j.querySelector("a");i.href=this.getValue(l);return j.innerHTML},changeName:function(j,i,k){return i.replace(k,this.getValue(j))},changeFavicon:function(){var i=document.createElement("link");i.type="image/x-icon";i.rel="shortcut icon";i.href=this.getValue("favicon");document.getElementsByTagName("head")[0].appendChild(i)},mergeDictionary:function(i){for(var j in b){if(b.hasOwnProperty(j)){i[j]=b[j]}}return i},compileLabels:function(m){if(typeof m=="undefined"){m=document}var s=m.querySelectorAll(".WhiteLabelPlaceHolder");if(s.length>0){for(var n=0;n<s.length;n++){var q=s[n];var p=q.getAttribute("wl-key");var r=q.getAttribute("wl-type");if(!p){continue}if(!r){r=p}switch(r){case"name":q.innerHTML=this.getValue(p);break;case"href":q.href=this.getValue(p);break;case"svg":var l=_(this.getValue(p));for(var o=0;o<l.childNodes.length;++o){var k=l.childNodes[o];if(!k.nodeName||(k.nodeName!=="SVG"&&k.nodeName!=="svg")){continue}k=k.cloneNode(true);q.innerHTML="";q.appendChild(k);break}break}}}return m},resetLoginPage:function(){}}})();ISQ.Widget=initializeNS("ISQ.Widget");ISQ.API=initializeNS("ISQ.API");ISQ.Widget.supportsPostMessage=(typeof(window.postMessage)==="function"||typeof(window.postMessage)==="object");ISQ.Widget.doctype=typeof(ISQ.Html)!=="undefined"?ISQ.Html.detectDoctype():null;ISQ.Widget.customHostName=null;ISQ.Widget.setCustomHost=function(a){ISQ.Widget.customHostName=a};ISQ.Widget.getCustomHost=function(){return ISQ.Widget.customHostName};ISQ.Widget.getDynamicHost=function(a){if(a){return ISQ.Widget.customHostName||"my.nanorep.com"}else{return ISQ.Widget.customHostName||"//my.nanorep.com"}};ISQ.Widget.getAccountURL=function(a,c){a=a.toLowerCase();c=ISQ.Widget.customHostName||c||ISQ.Widget.getDynamicHost(true);var b="{0}.nanorep.co";if(!b||ISQ.Widget.customHostName){return"//"+c+"/~"+a
}else{return"//"+b.replace("{0}",a.toLowerCase())}};ISQ.Widget.getAccountDomain=function(a,c){a=a.toLowerCase();c=ISQ.Widget.customHostName||c||ISQ.Widget.getDynamicHost(false);if(!c.startsWith("//")){c="//"+c}var b="{0}.nanorep.co";if(!b||ISQ.Widget.customHostName){return c}else{return"//"+b.replace("{0}",a.toLowerCase())}};ISQ.Widget=initializeNS("ISQ.Widget");ISQ.API=initializeNS("ISQ.API");ISQ.Widget.Proxy=initializeNS("ISQ.Widget.Proxy");ISQ.Widget.Proxy.Chat={sendMessage:function(b,a){_it(b,function(c){c.cdcUser.sendMessage("subject=chat&"+a)})}};ISQ.Widget.Proxy.Chat.LiveChatInc={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{LC_API.open_chat_window()}},load:function(c,d){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==="true"){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}}else{this.mPendingWidgets.push(d)}return}else{this.mPendingWidgets.push(d)}this.mState=this.enumStates.loaded;var f=document.head.getElementsByTagName("script");for(var a=0;a<f.length;a++){if(f[a].src.indexOf("livechatinc")!=-1){this.mAvailable=LC_API.agents_are_available();if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==="true"){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}this.mState=this.enumStates.availabilityReceived;return}}window.__lc={};window.LC_API={};window.__lc.license=c.LiveChatInc.id;window.LC_API.on_chat_ended=function(){window.LC_API.hide_chat_window()};if(!c.popup.enabled){window.LC_API.on_chat_started=function(g){window.LC_API.open_chat_window()}}var b=this;window.LC_API.on_before_load=function(){window.LC_API.hide_chat_window()};window.LC_API.on_after_load=function(){if(!window.LC_API.chat_running()||c.popup.enabled){window.LC_API.hide_chat_window()
}b.mAvailable=LC_API.agents_are_available();if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}else{if(b.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}b.mState=b.enumStates.availabilityReceived};url="//"+c.LiveChatInc.server+"/tracking.js";ISQ.Tools.appendScript(url)}};ISQ.Widget.Proxy.Chat.Zopim={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{if(b.popup.enabled){$zopim.livechat.window.openPopout()}else{$zopim.livechat.window.show()}}},load:function(c,d){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}}else{this.mPendingWidgets.push(d)}return}else{this.mPendingWidgets.push(d)}this.mState=this.enumStates.loaded;var b=this;var g=function(){if(!$zopim.livechat){return}if(!$zopim.livechat.isChatting()||c.popup.enabled){$zopim.livechat.hideAll()}$zopim.livechat.setOnChatEnd(function(){$zopim.livechat.hideAll()});$zopim.livechat.window.onHide(function(){if(!$zopim.livechat.isChatting()||c.popup.enabled){$zopim.livechat.hideAll()}});var i=function(j){if(j=="online"){b.mAvailable=true}else{b.mAvailable=false}if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}else{if(b.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}b.mState=b.enumStates.availabilityReceived};$zopim.livechat.setOnStatus(i)};var f=document.head.getElementsByTagName("script");for(var a=0;a<f.length;a++){if(f[a].src.indexOf("zopim")!=-1){g();return}}window.$zopim||(function(j,l){var m=$zopim=function(n){m._.push(n)},i=m.s=j.createElement(l),k=j.getElementsByTagName(l)[0];
m.set=function(n){m.set._.push(n)};m._=[];m.set._=[];i.async=!0;i.setAttribute("charset","utf-8");i.src=(window.location.protocol==="https:"?"https:":"http:")+c.Zopim.server+"?"+c.Zopim.id;m.t=+new Date;i.type="text/javascript";if(g){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){i.onload=g}else{i.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}g()}}}k.parentNode.insertBefore(i,k)})(document,"script")}};ISQ.Widget.Proxy.Chat.SnapEngage={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{SnapEngage.startLink()}},load:function(c,g){var b=this;if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(g.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}}else{this.mPendingWidgets.push(g)}return}else{this.mPendingWidgets.push(g)}this.mState=this.enumStates.loaded;var d=function(){if(typeof SnapEngage=="undefined"){return}SnapEngage.hideButton();SnapEngage.getAgentStatusAsync(function(i){if(i){b.mAvailable=true}else{b.mAvailable=false}if(g.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}b.mState=b.enumStates.availabilityReceived});SnapEngage.setCallback("Close",function(k,i){SnapEngage.hideButton()})};var j=document.head.getElementsByTagName("script");for(var a=0;a<j.length;a++){if(j[a].src.indexOf("snapengage")!=-1){d();return}}var f=(window.location.protocol==="https:"?"https:":"http:")+c.SnapEngage.server+c.SnapEngage.id+".js";ISQ.Tools.appendScript(f,d)}};ISQ.Widget.Proxy.Chat.Olark={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{olark("api.box.expand")}},load:function(d,f){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(f.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([f],"type=available&data="+this.mAvailable)
}}else{this.mPendingWidgets.push(f)}return}else{this.mPendingWidgets.push(f)}this.mState=this.enumStates.loaded;var b=this;var c=function(){var i=function(j){b.mAvailable=j;if(f.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}b.mState=b.enumStates.availabilityReceived};olark.configure("box.start_hidden",true);olark("api.chat.onOperatorsAvailable",function(){i(true)});olark("api.chat.onOperatorsAway",function(){i(false)})};var g=document.head.getElementsByTagName("script");for(var a=0;a<g.length;a++){if(g[a].src.indexOf("olark")!=-1){c();return}}window.olark||(function(i){var k=window,j=document,m=k.location.protocol=="https:"?"https:":"http:",p=i.name,o="load";var n=function(){k[p]=function(){(l.s=l.s||[]).push(arguments)};var l=k[p]._={},t=i.methods.length;while(t--){(function(q){k[p][q]=function(){k[p]("call",q,arguments)}})(i.methods[t])}l.l=i.loader;l.i=n;l.p={0:+new Date};l.P=function(q){l.p[q]=new Date-l.p[0]};function u(){l.P(o);k[p](o)}k.addEventListener?k.addEventListener(o,u,false):k.attachEvent("on"+o,u);var r=function(){function G(v){v="head";return["<",v,"></",v,"><",A,' onload="var d=',y,";d.getElementsByTagName('head')[0].",B,"(d.",z,"('script')).",C,"='",m,"//",l.l,"'",'"',"></",A,">"].join("")}var A="body",D=j[A];if(!D){return setTimeout(r,100)}l.P(1);var B="appendChild",z="createElement",C="src",E=j[z]("div"),I=E[B](j[z](p)),q=j[z]("iframe"),y="document",s="domain",F;E.style.display="none";D.insertBefore(E,D.firstChild).id=p;q.frameBorder="0";q.id=p+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){q.src="javascript:false"}q.allowTransparency="true";I[B](q);try{q.contentWindow[y].open()}catch(J){i[s]=j[s];F="javascript:var d="+y+".open();d.domain='"+j.domain+"';";q[C]=F+"void(0);"}try{var H=q.contentWindow[y];H.write(G());H.close()}catch(K){q[C]=F+'d.write("'+G().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}l.P(2)};r()};n()})({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
olark.identify(d.Olark.id);c()}};ISQ.Widget.Proxy.Chat.LiveEngage={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],log:function(a){var b=null;_it(this.mPendingWidgets,function(c){if(b===c){return}else{b=c}if(c.cdcUser){c.cdcUser.sendMessage("subject=widgetLog&entry="+a)}})},start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{this.log("LivePerson LE2: opening chat window");if(window.lpTag.taglets.rendererStub.click(b.LiveEngage.engagementId)){this.log("LivePerson LE2: chat window opened");if(c.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(this.mPendingWidgets,"type=vendorwindowopened")}}}},load:function(i,j){var f=this;if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(j.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(f.mPendingWidgets,"type=available&data="+f.mAvailable)}}else{this.mPendingWidgets.push(j)}return}else{this.mPendingWidgets.push(j)}this.mState=this.enumStates.loaded;ISQ.Widget.leEngagementsMap=ISQ.Widget.leEngagementsMap||{};if(!ISQ.Widget.leEngagementsMap[i.LiveEngage.engagementId]){ISQ.Widget.leEngagementsMap[i.LiveEngage.engagementId]={}}var c=function(){if(ISQ.Widget.leTagLoadCallbackFired){return}else{ISQ.Widget.leTagLoadCallbackFired=true}f.log("LivePerson LE2: add listener for availability");var l=function(m,n){f.log("LivePerson LE2: availability ("+m+":"+n+")");f.mAvailable=n;if(j.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(f.mPendingWidgets,"type=available&data="+f.mAvailable)}f.mState=f.enumStates.availabilityReceived};var k=ISQ.Widget.leEngagementsMap;k[i.LiveEngage.engagementId]={};setInterval(function(){var n,m;for(var o in k){if(k.hasOwnProperty(o)){n=k[o];m=window.lpTag.taglets.rendererStub.getEngagementState(o).state;if(n.state!==m){n.state=m;l(o,n.state===1)}}}},500)};if(i.LiveEngage.engagementDivId&&!document.getElementById(i.LiveEngage.engagementDivId)){f.log('LivePerson LE2: creating element with id="'+i.LiveEngage.engagementDivId+'"');var a=document.createElement("div");a.id=i.LiveEngage.engagementDivId;
a.style.display="none";document.body.appendChild(a);var g=window.lpTag&&window.lpTag.sdes&&typeof window.lpTag.sdes.send==="function";if(g){f.log("LivePerson LE2: notifying existing lpTag about new DIV");lpTag.sdes.send([{type:"pagediv",divId:i.LiveEngage.engagementDivId}])}else{f.log("LivePerson LE2: lpTag notify method does not exist -> lpTag should detect DIV automatically")}}if(!window.lpTag){f.log("LivePerson LE2: injecting lpTag");window.lpTag=window.lpTag||{};if(typeof window.lpTag._tagCount==="undefined"){window.lpTag={site:i.LiveEngage.id||"",section:lpTag.section||"",autoStart:lpTag.autoStart===false?false:true,ovr:lpTag.ovr||{},_v:"1.6.0",_tagCount:1,protocol:"https:",events:{bind:function(k,l,m){lpTag.defer(function(){lpTag.events.bind(k,l,m)},0)},trigger:function(k,l,m){lpTag.defer(function(){lpTag.events.trigger(k,l,m)},1)}},defer:function(k,l){if(l==0){this._defB=this._defB||[];this._defB.push(k)}else{if(l==1){this._defT=this._defT||[];this._defT.push(k)}else{this._defL=this._defL||[];this._defL.push(k)}}},load:function(m,k,l){var n=this;setTimeout(function(){n._load(m,k,l)},0)},_load:function(n,k,l){var o=n;if(!n){o=this.protocol+"//"+((this.ovr&&this.ovr.domain)?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site}var m=document.createElement("script");m.setAttribute("charset",k?k:"UTF-8");if(l){m.setAttribute("id",l)}m.setAttribute("src",o);document.getElementsByTagName("head").item(0).appendChild(m)},init:function(){this._timing=this._timing||{};this._timing.start=(new Date()).getTime();var k=this;if(window.attachEvent){window.attachEvent("onload",function(){k._domReady("domReady")})}else{window.addEventListener("DOMContentLoaded",function(){k._domReady("contReady")},false);window.addEventListener("load",function(){k._domReady("domReady")},false)}if(typeof(window._lptStop)=="undefined"){this.load()}},start:function(){this.autoStart=true},_domReady:function(k){if(!this.isDom){this.isDom=true;this.events.trigger("LPT","DOM_READY",{t:k})}this._timing[k]=(new Date()).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]};
lpTag.init()}else{window.lpTag._tagCount+=1}}else{f.log("LivePerson LE2: using existing lpTag")}var d=false;try{d=typeof window.lpTag.taglets.rendererStub.getEngagementState==="function"}catch(b){}if(d){f.log("LivePerson LE2: lpTag is fully loaded -> we can use its API");if(j.cdcUser&&ISQ.Widget.leEngagementsMap&&ISQ.Widget.leEngagementsMap[i.LiveEngage.engagementId]){ISQ.Widget.Proxy.Chat.sendMessage(f.mPendingWidgets,"type=available&data="+(ISQ.Widget.leEngagementsMap[i.LiveEngage.engagementId].state===1))}c()}else{f.log("LivePerson LE2: lpTag is not fully loaded -> waiting for button");window.lpTag.events.bind("LE_ENGAGER","SHOW",function(){c()})}window.lpTag.events.bind("lpUnifiedWindow","windowClosed",function(){f.log("LivePerson LE2: chat window closed");if(j.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(f.mPendingWidgets,"type=vendorwindowclosed")}})}};ISQ.Widget.Proxy.Chat.SalesForce={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],log:function(a){_it(this.mPendingWidgets,function(b){if(b.cdcUser){b.cdcUser.sendMessage("subject=widgetLog&entry="+a)}})},start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{this.log("SalesForce: opening chat window");if(b.popup&&b.popup.size&&b.popup.size.length===2){window.liveagent.setChatWindowWidth(+b.popup.size[0]);window.liveagent.setChatWindowHeight(+b.popup.size[1])}window.liveagent.startChat(b.SalesForce.buttonId)}},load:function(options,widget){var mthis=this;if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(widget.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(mthis.mPendingWidgets,"type=available&data="+mthis.mAvailable)}}else{this.mPendingWidgets.push(widget)}return}else{this.mPendingWidgets.push(widget)}this.mState=this.enumStates.loaded;var apiScriptURL="https://"+options.SalesForce.deploymentDomain+"/content/g/js/38.0/deployment.js";if(!window._laq){window._laq=[]}window._laq.push(function(){window.liveagent.showWhenOnline(options.SalesForce.buttonId,document.createElement("div"));
window.liveagent.showWhenOffline(options.SalesForce.buttonId,document.createElement("div"))});var SalesForce_Loaded=function(){mthis.log("SalesForce: API Loaded");window.liveagent.addButtonEventHandler(options.SalesForce.buttonId,function(eventType){switch(eventType){case window.liveagent.BUTTON_EVENT.BUTTON_AVAILABLE:updateAvailability(options.SalesForce.buttonId,true);break;case window.liveagent.BUTTON_EVENT.BUTTON_UNAVAILABLE:updateAvailability(options.SalesForce.buttonId,false);break;case window.liveagent.BUTTON_EVENT.BUTTON_ACCEPTED:mthis.log("SalesForce: chat window opened");break;case window.liveagent.BUTTON_EVENT.BUTTON_REJECTED:mthis.log("SalesForce: chat window closed");break}});if(options.SalesForce.initCode){try{eval(options.SalesForce.initCode)}catch(e){if(window.console&&typeof window.console.error==="function"){console.error(e)}}}window.liveagent.init("https://"+options.SalesForce.apiDomain+"/chat",options.SalesForce.deploymentId,options.SalesForce.organizationId);var updateAvailability=function(buttonId,isOnline){mthis.log("SalesForce: Availability ("+buttonId+":"+isOnline+")");mthis.mAvailable=isOnline;if(widget.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(mthis.mPendingWidgets,"type=available&data="+mthis.mAvailable)}mthis.mState=mthis.enumStates.availabilityReceived}};mthis.log("SalesForce: injecting API");var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src=apiScriptURL;var done=false;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){SalesForce_Loaded()}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s)}};(function(){var d=document.head||document.getElementsByTagName("head")[0];var b={};var g={findObject:c,Modular:f};var a=c("nanoRep.BundleManager",true);function c(m,j,i){var n=0,k,l;m=m.split(".");i=i||window;k=m.length;while((n<k)&&(typeof i==="object"||typeof i==="function")){l=i[m[n]];if(!(typeof l==="object"||typeof l==="function")){break}i=l;++n}if(j){while(n<k){l={};
i[m[n]]=l;i=l;++n}}return((n<k)?null:i)}function f(i){this.bundleInstance=i;this.defined={};this.exportMode=false}f.prototype.declare=function(l,j){var m,k,i;this.name=l;this.deps=[];for(m=0,k=j?j.length:0;m<k;++m){i=j[m];if(typeof i==="string"){i=this.defined[i]}this.deps.push(i)}};f.prototype.define=function(i){var j=i.apply(null,this.deps);if(j){this.defined[this.name]=j;if(this.exportMode){this.bundleInstance[this.name]=j}}};f.prototype.startExport=function(){this.exportMode=true};f.prototype.endExport=function(){this.exportMode=false};f.prototype.byName=function(i){return this.defined[i]};g.objectFinder=function(j,i){return function(){return c(j,false,i)}};g.addStyle=function(){var i=document.createElement("style"),j=Array.prototype.join.call(arguments,"\n"),k;i.setAttribute("type","text/css");if(i.styleSheet){i.styleSheet.cssText=j;if(document.body){d.appendChild(i)}else{if(document.addEventListener){k=function(){document.removeEventListener("DOMContentLoaded",k,false);d.appendChild(i)};document.addEventListener("DOMContentLoaded",k,false)}else{if(window.attachEvent){k=function(){window.detachEvent("onload",k);d.appendChild(i)};window.attachEvent("onload",k)}}}}else{i.appendChild(document.createTextNode(j));d.appendChild(i)}return i};a.updateIndex=function(){return this};a.define=function(i){var k=i.name,j,l;if(b.hasOwnProperty(k)){l=["Redefinition of '",k,"' bundle!"].join("");throw (new Error(l))}j=(i.hasOwnProperty("ns")?c(i.ns,true):{});b[k]=j;i.init.call(j,b,i.data,g);return this};a.findObject=c;window.ISQ=nanoRep}());nanoRep.BundleManager.define({name:"EventEmitter",require:[],data:{},init:function(a,b,d){var c=new d.Modular();c.declare("EventEmitter",[window.Alloy?Alloy.Base:ISQ.Base]);c.define(function(g){var f=function(l,k){return function(){return l.apply(k,arguments)}};var j=function(k,l){for(var m=0;m<k.length;m++){if(k[m]===l){return m}}return -1};var i=g.extend({name:"EventEmitter",_prototype:{on:function(l,n,k){if(typeof l==="string"){this._events=this._events||{};this._events[l]=this._events[l]||[];
if(k){n._eventEmitterContext=k}this._events[l].push(n)}else{for(var m in l){if(l.hasOwnProperty(m)){this.on(m,l[m],n)}}}},off:function(k,m){if(typeof k==="string"){this._events=this._events||{};if(k in this._events===false){return}delete m._eventEmitterContext;this._events[k].splice(j(this._events[k],m),1)}else{for(var l in k){if(k.hasOwnProperty(l)){this.off(l,k[l],m)}}}},emit:function(k){this._events=this._events||{};if(k in this._events===false){return}for(var l=0;this._events&&this._events[k]&&l<this._events[k].length;l++){this._events[k][l].apply(this._events[k][l]._eventEmitterContext||this,Array.prototype.slice.call(arguments,1))}}}});return i});this.EventEmitter=c.byName("EventEmitter")}});nanoRep.BundleManager.define({name:"Chat",require:["EventEmitter"],data:{},ns:"nanoRep.SDK.Channeling",init:function(container,data,utils){var modular=new utils.Modular();var EventEmitter=container.EventEmitter.EventEmitter;var Helper=(function(){function openPopup(url,name,width,height,scrolling){var left=(screen.width/2)-(width/2);var top=(screen.height/2)-(height/2);var scrollbars=scrolling||"no";return window.open(url,name,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+scrollbars+", resizable=no, copyhistory=no, width="+width+", height="+height+", top="+top+", left="+left)}return{openPopup:openPopup}}());var DOM=(function(){return{appendJavaScriptElement:function(url,async,defer){var script=document.createElement("script"),head=document.querySelector("head");if(async){script.setAttribute("async","")}if(defer){script.setAttribute("defer","")}script.setAttribute("src",url);head.appendChild(script);return script}}}());var Alloy=(function(){var cbId=0;return{jsonp:function(obj){var cbName="jspwcb"+cbId++,reqURL=obj.url+(obj.url.indexOf("?")?"&":"?")+"cb="+cbName,script;window[cbName]=function(args){var args=Array.prototype.slice.call(arguments);delete window[cbName];args.unshift(false);obj.handler.apply(this,args);script.parentNode.removeChild(script)};script=DOM.appendJavaScriptElement(reqURL)
}}}());modular.declare("Chat",[EventEmitter]);modular.define(function(EventEmitter){var providerClasses={};var Chat={Providers:providerClasses,addProvider:function(providerName,providerProto){providerProto.ctor=providerProto.initialize;providerClasses[providerName]=AbstractChatProvider.extend({name:providerName,_prototype:providerProto});providerClasses[providerName].Name=providerName;return providerClasses[providerName]},getProvider:function(channel){var providerInstances=window.nanoRep.SDK._chatProviderInstances=window.nanoRep.SDK._chatProviderInstances||{};var channelInstanceId=providerClasses[channel.chatProvider].prototype.getChannelId(channel);if(!providerInstances[channelInstanceId]){providerInstances[channelInstanceId]=new providerClasses[channel.chatProvider](channel.chatOptions)}return providerInstances[channelInstanceId]}};var AbstractChatProvider=EventEmitter.extend({name:"AbstractChatProvider",abstractClass:true,_prototype:{capabilities:{customUI:false,vendorUI:false,vendorPopup:false},ctor:function(chatOptions){this.chatOptions=chatOptions},getChannelId:function(channel){return channel.chatProvider},isAgentAvailable:function(){},isSessionActive:function(){},isSessionResumed:function(){},showVendorUI:function(){},showVendorPopup:function(){},getChatState:function(){},getChatLog:function(){},getStatusMessage:function(){},getAgentName:function(){},requestChat:function(){},setUserTyping:function(){},setCustomParams:function(){},sendMessage:function(){},endChat:function(){}}});return Chat});modular.declare("Chat.LiveChatInc",["Chat",Helper]);modular.define(function(Chat,Helper){Chat.addProvider("LiveChatInc",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;injectLiveChatAPI(this.chatOptions.accountNum);getLiveChatAPI(function(LC_API){LC_API.hide_chat_window();LC_API.on_chat_ended=function(){LC_API.hide_chat_window()}})},isAgentAvailable:function(callback){getLiveChatAPI(function(LC_API){callback(LC_API.agents_are_available())})},showVendorUI:function(){getLiveChatAPI(function(LC_API){LC_API.open_chat_window()
})},showVendorPopup:function(popupWidth,popupHeight){var popupUrl="https://secure.livechatinc.com/licence/"+this.chatOptions.accountNum+"/open_chat.cgi?";Helper.openPopup(popupUrl,"nrLiveChatIncWindow",popupWidth,popupHeight)}});function injectLiveChatAPI(accountId){window.__lc=window.__lc||{};window.__lc.license=accountId|0;window.LC_API=window.LC_API||{};window.LC_API.on_before_load=function(){if(getLiveChatAPI.callbackQueue){for(var i=0;i<getLiveChatAPI.callbackQueue.length;i++){getLiveChatAPI.callbackQueue[i](window.LC_API)}delete getLiveChatAPI.callbackQueue}};(function(){var lc=document.createElement("script");lc.type="text/javascript";lc.async=true;lc.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.livechatinc.com/tracking.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(lc,s)})()}function getLiveChatAPI(callback){if(window.LC_API.open_chat_window){callback(window.LC_API)}else{if(!getLiveChatAPI.callbackQueue){getLiveChatAPI.callbackQueue=[]}getLiveChatAPI.callbackQueue.push(callback)}}});modular.declare("Chat.Olark",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("Olark",{capabilities:{customUI:false,vendorUI:true,vendorPopup:false},initialize:function(chatOptions){var self=this;OlarkAPI.injectOlarkApi(chatOptions.accountNum);olark.configure("box.start_hidden",true);olark("api.box.hide");OlarkAPI.on("agentAvailabilityChanged",function(isAvailable){self.emit("agentAvailabilityChanged",isAvailable)})},isAgentAvailable:function(callback){OlarkAPI.isAgentAvailable(callback)},showVendorUI:function(){olark("api.box.expand")}});var OlarkAPI={on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,currentAgentStatus:null,injectOlarkApi:function(accountId){if(!window.olark){window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){f[z]=function(){(a.s=a.s||[]).push(arguments)};var a=f[z]._={},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){f[z]("call",n,arguments)
}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={0:+new Date};a.P=function(u){a.p[u]=new Date-a.p[0]};function s(){a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){hd="head";return["<",hd,"></",hd,"><",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{b.contentWindow[g].open()}catch(w){c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{var t=b.contentWindow[g];t.write(p());t.close()}catch(x){b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]})}olark.identify(accountId);this.addEventListeners()},addEventListeners:function(){var self=this;olark("api.chat.onOperatorsAvailable",function(){self.currentAgentStatus=true;self.emit("agentAvailabilityChanged",self.currentAgentStatus)});olark("api.chat.onOperatorsAway",function(){self.currentAgentStatus=false;self.emit("agentAvailabilityChanged",self.currentAgentStatus)})},isAgentAvailable:function(callback){var tmpHandler;if(!callback){return}if(this.currentAgentStatus!==null){callback(this.currentAgentStatus)}else{tmpHandler=function(isAvailable){this.off("agentAvailabilityChanged",tmpHandler);callback(isAvailable)};this.on("agentAvailabilityChanged",tmpHandler)}}}});modular.declare("Chat.Zopim",["Chat"]);modular.define(function(Chat){Chat.addProvider("Zopim",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){injectZopimAPI(chatOptions.accountNum);
getZopimAPI(function($zopim){if(!$zopim.livechat.isChatting()){$zopim.livechat.hideAll()}$zopim.livechat.setOnChatEnd(function(){$zopim.livechat.hideAll()});$zopim.livechat.window.onHide(function(){if(!$zopim.livechat.isChatting()){$zopim.livechat.hideAll()}})})},isAgentAvailable:function(callback){getZopimAPI(function($zopim){$zopim.livechat.setOnStatus(function(agentStatus){if(agentStatus==="online"){callback(true)}else{callback(false)}})})},showVendorUI:function(){getZopimAPI(function($zopim){$zopim.livechat.window.show()})},showVendorPopup:function(){getZopimAPI(function($zopim){$zopim.livechat.window.openPopout()})}});function injectZopimAPI(accountId){window.$zopim||(function(d,s){var z=window.$zopim=function(c){z._.push(c)},$=z.s=d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set._.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");$.src="//v2.zopim.com/?"+accountId;z.t=+new Date;$.type="text/javascript";var done=false;$.onload=$.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(getZopimAPI.callbackQueue){for(var i=0;i<getZopimAPI.callbackQueue.length;i++){getZopimAPI.callbackQueue[i](window.$zopim)}delete getZopimAPI.callbackQueue}}};e.parentNode.insertBefore($,e)})(document,"script")}function getZopimAPI(callback){if(window.$zopim.livechat){callback(window.$zopim)}else{if(!getZopimAPI.callbackQueue){getZopimAPI.callbackQueue=[]}getZopimAPI.callbackQueue.push(callback)}}});modular.declare("Chat.SalesForce",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("SalesForce",{capabilities:{customUI:false,vendorUI:false,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;SF.init(chatOptions).on({agentAvailabilityChanged:function(info){this.emit("agentAvailabilityChanged",info.available)}},this)},isAgentAvailable:function(callback){SF.isAgentAvailable(this.chatOptions,callback)},showVendorPopup:function(popupWidth,popupHeight){SF.showVendorPopup(this.chatOptions,popupWidth,popupHeight)
}});var SF={state:{},on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,init:function(chatOptions){var apiScriptURL="https://"+chatOptions.deploymentDomain+"/content/g/js/38.0/deployment.js";var self=this;self.state[chatOptions.buttonId]={available:false};if(!window._laq){window._laq=[]}window._laq.push(function(){window.liveagent.showWhenOnline(chatOptions.buttonId,document.createElement("div"));window.liveagent.showWhenOffline(chatOptions.buttonId,document.createElement("div"))});var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src=apiScriptURL;var done=false;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){window.liveagent.addButtonEventHandler(chatOptions.buttonId,function(eventType){switch(eventType){case window.liveagent.BUTTON_EVENT.BUTTON_AVAILABLE:self.state[chatOptions.buttonId].available=true;self.emit("agentAvailabilityChanged",{buttonId:chatOptions.buttonId,available:true});break;case window.liveagent.BUTTON_EVENT.BUTTON_UNAVAILABLE:self.state[chatOptions.buttonId].available=false;self.emit("agentAvailabilityChanged",{buttonId:chatOptions.buttonId,available:false});break;case window.liveagent.BUTTON_EVENT.BUTTON_ACCEPTED:self.emit("windowOpened",chatOptions.buttonId);break;case window.liveagent.BUTTON_EVENT.BUTTON_REJECTED:self.emit("windowClosed",chatOptions.buttonId);break}});if(chatOptions.initCode){try{eval(chatOptions.initCode)}catch(e){if(window.console&&typeof window.console.error==="function"){console.error(e)}}}window.liveagent.init("https://"+chatOptions.apiDomain+"/chat",chatOptions.deploymentId,chatOptions.organizationId);self.emit("apiLoaded",window.liveagent)}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s);return this},getAPI:function(callback){if(typeof window.liveagent==="object"){callback.call(this,window.liveagent)}else{var loadHandler=function(){this.off("apiLoaded",loadHandler);callback.call(this,window.liveagent)
};this.on("apiLoaded",loadHandler,this)}},isAgentAvailable:function(chatOptions,callback){this.getAPI(function(){callback(this.state[chatOptions.buttonId].available)})},showVendorPopup:function(chatOptions,popupWidth,popupHeight){this.getAPI(function(liveagent){liveagent.setChatWindowWidth(popupWidth);liveagent.setChatWindowHeight(popupHeight);liveagent.startChat(chatOptions.buttonId)})}}});modular.declare("Chat.SnapEngage",["Chat",Helper]);modular.define(function(Chat,Helper){Chat.addProvider("SnapEngage",{capabilities:{customUI:false,vendorUI:true,vendorPopup:true},initialize:function(chatOptions){this.chatOptions=chatOptions;injectSnapEngageAPI(this.chatOptions.accountNum);getSnapEngageAPI(function(SnapEngage){SnapEngage.hideButton();SnapEngage.setCallback("Close",function(){SnapEngage.hideButton()})})},isAgentAvailable:function(callback){getSnapEngageAPI(function(SnapEngage){SnapEngage.getAgentStatusAsync(function(online){callback(online)})})},showVendorUI:function(){getSnapEngageAPI(function(SnapEngage){SnapEngage.startLink()})},showVendorPopup:function(){var popupUrl="http://www.snapengage.com/chat?t=out&w="+this.chatOptions.accountNum;Helper.openPopup(popupUrl,"nrSnapEngageChatWindow",346,365)}});function injectSnapEngageAPI(accountId){if(window.SnapEngage){return}var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src="//storage.googleapis.com/code.snapengage.com/js/"+accountId+".js";var done=false;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(getSnapEngageAPI.callbackQueue){for(var i=0;i<getSnapEngageAPI.callbackQueue.length;i++){getSnapEngageAPI.callbackQueue[i](window.SnapEngage)}delete getSnapEngageAPI.callbackQueue}}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s)}function getSnapEngageAPI(callback){if(window.SnapEngage){callback(window.SnapEngage)}else{if(!getSnapEngageAPI.callbackQueue){getSnapEngageAPI.callbackQueue=[]}getSnapEngageAPI.callbackQueue.push(callback)
}}});modular.declare("Chat.LiveEngage",["Chat",EventEmitter]);modular.define(function(Chat,EventEmitter){Chat.addProvider("LiveEngage",{capabilities:{customUI:false,vendorUI:true,vendorPopup:false},getChannelId:function(channel){var id=channel.chatProvider+"_"+channel.chatOptions.accountNum+"_"+channel.chatOptions.engagementId;return id},initialize:function(chatOptions){if(chatOptions.engagementDivId&&!document.getElementById(chatOptions.engagementDivId)){var container=document.createElement("div");container.style.display="none";container.id=chatOptions.engagementDivId;document.body.appendChild(container);var notifyMethodAvailable=window.lpTag&&window.lpTag.sdes&&typeof window.lpTag.sdes.send==="function";if(notifyMethodAvailable){lpTag.sdes.send([{type:"pagediv",divId:chatOptions.engagementDivId}])}}LE.injectAPI(chatOptions.accountNum,chatOptions.engagementId).on({agentAvailabilityChanged:function(engagement){if(engagement.id===chatOptions.engagementId){this.emit("agentAvailabilityChanged",engagement.available)}},windowOpened:function(engagementId){},windowClosed:function(engagementId){}},this)},isAgentAvailable:function(callback){LE.isAgentAvailable(this.chatOptions.engagementId,function(isAvailable){callback(isAvailable)})},showVendorUI:function(){LE.showVendorUI(this.chatOptions.engagementId)}});var LE={activeEngagementId:null,engagements:{},on:EventEmitter.prototype.on,off:EventEmitter.prototype.off,emit:EventEmitter.prototype.emit,injectAPI:function(accountId,engagementId){var self=this;this.engagements[engagementId]=this.engagements[engagementId]||{state:0};if(this.apiInjected){return this}else{this.apiInjected=true}if(!window.lpTag){window.lpTag=window.lpTag||{};if(typeof window.lpTag._tagCount==="undefined"){window.lpTag={site:accountId||"",section:lpTag.section||"",autoStart:lpTag.autoStart===false?false:true,ovr:lpTag.ovr||{},_v:"1.6.0",_tagCount:1,protocol:"https:",events:{bind:function(app,ev,fn){lpTag.defer(function(){lpTag.events.bind(app,ev,fn)},0)},trigger:function(app,ev,json){lpTag.defer(function(){lpTag.events.trigger(app,ev,json)
},1)}},defer:function(fn,fnType){if(fnType==0){this._defB=this._defB||[];this._defB.push(fn)}else{if(fnType==1){this._defT=this._defT||[];this._defT.push(fn)}else{this._defL=this._defL||[];this._defL.push(fn)}}},load:function(src,chr,id){var t=this;setTimeout(function(){t._load(src,chr,id)},0)},_load:function(src,chr,id){var url=src;if(!src){url=this.protocol+"//"+((this.ovr&&this.ovr.domain)?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site}var s=document.createElement("script");s.setAttribute("charset",chr?chr:"UTF-8");if(id){s.setAttribute("id",id)}s.setAttribute("src",url);document.getElementsByTagName("head").item(0).appendChild(s)},init:function(){this._timing=this._timing||{};this._timing.start=(new Date()).getTime();var that=this;if(window.attachEvent){window.attachEvent("onload",function(){that._domReady("domReady")})}else{window.addEventListener("DOMContentLoaded",function(){that._domReady("contReady")},false);window.addEventListener("load",function(){that._domReady("domReady")},false)}if(typeof(window._lptStop)=="undefined"){this.load()}},start:function(){this.autoStart=true},_domReady:function(n){if(!this.isDom){this.isDom=true;this.events.trigger("LPT","DOM_READY",{t:n})}this._timing[n]=(new Date()).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]};lpTag.init()}else{window.lpTag._tagCount+=1}}this.getAPI(function(){setInterval(function(){var engagement,activeEngagementState;for(var engagementId in self.engagements){if(self.engagements.hasOwnProperty(engagementId)){engagement=self.engagements[engagementId];activeEngagementState=window.lpTag.taglets.rendererStub.getEngagementState(engagementId).state;if(engagement.state!==activeEngagementState){engagement.state=activeEngagementState;self.emit("agentAvailabilityChanged",{id:engagementId,state:engagement.state,available:engagement.state===1})}}}},500);window.lpTag.events.bind("lpUnifiedWindow","windowClosed",function(){self.emit("windowClosed",self.activeEngagementId);self.activeEngagementId=null
})});return this},isFullyLoadedAPI:function(){try{return typeof window.lpTag.taglets.rendererStub.getEngagementState==="function"}catch(e){return false}},getAPI:function(callback){var self=this;this.useCallbackQueue(this.getAPI,callback,function(callback){if(self.isFullyLoadedAPI()){callback.call(self)}else{window.lpTag.events.bind("LE_ENGAGER","SHOW",function(){callback.call(self)})}})},isAgentAvailable:function(engagementId,callback){this.getAPI(function(){callback(this.engagements[engagementId].state===1)})},showVendorUI:function(engagementId){if(!this.activeEngagementId&&window.lpTag.taglets.rendererStub.click(engagementId)){this.activeEngagementId=engagementId;this.emit("windowOpened",engagementId)}},useCallbackQueue:function(func,callback,funcBody){var self=this;if(func._resolvedArgs){if(callback){callback.apply(self,func._resolvedArgs)}}else{if(func._callbackQueue){if(callback){func._callbackQueue.push(callback)}}else{func._callbackQueue=func._callbackQueue||[];if(callback){func._callbackQueue.push(callback)}funcBody.call(self,function(){func._resolvedArgs=Array.prototype.slice.call(arguments);for(var i=0;i<func._callbackQueue.length;i++){func._callbackQueue[i].apply(self,arguments)}delete func._callbackQueue})}}}}});if(container.Common){modular.declare("Chat.LivePerson",["Chat",container.Alloy,container.Common.DOM,container.Common.Helper,container.Legacy.Misc.checkString,EventEmitter,container.Localization])}else{modular.declare("Chat.LivePerson",["Chat",Alloy,DOM,Helper,null,EventEmitter,null])}modular.define(function(Chat,Alloy,DOM,Helper,checkString,EventEmitter,Localization){var Provider=Chat.addProvider("LP",{capabilities:{customUI:true,vendorUI:false,vendorPopup:true,pendingMessages:true},initialize:function(chatOptions){this.chatOptions=chatOptions;this.agentFilter={};if(this.chatOptions){this.agentFilter.skill=this.chatOptions.agentSkill}if(!isNaN(parseFloat(this.chatOptions.waitTime))){this.agentFilter.maxWaitTime=parseFloat(this.chatOptions.waitTime)}LP.initAPI(this.chatOptions,this)},isAgentAvailable:function(callback){var self=this;
LP.getAgentStatus(function(isAvailable){callback(isAvailable);if(isAvailable&&self.chatOptions.preChat){LP.loadPreChatSurvey()}})},isSessionActive:function(callback){LP.isSessionActive(callback)},isSessionResumed:function(callback){LP.isSessionResumed(callback)},showVendorPopup:function(popupWidth,popupHeight){var self=this;LP.detectAccountServer(self.chatOptions.accountNum,function(serverApiDomain){var popupUrl="https://"+serverApiDomain+"/hc/"+self.chatOptions.accountNum+"/?cmd=file&file=visitorWantsToChat&site="+self.chatOptions.accountNum+"&byhref=1";if(self.chatOptions.agentSkill){popupUrl+="&SV!skill="+encodeURIComponent(self.chatOptions.agentSkill)}Helper.openPopup(popupUrl,"nrLPChatWindow",popupWidth,popupHeight)})},getChatState:function(callback){LP.getAPI(function(chatInstance){callback(chatInstance.getState()||null)})},getChatLog:function(callback){callback(LP.getCurrentChatLog())},getStatusMessage:function(callback){callback(LP.getLastSystemMessage())},getAgentName:function(callback){LP.getAgentName(callback)},requestChat:function(){var self=this;LP.getAPI(function(chatInstance){if(self.chatOptions.preChat){LP.loadPreChatSurvey(function(error,surveyConfig){if(!error&&(chatInstance.getState()!=="waiting"&&chatInstance.getState()!=="chatting")){self.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatSurvey",config:surveyConfig,area:"overlay"})}else{chatInstance.requestChat(self.agentFilter)}})}else{chatInstance.requestChat(self.agentFilter)}if(!self.chatOptions.hideSendToEmail){self.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatTranscript",area:"toolbar"})}})},setUserTyping:function(isTyping){LP.getAPI(function(chatInstance){chatInstance.setVisitorTyping({typing:isTyping})})},sendMessage:function(messageText,callback){LP.getAPI(function(chatInstance){if(chatInstance.getState()==="chatting"){LP.nrSendChatMessage(messageText,callback)}else{LP.nrSendPendingChatMessage(messageText,callback)}})},setCustomParams:function(paramsObject){LP.setPendingCustomVariable({customVariable:paramsObject})
},endChat:function(){LP.endChat()},_submitPreSurvey:function(surveyData){var self=this;if(surveyData){self.agentFilter.survey=surveyData}LP.getAPI(function(chatInstance){chatInstance.requestChat(self.agentFilter)})},_submitPostSurvey:function(surveyData){if(surveyData){LP.getAPI(function(chatInstance){chatInstance.submitExitSurvey({survey:surveyData})})}this.emit("chatStateChanged","close")},_emailTranscript:function(email){LP.getAPI(function(chatInstance){chatInstance.requestTranscript({email:email})})}});Provider.ChatSurvey=EventEmitter.extend({name:"ChatSurvey",_prototype:{ctor:function(obj){this.surveyType=obj.surveyType;this.chatUI=obj.chatUI;this.chatProvider=obj.chatProvider;this.build(obj,obj.container)},build:function(survey,parentNode){var self=this;this.container=DOM.createElement("div",{parent:parentNode,className:"surveyContainer nr-lp-survey"});this.survey=survey;this.questions=[];this.logicQuestions=[];DOM.createElement("div",{parent:this.container,className:"surveyHeading",innerHTML:survey.header});for(var i=0;i<survey.questions.question.length;i++){var question=survey.questions.question[i];this.appendQuestion(question,this.container)}this.submitHandler=function(){self.submit()};this.btnSubmit=DOM.createElement("button",{textContent:"Submit!",className:"nr-lp-btn-submit",parent:this.container});this.btnSubmit.onclick=this.submitHandler},appendQuestion:function(question,container){var table=DOM.createElement("table",{parent:container,cellPadding:"3"});var tbody=DOM.createElement("tbody",{parent:table});var td,tr;var logic=this.logicQuestions[question.logicId.toString()];var questionObj={question:question,visible:true};questionObj.row=table;if(logic){var type=logic.type;var element=logic.element;table.style.display="none";questionObj.visible=false;var mthis=this;switch(type){case"Dropdown Box":element.parentNode.onchange=function(){var selected=element.parentNode.value===element.value;mthis.toggleLogicQuestion(table,selected,questionObj)};break;default:element.onclick=function(){mthis.toggleLogicQuestion(table,this.checked,questionObj)
};break}}tr=DOM.createElement("tr",{parent:tbody,valign:"top"});td=DOM.createElement("td",{parent:tr,className:"question"});td.innerHTML=question.label+(question.mandatory?'<span class="mandatory"> *</span>':"");td=DOM.createElement("tr",{parent:tr});this.buildInput(question,td,questionObj);if(question.label.toLowerCase().indexOf("name")>-1){questionObj.labelHasName=true}this.questions.push(questionObj)},buildInput:function(question,td,questionObj){var options=question.entry;var input,i,op;var tmpWrapper,tmpHolder,tmpLabel;switch(question.type){case"Text Field":input=DOM.createElement("input",{type:"text",parent:td,value:question.lastKnownValue,maxLength:40});questionObj.input=input;break;case"Text Area":input=DOM.createElement("textarea",{parent:td,className:"inputTxt",value:question.lastKnownValue});questionObj.input=input;break;case"Dropdown Box":input=DOM.createElement("select",{parent:td,className:"surveySelect"});if(!options){break}for(i=0;i<options.length;i++){op=DOM.createElement("option",{parent:input,value:options[i].value,textContent:options[i].value});op.selected=options[i].checked;this.addLogicQuestion(options[i],op,question.type)}questionObj.input=input;break;case"Checkbox":if(!options){break}questionObj.inputs=[];for(i=0;i<options.length;i++){tmpWrapper=DOM.createElement("table",{parent:td});tmpHolder=DOM.createElement("td",{parent:tmpWrapper});tmpLabel=DOM.createElement("label",{parent:tmpHolder});op=DOM.createElement("input",{type:"checkbox",parent:tmpLabel,value:options[i].value,checked:options[i].checked});DOM.createElement("span",{parent:tmpLabel,textContent:options[i].displayValue});questionObj.inputs.push(op);this.addLogicQuestion(options[i],op,question.type)}break;case"Radio Button (side by side)":case"Radio Button":if(!options){break}questionObj.inputs=[];td.className+=(question.type==="Radio Button (side by side)"?" radio-layout-sidebyside":" radio-layout-default");for(i=0;i<options.length;i++){tmpWrapper=DOM.createElement("table",{parent:td});tmpHolder=DOM.createElement("td",{parent:tmpWrapper});
tmpLabel=DOM.createElement("label",{parent:tmpHolder});op=DOM.createElement("input",{type:"radio",parent:tmpLabel,name:"q_"+question.id,value:options[i].value,checked:options[i].checked});DOM.createElement("span",{parent:tmpLabel,textContent:options[i].displayValue});questionObj.inputs.push(op);this.addLogicQuestion(options[i],op,question.type)}break}},addLogicQuestion:function(option,element,type){if(option.logic&&option.logic.showLogicId){var showLogicId=option.logic.showLogicId;var obj={element:element,type:type};this.logicQuestions[showLogicId]=obj}},toggleLogicQuestion:function(table,visible,questionObj){table.style.display=visible?"":"none";questionObj.visible=visible;this.chatUI.emit("resize")},validateSurvey:function(){var questions=this.questions;var errors=false;var nameValidated=false;var inputValue;for(var i=0;i<questions.length;i++){if(!questions[i].visible){continue}var question=questions[i].question;var input=questions[i].input;var inputs=questions[i].inputs;var row=questions[i].row;var labelHasName=questions[i].labelHasName;var error=false;if(input){inputValue=input.value.replace(/^\s+|\s+$/g,"")}else{inputValue=null}if(question.mandatory){if(inputValue===""){error=true}else{if(inputs){var filled=false;for(var j=0;j<inputs.length;j++){if(inputs[j].checked){filled=true;break}}error=!filled}}}if((question.type==="Text Field"||question.type==="Text Area")&&inputValue){switch(question.validationType){case"alpha_numeric":if(labelHasName&&!nameValidated){error|=inputValue.indexOf('"')>-1|inputValue.indexOf("'")>-1|inputValue.indexOf("<")>-1|inputValue.indexOf(">")>-1|inputValue.indexOf(";")>-1;nameValidated=true}break;case"numeric":error|=!checkString(inputValue,"number");break;case"email":error|=!checkString(inputValue,"email");break}}if(error){row.className="validationError";errors=true}else{row.className=""}}return !errors},submit:function(){if(!this.validateSurvey()){return}var surveyObj={survey:{id:this.survey.id,question:[]}};var emptySurvey=true;for(var i in this.questions){if(!this.questions[i].visible){continue
}var question=this.questions[i].question;var input=this.questions[i].input;var inputs=this.questions[i].inputs;var questionObj={id:question.id};if(input&&input.value){questionObj.answer=input.value.replace(/^\s+|\s+$/g,"").replace(/\"/g,'\\"')}else{if(inputs){var answers=[];for(var j in inputs){if(inputs[j].checked){answers.push(inputs[j].value)}}if(answers.length){questionObj.answer=answers}}}if(questionObj.answer){if(emptySurvey){emptySurvey=false}surveyObj.survey.question.push(questionObj)}}this.chatProvider[this.surveyType==="pre"?"_submitPreSurvey":"_submitPostSurvey"](emptySurvey?null:surveyObj.survey);this.dispose()},dtor:function(){DOM.removeNode(this.container);this.emit("dispose");this.chatProvider=null;this.chatUI=null}}});Provider.ChatTranscript=EventEmitter.extend({name:"ChatTranscript",_prototype:{ctor:function(obj){this.chatProvider=obj.chatProvider;this.chatUI=obj.chatUI;this.container=obj.container;this.initStructure()},initStructure:function(){var self=this;this.block=DOM.createElement("div",{parent:this.container,className:"nr-lp-transcript"});this.btnShowForm=DOM.createElement("div",{parent:this.block,className:"nr-lp-transcript-btn","nr-tooltip":Localization.getText("Channeling.emailChat"),"nr-tooltip-position-y":"bottom"});this.form=DOM.createElement("form",{parent:this.block,className:"nr-lp-transcript-form"});this.emailInput=DOM.createElement("input",{parent:this.form,className:"nr-lp-transcript-input",placeholder:Localization.getText("Channeling.enterEmail")});this.btnCancel=DOM.createElement("span",{parent:this.form,className:"nr-lp-transcript-action",textContent:Localization.getText("Channeling.cancel")});this.btnSendEmail=DOM.createElement("span",{parent:this.form,className:"nr-lp-transcript-action nr-lp-transcript-action-highlight",textContent:Localization.getText("Channeling.sendChat")});this.hideForm();this.btnShowForm.onclick=function(){self.showForm();self.emailInput.focus()};this.btnSendEmail.onclick=function(){if(self.validate()){self.chatProvider._emailTranscript(self.emailInput.value);
self.dispose()}};this.form.onsubmit=function(){self.btnSendEmail.onclick();return false};this.btnCancel.onclick=function(){self.emailInput.value="";self.hideForm()}},validate:function(){if(!checkString(this.emailInput.value,"email")){alert(Localization.getText("Channeling.emailValidation"));return false}return true},showForm:function(){DOM.addClass(this.container,"nr-lp-transcript-form-active");this.btnShowForm.style.display="none";this.form.style.display=""},hideForm:function(){DOM.removeClass(this.container,"nr-lp-transcript-form-active");this.btnShowForm.style.display="";this.form.style.display="none"},dtor:function(){this.hideForm();DOM.removeNode(this.block);this.emit("dispose");this.chatProvider=null;this.chatUI=null}}});var LP={state:null,chatOptions:null,chatInstance:null,chatProvider:null,initAPI:function(chatOptions,chatProvider){this.resetState();this.chatOptions=chatOptions;this.chatProvider=chatProvider;this.detectAccountServer(this.chatOptions.accountNum)},detectAccountServer:function(accountId,callback){this.useCallbackQueue(this.detectAccountServer,callback,function(callback){Alloy.jsonp({url:"//api.liveperson.net/csdr/account/"+accountId+"/service/adminArea/baseURI.lpCsds?version=1.0",handler:function(error,data){callback(data.ResultSet.lpData[0].lpServer)}})})},isSessionActive:function(callback){var self=this;if(typeof callback!=="function"){return}LP.getAPI(function(chatInstance){var chatState=chatInstance.getState();if(chatState!=="chatting"&&chatState!=="ended"&&chatState!=="waiting"){self.state.pendingSessionRequests.push(callback)}else{callback(true)}})},isSessionResumed:function(callback){if(typeof callback!=="function"){return}callback(LP.state.chatWasResumed)},pollAgentStatus:function(){LP.getAPI(function(chatInstance){var pollInterval=3000;var requestUpdate=function(){chatInstance.getAvailabilty({skill:LP.chatOptions.agentSkill,success:function(data){if(LP.agentIsAvailable!==data.availability){LP.agentIsAvailable=data.availability;LP.chatProvider.emit("agentAvailabilityChanged",LP.agentIsAvailable)
}setTimeout(requestUpdate,pollInterval)}})};requestUpdate()})},getAgentStatus:function(callback){var self=this;this.useCallbackQueue(this.getAgentStatus,callback,function(callback){this.detectAccountServer(this.chatOptions.accountNum,function(serverApiDomain){window.lpServerName=serverApiDomain;window.lpNumber=this.chatOptions.accountNum;window.lpSkill=this.chatOptions.agentSkill;window.repStateNotifyFunction=function(agentStatus){var isAvailable=(agentStatus==="online");callback(isAvailable);LP.agentIsAvailable=isAvailable;self.pollAgentStatus()};DOM.appendJavaScriptElement("//"+serverApiDomain+"/hcp/html/lpCheckRepState.js")})})},getAPI:function(callback){this.useCallbackQueue(this.getAPI,callback,function(callback){var self=this;var apiLoadedHandler=function(){var chatInstance=new window.lpTag.taglets.ChatOverRestAPI({transportOrder:["rest2jsonp"],appKey:self.chatOptions.apiKey,lpNumber:self.chatOptions.accountNum,skill:self.chatOptions.agentSkill||null,onInit:function(){callback(chatInstance)},onLoad:function(){},onLine:function(data){for(var i=0,line;i<data.lines.length;i++){line=data.lines[i];line.text=line.text.toString();if(line.source==="system"){self.state.lastSystemMessage={text:line.text,textType:line.textType,type:line.source};self.chatProvider.emit("systemMessage",self.state.lastSystemMessage)}else{if(line.source==="visitor"){line.source="client"}if(line.source==="client"&&self.state.pendingMessages.length){var thisWasPendingMessage=false;for(var j=0;j<self.state.pendingMessages.length;j++){if(self.state.pendingMessages[j].text===line.text){thisWasPendingMessage=true;self.state.pendingMessages.splice(j,1);break}}if(!self.state.pendingMessages.length){localStorage.removeItem("nr_lp_pending"+chatInstance.getSessionKey())}if(thisWasPendingMessage){continue}}self.state.currentChatLog.push({text:line.text,textType:line.textType,type:line.source,id:self.getUniqueId(),status:"sent"});if(line.source==="agent"&&chatInstance.getState()!=="resume"){self.chatProvider.emit("newMessage",self.state.currentChatLog[self.state.currentChatLog.length-1])
}}}},onState:function(data){self.chatProvider.emit("_chatStateChanged",data.state);var knownState=true;switch(data.state){case"initialised":setTimeout(function(){if(self.state.pendingSessionRequests.length&&chatInstance.getState()==="initialised"){for(var i=0;i<self.state.pendingSessionRequests.length;i++){self.state.pendingSessionRequests[i](false)}self.state.pendingSessionRequests=[]}},500);knownState=false;break;case"resume":self.state.chatWasResumed=true;knownState=false;break;case"chatting":if(self.state.pendingMessages.length){for(var i=0;i<self.state.pendingMessages.length;i++){self.nrSendChatMessage(self.state.pendingMessages[i])}}if(self.state.pendingSessionRequests.length){for(var i=0;i<self.state.pendingSessionRequests.length;i++){self.state.pendingSessionRequests[i](true)}self.state.pendingSessionRequests=[]}self.state.userWasChatting=true;if(!self.state.initStateCalled){self.state.initStateCalled=true;self.chatProvider.emit("chatStateChanged","init")}break;case"waiting":try{var pendingMessagesStrings=JSON.parse(localStorage.getItem("nr_lp_pending"+chatInstance.getSessionKey()));for(var k=0;k<pendingMessagesStrings.length;k++){self.state.pendingMessages.push({id:self.getUniqueId(),text:pendingMessagesStrings[k],textType:"plain",type:"client",status:"sending"})}}catch(e){}if(self.state.pendingMessages.length){for(var j=0;j<self.state.pendingMessages.length;j++){self.state.currentChatLog.push(self.state.pendingMessages[j])}}if(self.state.pendingCustomVariables){chatInstance.setCustomVariable(self.state.pendingCustomVariables)}if(!self.state.initStateCalled){self.state.initStateCalled=true;self.chatProvider.emit("chatStateChanged","init")}break;case"ended":self.state.chatWasResumed=false;if(self.state.pendingSessionRequests.length){for(var i=0;i<self.state.pendingSessionRequests.length;i++){self.state.pendingSessionRequests[i](false)}self.state.pendingSessionRequests=[]}if(!self.state.userWasChatting&&!self.state.userEndedChat){self.resetState();chatInstance.requestChat(self.chatProvider.agentFilter);return
}if(self.state.userEndedChat){if(self.chatOptions.postChat){self.loadPostChatSurvey(function(error,surveyConfig){if(!error){self.chatProvider.emit("providerShowBlock",{"class":"nanoRep.SDK.Channeling.Chat.Providers."+Provider.Name+".ChatSurvey",config:surveyConfig,area:"overlay"})}})}else{self.chatProvider.emit("chatStateChanged","close")}}self.resetState();break;default:knownState=false}if(knownState){self.chatProvider.emit("chatStateChanged",data.state)}},onStart:function(){self.chatProvider.emit("chatStarted")},onAgentTyping:function(data){self.chatProvider.emit("agentTyping",data.agentTyping)},onAvailability:function(data){self.chatProvider.emit("agentAvailable",data)},onInfo:function(data){if(data.agentName&&self.getAgentName._callbackQueue){for(var i=0;i<self.getAgentName._callbackQueue.length;i++){self.getAgentName._callbackQueue[i](data.agentName)}delete self.getAgentName._callbackQueue}}})};var done=false;var se=document.createElement("script");se.type="text/javascript";se.async=true;se.src="//server.iad.liveperson.net/hcp/html/lpChatV3.min.js?site="+self.chatOptions.accountNum;se.onload=se.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;apiLoadedHandler()}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(se,s)})},endChat:function(){this.getAPI(function(chatInstance){if(chatInstance.getState()==="ended"){this.chatProvider.emit("chatStateChanged","close")}else{this.state.userEndedChat=true;chatInstance.endChat()}})},resetState:function(){this.state={userEndedChat:false,userWasChatting:false,chatWasResumed:false,initStateCalled:false,lastSystemMessage:null,currentChatLog:[],pendingMessages:[],pendingSessionRequests:[],pendingCustomVariables:null}},getLastSystemMessage:function(){var systemMessage=this.state.lastSystemMessage;return systemMessage},getCurrentChatLog:function(){return this.state.currentChatLog},getAgentName:function(callback){this.getAPI(function(chatInstance){if(chatInstance.getState()==="waiting"){callback(null)
}else{if(chatInstance.getAgentLoginName()){callback(chatInstance.getAgentLoginName())}else{this.getAgentName._callbackQueue=this.getAgentName._callbackQueue||[];this.getAgentName._callbackQueue.push(callback)}}})},setPendingCustomVariable:function(paramsObject){this.state.pendingCustomVariables=paramsObject},nrSendChatMessage:function(messageText,callback){var self=this;var message=(typeof messageText==="object"?messageText:{id:this.getUniqueId(),text:messageText,textType:"plain",type:"client",status:"sending"});if(callback){callback(message)}this.getAPI(function(chatInstance){chatInstance.addLine({text:message.text,success:function(){message.status="sent";self.chatProvider.emit("updateMessage",message)},error:function(){message.status="failed";self.chatProvider.emit("updateMessage",message)}})})},nrSendPendingChatMessage:function(messageText,callback){var message={id:this.getUniqueId(),text:messageText,textType:"plain",type:"client",status:"sending"};if(callback){callback(message)}this.state.currentChatLog.push(message);this.state.pendingMessages.push(message);this.getAPI(function(chatInstance){var pendingMessagesStrings=[];for(var i=0;i<this.state.pendingMessages.length;i++){pendingMessagesStrings.push(this.state.pendingMessages[i].text)}localStorage.setItem("nr_lp_pending"+chatInstance.getSessionKey(),JSON.stringify(pendingMessagesStrings))})},loadPreChatSurvey:function(callback){var self=this;var patchedCallback=callback?function(){var args=Array.prototype.slice.call(arguments);LP.getAPI(function(chatInstance){if(chatInstance.getState()==="resume"){var tmpHandler=function(){self.chatProvider.off("_chatStateChanged",tmpHandler);callback.apply(self,args)};self.chatProvider.on("_chatStateChanged",tmpHandler)}else{callback.apply(self,args)}})}:null;this.useCallbackQueue(this.loadPreChatSurvey,patchedCallback,function(callback){var surveyOptions={success:function(data){data.survey.surveyType="pre";callback(false,data.survey)},error:function(error){callback(error)}};if(this.chatOptions.agentSkill){surveyOptions.skill=this.chatOptions.agentSkill
}this.getAPI(function(chatInstance){chatInstance.getPreChatSurvey(surveyOptions)})})},loadPostChatSurvey:function(callback){this.useCallbackQueue(this.loadPostChatSurvey,callback,function(callback){this.getAPI(function(chatInstance){chatInstance.getExitSurvey({success:function(data){data.survey.surveyType="post";callback(false,data.survey)},error:function(error){callback(error)}})})})},useCallbackQueue:function(func,callback,funcBody){var self=this;if(func._resolvedArgs){if(callback){callback.apply(self,func._resolvedArgs)}}else{if(func._callbackQueue){if(callback){func._callbackQueue.push(callback)}}else{func._callbackQueue=func._callbackQueue||[];if(callback){func._callbackQueue.push(callback)}funcBody.call(self,function(){func._resolvedArgs=Array.prototype.slice.call(arguments);for(var i=0;i<func._callbackQueue.length;i++){func._callbackQueue[i].apply(self,arguments)}delete func._callbackQueue})}}},getUniqueId:function(){this.getUniqueId._uid=this.getUniqueId._uid||1;return this.getUniqueId._uid++}}});this.Chat=modular.byName("Chat")}});ISQ.Widget.preventOuterScroll=function(d){var a=function(f){if(!window.nanorepScrollLocked){return true}f.preventDefault();f.stopPropagation();return false};var c=function(){window.nanorepScrollLocked=true};var b=function(){window.nanorepScrollLocked=false};window.nanorepScrollLocked=false;if(ISQ.Http.browser.app!="ff"){window.addEvents(window,"onmousewheel",a)}window.addEvents(d,"onmouseenter",c);window.addEvents(d,"onmouseleave",b)};ISQ.Widget.appendConfigurationsToIframeSource=function(a,b){a.push("#account=");a.push(b.account);if(b.kb){a.push("&kb=");a.push(b.kb)}if(b.splitTestGroup){a.push("&splittestgroup=");a.push(b.splitTestGroup)}if(b.preview){a.push("&preview=true")}a.push("&doctype=");a.push(ISQ.Widget.doctype);a.push("&refencoded=true&referer=");a.push(ISQ.Http.Cookies.encode64(b.referer));if(!ISQ.Widget.supportsPostMessage&&b.cdcFrame){a.push("&cdcFrame=");a.push(ISQ.Widget.getInnerFrameUrl(b.cdcFrame,window.location.href));a.push("&cdcversion=");a.push(b.cdcVersion)
}if(ISQ.Widget.supportsPostMessage){a.push("&cnf=true")}if(b.pageId){a.push("&pageId=");a.push(b.pageId)}if(b.searchDelay){a.push("&searchDelay=");a.push(b.searchDelay)}if(b.naive){a.push("&naive=");a.push(b.naive)}a.push("&reportEvents=true");if(b.debug){a.push("&debug=isq")}ISQ.Widget.appendCustomValuesToStringBuilder(a,b.customValues)};ISQ.Widget.appendCustomValuesToStringBuilder=function(c,a){if(!a){return}var d;for(var b in a){d=typeof(a[b]);if(d==="function"||d==="object"){continue}c.push("&");c.push(b);c.push("=");if(d==="string"){if(b==="onloadQuestionId"||b==="languageCode"||b=="configId"){c.push(a[b])}else{c.push(ISQ.Http.Cookies.encode64(a[b]))}}else{c.push(a[b])}}};ISQ.Widget.downloadAndSendCNF=function(b){if(!ISQ.Widget.CNFStatus){ISQ.Widget.CNFStatus=[]}var a=ISQ.Widget.CNFStatus[b.id]={downloaded:false,waitingForDownload:false};if(!window._nRepData.eCNFLoaded){window._nRepData.eCNFLoaded=new ISQ.Event()}if(b.useExistingCNF&&((b.id==="float"&&typeof(ISQ.Cnf_Float)==="object")||(b.id==="embed"&&typeof(ISQ.Cnf_Embed)==="object"))){if(!ISQ.Widget.supportsPostMessage){return false}ISQ.Widget.cnfLoaded(b);b.useExistingCNF=false;a.downloaded=true;return true}ISQ.Widget.downloadCnf(b,function(){var c=null;if(b.type==="float"){c=ISQ.Cnf_Float}else{if(b.type==="embed"){c=ISQ.Cnf_Embed}}if(c.controlGroup){ISQ.Widget.handleEventMessage({type:"notLoad",reason:"conversion control group"},b);return}if(ISQ.Widget.getCustomHost()){c.customServerHost=ISQ.Widget.getCustomHost()}else{b.dynamicHost="//"+c.serverUrl}ISQ.Widget.cnfLoaded(b);if(!ISQ.Widget.supportsPostMessage){return}a.downloaded=true;if(!a.waitingForDownload){return}if(b.type==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,b)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,b)}});return ISQ.Widget.supportsPostMessage};ISQ.Widget.cnfLoaded=function(widgetData){var cnf=null;if(widgetData.type==="float"){cnf=ISQ.Cnf_Float}else{cnf=ISQ.Cnf_Embed}if(!cnf){return}var chatConfig=eval("("+cnf.chatConfiguration+")");if(chatConfig.active==="LP"){if(typeof(lpMTagConfig)!="undefined"&&typeof(lpMTagConfig.LPSID_VAR)!="undefined"){chatConfig.LP.visitorId=lpMTagConfig.LPSID_VAR;
cnf.chatConfiguration=ISQ.Data.jsonToString(chatConfig)}else{var lptagInterval=setInterval(function(){if(typeof(lpMTagConfig)!="undefined"&&typeof(lpMTagConfig.LPSID_VAR)!="undefined"){stringBuilder=[];stringBuilder.push("subject=visitorId&data=");stringBuilder.push(lpMTagConfig.LPSID_VAR);widgetData.cdcUser.sendMessage(stringBuilder.join(""));clearInterval(lptagInterval)}},500)}}window._nRepData.eCNFLoaded.dispatch(widgetData.id);if(widgetData.eCnfLoaded){widgetData.eCnfLoaded()}ISQ.Widget.loadGuidance(widgetData,cnf)};ISQ.Widget.loadGuidance=function(d,a){if(!a.hasGuides){return}window.guidanceAccount=d.account;window.serverUrl=ISQ.Widget.getAccountURL(d.account);(function(){var f=document.createElement("script");f.type="text/javascript";f.src="//"+d.dynamicHost+"/guidanceEditor/viewer.js?cv=8D4340FFDB84BB0";document.getElementsByTagName("head")[0].appendChild(f)})();if(!window.GuidanceAPI){window.GuidanceAPI={}}var b=function(g){if(!d.cnfDataSent){setTimeout(function(){b(g)},100);return}var f=[];f.push("subject=guidesOptions&data=");var k=[];for(var j=0;j<g.length;j++){if(g[j].options.triggerAt.search&&!g[j].isStopped){k.push(g[j].id+":true")}else{k.push(g[j].id+":false")}}f.push(k.join("|"));d.cdcUser.sendMessage(f.join(""))};if(GuidanceAPI.loadedGuides){b(GuidanceAPI.loadedGuides);return}var c=GuidanceAPI.onload;GuidanceAPI.onload=function(f){b(f);if(c){c(f)}}};ISQ.Widget.downloadCnf=function(g,a){var f=null;if(g.preview){f=escape(g.referer)}else{if(g.customValues&&g.customValues.configId){f="!"+g.customValues.configId}}var c=document.getElementsByTagName("head")[0];var b=createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",ISQ.Widget.buildCNFSource(g.account,g.type==="float",g.kb,f,g.preview,g.splitTestGroup));b.async=true;b.defer=true;var d=function(){if(ISQ.Referer.handlerObjects[b.src].pendingLoad===true){return}a()};ISQ.Referer=initializeNS("ISQ.Referer");ISQ.Referer.handlerObjects=ISQ.Referer.handlerObjects||[];ISQ.Referer.handlerObjects[b.src]={callback:a};if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){b.onload=d
}else{b.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}d();d=null}}c.appendChild(b);return true};ISQ.Widget.sendCNFData=function(cnfObject,widgetData){var cnfStatusObject=ISQ.Widget.CNFStatus[widgetData.id];cnfStatusObject.waitingForDownload=true;if(!cnfStatusObject.downloaded){return}if(typeof(cnfObject.chatProviders)!="undefined"){eval(cnfObject.chatProviders)}var amount=1800;var internalSend=function(substring_,finished){stringBuilder=[];stringBuilder.push("subject=cnf&data=");stringBuilder.push(substring_);if(finished){stringBuilder.push("&finished=true")}widgetData.cdcUser.sendMessage(stringBuilder.join(""))};var str=ISQ.Data.jsonToString(cnfObject);str=ISQ.Http.Cookies.encode64(str);var ndxStart=0;if(amount<str.length){while(ndxStart<str.length){if(ndxStart+amount>str.length){amount=str.length-ndxStart}internalSend(str.substr(ndxStart,amount));ndxStart+=amount}internalSend("",true)}else{internalSend(str,true)}if(widgetData.eAfterCnfSent){widgetData.eAfterCnfSent()}widgetData.cnfDataSent=true};ISQ.Widget.sendingMessagesToWidget=function(a){return ISQ.Widget.supportsPostMessage||a.formValues instanceof Array||typeof(a.context)==="object"||typeof(a.customParams)==="object"};ISQ.Widget.initCDC=function(g,c,a){a=a||{};var f=ISQ.Widget.getAccountDomain(g.account,a.serverUrl);if(ISQ.Widget.supportsPostMessage){g.cdcVersion=3}else{if(!g.cdcVersion){g.cdcVersion=0}}var d=ISQ.Widget.sendingMessagesToWidget(g);g.cdcUser=null;switch(g.cdcVersion){case 0:case 1:case 2:if(g.cdcVersion!==0){ISQ.Widget.cdcMessageEvent.addHandler(c,g)}if(d){g.cdcUser=new ISQ.CDC.User({targetWindowName:g.iframe.id,proxyIFrameUrl:f+"/common/cdc/cdc.html",server:f})}break;case 3:var b={allowMessagesFrom:g.staticHost.indexOf("//cdn-")>-1?g.staticHost:window.location.protocol+f,widget:g.type};if(d){b.server=f;b.targetWindowName=g.iframe.id;b.proxyIFrameUrl=f+"/common/cdc/cdc.html"}g.cdcUser=new ISQ.CDC.User(b);g.cdcUser.incomingMessageEvent.addHandler(c,g);break}};ISQ.Widget.APIKeyEndDelimiter="<";
ISQ.Widget.APIValueEndDelimiter="(";ISQ.Widget.sendAPItoWidget=function(n){var j=ISQ.Widget.sendingMessagesToWidget(n);if(!n.cdcUser||!j){return}var k=[];k.push("subject=api");var d=n.formValues;if((d instanceof Array)&&d.length!==0){k.push("&form=");var g,m,l;for(var f=0;f<d.length;++f){var c=d[f];if(!(c instanceof Array)||c.length<2){continue}if(c.length===2){g=c[0];m=c[1];l=null}else{g=c[1];l=c[0];m=c[2]}if(f!==0){k.push(ISQ.Widget.APIKeyEndDelimiter)}k.push(ISQ.Http.Cookies.encode64(g));k.push(ISQ.Widget.APIValueEndDelimiter);k.push(ISQ.Http.Cookies.encode64(m));if(l){k.push(ISQ.Widget.APIValueEndDelimiter);k.push(ISQ.Http.Cookies.encode64(l))}}}var a=n.context;if(typeof(a)==="object"){k.push("&context=");ISQ.Widget.CDC_appendKeyValueToMessage(a,k)}var b=n.customParams;if(typeof(b)==="object"){k.push("&customparams=");ISQ.Widget.CDC_appendKeyValueToMessage(b,k)}n.cdcUser.sendMessage(k.join(""))};ISQ.Widget.fixStealFocus=function(c){if(!c.iframe){return}var b=c.setFocus;if(!b){return}b=ISQ.Html._(b);if(!b){return}var a=function(){try{b.focus()}catch(d){}};if(window.attachEvent){c.iframe.attachEvent("onload",a)}else{if(window.addEventListener){c.iframe.addEventListener("load",a,true)}}};ISQ.Widget.resizeIframeOnLoad_IE=function(c,d,a,b){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){return false}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7){if(document.readyState==="complete"){return false}if(!c.registeredOnload){c.registeredOnload=true;window.attachEvent("onload",function(){b(c,parseInt(d),parseInt(a)+1)})}return true}else{if(document.readyState!=="complete"||window!=window.top){b(c,parseInt(d),parseInt(a)+1);c.cdcUser.sendMessage("subject=refreshSize");return true}else{return false}}};ISQ.Widget.incomingCDCMessageOrginizer=null;ISQ.Widget.incomingCDCMessage=function(f){if(f.charAt(0)==="?"){f=f.substr(1)}var g=ISQ.Tools.stringToPairArray(f,"=","&",true,false);if(!ISQ.Widget.incomingCDCMessageOrginizer){ISQ.Widget.incomingCDCMessageOrginizer=[]}var a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget];
if(!a){a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget]={};a.lastHandledOrdinal=0;a.pendingMessages=null}if(g.subject&&g.subject=="reset"){a.lastHandledOrdinal=0;a.pendingMessages=null}var l=parseInt(g.ord);var b=l-a.lastHandledOrdinal;if(b<=0){return}if(b>1){if(a.pendingMessages===null){a.pendingMessages=[];a.pendingMessagesCount=0}a.pendingMessages[l]=g;++a.pendingMessagesCount}else{try{ISQ.Widget.cdcMessageEvent.dispatch(g)}catch(c){}if(a.pendingMessages!==null){var k=a.pendingMessagesCount;var j=l+1;for(var d=0;d<k;++d,++j){if(!a.pendingMessages[j]){break}ISQ.Widget.cdcMessageEvent.dispatch(a.pendingMessages[j]);l=j;--a.pendingMessagesCount}if(a.pendingMessagesCount===0){a.pendingMessages=null}}a.lastHandledOrdinal=l}};if(!ISQ.Widget.cdcMessageEvent){ISQ.Widget.cdcMessageEvent=new ISQ.Event()}if(!ISQ.Widget.incomingCustomCDCMessage){ISQ.Widget.incomingCustomCDCMessage=new ISQ.Event()}ISQ.Widget.APIProxyHandler=(function(){var a=function(c,b,k){var f=c.split("."),g=window,j=null;for(var d=0;d<f.length;d++){j=f[d];if(d===0&&f[d]==="window"){continue}if(d<f.length-1){g=g[j]}}var l=function(i){return function(){var m=[];for(var n=0;n<arguments.length;n++){m[n]=JSON.parse(JSON.stringify(arguments[n]))}var o={type:"APIProxy",funcId:i,args:m};k.cdcUser.sendMessage("subject=apiproxy&data="+ISQ.Tools.Base64.encodeString(ISQ.Data.jsonToString(o)))}};for(var d=0;d<b.length;d++){if(typeof b[d]==="string"&&b[d].indexOf("_funcId")===0){b[d]=l(b[d])}}g[j].apply(g,b)};return function(b,c){a(b.func,b.args,c)}}());if(window._nRepData&&window._nRepData.onApiProxyReady){try{window._nRepData.onApiProxyReady()}catch(e){if(window.console&&window.console.log){window.console.log("API Proxy error:",e)}}}ISQ.Widget.handleCommonCDCMessage=function(messageArgs,widgetData){switch(messageArgs.subject){case"cnf":if(widgetData.id==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,widgetData)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,widgetData)}break;case"apiproxy":ISQ.Widget.APIProxyHandler(ISQ.Data.parseJson(ISQ.Tools.Base64.decodeString(messageArgs.data)),widgetData);
break;case"event":ISQ.Widget.handleEventMessage(messageArgs,widgetData);break;case"pagescript":ISQ.API.runPageScript(messageArgs.data,true);break;case"chatResumeRequest":if(_nRepData.chatInResume){ISQ.Widget.preventChatResuming(widgetData);break}if(!_nRepData.chatInResume){_nRepData.chatInResume=true}ISQ.Widget.aboutToResumeChat(widgetData);break;case"chatEnded":_nRepData.chatInResume=false;break;case"loadChat":case"startCustomChat":var loadCustomChat=function(){var config=eval("("+messageArgs.config+")");switch(config.active){case"LiveChatInc":ISQ.Widget.Proxy.Chat.LiveChatInc.start(messageArgs.subject,config,widgetData);break;case"Zopim":ISQ.Widget.Proxy.Chat.Zopim.start(messageArgs.subject,config,widgetData);break;case"Olark":ISQ.Widget.Proxy.Chat.Olark.start(messageArgs.subject,config,widgetData);break;case"SalesForce":ISQ.Widget.Proxy.Chat.SalesForce.start(messageArgs.subject,config,widgetData);break;case"SnapEngage":ISQ.Widget.Proxy.Chat.SnapEngage.start(messageArgs.subject,config,widgetData);break;case"LiveEngage":ISQ.Widget.Proxy.Chat.LiveEngage.start(messageArgs.subject,config,widgetData);break}};if(!isNSexists("ISQ.Widget.Proxy.Chat")){ISQ.Tools.appendScript("/widget/scripts/chatProviders.js",new ISQ.Handler(loadCustomChat))}else{loadCustomChat()}break;case"hideWidget":(_nRepData["float"]||_nRepData.embed).container.style.margin="-9999px";break;case"showWidget":(_nRepData["float"]||_nRepData.embed).container.style.margin="";break;default:ISQ.Widget.incomingCustomCDCMessage.dispatch(messageArgs,widgetData);break}};ISQ.Widget.aboutToResumeChat=function(a){a.cdcUser.sendMessage("subject=chatResumeApproved")};ISQ.Widget.preventChatResuming=function(a){a.cdcUser.sendMessage("subject=preventChatResuming")};ISQ.Widget.createMobileBlockerLink=function(g,c,i,d){if(!ISQ.Http.browser.isMobile){return}var b=g.mobileBlockerLink=document.createElement("a");b.className="nR_noRemove";b.style.cssText="display:block;width: "+i+";height:"+g.height+"px;position:relative;left:0px;top:-"+g.height+"px;z-index:1001;background:transparent;";
c.appendChild(b);b.href=g.iframe.src;b.target="_blank";b.onclick=function(a){if(g.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk){this.style.display="none";var j=document.elementFromPoint(a.clientX,a.clientY);while(j!=null&&j!==g.backImgDiv&&j!==document.body){j=j.parentNode}this.style.display="block";if(j==g.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk>0){var k=this.href;if(!this.hrefLength){this.hrefLength=k.length}if(k.contains("#")){k+="&onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}else{k+="#onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}this.href=k}else{if(this.hrefLength&&this.href.length!=this.hrefLength){this.href=this.href.substring(0,this.hrefLength)}}}g.cdcUser.sendMessage("subject=mobileOpenNewWindow")};var f=_("ozen");if(g.id==="float"&&f&&f.nodeName==="A"){f.href=g.iframe.src;f.target="_blank";f.onclick=function(a){if(g.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk){this.style.display="none";var j=document.elementFromPoint(a.clientX,a.clientY);while(j!=null&&j!==g.backImgDiv&&j!==document.body){j=j.parentNode}this.style.display="block";if(j==g.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk>0){var k=this.href;if(!this.hrefLength){this.hrefLength=k.length}if(k.contains("#")){k+="&onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}else{k+="#onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}this.href=k}else{if(this.hrefLength&&this.href.length!=this.hrefLength){this.href=this.href.substring(0,this.hrefLength)}}}g.cdcUser.sendMessage("subject=mobileOpenNewWindow")}}};ISQ.Widget.Mobile={};ISQ.Widget.Mobile.resizeStart=function(){if(!ISQ.Http.browser.isMobile||ISQ.Http.browser.oldAndroid){return}if(!ISQ.Widget.Mobile.resizeInterval){ISQ.Widget.Mobile.resizeInterval=setInterval(ISQ.Widget.Mobile.resizeTimerElapsed,200)}window.addEventListener("orientationchange",ISQ.Widget.Mobile.orientationChanged)};ISQ.Widget.Mobile.resizeStop=function(){if(ISQ.Widget.Mobile.resizeInterval){clearInterval(ISQ.Widget.Mobile.resizeInterval)}ISQ.Widget.Mobile.resizeInterval=null;
window.removeEventListener("orientationchange",ISQ.Widget.Mobile.orientationChanged)};ISQ.Widget.Mobile.resizeTimerElapsed=function(){if(!ISQ.Cnf_Float){return}var b=ISQ.Widget.Mobile.sizerDiv;if(!b){b=createDiv(document.body);b.style.cssText="width:0; height:0; position:fixed; bottom:0;right:0;";ISQ.Widget.Mobile.sizerDiv=b}if(b.offsetLeft!=ISQ.Widget.Mobile.oldViewportWidth||ISQ.Widget.Mobile.forceNextAction){if(ISQ.Cnf_Embed){ISQ.Widget.Mobile.forceNextAction=ISQ.Embed.Mobile.resizeAction(b.offsetLeft,b.offsetTop)}ISQ.Widget.Mobile.oldViewportWidth=b.offsetLeft;var a=ISQ.Cnf_Float||ISQ.Cnf_Embed;if(!a.mobileWidgetEnabled){return}if(ISQ.Cnf_Float&&ISQ.Cnf_Float.mobileResponsive){return}if(ISQ.Cnf_Embed&&ISQ.Cnf_Embed.mobileResponsive&&ISQ.Embed.Mobile.isMobileOptimized()){return}ISQ.Widget.Mobile.forceNextAction|=ISQ.Widget.Mobile.resizeAction(b.offsetLeft,b.offsetTop)}};ISQ.Widget.Mobile.orientationChanged=function(){ISQ.Widget.Mobile.oldViewportWidth=null};ISQ.Widget.Mobile.resizeAction=function(b,a){if(_nRepData["float"]&&!_nRepData["float"].widgetLoaded){return true}if(!ISQ.Widget.Mobile.teaser){if(ISQ.Widget.Mobile.buildTeaserElement(b,a)){ISQ.Widget.Mobile.teaser.scale(b,a)}return false}if(ISQ.Widget.Mobile.timer){clearTimeout(ISQ.Widget.Mobile.timer)}ISQ.Widget.Mobile.teaser.style.display="none";ISQ.Widget.Mobile.timer=setTimeout(function(){ISQ.Widget.Mobile.teaser.scale(b,a)},200);return false};ISQ.Widget.Mobile.buildTeaserElement=function(k,j){if(ISQ.Widget.isMobileWidget){return}var l=_nRepData["float"]||_nRepData.embed;var a=ISQ.Cnf_Float||ISQ.Cnf_Embed;var b=_nRepData["float"]&&_nRepData["float"].dockMethod==nanoRep.Float.enumDockMethod.RIGHT;var i=ISQ.Widget.Mobile.teaser=createDiv(document.body);i.style.cssText="visibility:hidden; text-align:center; width:100%; bottom:0; z-index:1000; font-family:Arial;";i.style.color=a.titleColor||"#FFF";i.style.backgroundColor=a.titleBGColor||"#009FD4";i.style.position="fixed";if(ISQ.Tools.isLanguageRTL(a.kbLanguageCode)){i.style.direction="rtl"}i.heightRatio_portrait=1/18;
i.heightRatio_landscape=1/9;i.fontRatio=0.8;var f=j>k?i.heightRatio_portrait:i.heightRatio_landscape;var d=j*f;var c=Math.floor(d*i.fontRatio)+"px";i.style.height=Math.ceil(d)+"px";i.style.lineHeight=Math.ceil(d)+"px";i.style.fontSize=c;i.style.bottom=-1*Math.ceil(d/3)+"px";var g=createElement("span",i);g.style.cssText="text-overflow:nowrap; font-size: inherit; color: inherit;";g.innerHTML=a.titleTeaserText;i.textSpan=g;i.onclick=function(){ISQ.Widget.Mobile.openWidgetInNewWindow(l)};i.widthRatio=d/(g.offsetWidth*1.15);i.leftRatio=1/5;i.paddingRatio=1/9;i.borderRatio=1/5;i.scale=function(r,q){var o=q>r?this.heightRatio_portrait:this.heightRatio_landscape;var n=q*o;var s=n/this.widthRatio;this.style.width=Math.ceil(s)+"px";this.style.height=this.style.lineHeight=Math.ceil(n)+"px";var p=Math.ceil(n*this.leftRatio)+"px";if(!b){this.style.left=p}else{this.style.right=p}this.style.letterSpacing=s>350?"-2px":s>150?"-1px":"";this.style.fontSize=Math.floor(n*this.fontRatio)+"px";var m=Math.ceil(n*this.borderRatio);this.style.borderRadius=m+"px "+m+"px 0 0";this.style.visibility="visible";this.style.display="block"};nanoRep.Widget.PositionAnimator.setBottom(i,0);nanoRep.Widget.PositionAnimator.start();return i};ISQ.Widget.Mobile.openWidgetInNewWindow=function(a){a.cdcUser.sendMessage("subject=mobileOpenNewWindow");window.open(a.iframe.src)};ISQ.Widget.Mobile.forceNextAction=false;ISQ.Widget.applyContextFromCookie=function(d){var a=ISQ.Http.Cookies._read("nrContext2");if(!a){return}var b=a.split(",");if(!d.context){d.context={}}for(var c=0;c<b.length;c+=2){if(d.context[b[c]]){continue}d.context[b[c]]=b[c+1]}};ISQ.Widget.applyContextToCookie=function(a){var b=[];for(key in a){b.push(key);b.push(",");b.push(a[key]);b.push(",")}b.splice(b.length-1,1);var c=b.join("");ISQ.Http.Cookies._write("nrContext2",c,"/",ISQ.Http.domain(),false,(24*60*60*30),true)};ISQ.API.init=function(a){ISQ.API.defaultWidgetData=a};ISQ.API.getWidgetData=function(a){var b=null;if(a){b=_nRepData[a]}return b||ISQ.API.defaultWidgetData};ISQ.API.openContactForm=function(a){var b=ISQ.API.getWidgetData(a);
if(!b||!b.cdcUser){return}if(b.id=="float"){if(ISQ.Http.browser.isMobile){return}}else{if(ISQ.Http.browser.oldAndroid){return}}b.cdcUser.sendMessage("subject=openContactForm")};ISQ.API.startChat=function(a,b){var d=ISQ.API.getWidgetData(b);if(!d||!d.cdcUser){return}if(d.id=="float"){if(ISQ.Http.browser.isMobile){return}nanoRep.Float.changeState(nanoRep.Float.enumStates.expand)}else{if(ISQ.Http.browser.oldAndroid){return}}if(d.autoMinimizeTimer){clearTimeout(d.autoMinimizeTimer)}var c="subject=startChat";if(a){c+="&countStatsOnly=true"}d.cdcUser.sendMessage(c)};ISQ.API.customizeWidget=function(a,b){if(typeof(a)!="object"){return}var d=ISQ.API.getWidgetData(b);if(!d||!d.cdcUser){return}var c="subject=customize";if(a.bgcolor){c+="&bgcolor="+a.bgcolor}if(a.title){c+="&title="+a.title}d.cdcUser.sendMessage(c)};ISQ.API.ask=function(b,a){if(!b){b=""}var c=ISQ.API.getWidgetData(a);if(!c||!c.cdcUser){return}c.cdcUser.sendMessage("subject=ask&question="+b)};ISQ.API.askById=function(c,a,d){if(!c){return}var f=ISQ.API.getWidgetData(a);if(!f||!f.cdcUser){return}var b="subject=askById&questionid="+c;if(d){b+="&sender="+d}f.cdcUser.sendMessage(b)};ISQ.API.importCustomParams=function(b){if(b.table){b.customParams=ISQ.API.getCustomParamsFromTable(b)}else{if(b.ul){b.customParams=ISQ.API.getCustomParamsFromUl(b)}}if(!b.customParams){return}var a=function(f){var c=f?window._nRepData[f]:_nRepData;if(!c){return}if(!c.customParams){c.customParams=b.customParams}else{for(var d in b.customParams){if(c.customParams[d]){continue}c.customParams[d]=b.customParams[d]}}};a("");if(b.widget){a(b.widget)}else{a("float");a("embed")}};ISQ.API.getCustomParamsFromTable=function(g){if(!g.table){return}var m=window._(g.table);if(!m){return}var b=[];var r=m.getElementsByTagName("TR");var o,p,c=false,j,k,f;var a=-1;var l="";for(var q=0;q<r.length;++q){l="noText";j=k="";o=[];p=r[q].getElementsByTagName("TH");for(var d=0;d<p.length;++d){o.push(p[d])}p=r[q].getElementsByTagName("TD");for(var d=0;d<p.length;++d){o.push(p[d])}a++;for(var n=0;n<o.length;++n){f=o[n].innerText||o[n].textContent;
if(!f){continue}f=f.Trim();l="hasText";if(g.skipRows&&ISQ.Data.indexOfArray(g.skipRows,a)!==-1){l="skip";break}else{if(!j){j=f}else{if(!k){k=f;break}}}}if(l==="noText"){--a;continue}if(l==="skip"){continue}if(!j||!k){continue}b[j]=k}return b};ISQ.API.getCustomParamsFromUl=function(g){if(!g.ul){return}var m=window._(g.ul);if(!m){return}var f=m.getElementsByTagName("LI");var a=[];var c,k,l="";for(var b=0;b<f.length;++b){k=l="";for(var d=0;d<f[b].children.length;++d){if(f[b].children[d].localName=="small"){k=f[b].children[d].innerHTML.replace(/:/g,"").Trim()}else{if(f[b].children[d].localName=="b"){l=f[b].children[d].innerHTML.Trim()}}}if(!k||!l){return}a[k]=l}return a};ISQ.API.runPageScript=function(script,encoded){if(!script){return}try{if(encoded){eval(ISQ.Tools.Base64.decodeString(script))}else{eval(script)}}catch(e){}};ISQ.Widget.buildCNFSource=function(a,b,c,g,f,i){var d=[];d.push(ISQ.Widget.getAccountURL(a));d.push("/widget/scripts/cnf.js?account=");d.push(a);d.push("&key=");d.push(ISQ.Http.Cookies.encode64(ISQ.Http.domain(true,g?g:null)));if(i){d.push("&splittestgroup=");d.push(i)}if(g){refererStart=g.indexOf("//");if(refererStart>0&&refererStart<8){refererStart+=2}else{refererStart=0}g=g.substring(refererStart);if(g.indexOf("www.")==0){g=g.replace("www.","")}d.push("&referer=");d.push(g)}if(b){d.push("&isFloat=true")}if(c){d.push("&kb=");d.push(c)}if(f){d.push("&preview=true")}if(ISQ.Http.browser.isIPhone){d.push("&d=1")}return d.join("")};ISQ.Widget.handleEventMessage=function(messageArgs,widgetData){var type=messageArgs.type;var handl,query;var timer=3000;switch(type){case"query":if(!widgetData.events){break}handl=widgetData.events[type];query=ISQ.Tools.Base64.decodeString(messageArgs.data);var isAutoQuestion=messageArgs.isautoquestion=="true";if(handl){if(isAutoQuestion){handl(query,true)}else{this.queryTimer=setTimeout(function(){handl(query,false)},timer)}if(false){if(typeof(lpMTagConfig)==="undefined"){return}if(typeof(lpMTagConfig.pageVar)==="undefined"){lpMTagConfig.pageVar=[]}lpMTagConfig.pageVar[lpMTagConfig.pageVar.length]="nanoRep_question="+query
}}var noWaitHandl=widgetData.events.query_noWait;if(noWaitHandl){noWaitHandl(query,isAutoQuestion)}break;case"nodata":if(!widgetData.events){break}handl=widgetData.events.noData;if(handl){handl()}break;case"scriptload":if(!widgetData.events){break}handl=widgetData.events.scriptload;if(handl){handl()}break;case"notLoad":if(widgetData.preview){break}var reason=messageArgs.reason||"";if(widgetData.events){handl=widgetData.events.notLoad;if(handl){handl(reason)}}if(typeof(ga)==="function"){ga("send","event","nanoRep",widgetData.type+" widget not loaded: "+reason,{nonInteraction:1})}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep",widgetData.type+"widget not loaded: "+reason,"","",true])}break;case"load":if(messageArgs.integrate_ga==="true"&&(typeof(widgetData.preview)=="undefined"||!widgetData.preview)){var events=widgetData.events;if(!events){events=widgetData.events={}}if(typeof(ga)==="function"){ga("send","event","nanoRep",widgetData.type+" widget loaded",{nonInteraction:1})}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep",widgetData.type+" widget loaded","","",true])}var userActiveFunc=events.userActive;events.userActive=function(){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep User Active")}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep User Active"])}if(userActiveFunc){try{userActiveFunc()}catch(e){console.log(e)}}};var queryFunc=events.query;events.query=function(queryText,isAutoQuestion){if(!isAutoQuestion){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Query",queryText)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Query",queryText])}}if(queryFunc){try{queryFunc(queryText,isAutoQuestion)}catch(e){console.log(e)}}};var incomingSearchResultsFunc=events.incomingSearchResults;events.incomingSearchResults=function(hasResults,isAutoQuestion,query,results){if(hasResults&&!isAutoQuestion){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Results Shown")}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Results Shown"])
}}if(incomingSearchResultsFunc){try{incomingSearchResultsFunc(hasResults,isAutoQuestion,query,results)}catch(e){console.log(e)}}};var escFunc=events.escalation;events.escalation=function(type,queryText){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Escalation",queryText)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Escalation",queryText])}if(escFunc){try{escFunc(type,queryText)}catch(e){console.log(e)}}};var likeFunc=events.like;events.like=function(queryText,answer,action){if(action>1){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Dislike ("+action+")",answer)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Dislike ("+action+")",answer])}}else{if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Like",answer)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Like",answer])}}if(likeFunc){try{likeFunc(queryText,answer,action)}catch(e){console.log(e)}}}}if(!widgetData.events){break}handl=widgetData.events[type];if(handl){handl()}break;case"userstartedtyping":handl=widgetData.events.userStartedTyping;if(handl){handl()}if(this.queryTimer){clearTimeout(this.queryTimer)}if(this.incomingSearchResultsTimer){clearTimeout(this.incomingSearchResultsTimer)}break;case"incomingsearchresults":if(!widgetData.events){break}isAutoQuestion=messageArgs.isautoquestion=="true";var hasResults=messageArgs.hasresults==="true";var results=eval("("+ISQ.Tools.Base64.decodeString(messageArgs.results)+")");var query=messageArgs.query?ISQ.Tools.Base64.decodeString(messageArgs.query):null;handl=widgetData.events.incomingSearchResults;if(handl){if(isAutoQuestion){handl(hasResults,true,query,results)}else{this.incomingSearchResultsTimer=setTimeout(function(){handl(hasResults,false,query,results)},timer)}}noWaitHandl=widgetData.events.incomingSearchResults_noWait;if(noWaitHandl){noWaitHandl(hasResults,isAutoQuestion,query,results)}break;case"answerPageChanged":var answerId=messageArgs.answerid;var page=messageArgs.page;
handl=widgetData.events.answerPageChanged;if(handl){handl(answerId,page)}break;case"escalation":if(!widgetData.events){break}handl=widgetData.events[type];if(!handl){break}query=ISQ.Tools.Base64.decodeString(messageArgs.query);var escType=messageArgs.esctype;handl(escType,query);break;case"like":if(!widgetData.events){break}handl=widgetData.events[type];if(!handl){break}query=ISQ.Tools.Base64.decodeString(messageArgs.query);var answer=ISQ.Tools.Base64.decodeString(messageArgs.answer);var action=messageArgs.action;handl(query,answer,action);break;case"useractive":if(!widgetData.events){break}handl=widgetData.events.userActive;if(handl){handl()}break;case"directionchanged":if(!widgetData.events){break}handl=widgetData.events.directionChanged;if(handl){handl(messageArgs.rtl==="true")}break;case"chatavailable":if(!widgetData.events){break}handl=widgetData.events.chatAvailable;if(handl){handl(messageArgs.value==="true")}break;case"quote":if(!widgetData.events){break}handl=widgetData.events.quote;var query=ISQ.Tools.Base64.decodeString(messageArgs.query);var text=ISQ.Tools.Base64.decodeString(messageArgs.text);if(handl){handl(query,messageArgs.answerid,text)}break}};if(typeof(ISQ.Widget.state)==="undefined"){ISQ.Widget.API={};ISQ.Widget.API.customParams=null;ISQ.Widget.API.getCurrentURL=function(){return window.location.href};ISQ.Widget.API.getCustomParams=function(){return _nRepData.customParams||{}};ISQ.Widget.API.openContactForm=function(){ISQ.API.openContactForm()};ISQ.Widget.API.updateContext=function(b,a){};ISQ.Widget.API.reAsk=function(){}}nanoRep.Widget.PositionAnimator={};nanoRep.Widget.PositionAnimator.element=null;nanoRep.Widget.PositionAnimator.side=0;nanoRep.Widget.PositionAnimator.bottom=0;nanoRep.Widget.PositionAnimator.dockRight=false;nanoRep.Widget.PositionAnimator.isRunning=false;nanoRep.Widget.PositionAnimator.timer=null;nanoRep.Widget.PositionAnimator.totalTime=1000;nanoRep.Widget.PositionAnimator.remainingTimeBottom=0;nanoRep.Widget.PositionAnimator.remainingTimeSide=0;nanoRep.Widget.PositionAnimator.factorBottom=0;
nanoRep.Widget.PositionAnimator.factorSide=0;nanoRep.Widget.PositionAnimator.interval=20;nanoRep.Widget.PositionAnimator.lastTimerDate=0;nanoRep.Widget.PositionAnimator.stopAnimationInterval=100;nanoRep.Widget.PositionAnimator.setSide=function(b,c,a){nanoRep.Widget.PositionAnimator.element=b;nanoRep.Widget.PositionAnimator.side=c;nanoRep.Widget.PositionAnimator.remainingTimeSide=nanoRep.Widget.PositionAnimator.totalTime-100;nanoRep.Widget.PositionAnimator.factorSide=Math.abs(nanoRep.Widget.PositionAnimator.side-nanoRep.Widget.PositionAnimator.getCurrentSide())/20;nanoRep.Widget.PositionAnimator.dockRight=a};nanoRep.Widget.PositionAnimator.setBottom=function(a,b){if(b==0){b=-1}nanoRep.Widget.PositionAnimator.element=a;nanoRep.Widget.PositionAnimator.bottom=b;nanoRep.Widget.PositionAnimator.remainingTimeBottom=nanoRep.Widget.PositionAnimator.totalTime-100;nanoRep.Widget.PositionAnimator.factorBottom=Math.abs(nanoRep.Widget.PositionAnimator.bottom-nanoRep.Widget.PositionAnimator.getCurrentBottom())/20};nanoRep.Widget.PositionAnimator.start=function(){if(!nanoRep.Widget.PositionAnimator.side&&!nanoRep.Widget.PositionAnimator.bottom){return}if(nanoRep.Widget.PositionAnimator.isRunning){return}nanoRep.Widget.PositionAnimator.isRunning=true;nanoRep.Widget.PositionAnimator.lastTimerDate=new Date();nanoRep.Widget.PositionAnimator.timer=setTimeout(nanoRep.Widget.PositionAnimator.timerElapsed,0)};nanoRep.Widget.PositionAnimator.getCurrentSide=function(){var a;if(nanoRep.Widget.PositionAnimator.dockRight){a=parseInt(nanoRep.Widget.PositionAnimator.element.style.right)}else{a=parseInt(nanoRep.Widget.PositionAnimator.element.style.left)}if(isNaN(a)){a=0}return a};nanoRep.Widget.PositionAnimator.getCurrentBottom=function(){return parseInt(nanoRep.Widget.PositionAnimator.element.style.bottom)};nanoRep.Widget.PositionAnimator.timerElapsed=function(){var d=new Date()-nanoRep.Widget.PositionAnimator.lastTimerDate;if(d>=nanoRep.Widget.PositionAnimator.stopAnimationInterval){nanoRep.Widget.PositionAnimator.isRunning=false;if(nanoRep.Widget.PositionAnimator.side!==0){if(nanoRep.Widget.PositionAnimator.dockRight){nanoRep.Widget.PositionAnimator.element.style.right=nanoRep.Widget.PositionAnimator.side+"px"
}else{nanoRep.Widget.PositionAnimator.element.style.left=nanoRep.Widget.PositionAnimator.side+"px"}}if(nanoRep.Widget.PositionAnimator.bottom!==0){nanoRep.Widget.PositionAnimator.element.style.bottom=nanoRep.Widget.PositionAnimator.bottom+"px"}}var b=nanoRep.Widget.PositionAnimator.getCurrentBottom();var c=nanoRep.Widget.PositionAnimator.getCurrentSide();var a,i;if(nanoRep.Widget.PositionAnimator.side===0){i=0}else{i=nanoRep.Widget.PositionAnimator.side-c}if(nanoRep.Widget.PositionAnimator.bottom===0){a=0}else{a=nanoRep.Widget.PositionAnimator.bottom-b}var g;if(i!==0){i/=Math.abs(i);var f=nanoRep.Widget.PositionAnimator.remainingTimeSide/(nanoRep.Widget.PositionAnimator.totalTime);f*=nanoRep.Widget.PositionAnimator.factorSide;if(f<2){f=2}g=c+(i*f);nanoRep.Widget.PositionAnimator.remainingTimeSide-=nanoRep.Widget.PositionAnimator.interval;if(i>0&&g>nanoRep.Widget.PositionAnimator.side){g=nanoRep.Widget.PositionAnimator.side}if(i<0&&g<nanoRep.Widget.PositionAnimator.side){g=nanoRep.Widget.PositionAnimator.side}if(nanoRep.Widget.PositionAnimator.dockRight){nanoRep.Widget.PositionAnimator.element.style.right=g+"px"}else{nanoRep.Widget.PositionAnimator.element.style.left=g+"px"}if(g===nanoRep.Widget.PositionAnimator.side){nanoRep.Widget.PositionAnimator.side=0}}else{nanoRep.Widget.PositionAnimator.side=0}if(a!==0){a/=Math.abs(a);var f=nanoRep.Widget.PositionAnimator.remainingTimeBottom/(nanoRep.Widget.PositionAnimator.totalTime);f*=nanoRep.Widget.PositionAnimator.factorBottom;if(f<2){f=2}g=b+(a*f);nanoRep.Widget.PositionAnimator.remainingTimeBottom-=nanoRep.Widget.PositionAnimator.interval;if(a>0&&g>nanoRep.Widget.PositionAnimator.bottom){g=nanoRep.Widget.PositionAnimator.bottom}if(a<0&&g<nanoRep.Widget.PositionAnimator.bottom){g=nanoRep.Widget.PositionAnimator.bottom}nanoRep.Widget.PositionAnimator.element.style.bottom=g+"px";if(g===nanoRep.Widget.PositionAnimator.bottom){nanoRep.Widget.PositionAnimator.bottom=0}}else{nanoRep.Widget.PositionAnimator.bottom=0}if(nanoRep.Widget.PositionAnimator.bottom||nanoRep.Widget.PositionAnimator.side){nanoRep.Widget.PositionAnimator.lastTimerDate=new Date();
nanoRep.Widget.PositionAnimator.timer=setTimeout(nanoRep.Widget.PositionAnimator.timerElapsed,nanoRep.Widget.PositionAnimator.interval)}else{nanoRep.Widget.PositionAnimator.isRunning=false}};ISQ.Widget.extractDataFromScript=function(g){var f={};var j=document.getElementsByTagName("script");var k,a;for(var b=0;b<j.length;++b){k=j[b].getAttribute("src");if(!k){continue}if(!k.contains(g)){continue}if(!ISQ.WhiteLabels.isAlllowedDomain(k)&&k.startsWith("http")){continue}var c=-1;if(k.startsWith("/")||!k.startsWith("http")){c=window.location.href.indexOf("/",8);if(c===-1){f.staticHost=window.location.href}else{f.staticHost=window.location.href.substr(0,c)}if(!ISQ.WhiteLabels.isAlllowedDomain(f.staticHost)){f.staticHost=null;continue}}else{c=k.indexOf("/",8);if(c!==-1){f.staticHost=k.substr(0,c)}}k=k.substring(k.indexOf("?")+1);a=ISQ.Tools.stringToPairArray(k,"=","&",true,false);f.cdcFrame=a.innerframeurl;if(!f.cdcFrame){f.cdcFrame=a.cdcframe}if(f.cdcFrame){f.cdcVersion=a.cdcversion;if(!f.cdcVersion){f.cdcVersion=1}f.cdcVersion=parseInt(f.cdcVersion)}f.account=a.account;var d=a.preview;if(d==="true"){f.preview=true;f.referer=a.referer}f.debug=a.debug||false;break}return f};if(typeof(window.ISQ)==="undefined"){window.ISQ={}}window.ISQ.removeNanoRepLoading=function(a){var d=document.getElementsByTagName("DIV");if(typeof(d)==="undefined"||!d){return}var b=null;for(var j=0;j<d.length;++j){if(d[j].className!=="nanorep_loadingData"&&d[j].id!=="nanoRepProxyContainer"){continue}for(var c=0;c<d[j].childNodes.length;++c){if(d[j].childNodes[c].style&&(d[j].childNodes[c].getAttribute("nR_noRemove")==="true"||d[j].childNodes[c].getAttribute("nR_noRemove")===true||d[j].childNodes[c].className.indexOf("nR_noRemove")!==-1)){continue}if(((navigator.appVersion.indexOf("MSIE 6")!==-1)||(navigator.appVersion.indexOf("MSIE 7")!==-1))&&document.readyState!=="complete"&&window.location.protocol.startsWith("https")){if(d[j].childNodes[c].style){d[j].childNodes[c].style.display="none"}else{if(!b){b=new Array()}b.push(d[j].childNodes[c])}}else{try{d[j].removeChild(d[j].childNodes[c]);
--c}catch(f){if(d[j].childNodes[c].style){d[j].childNodes[c].style.display="none"}}}}}if(b){var g=function(k){if(document.readyState!=="complete"){setTimeout(function(){g(k)},100);return}for(var l=0;l<k.length;++l){if(k[l].parentNode){k[l].parentNode.removeChild(k[l])}}};g(b)}};window.ISQ.removeNanoRepLoading();ISQ.CDC=initializeNS("ISQ.CDC");if(typeof(nanoRep)==="undefined"){window.nanoRep={}}if(typeof(nanoRep.CDC)==="undefined"){nanoRep.CDC={}}nanoRep.CDC.Helper={splitURLArguments:function(f){var i=new Array();var k=f;var c=k.length;if(c===0){return i}var b=function(l){return unescape(l.join("").toString()).replace(/^\s+|\s+$/g,"")};var j=1;var d="";var g=0;var a=new Array();while(g<c){switch(j){case 1:if(k.charAt(g)!=="="){a.push(k.charAt(g))}else{j=2;d=b(a).toLowerCase();a=new Array()}break;case 2:if(k.charAt(g)!=="&"){a.push(k.charAt(g))}else{j=1;i[d]=b(a);a=new Array()}break}++g}if(j===2){i[d]=b(a)}return i},getTargetWindow:function(a,c){if(!a){return window.top}var g=window;if(c){g=window.parent}if(a==="parent"){return g.parent}var f=false;var d;do{try{if(g===window.top){f=true}d=g.frames[a];if(d){return d}}catch(b){}g=g.parent}while(!f);return window.top},parseMessage:function(a){if(!a){return""}var b=nanoRep.CDC.Helper.splitURLArguments(a);b.s=unescape(b.s);b.t=unescape(b.t);return b}};ISQ.CDC.User=ISQ.Base.extend({name:"ISQ.CDC.User"});ISQ.CDC.User.prototype.ctor=function(b){this.mTargetWindowName=b.targetWindowName||"";this.mProxyIFrameUrl=b.proxyIFrameUrl||null;this.mAllowMessagesFrom=b.allowMessagesFrom||null;this.incomingMessageEvent=new ISQ.Event();this.mWidget=b.widget||null;this.eFilterMessages=new ISQ.Event();if(typeof(ISQ.CDC.users)==="undefined"){ISQ.CDC.users=new Array()}ISQ.CDC.users.push(this);if(typeof(window.postMessage)!="function"&&typeof(window.postMessage)!="object"){this.mLegacyMode=true;this.mHost_l=window.location.protocol+"//"+window.location.host;if(this.mProxyIFrameUrl){if(this.mProxyIFrameUrl.contains("?")){this.mProxyIFrameUrl+="&srv="+b.server}else{this.mProxyIFrameUrl+="?srv="+b.server
}}}else{var a=this;this.mPostMessageEventListener=function(d){if(d.origin!==a.mAllowMessagesFrom){return}var c=ISQ.CDC.Helper.splitURLArguments(d.data);c.s=unescape(d.origin);c.t="*";a.dispatchMessage(c)};if(window.addEventListener){window.addEventListener("message",this.mPostMessageEventListener,false)}else{if(window.attachEvent){window.attachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.dtor=function(){if(this.mProxyIFrame_l&&this.mProxyIFrame_l.parentNode!==null){document.body.removeChild(this.mProxyIFrame_l)}if(!this.mLegacyMode){if(window.removeEventListener){window.removeEventListener("message",this.mPostMessageEventListener,false)}else{if(window.detachEvent){window.detachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.sendMessage=function(b,f){f=f||"*";if(!this.mLegacyMode){var g=ISQ.CDC.Helper.getTargetWindow(this.mTargetWindowName);b+="&ord="+(++this.mMessageOrdinal);g.postMessage(b,f)}else{if(!this.mMessagesOnSent){this.mMessagesOnSent=new Array()}if(!this.mProxyIFrameBaseUrl_l){var a=new Array();a.push(this.mProxyIFrameUrl);a.push("#");a.push("s=");a.push(escape(this.mHost_l));a.push("&t=");a.push(escape(f));a.push("&twnd=");a.push(this.mTargetWindowName);this.mProxyIFrameBaseUrl_l=a.join("")}var c=function(i,n,j,p){var q=new Array();q.push(i.mProxyIFrameBaseUrl_l);q.push("&");q.push(j);q.push("&ord=");q.push(n);var o="position: absolute; left: 0px; top:-1100px;height:70px;width:70px;";var k=document.createElement("iframe");var l=ISQ.CDC.User.getIframeId();k.setAttribute("id",l);k.setAttribute("name",l);k.setAttribute("src",q.join(""));k.setAttribute("frameBorder","1");k.setAttribute("scrolling","auto");k.setAttribute("width","70px");k.setAttribute("height","70px");k.setAttribute("style",o);if(k.style.setAttribute){k.style.setAttribute("cssText",o)}document.body.appendChild(k);var m=function(){setTimeout(function(){i.mMessagesOnSent[n]=null},100)};if(ISQ.Http.browser.app==="opera"){k.onload=m}else{if(document.addEventListener){k.addEventListener("load",m,true)
}else{if(document.attachEvent){k.attachEvent("onload",m)}}}};var d=++this.mMessageOrdinal;this.mMessagesOnSent[d]=new c(this,d,b,f)}};ISQ.CDC.User.prototype.dispatchMessage=function(d){if(d.widget&&this.mWidget!==d.widget){return}var j={message:d,filter:false};this.eFilterMessages.dispatch(j);if(j.filter){return}if(d.subject&&d.subject=="reset"){this.mLastHandledMessageOrdinal=0;this.mMessageOrdinal=0;this.mReceivedMessages=null;this.mWasReset_debug=true}var k=parseInt(d.ord);var a=k-this.mLastHandledMessageOrdinal;if(a<=0){return}if(a>1){if(this.mReceivedMessages===null){this.mReceivedMessages=new Array();this.mReceivedMessagesCount=0}this.mReceivedMessages[k]=d;++this.mReceivedMessagesCount}else{try{this.incomingMessageEvent.dispatch(d)}catch(b){}if(this.mReceivedMessages!==null){var g=this.mReceivedMessagesCount;var f=k+1;for(var c=0;c<g;++c,++f){if(!this.mReceivedMessages[f]){break}this.incomingMessageEvent.dispatch(this.mReceivedMessages[f]);k=f;--this.mReceivedMessagesCount}if(this.mReceivedMessagesCount===0){this.mReceivedMessages=null}}this.mLastHandledMessageOrdinal=k}};ISQ.CDC.User.prototype.targetWindowName=function(){return this.mTargetWindowName};ISQ.CDC.User.prototype.allowMessagesFrom=function(){return this.mAllowMessagesFrom};ISQ.CDC.User.prototype.mTargetWindowName=null;ISQ.CDC.User.prototype.mLegacyMode=false;ISQ.CDC.User.prototype.mHost_l="";ISQ.CDC.User.prototype.mProxyIFrameUrl=null;ISQ.CDC.User.prototype.mProxyIFrameBaseUrl_l=null;ISQ.CDC.User.prototype.mCurrentHeight=70;ISQ.CDC.User.prototype.incomingMessageEvent=null;ISQ.CDC.User.prototype.eFilterMessages=null;ISQ.CDC.User.prototype.mPostMessageEventListener=null;ISQ.CDC.User.prototype.mIsCDCStation=true;ISQ.CDC.User.prototype.mMessageOrdinal=0;ISQ.CDC.User.prototype.mAllowMessagesFrom=null;ISQ.CDC.User.prototype.mMessagesOnSent=null;ISQ.CDC.User.prototype.mReceivedMessages=null;ISQ.CDC.User.prototype.mLastHandledMessageOrdinal=0;ISQ.CDC.User.prototype.mReceivedMessagesCount=0;ISQ.CDC.User.prototype.mWasReset_debug=false;ISQ.CDC.User.getIframeId=function(){return"nR_CDC"+ISQ.CDC.User.iframeIdCounter++
};ISQ.CDC.User.iframeIdCounter=new Date().getTime();ISQ.Widget.CDC_getKeyValueArrayFromMessage=function(d,c){var b;if(c){b={}}else{b=[]}var j=d.split(ISQ.Widget.APIKeyEndDelimiter);var i,a,g;for(var f=0;f<j.length;++f){i=j[f].split(ISQ.Widget.APIValueEndDelimiter);a=ISQ.Http.Cookies.decode64(i[0]);g=ISQ.Http.Cookies.decode64(i[1]);b[a]=g}return b};ISQ.Widget.CDC_appendKeyValueToMessage=function(a,d){var b=true;for(var c in a){if(!b){d.push(ISQ.Widget.APIKeyEndDelimiter)}b=false;d.push(ISQ.Http.Cookies.encode64(c));d.push(ISQ.Widget.APIValueEndDelimiter);d.push(ISQ.Http.Cookies.encode64(a[c]))}};nanoRep.FAQ=initializeNS("nanoRep.FAQ");nanoRep.FAQ.Texts={en:{like:"Good answer!",likeActive:"You like this",dislike:"Needs improvement",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:{0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}},pl:{like:"Like",likeActive:"Chcesz tego",dislike:"Nie lubić",dislikeActive:"Nie lubić",ok:"OK",cancel:"Anuluj",dislikeOptionsTitle:"Jaki jest problem z odpowiedzią?",likeTexts:{0:"Like",2:"Odpowiedź jest niepoprawna bądź nieprecyzyjna",3:"Brakuje ważnych informacji",4:"Odpowiedź jest niezwiązana z tematem",5:"Nie mogę znaleźć to, czego szukasz",6:"Brak lub nieprawidłowe informacje"}},da:{like:"Like",likeActive:"Du kan lide denne",dislike:"Dislike",dislikeActive:"Du kan ikke lide denne",ok:"OK",cancel:"Annuller",dislikeOptionsTitle:"Hvad er der galt med dette svar?",likeTexts:{0:"Like",2:"Svaret er forkert eller upræcist",3:"Mangler vigtig information",4:"Svaret er irrelevant",5:"Jeg kunne ikke finde, hvad jeg ledte efter",6:"Manglende eller forkerte oplysninger"}},hu:{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"Rendben",cancel:"Mégse",dislikeOptionsTitle:"Mi a baj a válasszal?",likeTexts:{0:"Like",2:"A válasz helytelen vagy pontatlan",3:"Fontos információ hiányzik belőle",4:"A válasz nem releváns",5:"Én nem találtam, amit kerestem",6:"Hiányzó vagy helytelen információ"}},tr:{like:"Like",likeActive:"You like this",dislike:"Dislike",dislikeActive:"You dislike this",ok:"OK",cancel:"Cancel",dislikeOptionsTitle:"What's wrong with this answer?",likeTexts:{0:"Like",2:"Answer is incorrect or inaccurate",3:"Missing important information",4:"Answer irrelevant to the page",5:"Didn't find what I was looking for",6:"Missing or incorrect information"}},sv:{like:"Liksom",likeActive:"Du gillar det här inlägget",dislike:"Motvilja",dislikeActive:"Du gillar inte det här",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Vad är det för fel på detta svar?",likeTexts:{0:"Liksom",2:"Svaret är felaktigt eller oriktigt",3:"Saknar viktig information",4:"Svaret är irrelevant",5:"Jag hittade inte det jag letade efter",6:"Saknas eller felaktig information"}},de:{like:"Gefällt mir",likeActive:"Sie mögen dieses",dislike:"Dislike",dislikeActive:"Sie mögen diese",ok:"OK",cancel:"Abbrechen",dislikeOptionsTitle:"Was ist falsch mit dieser Antwort?",likeTexts:{0:"Gefällt mir",2:"Antwort ist nicht richtig oder ungenau",3:"Es fehlen wichtige Informationen",4:"Die Antwort ist irrelevant",5:"Ich fand nicht, was ich gesucht habe",6:"Fehlende oder falsche Informationen"}},ar:{like:"مثل",likeActive:"كنت مثل هذا",dislike:"كره",dislikeActive:"كنت تكره هذا",ok:"موافق",cancel:"إلغاء",dislikeOptionsTitle:"ما الخطأ في هذه الإجابة؟",likeTexts:{0:"مثل",2:"الإجابة غير صحيحة أو غير دقيقة",3:"معلومات هامة ناقصة",4:"الإجابة غير ذات صلة",5:"لم أجد ما كنت أبحث عنه",6:"المعلومات الناقصة أو غير صحيحة"}},zh:{like:"Like",likeActive:"你喜欢这个",dislike:"反感",dislikeActive:"你不喜欢",ok:"确定",cancel:"取消",dislikeOptionsTitle:"这个答案有什么问题？",likeTexts:{0:"Like",2:"答案错误或不准确",3:"遗漏了重要信息",4:"答案不切题",5:"我没有找到我要找的",6:"缺少或不正确的信息"}},ru:{like:"Like",likeActive:"Вам понравилось это",dislike:"не любить",dislikeActive:"Вы не понравилось",ok:"OK",cancel:"Отмена",dislikeOptionsTitle:"В чем проблема с этим ответом?",likeTexts:{0:"Like",2:"Ответ неверный или неточный",3:"В нем отсутствует важная информация",4:"Ответ не относится к делу",5:"Мне не удалось найти то, что я искал",6:"Отсутствие или неправильную информацию"}},ja:{like:"Like",likeActive:"あなたはこれが好き",dislike:"嫌い",dislikeActive:"あなたはこれを嫌い",ok:"OK",cancel:"キャンセル",dislikeOptionsTitle:"この回答の問題点は?",likeTexts:{0:"Like",2:"回答が不正または不精確",3:"重要情報が欠けている",4:"回答内容が無関係",5:"私は私が探していたものを見つけることができませんでした",6:"情報の修正、不足はあります"}},ko:{like:"Like",likeActive:"당신이 좋아",dislike:"싫어",dislikeActive:"당신이 싫어",ok:"확인",cancel:"취소",dislikeOptionsTitle:"이 답의 무엇이 잘못되었나요?",likeTexts:{0:"Like",2:"답이 잘못되었거나 정확하지 않습니다.",3:"중요한 정보가 빠졌습니다.",4:"답이 적절하지 않습니다.",5:"나는 내가 무엇을 찾고 찾을 수 없습니다",6:"누락 또는 잘못된 정보"}},fr:{like:"J'aime",likeActive:"Vous aimez ce",dislike:"Antipathie",dislikeActive:"Yous n'aime pas ce",ok:"OK",cancel:"annuler",dislikeOptionsTitle:"Pourquoi cette réponse est-elle erronée ?",likeTexts:{0:"J'aime",2:"La réponse est inexacte ou imprécise",3:"Des informations importantes sont manquantes",4:"La réponse est hors sujet",5:"Je n'ai pas trouvé ce que je cherchais",6:"Information manquante ou incorrecte"}},it:{like:"Mi piace",likeActive:"Ti piace questo",dislike:"Antipatia",dislikeActive:"Non ti piace questo",ok:"OK",cancel:"Annulla",dislikeOptionsTitle:"Cosa c'è di sbagliato in questa risposta?",likeTexts:{0:"Mi piace",2:"La risposta è errata o inaccurata",3:"Mancano informazioni importanti",4:"La risposta è irrilevante",5:"Non ho trovato quello che cercavo",6:"Informazioni mancanti o errate"}},nl:{like:"Vind ik leuk",likeActive:"U houdt van dit",dislike:"Afkeer",dislikeActive:"Je vind dit niet leuk",ok:"OK",cancel:"Annuleren",dislikeOptionsTitle:"Wat klopt er niet aan dit antwoord?",likeTexts:{0:"Vind ik leuk",2:"Antwoord is onjuist of onnauwkeurig",3:"Belangrijke informatie ontbreekt",4:"Het antwoord doet niet ter zake",5:"Heeft u niet gevonden wat ik zocht",6:"Ontbrekende of onjuiste informatie"}},pt:{like:"Gosto",likeActive:"Você gosta disso",dislike:"Antipatia",dislikeActive:"Você não gosta deste",ok:"OK",cancel:"Cancelar",dislikeOptionsTitle:"O que há de errado com esta resposta?",likeTexts:{0:"Gosto",2:"A resposta é incorreta ou inexata",3:"Faltam informações importantes",4:"A resposta é irrelevante",5:"Não encontrou o que estava procurando",6:"Informações ausentes ou incorretas"}},es:{like:"Me gusta",likeActive:"Si le gusta este",dislike:"No me gusta",dislikeActive:"No le gusta este",ok:"Aceptar",cancel:"Cancelar",dislikeOptionsTitle:"¿Cuál es el problema con esta respuesta?",likeTexts:{0:"Me gusta",2:"La respuesta es incorrecta o inexacta",3:"Falta información importante",4:"La respuesta es irrelevante",5:"No encontré lo que buscaba",6:"Información faltante o incorrecta"}},iw:{like:"אהבתי",likeActive:"אהבת את זה",dislike:"לא אהבתי",dislikeActive:"לא אהבת את זה",ok:"אישור",cancel:"ביטול",dislikeOptionsTitle:"מה לא תקין בתשובה זו?",likeTexts:{0:"אהבתי",2:"תשובה לא נכונה / לא מדוייקת",3:"חסר מידע חשוב",4:"התשובה אינה רלוונטית לעמוד",5:"לא מצאתי את מה שחיפשתי",6:"מידע חסר או לא מדוייק"}},no:{like:"Like",likeActive:"Du liker dette",dislike:"Dislike",dislikeActive:"Du liker ikke dette",ok:"OK",cancel:"Avbryt",dislikeOptionsTitle:"Hva er galt med dette svaret?",likeTexts:{0:"Like",2:"Svaret er feil eller unøyaktig",3:"Mangler viktig informasjon",4:"Svaret er ikke relevant",5:"Fant ikke det jeg var ute etter",6:"Mangelfull eller feilaktig informasjon"}},fi:{like:"Tykkää",likeActive:"Pidät tästä",dislike:"En tykkää",dislikeActive:"Et pidä tämä",ok:"Ok",cancel:"Peruuta",dislikeOptionsTitle:"Miksi tämä vastaus ei ole riittävä?",likeTexts:{0:"Tykkää",2:"Vastaus on virheellisiä tai epätarkkoja",3:"Puuttuu tärkeitä tietoja",4:"Vastaus on epäolennainen",5:"Etkö löytänyt mitä olin etsimässä",6:"Puuttuva tai väärä tieto"}}};
nanoRep.FAQ.Texts.nb=nanoRep.FAQ.Texts.no;nanoRep.FAQ.Texts.nn=nanoRep.FAQ.Texts.no;ISQ.Widget=initializeNS("ISQ.Widget");ISQ.Widget.combineContext=function(c,d,f){if(!c){return d}if(d){for(var g in d){var i=g.toLowerCase();d[i]=d[g];if(i!==g){delete d[g]}}}var k=null;if(d||f){for(var b in c){if(d&&d[b.toLowerCase()]){continue}for(var a=0;a<c[b].length;++a){var j=null;if(f){j=f[c[b][a]]}if(!j){continue}if(!k){k=[];for(var l in d){k[l]=d[l]}}k[b.toLowerCase()]=j;break}}}return k||d};if(typeof nanoRep.FAQ.Localization=="undefined"){nanoRep.FAQ.Localization={}}nanoRep.FAQ.init=function(a,b){nanoRep.FAQ.Localization=nanoRep.FAQ.Texts[a]||nanoRep.FAQ.Texts.en;nanoRep.FAQ.dynamicHost=b};nanoRep.FAQ.dynamicHost=null;nanoRep.FAQ.Likes={};nanoRep.FAQ.Likes.enumFeedback={positive:1,wrongAnswer:2,wrongContent:4,wrongContext:8};nanoRep.FAQ.Likes.mData={div:null,options:[],pastActions:null,hasContext:false};nanoRep.FAQ.Likes.buildThumbUpIcon=function(b,o,j,r,c,a,g,p,m,q,n){m=m||nanoRep.FAQ.Localization;var s=createDiv(null,".nanoRepMP_likeIcon");s.onclick=function(){nanoRep.FAQ.Likes.saveData(s,b,r,c,a,g,p,q);nanoRep.FAQ.Likes.sendThumbAction(nanoRep.FAQ.Likes.enumFeedback.positive,m)};var i=nanoRep.FAQ.Likes.getLastAction(b);nanoRep.FAQ.Likes.setThumbStyles(i.action,s,null,false,m);if(i.action==0&&i.cacheVar==c){j++}if(n){o.appendChild(s);s.className+=" nanoRepMP_likeIconStandAlone";s.innerHTML=j?ISQ.Tools.getPrettyNumber(j,0,false,true):"0";s.likes=j;return s}var k=createDiv(o,"white-space:nowrap;");var l=createDiv(null,"white-space:nowrap;display:inline;");if(j&&j>999){l.title=ISQ.Tools.getPrettyNumber(j)}var f=(ISQ.Widget.HTML.dynamicRTLCssLoaded)?"rtl":"ltr";if(f=="ltr"){k.appendChild(s);k.appendChild(l);createDiv(l,".newLikesLeftEdge&display:inline-block;float:none;vertical-align:top;")}var d=createDiv(l,".newlikes&display:inline-block;float:none;vertical-align:top;cursor:default");if(f=="rtl"){d.className+=" newlikesRTL";createDiv(l,".newLikesRightEdge&display:inline-block;float:none;vertical-align:top;");l.appendChild(d);
k.appendChild(s);k.appendChild(l)}d.innerHTML=j?ISQ.Tools.getPrettyNumber(j,0,false,true):"0";s.likes=j;s.countElement=d;s.countContainer=l;return s};nanoRep.FAQ.Likes.buildThumbDownIcon=function(b,j,f,m,c,a,d,k,g,l,i,o){g=g||nanoRep.FAQ.Localization;var n=createDiv(j,".nanoRepMP_likeIcon &.nanoRepMP_dislikeIcon");n.widgetAnswer=o||false;f.thumbDown=n;n.onclick=function(){nanoRep.FAQ.Likes.saveData(f,b,m,c,a,d,k,l);var p=nanoRep.FAQ.Likes.getLastAction(b);if(p.action>nanoRep.FAQ.Likes.enumFeedback.positive){nanoRep.FAQ.Likes.sendThumbAction(p.action,g)}else{nanoRep.FAQ.Likes.toggleDislikeOptions(false,g)}};nanoRep.FAQ.Likes.setThumbStyles(nanoRep.FAQ.Likes.getLastAction(b).action,f,n,false,g);return n};nanoRep.FAQ.Likes.getLastAction=function(articleId){var pastActions=nanoRep.FAQ.Likes.mData.pastActions;var lastAction={action:null,cacheVar:null};if(!pastActions){var currentVal=ISQ.Tools.Storage.get("faqActions");if(currentVal){pastActions=eval("("+currentVal+")")}}if(!pastActions){pastActions={}}nanoRep.FAQ.Likes.mData.pastActions=pastActions;if(pastActions[articleId]&&typeof(pastActions[articleId].action)!=="undefined"){lastAction=pastActions[articleId]}return lastAction};nanoRep.FAQ.Likes.saveData=function(l,b,k,c,a,f,i,j,d,g){nanoRep.FAQ.Likes.mData.thumbUp=l;nanoRep.FAQ.Likes.mData.thumbDown=l.thumbDown||null;nanoRep.FAQ.Likes.mData.articleId=b;nanoRep.FAQ.Likes.mData.account=a;nanoRep.FAQ.Likes.mData.rtl=k||false;nanoRep.FAQ.Likes.mData.cacheVar=c;nanoRep.FAQ.Likes.mData.account=a;nanoRep.FAQ.Likes.mData.kb=f;nanoRep.FAQ.Likes.mData.preview=i;nanoRep.FAQ.Likes.mData.referrer=j;nanoRep.FAQ.Likes.mData.keywordsetId=g||null;nanoRep.FAQ.Likes.mData.callback=d||null};nanoRep.FAQ.Likes.setThumbStyles=function(a,d,c,f,b){b=b||nanoRep.FAQ.Localization;d=d||nanoRep.FAQ.Likes.mData.thumbUp;c=c||nanoRep.FAQ.Likes.mData.thumbDown;if(d){if(a==nanoRep.FAQ.Likes.enumFeedback.positive){ISQ.CSS.addClass(d,"nanoRepMP_likeIconCurrent");d.title=b.likeActive}else{ISQ.CSS.removeClass(d,"nanoRepMP_likeIconCurrent");d.title=b.like}}if(c){if(a>nanoRep.FAQ.Likes.enumFeedback.positive){ISQ.CSS.addClass(c,"nanoRepMP_dislikeIconCurrent");
c.title=b.dislikeActive}else{ISQ.CSS.removeClass(c,"nanoRepMP_dislikeIconCurrent");c.title=b.dislike}}if(f){nanoRep.FAQ.Likes.updateLikeCount(d,a==nanoRep.FAQ.Likes.enumFeedback.positive)}};nanoRep.FAQ.Likes.updateLikeCount=function(b,a){b.likes=a?b.likes+1:b.likes-1;if(b.countElement){b.countElement.innerHTML=b.likes>0?ISQ.Tools.getPrettyNumber(b.likes,0,false,true):"0";if(b.likes&&b.likes>999){b.countElement.parentNode.title=ISQ.Tools.getPrettyNumber(b.likes)}}else{b.innerHTML=b.likes>0?ISQ.Tools.getPrettyNumber(b.likes,0,false,true):"0"}};nanoRep.FAQ.Likes.toggleDislikeOptions=function(c,f){f=f||nanoRep.FAQ.Localization;if(typeof(nanoRep.FAQ.Likes.mData)=="undefined"){return}var a=nanoRep.FAQ.Likes.mData.thumbDown;if(!a){return}if(!nanoRep.FAQ.Likes.mData.div){nanoRep.FAQ.Likes.buildDislikeOptions(a)}var b=nanoRep.FAQ.Likes.mData.div;if(b.style.display=="block"||c){b.style.display="none";a.title=a.oldTitle;ISQ.CSS.removeClass(a,"nanoRepMP_dislikeIconOpen");if(b.faqFader){b.faqFader.parentNode.removeChild(b.faqFader);b.faqFader=null}a.removeChild(b);for(var d in nanoRep.FAQ.Likes.mData.options){nanoRep.FAQ.Likes.mData.options[d].checked=false}ISQ.Tools.addRemoveClickOutsideElementsListener("dislikeOptions",false);clearNode(nanoRep.FAQ.Likes.mData.div);nanoRep.FAQ.Likes.mData.div=null}else{a.appendChild(b);a.oldTitle=a.title;a.title="";b.style.display="block";ISQ.CSS.addClass(a,"nanoRepMP_dislikeIconOpen");nanoRep.FAQ.Likes.setDislikeOptionsPosition();ISQ.Tools.addRemoveClickOutsideElementsListener("dislikeOptions",true,[b],new ISQ.Handler(function(g){if(ISQ.Html.getEventTarget(g)==nanoRep.FAQ.Likes.mData.thumbDown){return}nanoRep.FAQ.Likes.toggleDislikeOptions(true,f);if(nanoRep.FAQ.Likes.dislikeTimer){clearInterval(nanoRep.FAQ.Likes.dislikeTimer)}}))}ISQ.Tools.blinkElement(b,0,false,"validationErr")};nanoRep.FAQ.Likes.dislikeTimer=null;nanoRep.FAQ.Likes.setDislikeOptionsPosition=function(){var b=nanoRep.FAQ.Likes.mData.div;if(!b.parentNode){return}b.style.height="auto";if(ISQ.Widget.HTML&&ISQ.Widget.HTML.contentWrapper&&ISQ.Widget.HTML.contentWrapper.offsetWidth<420){b.className+=" narrowWidget_dislikeOptions"
}else{}var d="0";var f=ISQ.Html.pageSize(true);if(f.h>400){if(b.parentNode.offsetTop+150>f.h-30){d="-130"}else{d="0"}}b.style.bottom="auto";if(ISQ.Widget.HTML&&ISQ.Widget.HTML.contentWrapper){var c=createDiv(ISQ.Widget.HTML.widgetContainer,".widgetFAQBlocker");b.faqFader=c;b.faqFader.style.position="fixed";b.faqFader.onclick=function(){};var g=(ISQ.Widget.HTML.contentWrapper.offsetWidth-b.offsetWidth)/2;b.style.left=g+"px";var i=ISQ.Widget.HTML.widgetContainer.offsetHeight;if(ISQ.Widget.isFloat){var d=(ISQ.Widget.HTML.contentWrapper.offsetHeight-b.offsetHeight)/2;d+=ISQ.Widget.HTML.searchWrapper.offsetHeight+ISQ.Widget.HTML.titleWrapper.offsetHeight;b.style.top=d+"px";if(ISQ.Http.browser.isMobile){b.style.top=(screen.height-b.offsetHeight)/2+"px"}}else{var a=b.parentNode.getBoundingClientRect();b.style.top=a.top-(b.offsetHeight)/2+"px";if(a.top+b.offsetHeight>i){b.style.top=i-b.offsetHeight-ISQ.Widget.HTML.footerWrapper.offsetHeight+"px"}}if(ISQ.Http.browser.isMobile){nanoRep.FAQ.Likes.dislikeTimer=setInterval(function(){var j=(ISQ.Widget.HTML.contentWrapper.offsetWidth-b.offsetWidth)/2;b.style.left=j+"px"},250)}}else{if(nanoRep.FAQ.Likes.mData.rtl){b.style.left="20px"}else{b.style.right="20px"}}};nanoRep.FAQ.Likes.buildDislikeOptions=function(a,k){k=k||nanoRep.FAQ.Localization;var l=ISQ.Http.browser.isMobile?" &.mobile":"";var c=nanoRep.FAQ.Likes.mData.div=createDiv(document.body,".nanoRepMP_dislikeOptions"+l);c.onclick=function(i){ISQ.Html.getDomEvent(i).cancel()};createLink({parent:c,text:"x",style:".closeIcon",onclick:function(){nanoRep.FAQ.Likes.toggleDislikeOptions(false,k)}});createDiv(c,".nanoRepMP_dislikeOptionsTitle").innerHTML=k.dislikeOptionsTitle;var m=[];var d=nanoRep.FAQ.Likes.mData.hasContext||(typeof(_session)==="function"&&_session().hasContext&&_session().hasContext());if(a.widgetAnswer){m=[6,5];if(d){m.push(4)}}else{if(d){m=[6,4]}else{m=[2,3]}}var p={0:nanoRep.FAQ.Likes.enumFeedback.positive,2:nanoRep.FAQ.Likes.enumFeedback.wrongContent,3:nanoRep.FAQ.Likes.enumFeedback.wrongContent,4:nanoRep.FAQ.Likes.enumFeedback.wrongContext,5:nanoRep.FAQ.Likes.enumFeedback.wrongAnswer,6:nanoRep.FAQ.Likes.enumFeedback.wrongContent};
var o=k.likeTexts;for(var f=0;f<m.length;f++){var g=m[f];var n=createRadio({type:"radio",name:"dislike",parent:c,text:o[g],value:p[g],holderStyle:"padding-top:4px;",onclick:function(){ISQ.Tools.blinkElement(c,0,false,"validationErr");if(ISQ.Http.isChrome()){var i=c.style.position;c.style.position="static";c.offsetHeight;c.style.position=i}}});nanoRep.FAQ.Likes.mData.options.push(n)}var b=createDiv(c,".nanoRepMP_dislikeOptionsBtns");var j=createLink({parent:b,text:k.ok,style:".button",onclick:function(){var q=-1;for(var r in nanoRep.FAQ.Likes.mData.options){if(nanoRep.FAQ.Likes.mData.options[r].checked){q=parseInt(nanoRep.FAQ.Likes.mData.options[r].value)}}if(q==-1){ISQ.Tools.blinkElement(c,3,true,"validationErr");return}if(nanoRep.FAQ.Likes.mData.callback){nanoRep.FAQ.Likes.mData.callback(nanoRep.FAQ.Likes.mData.articleId,nanoRep.FAQ.Likes.mData.keywordsetId,q)}else{nanoRep.FAQ.Likes.sendThumbAction(q,k)}nanoRep.FAQ.Likes.toggleDislikeOptions(false,k)}});j=createLink({parent:b,text:k.cancel,style:".button &.buttonLink",onclick:function(){nanoRep.FAQ.Likes.toggleDislikeOptions(false,k)}})};nanoRep.FAQ.Likes.sendThumbAction=function(b,i){i=i||nanoRep.FAQ.Localization;var c=nanoRep.FAQ.Likes.mData.articleId;var j=nanoRep.FAQ.Likes.mData.pastActions;var d=nanoRep.FAQ.Likes.mData.cacheVar;var a=nanoRep.FAQ.Likes.mData.account;var g=nanoRep.FAQ.Likes.mData.kb;var k=nanoRep.FAQ.Likes.mData.preview;var l=nanoRep.FAQ.Likes.mData.referrer;if(!c){throw ("articleId must be specified")}var m=null;if(typeof(j[c])!=="undefined"&&typeof(j[c].action)!=="undefined"){m=j[c].action;if(m==b){b=null}}if(b==null){delete j[c]}else{j[c]={};j[c].action=b;if(d){j[c].cacheVar=d}}if(!k){ISQ.Tools.Storage.set("faqActions",ISQ.Data.jsonToString(j));nanoRep.FAQ.Likes.mData.pastActions=j;var n=new Array();n.push(ISQ.Widget.getAccountURL(a));n.push("/widget/faqAction.gif?rnd=");n.push(Math.floor(Math.random()*1000000));n.push("&account=");n.push(a);if(g){n.push("&kb="+g)}n.push("&id=");n.push(c);if(b!=null){n.push("&action="+b)}if(m!=null){n.push("&undo="+m)
}if(l){n.push("&referer="+escape(l))}var f=new Image();f.src=n.join("");f.style.width="1px";f.style.height="1px";f.style.display="none"}nanoRep.FAQ.Likes.setThumbStyles(b,null,null,b==nanoRep.FAQ.Likes.enumFeedback.positive||m==nanoRep.FAQ.Likes.enumFeedback.positive,i)};nanoRep.FAQ.combineAndFormatContext=function(b,f){if(!b){b={}}var c;if(typeof(_nRepData)=="undefined"||!_nRepData.customParams){c=b}if(!f){if(ISQ.Cnf_Float){c=ISQ.Widget.combineContext(ISQ.Cnf_Float.contextAttributes,b,_nRepData.customParams)}else{if(ISQ.Cnf_Embed){c=ISQ.Widget.combineContext(ISQ.Cnf_Embed.contextAttributes,b,_nRepData.customParams)}}}var g=false;if(c){for(var a in c){g=true;break}}if(g){nanoRep.FAQ.Likes.mData.hasContext=true;var i=[{from:",",to:" "},{from:":",to:" "}];var d=[];for(var a in c){if(!c[a]||typeof(c[a])!=="string"){continue}if(d.length!=0){d.push(",")}d.push(a.replacer(i));d.push(":");d.push(c[a].replacer(i))}return"&context="+ISQ.Http.Cookies.encode64(d.join(""))}return""};nanoRep.FAQ.requestFaqLists=function(b){var c=new Array();var a=b.account||_nRepData.account;c.push(ISQ.Widget.getAccountURL(a,b.host));c.push("/api/faq/v1/list.js");c.push("?account=");c.push(a);if(b.isFloat){c.push("&isFloat=true")}if(b.kb){c.push("&kb="+b.kb)}c.push("&referer=");if(b.configId){c.push("!"+b.configId)}else{if(window.location.href.contains("nanorep.com")&&b.referer){c.push(escape(b.referer))}else{c.push(escape(window.location.href))}}if(b.encoding){c.push("&encoding="+b.encoding)}c.push(nanoRep.FAQ.combineAndFormatContext(b.context,b.disableContextCombine));ISQ.Tools.appendScript(c.join(""),function(){if(!nanoRep.FAQ.faqData){throw ("Invalid FAQ Data received")}if(b.callback){b.callback(nanoRep.FAQ.faqData)}else{nanoRep.FAQ.faqData=ISQ.Data.jsonToString(nanoRep.FAQ.faqData);var d=ISQ.Http.Cookies.encode64(nanoRep.FAQ.faqData);b.cdcUser.sendMessage("subject=faqData&data="+d)}delete nanoRep.FAQ.faqData})};ISQ.Widget=ISQ.Widget||{};ISQ.Widget.parseCustomParams=function(g){var f={},d,b,c;g=g.split(",");function a(i){return i.replace(/(\\\\|\\colon|\\comma)/g,function(j){switch(j){case"\\\\":return"\\";
case"\\colon":return":";case"\\comma":return","}})}for(d=0,b=g.length;d<b;++d){c=g[d].split(":",2);if(c.length===2){f[a(c[0])]=a(c[1])}}return f};ISQ.Widget.getInnerFrameUrl=function(i,n,d){i=i||"CDCframe.html";var a=n.indexOf("://")+3;var g;var b;var f="";if(a!==2){g=n.indexOf("/",a);f=n.substring(0,a);b=n.substring(a,g)}else{g=n.indexOf("/");b=n.substring(0,g)}var j=i.indexOf("://")+3;var m;var k;var l="";if(j!==2){m=i.indexOf("/",j);l=i.substring(0,j);k=i.substring(j,m)}else{m=i.indexOf("/");k=i.substring(0,m)}if(f&&k===b){if(l!==f){return i.replace(l,f)}return i}else{if(d){if(k===ISQ.Http.domain()){return i}return""}}var c="";if(i.charAt(0)==="/"){c=f+b+i}else{if(j!==2){c=f+b+i.substring(m)}else{c=f+b+"/"+i}}return c};ISQ.Widget.APIKeyEndDelimiter="<";ISQ.Widget.APIValueEndDelimiter="(";ISQ.Widget.buildNRLinkUrl=function(a,d,j){var g=new Array();g.push("http://www.nanorep.com/?source=poweredBy&aid=");g.push(a);if(d){g.push("&utm_source=");var f=ISQ.Http.domain(false,d).split(".");var c=g.length;for(var b=f.length-1;b>=0;b--){g.splice(c,0,f[b]);if(f[b].length>3){break}if(b>0){g.splice(c,0,".")}}}g.push("&utm_medium=widget&utm_content=");g.push(j);return g.join("")};ISQ.Widget.addCssStyles=function(b,a){if(typeof(b)==="string"&&b){if(b.contains(" ")){ISQ.CSS.addNewStyle(b,a)}else{ISQ.CSS.addNewStyle(ISQ.Tools.Base64.decode(b),a)}}};ISQ.WhiteLabels=(function(){var f={};var g={};f["nanorep.com"]={isNanoRepDomain:true,name:"nanorep",accountName:"nanorep",logo:"nrLogo",consoleLogo:"nanoRepLogo",consoleLogoClasses:"",logoLink:"/console/login.html",pageTitle:"My nanoRep Secure Login",favicon:"/favicon.png",privacyLink:"http://www.nanorep.com/Privacy",termsLink:"http://www.nanorep.com/Terms",supportLink:"http://nanorep.com/support",voicesLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",dashboardOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41926066/Dashboard-overview.htm",voicesOverviewLink:"http://support.nanorep.com/Analytics/General-Analytics/41989494/Voices-overview.htm",contactUsLink:"http://www.nanorep.com/Contact",pricingLink:"http://www.nanorep.com/product/pricing",chatPluginLink:"http://www.nanorep.com/Support/Liveperson-Chat-Integration/Agent-client-integration",guidanceIcon:"guidance_nanorep_icon",widgetConfigId:76830400};
g["nanorep.com"]={};f[".nanorep.info"]=f["nanorep.com"];g[".nanorep.info"]=g["nanorep.com"];f[".nanorep.co"]=f["nanorep.com"];g[".nanorep.co"]=g["nanorep.com"];f["cartassist.co.uk"]={name:"CartAssist",accountName:"goresponse",logo:"caLogo",consoleLogo:"cartAssistLogo",consoleLogoClasses:"",logoLink:"http://www.cartassist.co.uk",pageTitle:"My CartAssist Secure Login",favicon:"/console/images/ca_favicon.ico",privacyLink:"http://www.cartassist.co.uk/privacy",termsLink:"http://www.cartassist.co.uk/terms",supportLink:"http://support.cartassist.co.uk",voicesLink:"http://support.cartassist.co.uk",dashboardOverviewLink:"http://support.cartassist.co.uk",voicesOverviewLink:"http://support.cartassist.co.uk",contactUsLink:"http://www.cartassist.co.uk/contact-us/",pricingLink:"http://www.cartassist.co.uk/contact-us/",chatPluginLink:"http://support.cartassist.co.uk",guidanceIcon:"guidance_cartassist_icon",widgetConfigId:76831702};g["cartassist.co.uk"]={leafNanoAnswer:"CartAssist answer:",smartSearch:"CartAssist Search",searchResult:"CartAssist search result",mergeUpdate:"By selecting this answer, CartAssist will learn to answer %title% for:<br/>%phrasings%<br/> Continue?",chatSuggestion:"User received CartAssist answer:",accountExpiredMessage:"Your trial period has expired.",chart_answeredSessions:"This chart shows how many sessions have been answered through CartAssist, including automatic-answers, emails, and chats. <a target='_blank' href='http://support.nanorep.com/Analytics/Traffic/22275098/Scenarios-that-are-counted-as-answered-sessions.htm'>Learn more</a>.",addArticleTooltipBody:"As support agents answer tickets, CartAssist learns new answers that can be published to the knowledge base. <br/>For best results, provide an answer that will be relevant to as many visitors as possible, not personal answers or details."};var a=f[window.location.hostname];var b=g[window.location.hostname];if(!a){for(var d in f){if(window.location.hostname.endsWith(d)){a=f[d];b=g[d];break}}}ISQ.Http.isNanoRepDomain=a&&a.isNanoRepDomain;var c=function(i){var j=a[i];
if(!j){j=f["nanorep.com"][i]}if(!j){return null}return j};return{isAlllowedDomain:function(j){var k=true;var m;for(var l in f){if(j.contains(l)){k=true;break}}return k},getValue:c,changeLink:function(l,k){var j=document.createElement("div");j.innerHTML=k;var i=j.querySelector("a");i.href=this.getValue(l);return j.innerHTML},changeName:function(j,i,k){return i.replace(k,this.getValue(j))},changeFavicon:function(){var i=document.createElement("link");i.type="image/x-icon";i.rel="shortcut icon";i.href=this.getValue("favicon");document.getElementsByTagName("head")[0].appendChild(i)},mergeDictionary:function(i){for(var j in b){if(b.hasOwnProperty(j)){i[j]=b[j]}}return i},compileLabels:function(m){if(typeof m=="undefined"){m=document}var s=m.querySelectorAll(".WhiteLabelPlaceHolder");if(s.length>0){for(var n=0;n<s.length;n++){var q=s[n];var p=q.getAttribute("wl-key");var r=q.getAttribute("wl-type");if(!p){continue}if(!r){r=p}switch(r){case"name":q.innerHTML=this.getValue(p);break;case"href":q.href=this.getValue(p);break;case"svg":var l=_(this.getValue(p));for(var o=0;o<l.childNodes.length;++o){var k=l.childNodes[o];if(!k.nodeName||(k.nodeName!=="SVG"&&k.nodeName!=="svg")){continue}k=k.cloneNode(true);q.innerHTML="";q.appendChild(k);break}break}}}return m},resetLoginPage:function(){}}})();nanoRep.Float={};var ISQBalloon=nanoRep.Float;nanoRep.Float.enumPositionSystem={DYNAMIC:1,FIXED:2};nanoRep.Float.enumDockMethod={LEFT:0,RIGHT:1};nanoRep.Float.enumFloatMinifiedMode={NONE:0,ALWAYS:1,USER:2};nanoRep.Float.stateChangedEvent=new ISQ.Event();(function(){var a=window._nRepData;var b=a["float"]||{};var d=ISQ.Widget.extractDataFromScript("float.js");if(a&&typeof a.customHostName==="string"){ISQ.Widget.setCustomHost(a.customHostName)}var g;if(b&&!(b instanceof Array)){g=b}else{g={};if(b&&b instanceof Array){g.customValues={};for(var c in b){g.customValues[c]=b[c]}}}g.type="float";g.id=g.id||"float";var f=window.SpeechRecognition||window.webkitSpeechRecognition||null;if(ISQ.Http.browser.isMobile&&f!==null){d.staticHost=d.staticHost.replace("http:","https:")
}g.staticHost=d.staticHost||(window.location.protocol+"//"+ISQ.Http.domain(true));g.dynamicHost=ISQ.Widget.getDynamicHost();g.account=d.account||b.account||window._nRepData.account;g.account=g.account.replace(/\./g,"-");g.cdcFrame=d.cdcFrame||b.cdcFrame;if((ISQ.Http.browser.isIE7||ISQ.Http.browser.isIE6)&&!g.cdcFrame){return}g.cdcVersion=d.cdcVersion||b.cdcVersion;g.preview=d.preview||false;g.debug=d.debug||false;g.dockMethod=nanoRep.Float.enumDockMethod.LEFT;g.teaserTextElement=null;g.autoMinimize=g.autoMinimize||0;g.useExistingCNF=g.useExistingCNF===true;a["float"]=g;g.referer=ISQ.Http.getNoHashUrl();if(d.preview&&d.referer&&(g.referer.startsWith(d.staticHost)||g.referer.startsWith(d.dynamicHost)||g.referer.startsWith(ISQ.Widget.getAccountURL(g.account)))){g.referer=d.referer}})();nanoRep.Float.init=function(){if(_nRepData["float"].container.parentNode!==document.body){document.body.appendChild(_nRepData["float"].container)}_nRepData["float"].anchorElement=_nRepData["float"].anchorX?ISQ.Html._(_nRepData["float"].anchorX):null;_nRepData["float"].eCnfLoaded=nanoRep.Float.init_step2;_nRepData["float"].eAfterCnfSent=nanoRep.Float.afterCnfSent;_nRepData["float"].contentState=nanoRep.Float.enumStates.collapsed;if(!ISQ.Widget.downloadAndSendCNF(_nRepData["float"])){ISQ.Widget.initCDC(_nRepData["float"],nanoRep.Float.CDC.incomingMessage)}nanoRep.Float.loadIframe();nanoRep.Float.cssAnimationRegisterEvent()};nanoRep.Float.init_step2=function(){if(!ISQ.Cnf_Float){return}ISQ.Widget.applyContextFromCookie(_nRepData["float"]);ISQ.Widget.initCDC(_nRepData["float"],nanoRep.Float.CDC.incomingMessage,ISQ.Cnf_Float);if(ISQ.Http.browser.oldAndroid||ISQ.Cnf_Float.floatMinifiedMode==nanoRep.Float.enumFloatMinifiedMode.ALWAYS){nanoRep.Float.minifiedStateId=nanoRep.Float.enumStates.teaser;nanoRep.Float.createState(nanoRep.Float.enumStates.teaser,{containerSize:ISQ.Cnf_Float.floatTeaser_MinifiedSize,widgetSize:ISQ.Cnf_Float.floatTeaser_MinifiedSize,widgetPosition:ISQ.Cnf_Float.floatTeaser_WidgetPosition,bottomMargin:0})}else{nanoRep.Float.createState(nanoRep.Float.enumStates.teaser,{containerSize:ISQ.Cnf_Float.floatTeaser_ContainerSize,widgetSize:ISQ.Cnf_Float.floatTeaser_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatTeaser_WidgetPosition,bottomMargin:ISQ.Cnf_Float.floatBottomMargin});
if(ISQ.Cnf_Float.floatMinifiedMode==nanoRep.Float.enumFloatMinifiedMode.USER||ISQ.Cnf_Float.widgetVersion==="v2"){if(ISQ.Cnf_Float.widgetVersion==="v2"){ISQ.Cnf_Float.floatTeaser_MinifiedSize[0]=ISQ.Cnf_Float.floatTeaser_MinifiedSize[1]}nanoRep.Float.createState(nanoRep.Float.enumStates.minified,{containerSize:ISQ.Cnf_Float.floatTeaser_MinifiedSize,widgetSize:ISQ.Cnf_Float.floatTeaser_MinifiedSize,widgetPosition:ISQ.Cnf_Float.floatTeaser_WidgetPosition,bottomMargin:0})}}nanoRep.Float.createState(nanoRep.Float.enumStates.collapsed,{containerSize:ISQ.Cnf_Float.floatCollapsed_ContainerSize,widgetSize:ISQ.Cnf_Float.floatCollapsed_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatCollapsed_WidgetPosition,bottomMargin:ISQ.Cnf_Float.floatBottomMargin});nanoRep.Float.createState(nanoRep.Float.enumStates.expand,{containerSize:ISQ.Cnf_Float.floatExpanded_ContainerSize,widgetSize:ISQ.Cnf_Float.floatExpanded_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatExpanded_WidgetPosition,bottomMargin:ISQ.Cnf_Float.floatBottomMargin});nanoRep.Float.createState(nanoRep.Float.enumStates.chat,{containerSize:ISQ.Cnf_Float.floatChat_ContainerSize,widgetSize:ISQ.Cnf_Float.floatChat_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatChat_WidgetPosition,bottomMargin:ISQ.Cnf_Float.floatBottomMargin});nanoRep.Float.createState(nanoRep.Float.enumStates.custom,{containerSize:[].concat(ISQ.Cnf_Float.floatExpanded_ContainerSize),widgetSize:[].concat(ISQ.Cnf_Float.floatExpanded_WidgetSize),widgetPosition:[].concat(ISQ.Cnf_Float.floatExpanded_WidgetPosition),bottomMargin:ISQ.Cnf_Float.floatBottomMargin});nanoRep.Float.createState(nanoRep.Float.enumStates.enlarged,{containerSize:ISQ.Cnf_Float.floatEnlarged_ContainerSize,widgetSize:ISQ.Cnf_Float.floatEnlarged_WidgetSize,widgetPosition:[].concat(ISQ.Cnf_Float.floatExpanded_WidgetPosition),bottomMargin:ISQ.Cnf_Float.floatBottomMargin});if(nanoRep.Float.isSideWidget()){nanoRep.Float.createState(nanoRep.Float.enumStates.sidewidget,{containerSize:["360","100%"],widgetSize:["100%","100%"],widgetPosition:[0,0],bottomMargin:-1})
}if(nanoRep.Float.isMobileWidget()&&!nanoRep.Float.isSideWidget()){var d=ISQ.Html.screenSize();var c=Math.max(d.h,d.w);var b=Math.floor(c*0.1);nanoRep.Float.mobileButtonHeight=b;if(ISQ.Cnf_Float.widgetVersion==="v2"){nanoRep.Float.mobileButtonHeight=50}nanoRep.Float.createState(nanoRep.Float.enumStates.hidden,{containerSize:["100%","100%"],widgetSize:["100%","100%"],widgetPosition:[0,0],bottomMargin:"-100%"});nanoRep.Float.createState(nanoRep.Float.enumStates.fullscreen,{containerSize:["100%","100%"],widgetSize:["100%","100%"],widgetPosition:[0,0],bottomMargin:"-"+nanoRep.Float.mobileButtonHeight+"px"});(function(){var f=document.createElement("div"),g;f.style.cssText="position:fixed;width:1px;left:-1px;top:0;bottom:0";document.body.appendChild(f);g=f.offsetHeight;setInterval(function(){var i=f.offsetHeight;if(i!==g){g=i;if(_nRepData["float"].mobileWidgetExpanded){nanoRep.Float.updateMobileIframeContentHeight()}}},100)}())}if(!nanoRep.Float.detectCSSTransitionSupport()){nanoRep.Float.Animation.doneHandler=new ISQ.Handler(nanoRep.Float.animatorFinished)}if(ISQ.Cnf_Float.floatBackImage&&!ISQ.Http.browser.isMobile){var a=ISQ.Html.createDiv(_nRepData["float"].container);a.style.cssText="position:absolute;"+ISQ.Cnf_Float.floatBackImagePosition;_nRepData["float"].backImgDiv=a;a.setAttribute("id","widgetBackImage");a.setAttribute("nR_noRemove",true);ISQ.Html.createImage({parent:a,src:ISQ.Cnf_Float.floatBackImage,onload:function(){nanoRep.Float.updateMobileBlockerLink()}});if(ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk>0){a.onclick=function(f){clearTimeout(nanoRep.Float.minimizeToTeaserTimer);nanoRep.API.askById(ISQ.Cnf_Float.floatBackImageAsk,"float","back_image")};a.style.cursor="pointer"}else{if(ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk<0){a.onclick=function(f){_nRepData["float"].cdcUser.sendMessage("subject=backImageClicked")};a.style.cursor="pointer"}}if(ISQ.Cnf_Float.floatBackImageTimeout&&ISQ.Cnf_Float.floatBackImageTimeout>0){setTimeout(function(){document.getElementById("widgetBackImage").style.display="none"
},ISQ.Cnf_Float.floatBackImageTimeout)}}if(ISQ.Http.browser.isMobile&&!nanoRep.Float.isSideWidget()){if(!nanoRep.Float.isMobileWidget()||!ISQ.Cnf_Float.mobileResponsive){ISQ.Widget.createMobileBlockerLink(_nRepData["float"],_nRepData["float"].container,"1px","1px")}}else{nanoRep.Float.loadImages()}nanoRep.Float.setPositionSystem();if(ISQ.Cnf_Float.onLoadPageScript){ISQ.API.runPageScript(ISQ.Cnf_Float.onLoadPageScript,false)}};nanoRep.Float.afterCnfSent=function(){if(typeof(ISQ.Cnf_Float.faqData)==="string"){var a=_nRepData["float"];nanoRep.FAQ.requestFaqLists({host:a.dynamicHost,account:a.account,kb:a.kb,referer:a.referer,encoding:a.encoding,context:a.context,isFloat:true,callback:null,cdcUser:a.cdcUser,configId:a.customValues&&a.customValues.configId?a.customValues.configId:null})}};nanoRep.Float.reloadWidget=function(){if(_nRepData["float"].cdcVersion<3){ISQ.Widget.cdcMessageEvent.removeHandler(nanoRep.Float.CDC.incomingMessage)}else{if(_nRepData["float"].cdcUser){_nRepData["float"].cdcUser.dispose()}}_nRepData["float"].state=null;_nRepData["float"].widgetLoaded=false;_nRepData["float"].imagesLoaded=false;_nRepData["float"].positioningSet=false;_nRepData["float"].numberOfImages=0;_nRepData["float"].loadedImages=0;nanoRep.Float.Animation.items=null;_nRepData["float"].container.style.left="";_nRepData["float"].container.style.right="";_nRepData["float"].container.style.top="";_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT;_nRepData["float"].teaserTextElement=null;clearNode(_nRepData["float"].container);nanoRep.Float.init()};nanoRep.Float.loadIframe=function(){_nRepData["float"].container.style.top="-5000px";var b="nanoRep_frame_float_"+new Date().getTime(),f=_nRepData["float"].account&&_nRepData["float"].staticHost.indexOf("//cdn-")>-1;var c=[];if(_nRepData["float"].account&&!f){c.push(ISQ.Widget.getAccountURL(_nRepData["float"].account))}else{c.push(_nRepData["float"].staticHost)}if(f){c.push("/~"+_nRepData["float"].account)}c.push("/widget/widget.html?isFloat=true&cv=8D40B93C3727171");if(_nRepData.configId){c.push("&configId=",_nRepData.configId)
}if(f){c.push("&referer=")}ISQ.Widget.appendConfigurationsToIframeSource(c,_nRepData["float"]);c.push("&isFloat=true");c.push("&notifyclick=true");if(nanoRep.Float.isMobileWidget()){c.push("&fullscreenmode=true")}var a=_nRepData["float"].iframe=ISQ.Html.createElement("iframe");a.setAttribute("id",b);a.setAttribute("name",b);a.setAttribute("frameBorder","0");a.setAttribute("border","0");a.setAttribute("scrolling","no");a.setAttribute("allowTransparency",true);a.setAttribute("allowfullscreen",true);a.setAttribute("nR_noRemove",true);a.style.cssText="height:1px;width:1px;border:0px;position:absolute;overflow:hidden;margin:0px;z-index:5;background:transparent;";_nRepData["float"].iframe.onblur=function(){nanoRep.Float.CDC.incomingMessage.apply(_nRepData["float"],[{subject:"blur",widget:"float"}])};if(ISQ.Http.browser.isTablet&&!ISQ.Http.browser.isIPad){document.body.addEventListener("touchstart",function(g){nanoRep.Float.CDC.incomingMessage.apply(_nRepData["float"],[{subject:"blur",widget:"float"}])})}ISQ.Widget.preventOuterScroll(_nRepData["float"].iframe);nanoRep.Float.CDC.init();_nRepData["float"].iframe.src=c.join("");ISQ.Widget.fixStealFocus(_nRepData["float"]);if(nanoRep.Float.isMobileWidget()){var d=_nRepData["float"].iframeWrap=document.createElement("div");d.style.height="100%";d.style.position="relative";d.setAttribute("nR_noRemove",true);_nRepData["float"].container.appendChild(d);d.appendChild(_nRepData["float"].iframe)}else{_nRepData["float"].container.appendChild(_nRepData["float"].iframe)}};nanoRep.Float.iframeOnLoadHandler=function(g){_nRepData["float"].widgetLoaded=true;if(g.ignorescriptcustomvalues){ISQ.Cnf_Float.ignoreScriptCustomValues=g.ignorescriptcustomvalues=="true"}if(!ISQ.Cnf_Float.ignoreScriptCustomValues&&_nRepData["float"].customValues&&typeof(_nRepData["float"].customValues.dockRight)==="boolean"){if(_nRepData["float"].customValues.dockRight===true){_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.RIGHT}else{_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT}}else{var j=g.dockrtl;
if(j==="true"){_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.RIGHT}else{_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT}}_nRepData["float"].stateOnLoad=g.stateonload;if(g.autominimize){_nRepData["float"].autoMinimize=parseInt(g.autominimize);if(isNaN(_nRepData["float"].autoMinimize)){_nRepData["float"].autoMinimize=0}}if(g.openonhover){ISQ.Cnf_Float.floatOpenOnHover=g.openonhover==="true"&&!ISQ.Http.browser.isTablet}if(g.teasertext){ISQ.Cnf_Float.floatTeaser_text=ISQ.Http.Cookies.decode64(g.teasertext)}if(g.teasercolor){ISQ.Cnf_Float.floatTeaser_textColor=ISQ.Http.Cookies.decode64(g.teasercolor)}if(g.teaserfont){ISQ.Cnf_Float.floatTeaser_textFont=ISQ.Http.Cookies.decode64(g.teaserfont)}if(g.teaserdir){ISQ.Cnf_Float.floatTeaser_textFont+=";direction:"+g.teaserdir}if(g.teaserposition){var m=g.teaserposition.split(",");ISQ.Cnf_Float.floatTeaser_textPosition=[m[0],m[1]]}if(g.teasersize){var m=g.teasersize.split(",");ISQ.Cnf_Float.floatTeaser_textSize=[m[0],m[1]]}if(g.marginside){ISQ.Cnf_Float.floatSideMargin=parseInt(g.marginside)}if(g.marginbottom&&!nanoRep.Float.isMobileWidget()&&!nanoRep.Float.isSideWidget()){ISQ.Cnf_Float.floatBottomMargin=parseInt(g.marginbottom);for(var k in nanoRep.Float.enumStates){var o=nanoRep.Float.enumStates[k];if(o==nanoRep.Float.minifiedStateId){continue}var n=nanoRep.Float.getState(o);if(!n){continue}n.bottomMargin=ISQ.Cnf_Float.floatBottomMargin}}if(g.teaserwidth){var p=parseInt(g.teaserwidth);ISQ.Cnf_Float.floatTeaser_ContainerSize[0]=p;ISQ.Cnf_Float.floatTeaser_WidgetSize[0]=p;ISQ.Cnf_Float.floatLoadSize[0]=p}var a=ISQ.Cnf_Float.floatContainerBoxShadow;if(g.containerboxshadow){a=ISQ.Http.Cookies.decode64(g.containerboxshadow)}if(a){_nRepData["float"].container.style.boxShadow=a;_nRepData["float"].container.style["-webkit-box-shadow"]=a;_nRepData["float"].container.style["-moz-box-shadow"]=a}if(ISQ.Cnf_Float.floatMinifiedMode==nanoRep.Float.enumFloatMinifiedMode.USER&&!ISQ.Http.browser.isMobile){var c=ISQ.Cnf_Float.titleBGColor||"#E9682D";if(_nRepData["float"]["customValues"]&&_nRepData["float"]["customValues"]["bgColor"]){c=window._nRepData["float"].customValues.bgColor
}var d=_nRepData["float"].dockMethod==nanoRep.Float.enumDockMethod.RIGHT?"left":"right";var l=createDiv(_nRepData["float"].container);l.style.cssText="position:absolute; top:-15px;"+d+":0;";l.className="nR_noRemove";l.id="widgetMiniWr";var f="color:#FFF; background-color:"+c+"; font-size:11px; font-family:Arial; text-align:center;float:"+d+"; ";f+="border-radius: 8px; -moz-border-radius: 8px; -webkit-border-radius: 8px;";var b=ISQ.Html.createDiv(l);b.style.cssText="width:14px; height:14px; line-height:13px; cursor:pointer;"+f;b.innerHTML="x";b.onclick=nanoRep.Float.minificationButton_click;_nRepData["float"].minificationButton=b}nanoRep.Float.loadHandler()};nanoRep.Float.loadImages=function(){if(ISQ.Http.browser.isIE6){try{document.execCommand("BackgroundImageCache",false,true)}catch(a){}try{document.uniqueID("BackgroundImageCache",false,true)}catch(a){}}var b;_nRepData["float"].loadedImages=0;_nRepData["float"].numberOfImages=0;if(ISQ.Cnf_Float.floatTeaserImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.teaser);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatTeaserImage)}if(ISQ.Cnf_Float.floatCollapsedImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.collapsed);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatCollapsedImage)}if(ISQ.Cnf_Float.floatExpandedImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.expand);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatExpandedImage)}if(ISQ.Cnf_Float.floatChatImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.chat);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatChatImage)}if(_nRepData["float"].numberOfImages===0){nanoRep.Float.imageOnload()}else{_nRepData["float"].hasImages=true;_nRepData["float"].animationImageElement=createElement("img",_nRepData["float"].container);if(_nRepData["float"].animationImageElement){_nRepData["float"].animationImageElement.style.cssText="position:absolute;top:0px;left:0px;display:none;z-index:5"}}};nanoRep.Float.loadAnImage=function(b){++_nRepData["float"].numberOfImages;var a=new Image();
if(ISQ.Http.browser.isIE7){a.src=_nRepData["float"].staticHost+b}a.onload=a.onerror=nanoRep.Float.imageOnload;a.src=_nRepData["float"].staticHost+b;return a};nanoRep.Float.imageOnload=function(){if(++_nRepData["float"].loadedImages<_nRepData["float"].numberOfImages){return}_nRepData["float"].imagesLoaded=true;nanoRep.Float.loadHandler()};nanoRep.Float.setPositionSystem=function(){if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE10||ISQ.Http.browser.isIE11)&&!ISQ.Http.browser.oldAndroid){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.FIXED}else{if(ISQ.Http.browser.oldAndroid){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC}else{switch(ISQ.Widget.doctype){case"html5":case"xhtml":case"strict":case"loose":case"frameset":if(ISQ.Http.browser.isIE6){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC}else{_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.FIXED}break;case"nodoctype":case"transitional401":case"transitional4":case"transitional":_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC;break;default:_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC;break}}}if(ISQ.Http.browser.isTablet||ISQ.Http.browser.isIPad||_nRepData["float"].positionSystem===nanoRep.Float.enumPositionSystem.DYNAMIC){_nRepData["float"].container.style.position="absolute"}else{_nRepData["float"].container.style.position="fixed"}_nRepData["float"].container.style.zIndex=1000;_nRepData["float"].positioningSet=true;nanoRep.Float.loadHandler()};nanoRep.Float.fitWidgetHeight=function(c,a){if(!c){return}var d=c[0];var b=c[1];return[d,Math.min(b,ISQ.Html.screenSize().h-a*2)]};nanoRep.Float.refreshWidgetMaxHeight=function(){var c=nanoRep.Float.statesArray;var b=c[nanoRep.Float.enumStates.expand];if(b){b.widgetSize=nanoRep.Float.fitWidgetHeight(ISQ.Cnf_Float.floatExpanded_WidgetSize,ISQ.Cnf_Float.floatBottomMargin);b.containerSize=nanoRep.Float.fitWidgetHeight(ISQ.Cnf_Float.floatExpanded_ContainerSize,ISQ.Cnf_Float.floatBottomMargin)
}var a=c[nanoRep.Float.enumStates.enlarged];if(a){a.containerSize=nanoRep.Float.fitWidgetHeight(ISQ.Cnf_Float.floatEnlarged_ContainerSize,ISQ.Cnf_Float.floatBottomMargin);a.widgetSize=nanoRep.Float.fitWidgetHeight(ISQ.Cnf_Float.floatEnlarged_WidgetSize,ISQ.Cnf_Float.floatBottomMargin)}if([nanoRep.Float.enumStates.enlarged,nanoRep.Float.enumStates.expand].indexOf(_nRepData["float"].state.id)>-1){nanoRep.Float.changeState(_nRepData["float"].state.id,false,true)}};nanoRep.Float.loadHandler=function(){if(!_nRepData["float"].widgetLoaded||(!ISQ.Http.browser.isMobile&&!_nRepData["float"].imagesLoaded)||!_nRepData["float"].positioningSet){return}if(nanoRep.Float.isSideWidget()){nanoRep.Float.showSideWidget();return}if(ISQ.Http.browser.isMobile&&!ISQ.Http.browser.oldAndroid){if(!ISQ.Cnf_Float.mobileWidgetEnabled){return}if(nanoRep.Float.isMobileWidget()&&ISQ.Cnf_Float.mobileResponsive){nanoRep.Float.showMobileWidget()}else{_nRepData["float"].mobileWidget=false;ISQ.Widget.isMobileWidget=false;if(ISQ.Cnf_Float.skinName==="Docked Side"){var a=ISQ.Html._("ozen");if(a){a.onclick=function(){ISQ.Widget.Mobile.openWidgetInNewWindow(_nRepData["float"])};return}}_nRepData["float"].container.style.display="none";ISQ.Widget.Mobile.resizeTimerElapsed()}return}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7&&document.readyState!=="complete"){if(document.readyState==="interactive"){_nRepData["float"].ieTimer=setInterval(function(){if(document.readyState!=="complete"){return}clearInterval(_nRepData["float"].ieTimer);_nRepData["float"].ieTimer=null;nanoRep.Float.showWidget()},1000)}else{window.attachEvent("onload",nanoRep.Float.showWidget)}}else{nanoRep.Float.showWidget()}};nanoRep.Float.speechRecognitionSupported=function(){var a=window.SpeechRecognition||window.webkitSpeechRecognition||null;return(a!==null)};nanoRep.Float.isMobileWidget=function(){if(typeof _nRepData["float"].mobileWidget=="undefined"){var a=false;var b=document.querySelector('meta[name="viewport"]');if(ISQ.Http.browser.isMobile&&b&&b.content){if(/width/.test(b.content)||/initial-scale/.test(b.content)){a=true
}}_nRepData["float"].mobileWidget=a;ISQ.Widget.isMobileWidget=a}return _nRepData["float"].mobileWidget};nanoRep.Float.showMobileWidget=function(){var k=ISQ.Widget.Mobile.teaser;if(k){k.parentNode.removeChild(k)}var d=_nRepData["float"].container;_nRepData["float"].voiceEnabled=voiceEnabled=ISQ.Cnf_Float.voiceEnabled;_nRepData["float"].cdcUser.sendMessage("subject=voiceEnabled&value="+voiceEnabled);var a=nanoRep.Float.mobileButtonHeight;d.style["padding-bottom"]=a+"px";d.style["box-sizing"]="border-box";d.style["z-index"]="99999";nanoRep.Float.createMobileWidgetStyles();var f=_nRepData["float"].expandMobileButton=nanoRep.Float.createMobileExpandButton();f.onclick=function(){if(_nRepData["float"].state.id===nanoRep.Float.enumStates.hidden){nanoRep.Float.expandMobileWidget()}else{if(_nRepData["float"].state.id===nanoRep.Float.enumStates.fullscreen){nanoRep.Float.collapseMobileWidget()}}};f.addEventListener("touchstart",function(m){m.preventDefault();m.stopPropagation();f.onclick();return false},false);d.appendChild(f);var j=_nRepData["float"].voiceEnabled;var l=_nRepData["float"].voiceIcon=document.createElement("div");l.className="nanoRep_teaserOpenIcon";if(!j||!nanoRep.Float.speechRecognitionSupported()){l.innerHTML="‹"}l.addEventListener("ontouchstart" in window?"touchstart":"mousedown",function(m){if(_nRepData["float"].state.id===nanoRep.Float.enumStates.hidden&&j){_nRepData["float"].cdcUser.sendMessage("subject=startSpeechRecognition")}},false);l.setAttribute("dir","ltr");f.appendChild(l);var c=_nRepData["float"].closeIcon=document.createElement("div");c.innerHTML="‹";c.className="nanoRep_teaserCloseIcon";c.setAttribute("dir","ltr");f.appendChild(c);var i=document.createElement("div");i.style.cssText="width:100%;height:"+a+"px";document.body.appendChild(i);_nRepData["float"].container.style.bottom="-120%";_nRepData["float"].container.style.top="";_nRepData["float"].mobileWidgetExpanded=false;var g=nanoRep.Float.getState(nanoRep.Float.enumStates.fullscreen);_nRepData["float"].cdcUser.sendMessage("subject=setHeight&size="+g.containerSize[1]);
_nRepData["float"].previousMobileSize=[g.containerSize[0],g.containerSize[1]];var b=false;window.addEventListener("orientationchange",function(){nanoRep.Float.updateMobileWidgetSize(true);b=true});window.addEventListener("scroll",function(){if(_nRepData["float"].mobileWidgetExpanded){nanoRep.Float.updateMobileIframeContentHeight()}});window.addEventListener("resize",function(){if(_nRepData["float"].mobileWidgetExpanded){nanoRep.Float.updateMobileIframeContentHeight()}if(b){nanoRep.Float.checkForLandscapeMode();b=false}});if(nanoRep.Float.getLanguageDirection(ISQ.Cnf_Float.kbLanguageCode)==="rtl"){nanoRep.Float.switchMobileWidgetRtl(true);_nRepData["float"].cdcUser.sendMessage("subject=setUiLanguage&lang="+ISQ.Cnf_Float.kbLanguageCode)}nanoRep.Float.changeState(nanoRep.Float.enumStates.hidden,true);nanoRep.Float.checkForLandscapeMode();setTimeout(function(){nanoRep.Float.afterCollapseMobileCallback()},400)};nanoRep.Float.isSideWidget=function(){return ISQ.Cnf_Float&&ISQ.Cnf_Float.skinName.toLowerCase().indexOf("side widget")>-1};nanoRep.Float.isSideWidgetExpanded=function(){return _nRepData["float"].container.className.indexOf("nr-side-widget-expanded")>-1};nanoRep.Float.expandSideWidget=function(){if(_nRepData["float"].sideWidgetOverlay){_nRepData["float"].sideWidgetOverlay.style.display="";_nRepData["float"].sideWidgetOverlay.style.filter="alpha(opacity="+_nRepData["float"].sidewidgetOverlayOpacity*100+")";setTimeout(function(){_nRepData["float"].sideWidgetOverlay.style.opacity=_nRepData["float"].sidewidgetOverlayOpacity},100)}_nRepData["float"].container.style[_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.RIGHT?"right":"left"]=0;_nRepData["float"].container.className+=" nr-side-widget-expanded";_nRepData["float"].sideWidgetOpener.setAttribute("aria-expanded","true");_nRepData["float"].iframe.style.display="";clearTimeout(_nRepData["float"].sideWidgetTimer)};nanoRep.Float.collapseSideWidget=function(){if(!nanoRep.Float.isSideWidgetExpanded()){return}if(_nRepData["float"].sideWidgetOverlay){_nRepData["float"].sideWidgetOverlay.style.opacity=0
}_nRepData["float"].container.style[_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.RIGHT?"right":"left"]=-nanoRep.Float.sideWidgetWidth+"px";_nRepData["float"].container.className=_nRepData["float"].container.className.replace("nr-side-widget-expanded","");_nRepData["float"].sideWidgetOpener.setAttribute("aria-expanded","false");clearTimeout(_nRepData["float"].sideWidgetTimer);_nRepData["float"].sideWidgetTimer=setTimeout(function(){_nRepData["float"].iframe.style.display="none";if(_nRepData["float"].sideWidgetOverlay){_nRepData["float"].sideWidgetOverlay.style.display="none";_nRepData["float"].sideWidgetOverlay.style.filter=""}},300)};nanoRep.Float.toggleSideWidget=function(){if(nanoRep.Float.isSideWidgetExpanded()){nanoRep.Float.collapseSideWidget()}else{nanoRep.Float.expandSideWidget()}};nanoRep.Float.showSideWidget=function(){var a=_nRepData["float"].container,f=_nRepData["float"].iframe,l,j,k,i,o,g,r,p,q;var d=_nRepData["float"].staticHost.replace(/http(s)?\:/,"");g=ISQ.Cnf_Float.widgetOpenerColor||"#ffba00";r=typeof nanoRep.Cnf_Float.sidewidgetOverlayEnabled==="undefined"?true:nanoRep.Cnf_Float.sidewidgetOverlayEnabled;p=typeof nanoRep.Cnf_Float.sidewidgetOverlayColor==="undefined"?"#000":nanoRep.Cnf_Float.sidewidgetOverlayColor;q=typeof nanoRep.Cnf_Float.sidewidgetOverlayOpacity==="undefined"?0.5:nanoRep.Cnf_Float.sidewidgetOverlayOpacity;_nRepData["float"].sidewidgetOverlayOpacity=q;var s=nanoRep.Float.getState(nanoRep.Float.enumStates.sidewidget);nanoRep.Float.sideWidgetWidth=parseFloat(s.containerSize[0]);a.className+=" nr-side-widget";i=document.createElement("div");i.className="nr-side-widget-opener-container";i.style.cssText="position:absolute;top:0;bottom:0;width:2px;background:"+g+";"+(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.LEFT?"right":"left")+":-2px";_nRepData["float"].iframe.parentNode.insertBefore(i,_nRepData["float"].iframe);l=document.createElement("div");l.className="nr-side-widget-opener";l.style.cssText="position:absolute;top:50%;margin-top:-40px;width:50px;height:80px;display:table;background-color:"+g+";"+(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.LEFT?"left":"right")+":100%";
j=document.createElement("div");j.className="nr-side-widget-opener-content";j.style.cssText="display:table-cell;vertical-align:middle;text-align:center;";l.appendChild(j);if(r){o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;display:none;opacity:0;transition: opacity 300ms ease";o.style.backgroundColor=p;o.style.zIndex=a.style.zIndex-1;o.className="nr-side-widget-overlay";a.parentNode.insertBefore(o,a);_nRepData["float"].sideWidgetOverlay=o}if(nanoRep.Cnf_Float.sideWidgetOpenerHTML){j.innerHTML=nanoRep.Cnf_Float.sideWidgetOpenerHTML}else{k=document.createElement("img");k.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAAAXNSR0IArs4c6QAAAptJREFUSA29l01IVUEYhj03f0g3bmxhFARBaQttEVk3aBGhZERRuzbtEmnhKoIgihatLCgKomUQLWqXWFCbIG2lCJZJ2J+WWkGYm7iat+fVM4fpXO85Z473+sJz55uZ75tvzt/MXK8iofL5fBuuRyALO2ATVIE0DePwGvpgwPO8Jcr0ImEVnIVxcNEHnHtgY6rsBGbhLaxFHwlud5oAAefhL5RK1xjIi50ETjdKlTE0zv3ICdB5KRRQ6up1++qDW0EWPZt+CNpsx5A9RP0NzEMD6EvYAkl0ii/hceBI4jr4nOAyX+GzKwj0DdoycBJ+QpxmcagPxqByIS6Cfr35tUHQKgb9u2ER4nR1ORwvfcvf47zp7zL5sFtgDJToOdRZfQ+ox+kXDjUZgvSs9dzipEStAseLsBM2wCE4DkYDxogodds7K/npiHCyu+7ZlZBtP47FUF+xaoeufF+x3oTtOfyeWb4HLDvK3FPBbZyDtNIqeNpkwNYLt5BwsHklT6vfBB61Em+jPuUymJIvuQT4vjnK/Vbidup6g52k5DNOESvOj6zEW2n6k2KMOb1wX8xADuUnktULYvSp1TjEGtcJjwFuUTtnWtaxvKsrf5oi4TdiRnwmU8QrpF/PXMvrD3BRj0lI0BmXQN9X+aozbG8LDNRrBlun8iZ5c8t7N7PQxjAGSffkl/gO+xNtpjzs20mKrzg1kVxngRUxgW7/lpS7CBYmvXBGx4xRxvIKV/zkv/G5VK3J5dYdEhQe0Wh8WMbM2ny0/xeKju0QPvpoBbsMo7AW6Z/OwcKsfguduh1GLzBOgE4oWgMqQd+xzm8ueo9zF1QXTUyHllfdks1wm5dBx+FVhd9eOjpBh48maATzDKex38Eg9KlkrDxlpP4BIi4s8TGfMP4AAAAASUVORK5CYII=";j.appendChild(k)}_nRepData["float"].sideWidgetOpener=l;_nRepData["float"].iframe.style.display="none";l.style.cursor="pointer";l.setAttribute("tabindex","0");l.setAttribute("data-role","button");l.setAttribute("aria-expanded","false");l.setAttribute("aria-label",ISQ.Cnf_Float.titleTeaserText);l.onclick=nanoRep.Float.toggleSideWidget;if(ISQ.Cnf_Float.floatOpenOnHover){l.onmouseover=function(){if(!nanoRep.Float.isSideWidgetExpanded()){nanoRep.Float.expandSideWidget()
}}}i.appendChild(l);if(ISQ.Float.isMobileWidget()){var b=nanoRep.Float.statesArray[nanoRep.Float.enumStates.sidewidget].containerSize,c=parseFloat(b[0]),m=l.offsetWidth,t=window.innerWidth;if(c+m>t){c=t-m;b[0]=c.toString();nanoRep.Float.sideWidgetWidth=c}}if(ISQ.Cnf_Float.outlineColor){nanoRep.Float.addOutlineStyles(ISQ.Cnf_Float.outlineColor,".nr-side-widget-opener:focus")}var n=function(v){v=v||window.event;var w=v.target||v.srcElement,u=(a===w||a.contains(w));if(!u){nanoRep.Float.collapseSideWidget()}};if(window.addEventListener){document.documentElement.addEventListener("click",n,false)}else{if(window.attachEvent){window.attachEvent("onclick",n)}}f.style.position="";a.style.position="fixed";a.style.bottom=0;a.style.top=0;if(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.RIGHT){a.style.right=-nanoRep.Float.sideWidgetWidth+"px";a.style.left=""}else{a.style.left=-nanoRep.Float.sideWidgetWidth+"px";a.style.right=""}nanoRep.Float.changeState(nanoRep.Float.enumStates.sidewidget,true);setTimeout(function(){_nRepData["float"].cdcUser.sendMessage("subject=setHeight&size="+ISQ.Html.screenSize().h)},100)};nanoRep.Float.addOutlineStyles=function(b,c){var d=c+"{ outline-color: "+b+"}";var f=document.createElement("style");f.type="text/css";var a=document.getElementsByTagName("head")[0];a.insertBefore(f,a.firstChild);if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11&&f.styleSheet){f.styleSheet.cssText=d}else{var g=document.createTextNode(d);f.appendChild(g)}};nanoRep.Float.getLanguageDirection=function(a){var b={iw:true,ar:true,ur:true,yi:true,he:true};return b[a]==null?"ltr":"rtl"};nanoRep.Float.checkForLandscapeMode=function(){var b=ISQ.Html.screenSize(true);var a=_nRepData["float"].container;if(b.h<b.w){_nRepData["float"].mobileDeviceOrientation="landscape";a.style.display="none"}else{_nRepData["float"].mobileDeviceOrientation="portrait";a.style.display="block"}};nanoRep.Float.switchMobileWidgetRtl=function(a){if(a=="true"||a==true){_nRepData["float"].expandMobileButton.style["text-align"]="right";_nRepData["float"].voiceIcon.style["float"]="left";
_nRepData["float"].closeIcon.style["float"]="left"}else{_nRepData["float"].expandMobileButton.style["text-align"]="left";_nRepData["float"].voiceIcon.style["float"]="right";_nRepData["float"].closeIcon.style["float"]="right"}};nanoRep.Float.expandMobileWidget=function(){_nRepData["float"].mobileWidgetExpanded=true;if(_nRepData["float"].collapseMobileWidgetTimeout){clearTimeout(_nRepData["float"].collapseMobileWidgetTimeout)}nanoRep.Float.updateMobileWidgetSize();_nRepData["float"].voiceIcon.style.display="none";_nRepData["float"].closeIcon.style.display="block";nanoRep.Float.changeState(nanoRep.Float.enumStates.fullscreen);setTimeout(function(){nanoRep.Float.afterExpandMobileCallback()},400)};nanoRep.Float.afterExpandMobileCallback=function(){_nRepData["float"].originalBodyOverflow=document.body.style.overflow;document.body.style.overflow="hidden"};nanoRep.Float.collapseMobileWidget=function(){nanoRep.Float.updateMobileWidgetSize();document.body.style.overflow=_nRepData["float"].originalBodyOverflow;nanoRep.Float.changeState(nanoRep.Float.enumStates.hidden);_nRepData["float"].closeIcon.style.display="none";_nRepData["float"].voiceIcon.style.display="block";_nRepData["float"].collapseMobileWidgetTimeout=setTimeout(function(){nanoRep.Float.afterCollapseMobileCallback()},400);_nRepData["float"].cdcUser.sendMessage("subject=blurQueryField")};nanoRep.Float.afterCollapseMobileCallback=function(){_nRepData["float"].mobileWidgetExpanded=false};nanoRep.Float.updateMobileWidgetSize=function(a){var b=_nRepData["float"].previousMobileSize;var c=ISQ.Html.screenSize();if(c.w==b[0]&&c.h==b[1]){return}_nRepData["float"].previousMobileSize[0]=c.w;_nRepData["float"].previousMobileSize[1]=c.h;if(a){nanoRep.Float.changeState(_nRepData["float"].state.id,false,true)}nanoRep.Float.updateMobileIframeContentHeight(c.h)};nanoRep.Float.updateMobileIframeContentHeight=function(b){if(!b){b=ISQ.Html.screenSize().h}var a=b-_nRepData["float"].expandMobileButton.offsetHeight;_nRepData["float"].cdcUser.sendMessage("subject=setHeight&size="+a)};nanoRep.Float.createMobileWidgetStyles=function(){var k=ISQ.Cnf_Float.titleColor||"#fff";
var a=ISQ.Cnf_Float.titleBGColor||"#00A3FA";var b=nanoRep.Float.mobileButtonHeight;var c=Math.floor(b*0.4);if(ISQ.Cnf_Float.widgetVersion==="v2"){c=18}var g=[];g.push("body > #nanoRepProxyContainer div.nanoRep_mobileTeaser { ");g.push("z-index: 1005;");g.push("width: 100%;");g.push("height: "+b+"px;");g.push("line-height: "+b+"px;");g.push("position: absolute;");g.push("left: 0px;");g.push("top: -"+b+"px;");g.push("font-size: "+c+"px;");g.push("font-weight: 200;");g.push("font-family: 'Open Sans',Arial;");g.push("padding: 0 20px;");g.push("box-sizing: border-box;");g.push("background: "+a+";");g.push("color: "+k+";");g.push("}");g.push("body > #nanoRepProxyContainer div.nanoRep_mobileTeaser div.nanoRep_teaserOpenIcon { ");if(_nRepData["float"].voiceEnabled&&nanoRep.Float.speechRecognitionSupported()){var f=_nRepData["float"].staticHost.replace(/http(s)?\:/,"");g.push("width:20px;");g.push("height:40%;");g.push("top:30%;");g.push("float:right;");g.push("position:relative;");g.push("background:url("+f+"/widget/skins/mobile_voice_t.png) 0px 0px no-repeat;");g.push("background-size:contain")}else{g.push("width:22px;height:30px;font-size:45px;line-height:22px;text-align:center;color:#fff; position:relative;top:50%;margin-top:-15px;float:right;");g.push("-ms-transform: rotate(90deg);-webkit-transform: rotate(90deg);transform: rotate(90deg);")}g.push("}");g.push("body > #nanoRepProxyContainer div.nanoRep_mobileTeaser div.nanoRep_teaserCloseIcon { ");g.push("width:22px;height:30px;font-size:45px;line-height:22px;text-align:center;color:#fff; position:relative;top:50%;display:none;margin-top:-15px;float:right;");g.push("-ms-transform: rotate(-90deg);-webkit-transform: rotate(-90deg);transform: rotate(-90deg);");g.push("}");g=g.join(" \n");var i=document.createElement("style");i.type="text/css";var d=document.getElementsByTagName("head")[0];d.insertBefore(i,d.firstChild);if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11&&i.styleSheet){i.styleSheet.cssText=g}else{var j=document.createTextNode(g);i.appendChild(j)}};nanoRep.Float.createMobileExpandButton=function(){var b=ISQ.Cnf_Float.titleTeaserText||"How Can We Help?";
var a=document.createElement("div");a.className="nanoRep_mobileTeaser";a.innerHTML=b;return a};nanoRep.Float.showWidget=function(){if(ISQ.Http.browser.isIPad||ISQ.Http.browser.isTablet){nanoRep.Float.iPadResize()}else{if(_nRepData["float"].positionSystem===nanoRep.Float.enumPositionSystem.DYNAMIC){if(window.addEventListener){if(ISQ.Http.browser.oldAndroid){setInterval(function(){_nRepData["float"].container.style.display="none";nanoRep.Float.setPosition();_nRepData["float"].container.style.display="block";nanoRep.Float.setPosition()},3000)}window.addEventListener("scroll",nanoRep.Float.onPageScroll,true);window.addEventListener("resize",nanoRep.Float.onResize,true);window.document.body.addEventListener("resize",nanoRep.Float.onResize,true)}else{if(window.attachEvent){window.attachEvent("onscroll",nanoRep.Float.onPageScroll);window.attachEvent("onresize",nanoRep.Float.onResize)}}}}if(ISQ.Http.browser.isIE6&&typeof(DD_belatedPNG)!=="undefined"){DD_belatedPNG.init()}if(!ISQ.Http.browser.isIPad&&!ISQ.Http.browser.isTablet){nanoRep.Float.setPosition()}if(ISQ.Cnf_Float.floatOpenOnHover&&!ISQ.Http.browser.usesViewport){_nRepData["float"].monitorHover=true;_nRepData["float"].container.onmouseover=function(b){if(_nRepData["float"].minificationButton&&_nRepData["float"].minificationButton==ISQ.Html.getEventTarget(b)&&!_nRepData["float"].outTimer){return}_nRepData["float"].isHovering=true;if(!_nRepData["float"].monitorHover){return}if(ISQ.Cnf_Float.widgetVersion==="v2"&&_nRepData["float"].state.id===nanoRep.Float.enumStates.minified){return}clearTimeout(nanoRep.Float.minimizeToTeaserTimer);nanoRep.Float.minimizeToTeaserTimer=null;nanoRep.Float.changeState(_nRepData["float"].nextState===nanoRep.Float.enumStates.expand?(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand):_nRepData["float"].nextState)};_nRepData["float"].container.onmouseout=function(b){_nRepData["float"].isHovering=false;if(!_nRepData["float"].monitorHover){return}nanoRep.Float.minimizeToTeaser()}}else{if(!ISQ.Http.browser.isMobile){_nRepData["float"].container.onclick=function(){if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser){return
}nanoRep.Float.changeState(_nRepData["float"].nextState)}}}var a=ISQ.Cnf_Float.floatMinifiedMode===nanoRep.Float.enumFloatMinifiedMode.USER&&ISQ.Tools.Storage.get("widgetState")?parseInt(ISQ.Tools.Storage.get("widgetState")):null;if(a==nanoRep.Float.enumStates.minified){_nRepData["float"].monitorHover=true;_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}else{if(_nRepData["float"].stateOnLoad==="chat"&&!ISQ.Http.browser.isMobile){a=_nRepData["float"].nextState=nanoRep.Float.enumStates.chat;_nRepData["float"].monitorHover=false}else{if(_nRepData["float"].stateOnLoad==="expand"&&!ISQ.Http.browser.isMobile){a=_nRepData["float"].nextState=nanoRep.Float.enumStates.expand;_nRepData["float"].monitorHover=false}else{if(_nRepData["float"].stateOnLoad==="collapse"&&!ISQ.Http.browser.isMobile){a=_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}else{a=nanoRep.Float.enumStates.teaser;_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}}}}nanoRep.Float.changeState(a,true);if(!nanoRep.Float.isSideWidget()){nanoRep.Float.refreshWidgetMaxHeight();window.addEvents(window,"resize",nanoRep.Float.refreshWidgetMaxHeight)}};nanoRep.Float.CDC={};nanoRep.Float.CDC.init=function(){ISQ.API.init(_nRepData["float"])};ISQBalloon.CDC.parseMessage=function(a){if(typeof(a)==="string"){ISQ.Widget.incomingCDCMessage(a)}};nanoRep.Float.CDC.incomingMessage=function(g){if(g.widget!=="float"){return}var k=g.subject;var a=false;if(!this.sentMessageToWidget){ISQ.Widget.sendAPItoWidget(this);this.sentMessageToWidget=true}switch(k){case"reset":break;case"load":nanoRep.Float.iframeOnLoadHandler(g);break;case"userWrites":_nRepData["float"].contentState=nanoRep.Float.enumStates.expand;ISQ.Tools.Storage.remove("widgetState");if(ISQ.Http.browser.isMobile){return}a=true;nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand);break;case"openOnClick":if(_nRepData["float"].contentState===nanoRep.Float.enumStates.custom){return}a=true;if(nanoRep.Float.minimizeToTeaserTimer){clearTimeout(nanoRep.Float.minimizeToTeaserTimer)
}nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand);break;case"minimize":ISQ.Tools.Storage.remove("widgetState");if(ISQ.Http.browser.isMobile){return}a=true;var b=_nRepData["float"].state;nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser);if(ISQ.Html._("widgetBackImage")||ISQ.Html._("widgetMiniWr")){_nRepData["float"].monitorHover=false;_nRepData["float"].resumeMonitorHover=true}var i=g.openexpand;if(i==="true"){if(_nRepData["float"].nextState===nanoRep.Float.enumStates.chat||b.id===nanoRep.Float.enumStates.chat){_nRepData["float"].nextState=nanoRep.Float.enumStates.chat}else{if(b.id===nanoRep.Float.enumStates.custom){_nRepData["float"].nextState=nanoRep.Float.enumStates.custom}else{_nRepData["float"].nextState=nanoRep.Float.enumStates.expand}}}else{_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}_nRepData["float"].contentState=_nRepData["float"].nextState;break;case"enlarge":if(g.openbigger==="true"){nanoRep.Float.enlargedStateActive=true;nanoRep.Float.changeState(nanoRep.Float.enumStates.enlarged)}else{nanoRep.Float.enlargedStateActive=false;nanoRep.Float.changeState(nanoRep.Float.enumStates.expand)}break;case"closeToTeaser":nanoRep.Float.minificationButton_click();break;case"widgetToExpand":if(ISQ.Http.browser.isMobile){return}_nRepData["float"].contentState=nanoRep.Float.enumStates.expand;nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand);break;case"hidingContactForm":_nRepData["float"].contentState=nanoRep.Float.enumStates.expand;nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand);window.scrollTo(0,0);if(ISQ.Http.browser.isTablet){window.removeEventListener("orientationchange",nanoRep.Float.orientationHasChanged,true);_nRepData["float"].iframe.parentNode.style.position="absolute";nanoRep.Float.iPadResize()}break;case"showingContactForm":_nRepData["float"].contentState=nanoRep.Float.enumStates.expand;
nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.expand);if(ISQ.Http.browser.isTablet){clearTimeout(nanoRep.Float.iPadResizeTimer);nanoRep.Float.orientationHasChanged();window.addEventListener("orientationchange",nanoRep.Float.orientationHasChanged,true)}break;case"click":try{if(typeof(nanoRep.FAQ)!="undefined"&&typeof(nanoRep.FAQ.Likes)!="undefined"){nanoRep.FAQ.Likes.toggleDislikeOptions(true)}}catch(c){}if(_nRepData["float"].state.id!==nanoRep.Float.minifiedStateId){ISQ.Tools.Storage.remove("widgetState")}a=true;if(!ISQ.Cnf_Float.floatOpenOnHover){if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser&&_nRepData["float"].state.id!==nanoRep.Float.enumStates.minified){break}nanoRep.Float.changeState(_nRepData["float"].nextState);break}if(_nRepData["float"].state.id===nanoRep.Float.enumStates.teaser){break}_nRepData["float"].monitorHover=false;break;case"blur":if(ISQ.Http.browser.isTablet){nanoRep.Float.keyboardOpen=false}if(ISQ.Http.browser.isMobile){return}if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.collapsed){break}if(_nRepData["float"].isHovering){break}_nRepData["float"].monitorHover=true;nanoRep.Float.minimizeToTeaser();break;case"textfieldFocus":if(ISQ.Http.browser.isTablet){nanoRep.Float.keyboardOpen=true}clearTimeout(nanoRep.Float.minimizeToTeaserTimer);ISQ.Tools.Storage.remove("widgetState");if(ISQ.Http.browser.isMobile){return}a=true;break;case"startChat":_nRepData["float"].contentState=nanoRep.Float.enumStates.chat;nanoRep.Float.changeState(nanoRep.Float.enumStates.chat);_nRepData["float"].nextState=nanoRep.Float.enumStates.chat;if(ISQ.Http.browser.isTablet&&ISQ.Http.browser.isIPad){clearTimeout(nanoRep.Float.iPadResizeTimer);nanoRep.Float.orientationHasChanged();window.addEventListener("orientationchange",nanoRep.Float.orientationHasChanged,true)}break;case"endChat":_nRepData["float"].contentState=nanoRep.Float.enumStates.expand;nanoRep.Float.changeState(nanoRep.Float.enumStates.expand);_nRepData["float"].nextState=nanoRep.Float.enumStates.expand;
if(ISQ.Http.browser.isTablet&&ISQ.Http.browser.isIPad){window.removeEventListener("orientationchange",nanoRep.Float.orientationHasChanged,true);_nRepData["float"].iframe.parentNode.style.position="absolute";nanoRep.Float.iPadResize()}break;case"setSize":var f=g.height;var l=g.width;_nRepData["float"].contentState=nanoRep.Float.enumStates.custom;var j=nanoRep.Float.getState(nanoRep.Float.enumStates.custom);if(f){j.containerSize[1]+=(f-j.widgetSize[1]);j.widgetSize[1]=parseInt(f)}if(l){j.widgetSize[0]=parseInt(l);j.containerSize[0]=parseInt(l)}var d=nanoRep.Float.getState(nanoRep.Float.enumStates.expand);if(d.containerSize[1]>j.containerSize[1]||d.widgetSize[1]>j.widgetSize[1]){j.containerSize[1]=d.containerSize[1];j.widgetSize[1]=d.widgetSize[1];j.containerSize[0]=d.containerSize[0];j.widgetSize[0]=d.widgetSize[0]}nanoRep.Float.changeState(nanoRep.Float.enlargedStateActive?nanoRep.Float.enumStates.enlarged:nanoRep.Float.enumStates.custom,false,true);break;case"event":if(g.type==="directionchanged"){nanoRep.Float.switchMobileWidgetRtl(g.rtl)}else{ISQ.Widget.handleCommonCDCMessage(g,this)}break;case"setMobileAPI":(function(){var m=ISQ.Tools.Base64.decodeString(g.api);try{m=JSON.parse(m)}catch(n){m=null}window.addEventListener("message",function(o){if(o.data&&o.data.type==="getMobileAPI"){o.source.postMessage({type:"setMobileAPI",api:m},"*")}},false)}());break;default:ISQ.Widget.handleCommonCDCMessage(g,this);break}if(a&&_nRepData["float"].autoMinimizeTimer){clearTimeout(_nRepData["float"].autoMinimizeTimer);_nRepData["float"].autoMinimizeTimer=null}};nanoRep.Float.onPageScroll=function(a){nanoRep.Float.setPosition(true)};nanoRep.Float.onResize=function(a){nanoRep.Float.setPosition()};nanoRep.Float.keyboardOpen=false;nanoRep.Float.iPadResizeTimer;nanoRep.Float.orientationHasChanged=function(){_nRepData["float"].iframe.parentNode.style.position="fixed";_nRepData["float"].iframe.parentNode.style.top=null;_nRepData["float"].iframe.parentNode.style.bottom=ISQ.Cnf_Float.floatBottomMargin+"px";if(_nRepData["float"].dockMethod==nanoRep.Float.enumDockMethod.RIGHT){_nRepData["float"].iframe.parentNode.style.right=ISQ.Cnf_Float.floatSideMargin+"px"
}else{_nRepData["float"].iframe.parentNode.style.left=ISQ.Cnf_Float.floatSideMargin+"px"}window.scrollTo(window.document.body.scrollLeft,window.parent.document.body.scrollHeight)};nanoRep.Float.iPadResize=function(){nanoRep.Float.iPadResizeTimer=setTimeout(function(){var d=_nRepData["float"].iframe.offsetHeight;var j=window.innerHeight;var g=parseInt(_nRepData["float"].iframe.parentNode.style.top);var c=g+d;var l=window.scrollY;if(nanoRep.Float.keyboardOpen){var a=l+10}else{var a=(j+l-ISQ.Cnf_Float.floatBottomMargin-d)}if(d<j){_nRepData["float"].iframe.parentNode.style.top=a+"px"}else{if(c-50<(l)||(g+50>j+l)){_nRepData["float"].iframe.parentNode.style.top=(l+10)+"px"}}var i=parseInt(_nRepData["float"].iframe.offsetWidth);var f=parseInt(_nRepData["float"].iframe.parentNode.style.left);var m=parseInt(window.innerWidth);if(i<m||f+i-50<window.document.body.scrollLeft||f+50>window.document.body.scrollLeft+i){var k=window.document.body.scrollLeft;var b=k;if(_nRepData["float"].dockMethod==nanoRep.Float.enumDockMethod.RIGHT){b=b+m-i-ISQ.Cnf_Float.floatSideMargin}else{b=b+ISQ.Cnf_Float.floatSideMargin}_nRepData["float"].iframe.parentNode.style.left=b+"px"}nanoRep.Float.iPadResize()},50)};nanoRep.Float.setPosition=function(a){var b=ISQ.Html.screenSize();if(ISQ.Http.browser.app==="opera"){document.body.parentNode.scrollTop=0;document.body.parentNode.scrollLeft=0;document.body.scrollTop=0;document.body.scrollLeft=0}nanoRep.Float.setPosition_X(b,a);nanoRep.Float.setPosition_Y(b,a);if(a){nanoRep.Widget.PositionAnimator.start()}};nanoRep.Float.setPosition_Y=function(g,a){if(nanoRep.Float.isMobileWidget()&&!nanoRep.Float.isSideWidget()){var d=function(){d.origTransition=_nRepData["float"].container.style.transition;_nRepData["float"].container.style.transition=""};var f=function(j){setTimeout(function(){if(d.origTransition){_nRepData["float"].container.style.transition=d.origTransition}if(j){j()}},1)};var b=function(){var k="px";var j=_nRepData["float"].state.bottomMargin;if((j+"").substr(-1)=="%"){k=""}if((j+"").substr(-2,2)=="px"){k=""
}if((j+"")=="auto"){k=""}_nRepData["float"].container.style.bottom=j?j+k:""};if(_nRepData["float"].state.id===nanoRep.Float.enumStates.fullscreen){b();setTimeout(function(){d();_nRepData["float"].container.style.top=nanoRep.Float.mobileButtonHeight+"px";_nRepData["float"].container.style.bottom="auto";f()},300)}else{if(_nRepData["float"].mobileWidgetExpanded){d();_nRepData["float"].container.style.top="";_nRepData["float"].container.style.bottom="-"+nanoRep.Float.mobileButtonHeight+"px";f(function(){b()})}else{b()}}return}_nRepData["float"].container.style.top="";var c=_nRepData["float"].state?_nRepData["float"].state.bottomMargin:ISQ.Cnf_Float.floatBottomMargin;switch(_nRepData["float"].positionSystem){case nanoRep.Float.enumPositionSystem.DYNAMIC:var i=ISQ.Html.getScroll("top");if(ISQ.Http.browser.isIE6){_nRepData["float"].container.style.bottom=0;if(_nRepData["float"].pageDirection==="ltr"){bottom=c}else{bottom=c-i}}else{bottom=c-i}if(!a||ISQ.Http.browser.isIE6){_nRepData["float"].container.style.bottom=bottom+"px"}else{nanoRep.Widget.PositionAnimator.setBottom(_nRepData["float"].container,bottom)}break;case nanoRep.Float.enumPositionSystem.FIXED:_nRepData["float"].container.style.bottom=c+"px";break}};nanoRep.Float.setPosition_X=function(g,b){if(!_nRepData["float"].pageDirection){_nRepData["float"].pageDirection=nanoRep.Float.getPageDirection()}var a=0;if(_nRepData["float"].anchorElement){a=ISQ.Html.position(_nRepData["float"].anchorElement).x}switch(_nRepData["float"].positionSystem){case nanoRep.Float.enumPositionSystem.DYNAMIC:var d=ISQ.Html.getScroll("left");switch(_nRepData["float"].dockMethod){case nanoRep.Float.enumDockMethod.RIGHT:var f;if(_nRepData["float"].pageDirection==="ltr"){f=ISQ.Cnf_Float.floatSideMargin-d}else{f=ISQ.Cnf_Float.floatSideMargin+d}_nRepData["float"].container.style.left="";if(!b){_nRepData["float"].container.style.right=f+"px"}else{nanoRep.Widget.PositionAnimator.setSide(_nRepData["float"].container,f,true)}break;case nanoRep.Float.enumDockMethod.LEFT:var c;if(_nRepData["float"].pageDirection==="ltr"){c=ISQ.Cnf_Float.floatSideMargin+d
}else{c=ISQ.Cnf_Float.floatSideMargin-d}if(!b){_nRepData["float"].container.style.left=c+"px"}else{nanoRep.Widget.PositionAnimator.setSide(_nRepData["float"].container,c,false)}break}break;case nanoRep.Float.enumPositionSystem.FIXED:switch(_nRepData["float"].dockMethod){case nanoRep.Float.enumDockMethod.RIGHT:_nRepData["float"].container.style.left="";_nRepData["float"].container.style.right=ISQ.Cnf_Float.floatSideMargin+"px";break;case nanoRep.Float.enumDockMethod.LEFT:var c=ISQ.Cnf_Float.floatSideMargin;_nRepData["float"].container.style.left=c+"px";break}break}};nanoRep.Float.getPageDirection=function(){var b=document.body;var a;if(b.currentStyle){a=b.currentStyle.direction}else{if(window.getComputedStyle){a=getComputedStyle(b,null).getPropertyValue("direction")}}return a};nanoRep.Float.enumStates={minified:0,teaser:1,collapsed:2,expand:3,chat:4,custom:5,hidden:6,fullscreen:7,enlarged:8,sidewidget:9};nanoRep.Float.State=ISQ.Base.extend({name:"nanoRep.Float.State"});nanoRep.Float.State.prototype.ctor=function(a){this.id=a.id;this.containerSize=a.containerSize;this.widgetSize=a.widgetSize;this.widgetPosition=a.widgetPosition;this.bgImage=a.bgImages;this.bottomMargin=a.bottomMargin};nanoRep.Float.State.prototype.dtor=function(){};nanoRep.Float.State.prototype.id=-1;nanoRep.Float.State.prototype.containerSize=null;nanoRep.Float.State.prototype.widgetSize=null;nanoRep.Float.State.prototype.widgetPosition=null;nanoRep.Float.State.prototype.bgImage=null;nanoRep.Float.State.prototype.bottomMargin=null;nanoRep.Float.statesArray=new Array();nanoRep.Float.initialState=false;nanoRep.Float.minifiedStateId=nanoRep.Float.enumStates.minified;nanoRep.Float.getState=function(a){return nanoRep.Float.statesArray[a]};nanoRep.Float.createState=function(b,a){a.id=b;nanoRep.Float.statesArray[b]=new nanoRep.Float.State(a)};nanoRep.Float.minimizeToTeaserTimer=null;nanoRep.Float.minimizeToTeaser=function(a){nanoRep.Float.minimizeToTeaserTimer=null;if(!nanoRep.Float.minimizeToTeaserTimer){nanoRep.Float.minimizeToTeaserTimer=setTimeout(function(){nanoRep.Float.minimizeToTeaserTimer=null;
switch(_nRepData["float"].state.id){case nanoRep.Float.enumStates.custom:case nanoRep.Float.minifiedStateId:return}nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser)},400)}};nanoRep.Float.changeState=function(o,j,d){if(nanoRep.Float.isSideWidget()&&!j){return}if(nanoRep.Float.isMobileWidget()&&o!=nanoRep.Float.enumStates.hidden&&o!=nanoRep.Float.enumStates.fullscreen&&!nanoRep.Float.isSideWidget()){return}var n=nanoRep.Float.getState(o);if(!n){return}if(n===_nRepData["float"].state&&!d){return}var m=_nRepData["float"].state;_nRepData["float"].state=n;if(m&&m.id===nanoRep.Float.enumStates.minified&&!nanoRep.Float.enlargedStateActive){o=_nRepData["float"].contentState;_nRepData["float"].state=n=nanoRep.Float.getState(_nRepData["float"].contentState)}if(ISQ.Cnf_Float.floatOpenOnHover){if(o===nanoRep.Float.enumStates.teaser||o===nanoRep.Float.enumStates.collapsed||o===nanoRep.Float.enumStates.minified){_nRepData["float"].monitorHover=true}else{_nRepData["float"].monitorHover=false}}if(j===true){nanoRep.Float.initialState=true;var g={w:0,h:0};var f={w:0,h:0};var k=ISQ.Cnf_Float.floatLoadSize;var r=(o===nanoRep.Float.enumStates.teaser||o===nanoRep.Float.enumStates.collapsed);if(!r||!k||k[0]===-1){g.w=n.widgetSize[0];f.w=n.containerSize[0]}else{g.w=k[0];f.w=k[0]}if(!r||!k||k[1]===-1){g.h=n.widgetSize[1];f.h=n.containerSize[1]}else{g.h=k[1];f.h=k[1]}f.h=nanoRep.Float.setMaxHeight(f.h);g.h=nanoRep.Float.setMaxHeight(g.h);var i=function(){nanoRep.Float.setSize(_nRepData["float"].container,f.w,f.h);nanoRep.Float.setSize(_nRepData["float"].iframe,g.w,g.h);_nRepData["float"].iframe.offsetWidth};if(!ISQ.Widget.resizeIframeOnLoad_IE(_nRepData["float"],g.w,g.h,i)){i()}nanoRep.Float.updateIframeStyle();if(nanoRep.Float.detectCSSTransitionSupport()){nanoRep.Float.setCSSAnimation()}}var a=null;if(_nRepData["float"].hasImages){var c=nanoRep.Float.getState(nanoRep.Float.enumStates.expand);var b=nanoRep.Float.getState(nanoRep.Float.enumStates.collapsed);var q=nanoRep.Float.getState(nanoRep.Float.enumStates.teaser);if(m===c||_nRepData["float"].state===c){a=c.bgImage
}else{if(m===b||_nRepData["float"].state===b){a=b.bgImage}else{a=q.bgImage}}_nRepData["float"].iframe.style.visibilty="hidden"}var l=nanoRep.Float.getState(nanoRep.Float.enumStates.minified);if(l&&o==nanoRep.Float.enumStates.teaser&&(!m||m.id!==nanoRep.Float.minifiedStateId)){var p=ISQ.Tools.Storage.get("widgetState");if(p&&parseInt(p)==nanoRep.Float.enumStates.minified){o=nanoRep.Float.enumStates.minified;_nRepData["float"].state=n=l}}if(n.bottomMargin!=-1&&n.bottomMargin!=parseInt(_nRepData["float"].container.style.bottom)){nanoRep.Float.setPosition_Y(null,false)}if(o==nanoRep.Float.minifiedStateId){var s=ISQ.Html._("widgetBackImage");if(s){s.style.display="none"}if(_nRepData["float"].minificationButton){_nRepData["float"].minificationButton.style.display="none"}_nRepData["float"].monitorHover=false;_nRepData["float"].resumeMonitorHover=true}else{if(m&&m.id==nanoRep.Float.minifiedStateId){var s=ISQ.Html._("widgetBackImage");if(s){s.style.display="block"}if(_nRepData["float"].minificationButton){_nRepData["float"].minificationButton.style.display="block"}if(o==nanoRep.Float.enumStates.teaser){_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}}}if(nanoRep.Float.detectCSSTransitionSupport()){nanoRep.Float.cssStart(m,_nRepData["float"].state)}else{nanoRep.Float.Animation.start(_nRepData["float"].state,a)}};nanoRep.Float.setCSSAnimation=function(){var a=[];a.push("-webkit-transition");a.push("-moz-transition");a.push("-ms-transition");a.push("-o-transition");a.push("transition");var c="width 300ms ease-in-out, height 300ms ease-in-out, top 300ms ease-in-out , left 300ms ease-in-out, bottom 300ms ease-in-out, right 300ms ease-in-out ";if(_nRepData["float"].container.style.setProperty){for(var b=0;b<a.length;b++){_nRepData["float"].container.style.setProperty(a[b],c);_nRepData["float"].iframe.style.setProperty(a[b],c)}}else{for(var b=0;b<a.length;b++){_nRepData["float"].container.style.setAttribute(a[b],c);_nRepData["float"].iframe.style.setAttribute(a[b],c)}}};nanoRep.Float.cssAnimationRegisterEvent=function(){if(nanoRep.Float.detectCSSTransitionSupport()){switch(ISQ.Http.browser.app){case"ie":window.addEvents(_nRepData["float"].container,"transitionend",nanoRep.Float.animatorFinished);
break;case"ff":window.addEvents(_nRepData["float"].container,"transitionend",nanoRep.Float.animatorFinished);break;case"opera":window.addEvents(_nRepData["float"].container,"oTransitionEnd",nanoRep.Float.animatorFinished);break;case"chrome":default:window.addEvents(_nRepData["float"].container,"webkitTransitionEnd",nanoRep.Float.animatorFinished);break}}};nanoRep.Float.detectCSSTransitionSupport=function(){var a=document.documentElement.style;if(a.webkitTransition!==undefined||a.MozTransition!==undefined||a.OTransition!==undefined||a.MsTransition!==undefined||a.transition!==undefined){return true}return false};nanoRep.Float.cssStart=function(c,f){var a=[];var b=[];a.push({key:"width",value:f.widgetSize[0]+"px"});a.push({key:"height",value:f.widgetSize[1]+"px"});b.push({key:"width",value:f.containerSize[0]+"px"});b.push({key:"height",value:f.containerSize[1]+"px"});b.push({key:"left",value:f.widgetPosition[0]+"px"});b.push({key:"top",value:f.widgetPosition[1]+"px"});if(_nRepData["float"].container.style.setProperty){for(var d=0;d<a.length;d++){_nRepData["float"].container.style.setProperty(a[d].key,a[d].value)}for(var d=0;d<b.length;d++){_nRepData["float"].iframe.style.setProperty(b[d].key,b[d].value)}}else{for(var d=0;d<a.length;d++){_nRepData["float"].container.style.setAttribute(a[d].key,a[d].value)}for(var d=0;d<b.length;d++){_nRepData["float"].iframe.style.setAttribute(b[d].key,b[d].value)}}};nanoRep.Float.updateIframeStyle=function(){if(_nRepData["float"].state.id===nanoRep.Float.enumStates.teaser&&!ISQ.Cnf_Float.floatTeaserShowsWidget){_nRepData["float"].iframe.style.visibility="hidden";_nRepData["float"].container.style.cursor="pointer";if(!_nRepData["float"].teaserTextElement){_nRepData["float"].teaserTextElement=createDiv(_nRepData["float"].container);_nRepData["float"].teaserTextElement.style.cssText="display:none;background:transparent;margin:0px;padding:0px;border:0px;position:absolute;z-index:1;text-align:center;"+ISQ.Cnf_Float.floatTeaser_textFont;_nRepData["float"].teaserTextElement.style.color=ISQ.Cnf_Float.floatTeaser_textColor;
_nRepData["float"].teaserTextElement.style.left=ISQ.Cnf_Float.floatTeaser_textPosition[0]+"px";_nRepData["float"].teaserTextElement.style.top=ISQ.Cnf_Float.floatTeaser_textPosition[1]+"px";_nRepData["float"].teaserTextElement.style.width=ISQ.Cnf_Float.floatTeaser_textSize[0]+"px";_nRepData["float"].teaserTextElement.style.height=ISQ.Cnf_Float.floatTeaser_textSize[1]+"px";_nRepData["float"].teaserTextElement.innerHTML=ISQ.Cnf_Float.floatTeaser_text}_nRepData["float"].teaserTextElement.style.display="block"}else{_nRepData["float"].iframe.style.visibility="visible";_nRepData["float"].container.style.cursor="default";if(_nRepData["float"].teaserTextElement){_nRepData["float"].teaserTextElement.style.display="none"}}};nanoRep.Float.updateMobileBlockerLink=function(){if(_nRepData["float"].mobileBlockerLink){_nRepData["float"].mobileBlockerLink.style.display="none";_nRepData["float"].mobileBlockerLink.style.position="absolute";_nRepData["float"].mobileBlockerLink.style.width=_nRepData["float"].container.offsetWidth+"px";_nRepData["float"].mobileBlockerLink.style.height=_nRepData["float"].container.offsetHeight+"px";_nRepData["float"].mobileBlockerLink.style.left=0;_nRepData["float"].mobileBlockerLink.style.top=0;_nRepData["float"].mobileBlockerLink.style.display="block"}};nanoRep.Float.animatorFinished=function(){if(ISQ.Http.browser.app==="android"){_nRepData["float"].iframe.setAttribute("scrolling","auto")}_nRepData["float"].iframe.style.left=_nRepData["float"].state.widgetPosition[0]+"px";_nRepData["float"].iframe.style.top=_nRepData["float"].state.widgetPosition[1]+"px";nanoRep.Float.updateMobileBlockerLink();nanoRep.Float.updateIframeStyle();if(_nRepData["float"].state.bgImage){_nRepData["float"].container.style.backgroundImage="url("+_nRepData["float"].state.bgImage.src+")";if(ISQ.Http.browser.isIE6){DD_belatedPNG.fixPng(_nRepData["float"].container)}}nanoRep.Float.stateChangedEvent.dispatch(_nRepData["float"].state.id,_nRepData["float"].state.containerSize,_nRepData["float"].state.widgetSize,_nRepData["float"].state.widgetPosition);
if(nanoRep.Float.initialState){nanoRep.Float.initialState=false;if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser&&_nRepData["float"].autoMinimize){_nRepData["float"].autoMinimizeTimer=setTimeout(function(){nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser)},_nRepData["float"].autoMinimize)}}if(_nRepData["float"].resumeMonitorHover){_nRepData["float"].monitorHover=true;_nRepData["float"].resumeMonitorHover=false}if(_nRepData["float"].minificationButton){if(_nRepData["float"].state.id<=nanoRep.Float.enumStates.teaser){_nRepData["float"].minificationButton.parentNode.style.width="auto"}else{_nRepData["float"].minificationButton.parentNode.style.width=_nRepData["float"].container.offsetWidth+"px"}}if(ISQ.Http.browser.isTablet){setTimeout(function(){var a=_nRepData["float"].iframe.offsetHeight;var b=nanoRep.Float.setMaxHeight(a);if(b<a){nanoRep.Float.setSize(_nRepData["float"].container,_nRepData["float"].iframe.offsetWidth,b);nanoRep.Float.setSize(_nRepData["float"].iframe,_nRepData["float"].iframe.offsetWidth,b)}},500)}};nanoRep.Float.setSize=function(a,d,b){var f="";if((d+"").indexOf("%")<0){f="px"}var c="";if((b+"").indexOf("%")<0){c="px"}a.style.width=d+f;a.style.height=b+c;if(ISQ.Http.browser.app==="ie"&&ISQ.Widget.supportsPostMessage&&document.readyState!=="complete"&&_nRepData["float"].cdcUser&&!ISQ.Http.browser.isIE11){_nRepData["float"].cdcUser.sendMessage("subject=refreshSize")}if(_nRepData["float"].cdcUser.resizeIframe){_nRepData["float"].cdcUser.resizeIframe.apply(this,[b])}};nanoRep.Float.setMobileSize=function(a,d,b){var f="";if((d+"").substr(-1)!="%"){f="px"}var c="";if((b+"").substr(-1)!="%"){c="px"}a.style.width=d+f;a.style.height=b+c};nanoRep.Float.setMaxHeight=function(a){if(_nRepData["float"].state.id==nanoRep.Float.enumStates.custom){return a}if(!ISQ.Http.browser.isTablet){return a}var b=ISQ.Html.screenSize();if(b.h<a){return b.h}return a};nanoRep.Float.minificationButton_click=function(){_nRepData["float"].nextState=_nRepData["float"].state.id;nanoRep.Float.changeState(nanoRep.Float.enumStates.minified);
ISQ.Tools.Storage.set("widgetState",nanoRep.Float.enumStates.minified)};nanoRep.Float.Animation={};nanoRep.Float.Animation.doneHandler=null;nanoRep.Float.Animation.totalTime=200;nanoRep.Float.Animation.interval=20;nanoRep.Float.Animation.lastExecutionTime=null;nanoRep.Float.Animation.timeLeft=0;nanoRep.Float.Animation.timer=null;nanoRep.Float.Animation.frameCount=-1;nanoRep.Float.Animation.isRunning=false;nanoRep.Float.Animation.maxDiff=-1;nanoRep.Float.Animation.items=null;nanoRep.Float.Animation.start=function(b,a){if(nanoRep.Float.Animation.isRunning){clearTimeout(nanoRep.Float.Animation.timer)}nanoRep.Float.Animation.isRunning=true;nanoRep.Float.Animation.timeLeft=nanoRep.Float.Animation.totalTime;nanoRep.Float.Animation.interval=20;nanoRep.Float.Animation.maxDiff=-1;nanoRep.Float.Animation.frameCount=Math.floor(nanoRep.Float.Animation.timeLeft/nanoRep.Float.Animation.interval);if(a){_nRepData["float"].animationImageElement.style.display="block";_nRepData["float"].animationImageElement.src=a.src;nanoRep.Float.setSize(_nRepData["float"].animationImageElement,_nRepData["float"].container.offsetWidth,_nRepData["float"].container.offsetHeight);_nRepData["float"].container.style.backgroundImage="none"}if(nanoRep.Float.Animation.items===null){nanoRep.Float.Animation.items=new Array();nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].container,b.containerSize,true));nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].iframe,b.widgetSize,false));if(a){nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].animationImageElement,b.containerSize,false))}}else{nanoRep.Float.Animation.items[0].init(b.containerSize);nanoRep.Float.Animation.items[1].init(b.widgetSize);if(a){if(nanoRep.Float.Animation.items.length===3){nanoRep.Float.Animation.items[2].init(b.containerSize)}else{nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].animationImageElement,b.containerSize,false))
}}else{if(nanoRep.Float.Animation.items.length===3){nanoRep.Float.Animation.items.splice(2,1)}}}if(ISQ.Http.browser.app==="android"){_nRepData["float"].iframe.setAttribute("scrolling","no")}nanoRep.Float.Animation.lastExecutionTime=new Date();nanoRep.Float.Animation.animator(true)};nanoRep.Float.Animation.animator=function(d){clearTimeout(nanoRep.Float.Animation.timer);d=d||false;if(!d){var a=new Date()-nanoRep.Float.Animation.lastExecutionTime;nanoRep.Float.Animation.interval=a;if(a>nanoRep.Float.Animation.maxDiff){nanoRep.Float.Animation.maxDiff=a}nanoRep.Float.Animation.timeLeft-=a;if(nanoRep.Float.Animation.timeLeft<=0){nanoRep.Float.Animation.timeLeft=0}nanoRep.Float.Animation.frameCount=Math.floor(nanoRep.Float.Animation.timeLeft/nanoRep.Float.Animation.maxDiff);for(var c=0;c<nanoRep.Float.Animation.items.length;++c){nanoRep.Float.Animation.items[c].setAmounts()}}var b=true;for(var c=0;c<nanoRep.Float.Animation.items.length;++c){b&=nanoRep.Float.Animation.items[c].timerElapsed()}if(b){nanoRep.Float.Animation.isRunning=false;if(nanoRep.Float.Animation.doneHandler){nanoRep.Float.Animation.doneHandler.handle()}if(nanoRep.Float.Animation.items.length===3){_nRepData["float"].animationImageElement.style.display="none"}return}nanoRep.Float.Animation.lastExecutionTime=new Date();nanoRep.Float.Animation.timer=setTimeout(function(){nanoRep.Float.Animation.animator()},nanoRep.Float.Animation.interval)};nanoRep.Float.Animation.AnimationItem=function(a,c,b){this.element=a;this.updateDomPosition=b;this.init(c)};nanoRep.Float.Animation.AnimationItem.prototype.init=function(b){var a=nanoRep.Float.setMaxHeight(b[1]);this.widthLeft=b[0]-this.element.offsetWidth;this.heightLeft=a-this.element.offsetHeight;this.setAmounts()};nanoRep.Float.Animation.AnimationItem.prototype.setAmounts=function(){if(nanoRep.Float.Animation.frameCount===0||(_nRepData["float"].hasImages&&ISQ.Http.browser.isIE6)){this.widthStep=this.widthLeft;this.heightStep=this.heightLeft;return}this.widthStep=Math.ceil(this.widthLeft/nanoRep.Float.Animation.frameCount);
this.heightStep=Math.ceil(this.heightLeft/nanoRep.Float.Animation.frameCount)};nanoRep.Float.Animation.AnimationItem.prototype.timerElapsed=function(){this.widthLeft-=this.widthStep;var b=this.element.offsetWidth+this.widthStep;this.heightLeft-=this.heightStep;var a=this.element.offsetHeight+this.heightStep;nanoRep.Float.setSize(this.element,b,a);return this.finished()};nanoRep.Float.Animation.AnimationItem.prototype.finished=function(){return this.widthLeft===0&&this.heightLeft===0};nanoRep.Float.Animation.AnimationItem.prototype.element=null;nanoRep.Float.Animation.AnimationItem.prototype.updateDomPosition=false;nanoRep.Float.Animation.AnimationItem.prototype.widthLeft=null;nanoRep.Float.Animation.AnimationItem.prototype.heightLeft=null;nanoRep.Float.Animation.AnimationItem.prototype.widthStep=null;nanoRep.Float.Animation.AnimationItem.prototype.heightStep=null;nanoRep.Float.Animation.AnimationItem.prototype.enlarging=false;nanoRep.Float.preInit=function(){_nRepData["float"].container=ISQ.Html._("nanoRepProxyContainer");if((ISQ.Http.browser.app==="ie"&&document.readyState!=="complete"&&!ISQ.Http.browser.isIE11)||!_nRepData["float"].container){var b=false;var a=function(){if(!_nRepData["float"].container){_nRepData["float"].container=createDiv(document.body);_nRepData["float"].container.id="nanoRepProxyContainer"}nanoRep.Float.init()};if(_nRepData["float"].container){b=true}else{if(document.readyState==="complete"){a()}else{b=true}}if(b){if(window.attachEvent){window.attachEvent("onload",a)}else{if(window.addEventListener){window.addEventListener("load",a,false)}}}}else{nanoRep.Float.init()}};window._nRepData.Widgets=window._nRepData.Widgets||{};window._nRepData.Widgets._widgetId=0;window._nRepData.Widgets.getNextWidgetId=function(){return"widget_"+window._nRepData.Widgets._widgetId++};window._nRepData.Widgets.mergeCommonProperties=function(c){var a=window._nRepData;var b=function(d,f){if(!f){if(a[d]&&!c[d]){c[d]=a[d]}}else{if(a[d]&&(!c.customValues||!c.customValues[d])){if(!c.customValues){c.customValues={}}c.customValues[d]=a[d]
}}};b("pageId");b("naive");b("conversionTag");b("searchDelay");b("splitTestGroup");b("kb");b("formValues");b("context");b("customParams");b("setFocus");b("onloadQuestionId",true);b("configId",true);if(c.type==="float"){b("anchorX")}if(!c.events&&(a.events||a.reportQueryHandler)){if(a.events){c.events=a.events}else{c.events={};c.events["query"]=a.reportQueryHandler}}if(c.events&&c.events["reportQueryHandler"]){c.events["query"]=c.events["reportQueryHandler"]}ISQ.Widget.handleEventMessage({type:"scriptload"},c)};(function(){var a=window._nRepData;if(typeof(window.nanoRep.Embed)!="undefined"&&a.embed&&!a.embed.processed){a.embed.processed=true;window._nRepData.Widgets.mergeCommonProperties(a.embed);window.nanoRep.Embed.loadWidget(a.embed)}if(typeof(window.nanoRep.Float)!="undefined"&&a["float"]&&!a["float"].processed){a["float"].processed=true;window._nRepData.Widgets.mergeCommonProperties(a["float"]);window.nanoRep.Float.preInit()}})();